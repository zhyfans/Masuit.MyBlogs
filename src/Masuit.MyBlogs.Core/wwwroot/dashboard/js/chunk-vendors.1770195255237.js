(self["webpackChunk"]=self["webpackChunk"]||[]).push([[504],{38:function(e,t,n){"use strict";var r=n(1624),o=n(3040),i=function(e,t,n){for(var r,o=e;null!=(r=o.next);o=r)if(r.key===t)return o.next=r.next,n||(r.next=e.next,e.next=r),r},a=function(e,t){if(e){var n=i(e,t);return n&&n.value}},l=function(e,t,n){var r=i(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},s=function(e,t){return!!e&&!!i(e,t)},c=function(e,t){if(e)return i(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=c(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return a(e,t)},has:function(t){return s(e,t)},set:function(t,n){e||(e={next:void 0}),l(e,t,n)}};return t}},43:function(e,t,n){"use strict";var r=n(5326),o=n(9868),i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not a function")}},79:function(e,t,n){"use strict";var r=n(3985),o=n(5788),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},142:function(e,t,n){"use strict";var r=n(8083),o=Object;e.exports=function(e){return o(r(e))}},227:function(e,t,n){"use strict";var r=n(43),o=n(1156);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},242:function(e,t,n){"use strict";var r,o,i=n(4875),a=n(7990),l=i.process,s=i.Deno,c=l&&l.versions||s&&s.version,u=c&&c.v8;u&&(r=u.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},258:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},263:function(e,t,n){"use strict";n.d(t,{Ay$:function(){return Pu}});var r={};n.r(r),n.d(r,{Alert:function(){return D},Anchor:function(){return ne},AnchorLink:function(){return ie},Avatar:function(){return ce},Backtop:function(){return Fe},Badge:function(){return $e},Breadcrumb:function(){return He},BreadcrumbItem:function(){return Ue},Button:function(){return De},ButtonGroup:function(){return Xe},Calendar:function(){return gt},Card:function(){return wt},Carousel:function(){return Tt},CarouselItem:function(){return It},Cascader:function(){return Wt},Checkbox:function(){return Yt},CheckboxButton:function(){return Jt},CheckboxGroup:function(){return rn},Col:function(){return sn},Collapse:function(){return pn},CollapsePane:function(){return bn},ColorPicker:function(){return _n},ContextMenu:function(){return Hn},ContextMenuController:function(){return Bn},Countdown:function(){return Yn},DatePanel:function(){return Jn},DatePicker:function(){return nr},DateRangePicker:function(){return ar},Drawer:function(){return yr},DrawerController:function(){return br},Empty:function(){return Sr},Form:function(){return wo},FormGather:function(){return Do},FormGroup:function(){return Io},FormItem:function(){return Fo},GLOBAL_EVENT_KEYS:function(){return o.un},Icon:function(){return jo},IconPicker:function(){return Vo},Image:function(){return Ko},ImageGroup:function(){return Qo},ImagePreview:function(){return ni},Input:function(){return ii},LayoutAside:function(){return ci},LayoutBody:function(){return mi},LayoutContainer:function(){return xi},LayoutFooter:function(){return ki},LayoutHeader:function(){return Oi},Link:function(){return Ii},List:function(){return ji},Loading:function(){return ur},LoadingController:function(){return cr},Menu:function(){return Wi},Modal:function(){return ca},ModalController:function(){return la},NoticeBar:function(){return fa},NumberInput:function(){return ga},Optgroup:function(){return Ea},Option:function(){return Aa},Pager:function(){return $a},PasswordInput:function(){return Ba},Print:function(){return ml},PrintPageBreak:function(){return dl},Pulldown:function(){return xl},Radio:function(){return kl},RadioButton:function(){return Ol},RadioGroup:function(){return Nl},Rate:function(){return Pl},Result:function(){return zl},Row:function(){return Wl},Segmented:function(){return Kl},Select:function(){return Jl},Slider:function(){return bs},Split:function(){return ds},SplitPane:function(){return hs},Splitter:function(){return ns},SplitterPanel:function(){return ss},Steps:function(){return Cs},Switch:function(){return Es},TabPane:function(){return Ns},TableSelect:function(){return $s},Tabs:function(){return Hs},Tag:function(){return Gs},Text:function(){return ec},TextEllipsis:function(){return Zs},Textarea:function(){return ic},Timeline:function(){return cc},TimelineItem:function(){return fc},Tip:function(){return bc},Tips:function(){return vc},Tooltip:function(){return ke},Tour:function(){return Cc},Tree:function(){return $c},TreeSelect:function(){return qc},Upload:function(){return ru},VxeAlert:function(){return O},VxeAnchor:function(){return te},VxeAnchorLink:function(){return oe},VxeAvatar:function(){return se},VxeBacktop:function(){return Re},VxeBadge:function(){return je},VxeBreadcrumb:function(){return Be},VxeBreadcrumbItem:function(){return qe},VxeButton:function(){return Oe},VxeButtonGroup:function(){return Ke},VxeCalendar:function(){return mt},VxeCard:function(){return yt},VxeCarousel:function(){return St},VxeCarouselItem:function(){return At},VxeCascader:function(){return Ht},VxeCheckbox:function(){return Gt},VxeCheckboxButton:function(){return Zt},VxeCheckboxGroup:function(){return nn},VxeCol:function(){return ln},VxeCollapse:function(){return dn},VxeCollapsePane:function(){return vn},VxeColorPicker:function(){return Fn},VxeContextMenu:function(){return zn},VxeCore:function(){return o.lM},VxeCountdown:function(){return Gn},VxeDatePanel:function(){return Zn},VxeDatePicker:function(){return tr},VxeDateRangePicker:function(){return ir},VxeDrawer:function(){return xr},VxeEmpty:function(){return kr},VxeForm:function(){return yo},VxeFormGather:function(){return Oo},VxeFormGroup:function(){return Ao},VxeFormItem:function(){return Ro},VxeIcon:function(){return Po},VxeIconPicker:function(){return zo},VxeImage:function(){return Yo},VxeImageGroup:function(){return Jo},VxeImagePreview:function(){return ti},VxeInput:function(){return oi},VxeLayoutAside:function(){return si},VxeLayoutBody:function(){return hi},VxeLayoutContainer:function(){return bi},VxeLayoutFooter:function(){return Ci},VxeLayoutHeader:function(){return Ei},VxeLink:function(){return Ai},VxeList:function(){return Pi},VxeLoading:function(){return sr},VxeMenu:function(){return Hi},VxeModal:function(){return sa},VxeNoticeBar:function(){return pa},VxeNumberInput:function(){return ma},VxeOptgroup:function(){return Ta},VxeOption:function(){return Ma},VxePager:function(){return ja},VxePasswordInput:function(){return Va},VxePrint:function(){return hl},VxePrintPageBreak:function(){return ul},VxePulldown:function(){return bl},VxeRadio:function(){return Cl},VxeRadioButton:function(){return El},VxeRadioGroup:function(){return Il},VxeRate:function(){return _l},VxeResult:function(){return Ll},VxeRow:function(){return Hl},VxeSegmented:function(){return Yl},VxeSelect:function(){return Zl},VxeSlider:function(){return vs},VxeSplit:function(){return us},VxeSplitPane:function(){return fs},VxeSplitter:function(){return ts},VxeSplitterPanel:function(){return ls},VxeSteps:function(){return ws},VxeSwitch:function(){return Ts},VxeTabPane:function(){return Is},VxeTableSelect:function(){return js},VxeTabs:function(){return Bs},VxeTag:function(){return Us},VxeText:function(){return Qs},VxeTextEllipsis:function(){return Xs},VxeTextarea:function(){return oc},VxeTimeline:function(){return sc},VxeTimelineItem:function(){return pc},VxeTip:function(){return gc},VxeTooltip:function(){return Ce},VxeTour:function(){return wc},VxeTree:function(){return jc},VxeTreeSelect:function(){return Wc},VxeUI:function(){return o.OE},VxeUpload:function(){return nu},VxeWatermark:function(){return bu},Watermark:function(){return yu},WatermarkController:function(){return xu},checkVersion:function(){return o.ps},clipboard:function(){return o.Ns},commands:function(){return o.Pi},component:function(){return o.s9},config:function(){return g},coreVersion:function(){return o.kI},createEvent:function(){return o.lh},drawer:function(){return Iu},formats:function(){return o.Fx},getComponent:function(){return o.QQ},getConfig:function(){return o.zj},getI18n:function(){return o.TO},getIcon:function(){return o.sW},getLanguage:function(){return o.Z0},getSlotVNs:function(){return o.OW},getTheme:function(){return o.O4},globalEvents:function(){return o.Nh},globalResize:function(){return o.yD},globalStore:function(){return o.J3},handleCheckInfo:function(){return o.PH},hasComponent:function(){return o.IS},hasLanguage:function(){return o.Lh},hooks:function(){return o.JL},install:function(){return Ou},interceptor:function(){return o.GY},loading:function(){return Mu},log:function(){return o.Rm},menus:function(){return o.T_},modal:function(){return Au},permission:function(){return o.EK},print:function(){return Ru},readFile:function(){return _u},renderCustomIcon:function(){return o.nQ},renderEmptyElement:function(){return o.C1},renderGlobalIcon:function(){return o.PO},renderer:function(){return o.Uk},saveFile:function(){return Fu},setConfig:function(){return o.Nk},setI18n:function(){return o.Vx},setIcon:function(){return o.fg},setLanguage:function(){return o.xC},setTheme:function(){return o.Yl},setup:function(){return v},use:function(){return o.Yx},useFns:function(){return o.nb},usePermission:function(){return o.JT},useSize:function(){return o.XX},validators:function(){return o.y$},version:function(){return m},watermark:function(){return Nu}});var o=n(3199),i=n(4061);const a=i.defineComponent;let l;const s=(0,i.reactive)({modals:[],drawers:[],globalLoading:null,globalWatermark:null,globalContextMenu:null}),c=a({setup(){const e=o.OE.getComponent("vxe-modal"),t=o.OE.getComponent("vxe-drawer"),n=o.OE.getComponent("vxe-loading"),r=o.OE.getComponent("vxe-watermark"),a=o.OE.getComponent("vxe-context-menu");return()=>{const{modals:o,drawers:l,globalWatermark:c,globalLoading:u,globalContextMenu:d}=s;let p=d;if(d){const e=d.events||{},{optionClick:t,show:n,hide:r}=e;p=Object.assign({},d,{onShow(e){n&&n(e)},onHide(e){r&&r(e),s.globalContextMenu=null},onOptionClick(e){t&&t(e)}},{events:void 0})}return[o.length?(0,i.h)("div",{key:1,class:"vxe-dynamics--modal"},o.map(t=>(0,i.h)(e,t))):(0,i.createCommentVNode)(),l.length?(0,i.h)("div",{key:2,class:"vxe-dynamics--drawer"},l.map(e=>(0,i.h)(t,e))):(0,i.createCommentVNode)(),c?(0,i.h)(r,c):(0,i.createCommentVNode)(),u?(0,i.h)(n,u):(0,i.createCommentVNode)(),d?(0,i.h)(a,p):(0,i.createCommentVNode)()]}}}),u=(0,i.createApp)(c);function d(){l||(l=document.createElement("div"),l.className="vxe-dynamics",document.body.appendChild(l),u.mount(l))}const p="ui v4.12.31",f=o.Rm.create("warn",p),h=o.Rm.create("error",p),m="4.12.31";function g(e){return f("vxe.error.delFunc",["config","setConfig"]),(0,o.Nk)(e)}function v(e){return f("vxe.error.delFunc",["setup","setConfig"]),(0,o.Nk)(e)}o.OE.uiVersion=m,o.OE.dynamicApp=u,o.OE.config=g,o.OE.setup=v,(0,o.Nk)({alert:{},anchor:{},anchorLink:{},avatar:{},backtop:{showIcon:!0,showContent:!0,showTop:!0,showBottom:!0,shadow:!0,threshold:20},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0},showDropdownIcon:!0},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},cascader:{autoClose:!0},checkbox:{},checkboxButton:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},contextMenu:{autoLocate:!0},countdown:{},colorPicker:{type:"rgb",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePanel:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},datePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,autoClose:!0,showClearButton:null,showConfirmButton:null},dateRangePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,separator:" ~ ",autoClose:!0,showClearButton:null,showConfirmButton:null},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showErrorMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{draggable:null,showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{backtopConfig:{}},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},menu:{},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controlConfig:{enabled:!0,layout:"right",showButton:!0,isWheel:!0,isArrow:!0}},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{pageStyle:{}},passwordInput:{controls:!0},printPageBreak:{},pulldown:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},segmented:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},splitter:{resize:!0,itemConfig:{minWidth:40,minHeight:40},resizeConfig:{showTip:!0}},splitterPanel:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{copyConfig:{showMessage:!0}},textarea:{resize:"none"},timeline:{},timelineItem:{},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0},dragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},treeSelect:{autoClose:!0,virtualYConfig:{enabled:!0,gt:0,oSize:2},treeConfig:{maxHeight:300,radioConfig:{},checkboxConfig:{},filterConfig:{autoExpandAll:!0}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0,showLimitSize:!0,showLimitCount:!0,autoSubmit:!0,maxSimultaneousUploads:5},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{},gantt:{}});const b="vxe-icon-";(0,o.fg)({LOADING:b+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:b+"arrow-down",BUTTON_LOADING:b+"spinner roll",BUTTON_TOOLTIP_ICON:b+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:b+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:b+"arrow-down",SELECT_LOADED:b+"spinner roll",SELECT_OPEN:b+"caret-down rotate180",SELECT_CLOSE:b+"caret-down",SELECT_ADD_OPTION:b+"add",ICON_PICKER_OPEN:b+"caret-down rotate180",ICON_PICKER_CLOSE:b+"caret-down",PAGER_HOME:b+"home-page",PAGER_END:b+"end-page",PAGER_JUMP_PREV:b+"arrow-double-left",PAGER_JUMP_NEXT:b+"arrow-double-right",PAGER_PREV_PAGE:b+"arrow-left",PAGER_NEXT_PAGE:b+"arrow-right",PAGER_JUMP_MORE:b+"ellipsis-h",RADIO_CHECKED:b+"radio-checked-fill",RADIO_UNCHECKED:b+"radio-unchecked",RADIO_DISABLED_UNCHECKED:b+"radio-unchecked-fill",CHECKBOX_INDETERMINATE:b+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:b+"checkbox-checked-fill",CHECKBOX_UNCHECKED:b+"checkbox-unchecked",CHECKBOX_DISABLED_UNCHECKED:b+"checkbox-unchecked-fill",INPUT_CLEAR:b+"error-circle-fill",INPUT_SEARCH:b+"search",INPUT_PLUS_NUM:b+"caret-up",INPUT_MINUS_NUM:b+"caret-down",NUMBER_INPUT_MINUS_NUM:b+"minus",NUMBER_INPUT_PLUS_NUM:b+"add",DATE_PICKER_DATE:b+"calendar",PASSWORD_INPUT_SHOW_PWD:b+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:b+"eye-fill",MODAL_ZOOM_MIN:b+"minus",MODAL_ZOOM_REVERT:b+"recover",MODAL_ZOOM_IN:b+"square",MODAL_ZOOM_OUT:b+"maximize",MODAL_CLOSE:b+"close",MODAL_INFO:b+"info-circle-fill",MODAL_SUCCESS:b+"success-circle-fill",MODAL_WARNING:b+"warning-circle-fill",MODAL_ERROR:b+"error-circle-fill",MODAL_QUESTION:b+"question-circle-fill",MODAL_LOADING:b+"spinner roll",DRAWER_CLOSE:b+"close",FORM_PREFIX:b+"question-circle-fill",FORM_SUFFIX:b+"question-circle-fill",FORM_FOLDING:b+"arrow-up rotate180",FORM_UNFOLDING:b+"arrow-up",FORM_VALID_ERROR_ICON:b+"warning-circle-fill",FORM_DESIGN_STYLE_SETTING:b+"layout",FORM_DESIGN_PROPS_PC:b+"pc",FORM_DESIGN_PROPS_MOBILE:b+"mobile",FORM_DESIGN_PROPS_ADD:b+"add",FORM_DESIGN_PROPS_EDIT:b+"edit",FORM_DESIGN_WIDGET_ADD:b+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:b+"copy",FORM_DESIGN_WIDGET_DELETE:b+"delete",FORM_DESIGN_WIDGET_SWAP_LR:b+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:b+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:b+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:b+"square-minus",LIST_DESIGN_FIELD_SETTING:b+"custom-column",LIST_DESIGN_LIST_SETTING:b+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:b+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:b+"delete",UPLOAD_FILE_ERROR:b+"warning-circle-fill",UPLOAD_FILE_ADD:b+"upload",UPLOAD_FILE_REMOVE:b+"delete",UPLOAD_FILE_DOWNLOAD:b+"download",UPLOAD_IMAGE_UPLOAD:b+"upload",UPLOAD_IMAGE_RE_UPLOAD:b+"repeat",UPLOAD_IMAGE_ADD:b+"add",UPLOAD_IMAGE_REMOVE:b+"close",UPLOAD_LOADING:b+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:b+"file",UPLOAD_FILE_TYPE_XLSX:b+"file-excel",UPLOAD_FILE_TYPE_XLS:b+"file-excel",UPLOAD_FILE_TYPE_PDF:b+"file-pdf",UPLOAD_FILE_TYPE_PNG:b+"file-image",UPLOAD_FILE_TYPE_GIF:b+"file-image",UPLOAD_FILE_TYPE_JPG:b+"file-image",UPLOAD_FILE_TYPE_JPEG:b+"file-image",UPLOAD_FILE_TYPE_MD:b+"file-markdown",UPLOAD_FILE_TYPE_PPD:b+"file-ppt",UPLOAD_FILE_TYPE_DOCX:b+"file-word",UPLOAD_FILE_TYPE_DOC:b+"file-word",UPLOAD_FILE_TYPE_ZIP:b+"file-zip",UPLOAD_FILE_TYPE_TXT:b+"file-txt",IMAGE_PREVIEW_CLOSE:b+"close",IMAGE_PREVIEW_PREVIOUS:b+"arrow-left",IMAGE_PREVIEW_NEXT:b+"arrow-right",IMAGE_PREVIEW_PCT_FULL:b+"pct-full",IMAGE_PREVIEW_PCT_1_1:b+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:b+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:b+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:b+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:b+"rotate-right",IMAGE_PREVIEW_PRINT:b+"print",IMAGE_PREVIEW_DOWNLOAD:b+"download",ALERT_CLOSE:b+"close",ALERT_INFO:b+"info-circle-fill",ALERT_SUCCESS:b+"success-circle-fill",ALERT_WARNING:b+"warning-circle-fill",ALERT_ERROR:b+"error-circle-fill",TREE_NODE_OPEN:b+"caret-right rotate90",TREE_NODE_CLOSE:b+"caret-right",TREE_NODE_LOADED:b+"spinner roll",TREE_DRAG:b+"drag-handle",TREE_DRAG_STATUS_NODE:b+"sort",TREE_DRAG_STATUS_SUB_NODE:b+"add-sub",TREE_DRAG_DISABLED:b+"no-drop",TREE_SELECT_LOADED:b+"spinner roll",TREE_SELECT_OPEN:b+"caret-down rotate180",TREE_SELECT_CLOSE:b+"caret-down",TABLE_SELECT_LOADED:b+"spinner roll",TABLE_SELECT_OPEN:b+"caret-down rotate180",TABLE_SELECT_CLOSE:b+"caret-down",TABS_TAB_BUTTON_TOP:b+"arrow-up",TABS_TAB_BUTTON_BOTTOM:b+"arrow-down",TABS_TAB_BUTTON_LEFT:b+"arrow-left",TABS_TAB_BUTTON_RIGHT:b+"arrow-right",TABS_TAB_CLOSE:b+"close",TABS_TAB_REFRESH:b+"refresh",TABS_TAB_REFRESH_LOADING:b+"refresh roll",TEXT_COPY:b+"copy",TEXT_LOADING:b+"spinner roll",TAG_CLOSE:b+"close",TAG_LOADING:b+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:b+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:b+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:b+"arrow-up",CAROUSEL_VERTICAL_NEXT:b+"arrow-down",COLLAPSE_OPEN:b+"arrow-right rotate90",COLLAPSE_CLOSE:b+"arrow-right",EMPTY_DEFAULT:b+"empty",RESULT_INFO:b+"info-circle-fill",RESULT_SUCCESS:b+"success-circle-fill",RESULT_WARNING:b+"warning-circle-fill",RESULT_ERROR:b+"error-circle-fill",RESULT_QUESTION:b+"question-circle-fill",RESULT_LOADING:b+"spinner roll",RATE_CHECKED:b+"star-fill",RATE_UNCHECKED:b+"star",COLOR_PICKER_COLOR_COPY:b+"copy",COLOR_PICKER_EYE_DROPPER:b+"dropper",COLOR_PICKER_TPTY_OPEN:b+"arrow-down rotate180",COLOR_PICKER_TPTY_CLOSE:b+"arrow-down",SPLIT_TOP_ACTION:b+"arrow-up",SPLIT_BOTTOM_ACTION:b+"arrow-down",SPLIT_LEFT_ACTION:b+"arrow-left",SPLIT_RIGHT_ACTION:b+"arrow-right",BACKTOP_TOP:b+"top",CONTEXT_MENU_OPTION_LOADING:b+"spinner roll",CONTEXT_MENU_CHILDREN:b+"arrow-right"});var x={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）",menuLoading:"加载中..."},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中...",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！",dragTip:"移动：{0}"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},calendar:{yearLabel:"{0} 年",monthLabel:"{0} 月"},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",moreImgBtnText:"图片（{0}）",moreFileBtnText:"文件（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},contextMenu:{loadingText:"加载中..."},gantt:{tFullFormat:{year:"{yyyy}年",quarter:"{yyyy}年第{q}季度",month:"{yyyy}年{MM}月",week:"{yyyy}年第{W}周",day:"{yyyy}年{MM}月 {E}",date:"{yyyy}年{MM}月{dd}日",hour:"{yyyy}年{MM}月{dd}日{HH}时",minute:"{yyyy}年{MM}月{dd}日{HH}时{mm}分",second:"{yyyy}年{MM}月{dd}日{HH}时{mm}分{ss}秒"},tSimpleFormat:{year:"{yyyy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{HH}",minute:"{mm}",second:"{ss}"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选",dateOption:"日期筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"显示行：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",isAfter:"在以下日期之后",eqAfter:"在以下日期之后或与之相同",isBefore:"在以下日期之前",eqBefore:"在以下日期之前或与之相同",top10:"前10项",aboveAverage:"高于平均值",belowAverage:"低于平均值",before:"之前",after:"之后",tomorrow:"明天",today:"今天",yesterday:"昨天",nextWeek:"下周",thisWeek:"本周",lastWeek:"上周",nextMonth:"下月",thisMonth:"本月",lastMonth:"上月",nextYear:"明年",thisYear:"今年",lastYear:"去年",yearToDate:"本年度截止到现在",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",top10:"前10项",aboveAverage:"高于平均值",belowAverage:"低于平均值",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选",dateOption:"日期筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"显示行：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},y=n(1845),w=n.n(y);function C(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function k(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function S(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function T(e){return w().isArray(e)?e:e?[e]:[]}var E=a({name:"VxeAlert",props:{title:{type:[String,Number],default:()=>(0,o.zj)().alert.title},content:[String,Number],status:String,showIcon:Boolean,showClose:Boolean,icon:{type:String,default:()=>(0,o.zj)().alert.icon}},emits:["close"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$alert:d},t))}},f=e=>{p.dispatchEvent("close",{},e)},h={};Object.assign(d,p,h);const m=()=>{const{status:t,content:n,icon:a,title:s,showIcon:c,showClose:u}=e,p=r.default,h=r.title,m=r.icon;return(0,i.h)("div",{ref:l,class:["vxe-alert",{[`theme--${t}`]:t}]},[m||c&&t||a?(0,i.h)("div",{class:"vxe-alert--icon"},m?T(m({})):[(0,i.h)("i",{class:a||(0,o.sW)()[`ALERT_${null===t||void 0===t?void 0:t.toUpperCase()}`]})]):(0,o.C1)(d),(0,i.h)("div",{class:"vxe-alert--body"},[h||s?(0,i.h)("div",{class:"vxe-alert--title"},h?T(h({})):w().toValueString(s)):(0,o.C1)(d),(0,i.h)("div",{class:"vxe-alert--content"},p?T(p({})):w().toValueString(n))]),u?(0,i.h)("div",{class:"vxe-alert--close-btn",onClick:f},[(0,i.h)("i",{class:(0,o.sW)().ALERT_CLOSE})]):(0,o.C1)(d)])};return d.renderVN=m,d},render(){return this.renderVN()}});const O=Object.assign({},E,{install(e){e.component(E.name,E)}});u.use(O),o.OE.component(E);const D=O;var M=O;let A;function I(){return A||(A=new Image,A.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),A}function N(){return A||I()}const R={};function F(e){return R[e]||(R[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),R[e]}function _(e,t,n){if(e){const r=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,r&&r!==document.documentElement&&r!==document.body&&(n.top-=r.scrollTop,n.left-=r.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return _(e.offsetParent,t,n)}return n}function P(e){return e&&/^\d+(\.\d+)?%$/.test(e)}function j(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(F(t)))}function $(e,t){e&&j(e,t)&&(e.className=e.className.replace(F(t),""))}function L(e,t){e&&!j(e,t)&&($(e,t),e.className=`${e.className} ${t}`)}function z(e){return e.ctrlKey||e.metaKey}function V(e,t="px"){return w().isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function B(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function H(e,t,n,r){let o,i=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;while(i&&i.nodeType&&i!==document){if(n&&j(i,n)&&(!r||r(i)))o=i;else if(i===t)return{flag:!n||!!o,container:t,targetElem:o};i=i.parentNode}return{flag:!1}}function W(e,t){return _(e,t,{left:0,top:0})}function q(e){const t=e.getBoundingClientRect(),n=t.top,r=t.left,{scrollTop:o,scrollLeft:i,visibleHeight:a,visibleWidth:l}=B();return{boundingTop:n,top:o+n,boundingLeft:r,left:i+r,visibleHeight:a,visibleWidth:l}}function U(e){if(e){const t=getComputedStyle(e),n=w().toNumber(t.paddingTop),r=w().toNumber(t.paddingBottom);return n+r}return 0}const G="scrollIntoViewIfNeeded",Y="scrollIntoView";function K(e){e&&(e[G]?e[G]():e[Y]&&e[Y]())}function X(e,t,n){const{placement:r,teleportTo:o,marginSize:i}=Object.assign({teleportTo:!1,marginSize:18},n);let a="bottom",l="",s="",c="";const u="";let d="";const p={};if(t&&e){const n=document.documentElement,f=document.body,h=e.offsetHeight,m=t.offsetHeight,g=t.offsetWidth,v=t.getBoundingClientRect(),b=e.getBoundingClientRect(),x=n.clientHeight||f.clientHeight,y=n.clientWidth||f.clientWidth;d=e.offsetWidth,o?(c=b.left,l=b.top+h,"top"===r?(a="top",l=b.top-m):r||(l+m+i>x&&(a="top",l=b.top-m),l<i&&(a="bottom",l=b.top+h)),c+g+i>y&&(c-=c+g+i-y),c<i&&(c=i)):("top"===r?(a="top",s=h):r||(l=h,b.top+h+m+i>x&&b.top-h-m>i&&(a="top",l="",s=h)),v.left+v.width+i>y&&(c=-(v.left+v.width+i-y))),w().isNumber(l)&&(p.top=V(l)),w().isNumber(s)&&(p.bottom=V(s)),w().isNumber(c)&&(p.left=V(c)),w().isNumber(u)&&(p.right=V(u)),w().isNumber(d)&&(p.minWidth=V(d))}return{top:l||0,bottom:s||0,left:c||0,right:u||0,style:p,placement:a}}function Z(e,t,n,r){const o=e.reactData.staticLinks,i=t.parentNode,a=r?r.linkConfig:null,l=a?a.children:o;i&&l&&(l.splice(w().arrayIndexOf(i.children,t),0,n),e.reactData.staticLinks=o.slice(0))}function J(e,t){const n=e.reactData.staticLinks,r=w().findTree(n,e=>e.id===t.id,{children:"children"});r&&r.items.splice(r.index,1),e.reactData.staticLinks=n.slice(0)}var Q=a({name:"VxeAnchorLink",props:{content:[String,Number],title:[String,Number],href:String},emits:[],setup(e,t){const{slots:n}=t,r=(0,i.inject)("$xeAnchor",null),a=(0,i.inject)("$xeAnchorLink",null),l=w().uniqueId(),s=(0,i.ref)(),c=(0,i.reactive)({}),u=(0,i.reactive)({id:l,href:e.href,children:[]}),d={refElem:s},p=(0,i.computed)(()=>{const{href:t}=e;return r?r.reactData.activeHref===t:null}),f={},h={xID:l,props:e,context:t,reactData:c,linkConfig:u,getRefMaps:()=>d,getComputeMaps:()=>f},m=t=>{const{href:n}=e;r&&r.handleClickLink(t,n)};(0,i.watch)(()=>e.href,e=>{u.href=e}),(0,i.onMounted)(()=>{const e=s.value;r&&e&&Z(r,e,u,a)}),(0,i.onUnmounted)(()=>{r&&J(r,u)});const g=()=>{const{href:t,content:r,title:a}=e,l=n.default,c=n.sub,u=p.value;return(0,i.h)("div",{ref:s,class:["vxe-anchor-link",{"is--active":u}]},[(0,i.h)("a",{class:"vxe-anchor-link--item",href:t,title:a,onClick:m},l?l({}):w().toValueString(r)),c?(0,i.h)("div",{class:"vxe-anchor-link--sub-items"},c({})):(0,o.C1)(h)])};return(0,i.provide)("$xeAnchorLink",h),h.renderVN=g,h},render(){return this.renderVN()}}),ee=a({name:"VxeAnchor",props:{modelValue:String,options:Array,container:[String,Object,Function],showMarker:{type:Boolean,default:!0}},emits:["update:modelValue","change","click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.ref)(),c=(0,i.reactive)({activeHref:null,staticLinks:[],containerElem:null}),u={refElem:l},d=(0,i.computed)(()=>{const e=[];return w().eachTree(c.staticLinks,t=>{e.push(t.href||"")},{children:"children"}),e}),p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$anchor:f},t))}},m=()=>{const{container:t}=e;if(t){if(w().isElement(t))return t;if(w().isString(t))return document.querySelector(t);if(w().isFunction(t))return t({$anchor:f})}return null},g=e=>{c.activeHref=e,r("update:modelValue",e)},v=()=>{const e=d.value,{containerElem:t}=c;if(t){const n=t.querySelectorAll(e.map(e=>`${e}`).join(","));for(let e=0;e<n.length;e++){const t=n[e],r=t.getBoundingClientRect();if(r.top>0){const e=t.id;c.activeHref=`#${e}`;break}}}},b=()=>{const{containerElem:e}=c;e&&e.removeEventListener("scroll",v)},x=()=>{const e=m();c.containerElem=e,e&&e.addEventListener("scroll",v,{passive:!1})},y=()=>{(0,i.nextTick)(()=>{const{activeHref:e}=c,t=l.value,n=s.value;if(t&&n&&e){const r=t.querySelector(`[href="${e}"]`);if(r){const{top:e}=W(r,t);n.style.top=`${e}px`}}})},C={handleClickLink(e,t){e.preventDefault();const n=document.getElementById(`${t}`.replace("#",""));n&&n.scrollIntoView({behavior:"smooth"}),g(t),h.dispatchEvent("click",{href:t},e)}};Object.assign(f,h,C);const k=e=>{const t=[];return e&&e.forEach(e=>{const n=e.children;n&&n.length?t.push((0,i.h)(Q,{content:e.content,title:e.title,href:e.href},{sub:()=>k(n)})):t.push((0,i.h)(Q,{content:e.content,title:e.title,href:e.href}))}),t},S=()=>{const{options:t,showMarker:r}=e,a=n.default;return(0,i.h)("div",{ref:l,class:["vxe-anchor",{"is--marker":r}]},[(0,i.h)("div",{class:"vxe-anchor--list"},a?a({}):k(t)),r?(0,i.h)("div",{ref:s,class:"vxe-anchor--marker"}):(0,o.C1)(f)])};return(0,i.watch)(()=>e.modelValue,e=>{c.activeHref=e}),(0,i.watch)(()=>c.activeHref,()=>{y()}),(0,i.watch)(()=>e.container,()=>{b(),x()}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{x()})}),(0,i.onBeforeUnmount)(()=>{b()}),(0,i.provide)("$xeAnchor",f),f.renderVN=S,f},render(){return this.renderVN()}});const te=Object.assign({},ee,{install(e){e.component(ee.name,ee)}});u.use(te),o.OE.component(ee);const ne=te;var re=te;const oe=Object.assign({},Q,{install(e){e.component(Q.name,Q)}});u.use(oe),o.OE.component(Q);const ie=oe;var ae=oe,le=a({name:"VxeAvatar",props:{count:[String,Number],dot:Boolean,content:[String,Number],icon:String,src:String,width:[String,Number],height:[String,Number],circle:{type:Boolean,default:()=>(0,o.zj)().avatar.circle},status:{type:String,default:()=>(0,o.zj)().avatar.status},size:{type:String,default:()=>(0,o.zj)().avatar.size||(0,o.zj)().size}},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u=(0,i.computed)(()=>{const{width:t,height:n}=e,r={};return t&&(r.width=V(t)),n&&(r.height=V(n)),r}),d=(0,i.computed)(()=>{const{count:t}=e;return t?w().toNumber(t):0}),p={},f={xID:r,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>p},h=(e,t,r)=>{n(e,(0,o.lh)(r,{$avatar:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{icon:t,content:n,src:r}=e;return t?(0,i.h)("span",{class:"vxe-avatar--icon"},[(0,i.h)("i",{class:t})]):n?(0,i.h)("span",{class:"vxe-avatar--content"},`${n}`):r?(0,i.h)("img",{class:"vxe-avatar--img",src:r}):(0,o.C1)(f)},b=()=>{const{circle:t,dot:n,status:r}=e,s=a.value,c=d.value,p=u.value;return(0,i.h)("div",{ref:l,class:["vxe-avatar",{[`size--${s}`]:s,[`theme--${r}`]:r,"is--circle":t,"is--dot":n}],style:p},[v(),c?(0,i.h)("span",{class:"vxe-avatar--count"},c>99?"99+":`${c}`):(0,o.C1)(f)])};return f.renderVN=b,f},render(){return this.renderVN()}});const se=Object.assign({},le,{install(e){e.component(le.name,le)}});u.use(se),o.OE.component(le);const ce=se;var ue=se,de=n(3333);function pe(e){return e&&!1!==e.enabled}function fe(){return de.Ay.getNext()}function he(){return de.Ay.getCurrent()}function me(){return de.Ay.getSubNext()}function ge(){return de.Ay.getSubCurrent()}function ve(e,t){return w().eqNull(e)?t:e}function be(e,t){if(w().eqNull(e))return"";const n=(0,o.zj)().translate;return`${n?n(""+e,t):e}`}function xe(e){return null===e||void 0===e||""===e}function ye(e){return w().isBoolean(e)?e:null}var we=a({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>(0,o.zj)().tooltip.size||(0,o.zj)().size},selector:String,trigger:{type:String,default:()=>(0,o.zj)().tooltip.trigger||"hover"},theme:{type:String,default:()=>(0,o.zj)().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],width:{type:[String,Number],default:()=>(0,o.zj)().tooltip.Width},height:{type:[String,Number],default:()=>(0,o.zj)().tooltip.height},minWidth:{type:[String,Number],default:()=>(0,o.zj)().tooltip.minWidth},minHeight:{type:[String,Number],default:()=>(0,o.zj)().tooltip.minHeight},maxWidth:{type:[String,Number],default:()=>(0,o.zj)().tooltip.maxWidth},maxHeight:{type:[String,Number],default:()=>(0,o.zj)().tooltip.maxHeight},isArrow:{type:Boolean,default:()=>(0,o.zj)().tooltip.isArrow},enterable:{type:Boolean,default:()=>(0,o.zj)().tooltip.enterable},enterDelay:{type:Number,default:()=>(0,o.zj)().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>(0,o.zj)().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.reactive)({target:null,isUpdate:!1,visible:!1,tipPos:null,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),c={},u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.computed)(()=>{const{width:t,height:n,minHeight:r,minWidth:o,maxHeight:i,maxWidth:a}=e,l={};return t&&(l.width=V(t)),n&&(l.height=V(n)),o&&(l.minWidth=V(o)),r&&(l.minHeight=V(r)),a&&(l.maxWidth=V(a)),i&&(l.maxHeight=V(i)),l}),f={refElem:u},h={xID:a,props:e,context:t,reactData:s,internalData:c,getRefMaps:()=>f};let m={};const g=()=>{const{isArrow:t}=e,{tipTarget:n,tipStore:r,tipPos:o}=s;let i="",a="",l="bottom",c="";const d=u.value;if(d&&n){const e=document.documentElement,s=document.body,u=n.offsetWidth,p=n.offsetHeight,f=d.offsetHeight,h=d.offsetWidth,m=n.getBoundingClientRect(),g=e.clientHeight||s.clientHeight,v=e.clientWidth||s.clientWidth,b=6;i=m.top+p,a=m.left,o&&o.x&&o.y?t?a=a+Math.max(8,Math.min(u-8,o.oLeft))-h/2:(a=o.x+1,i=o.y+1):a=m.left+(u-h)/2,i+f+b>g&&(l="top",i=m.top-f),i<b&&(l="bottom",i=m.top+p),a+h+b>v&&(a-=a+h+b-v),a<b&&(a=b),a===m.left?u<=h&&(c=u/2):a<m.left&&(c=a+h>m.left+u?m.left-a+u/2:m.left-a+(h-(m.left-a))/2),r.placement=l,r.style.top=`${i}px`,r.style.left=`${a}px`,r.arrowStyle.left=`${c}px`}},v=e=>{e!==s.visible&&(s.visible=e,s.isUpdate=!0,r("update:modelValue",e))},b=()=>{s.tipZindex<he()&&(s.tipZindex=fe())},x=()=>{s.visible?m.close():D(s.target||M(),e.content)},y=()=>{D(s.target||M(),e.content)},C=()=>{const{trigger:t,enterable:n,leaveDelay:r}=e;s.tipActive=!1,n&&"hover"===t?setTimeout(()=>{s.tipActive||m.close()},r):m.close()},k=()=>{s.tipActive=!0},S=()=>{const{trigger:t,enterable:n,leaveDelay:r}=e;s.tipActive=!1,n&&"hover"===t&&setTimeout(()=>{s.tipActive||m.close()},r)},E=()=>{const{tipStore:t}=s,n=u.value;if(n){const e=n.parentNode;e||document.body.appendChild(n)}return v(!0),b(),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||s.tipZindex},t.arrowStyle={left:"50%"},m.updatePlacement()},O=()=>{c.showDelayTip=w().debounce(()=>{s.tipActive&&E()},e.enterDelay,{leading:!1,trailing:!0})},D=(t,r,o)=>{const a=n.content;if(!a&&(""===r||w().eqNull(r)))return(0,i.nextTick)();if(t){const{showDelayTip:n}=c,{trigger:i,enterDelay:a}=e;if(s.tipPos=o?{x:o.clientX,y:o.clientY,oLeft:o.offsetX,oTop:o.offsetY}:null,s.tipActive=!0,s.tipTarget=t,s.tipContent=r,s.visible)return h.updatePlacement();if(!a||"hover"!==i)return E();n&&n()}return(0,i.nextTick)()},M=()=>{const{selector:t}=e;if(t){if(w().isElement(t))return t;if(w().isString(t))return document.querySelector(t)}return null};m={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$tooltip:h},t))},openByEvent(e,t,n){return D(t||s.target||M(),n,e)},open(e,t){return D(e||s.target||M(),t)},close(){return s.tipPos=null,s.tipTarget=null,s.tipActive=!1,Object.assign(s.tipStore,{style:{},placement:"",arrowStyle:null}),v(!1),(0,i.nextTick)()},toVisible(e,t){return D(e,t)},updatePlacement(){const{visible:e,tipTarget:t}=s;let n=u.value;return e&&t&&n&&g(),(0,i.nextTick)().then(()=>{if(n=u.value,t&&n)return g(),(0,i.nextTick)().then(()=>{g()})})},isActived(){return s.tipActive},setActived(e){s.tipActive=!!e}};const A=e=>{e.stopPropagation()};Object.assign(h,m);const I=()=>{const{useHTML:t}=e,{tipContent:r}=s,o=p.value,a=n.content,l=[];return a?l.push((0,i.h)("div",{key:1},T(a({})))):t?l.push((0,i.h)("div",{key:2,innerHTML:r})):l.push((0,i.h)("span",{key:3},`${r}`)),(0,i.h)("div",{key:3,ref:d,class:"vxe-tooltip--content",style:o},l)},N=()=>{const{popupClassName:t,theme:r,isArrow:o,enterable:a}=e,{tipActive:c,visible:d,tipStore:p}=s,f=n.default,m=l.value;let g;return a&&(g={onMouseenter:k,onMouseleave:S}),(0,i.h)("div",Object.assign({ref:u,class:["vxe-tooltip--wrapper",`theme--${r}`,t?w().isFunction(t)?t({$tooltip:h}):t:"",{[`size--${m}`]:m,[`placement--${p.placement}`]:p.placement,"is--enterable":a,"is--visible":d,"is--arrow":o,"is--active":c}],style:p.style},g),[(0,i.h)("div",{key:"tby",class:"vxe-tooltip--body"},[I(),(0,i.h)("div",{class:"vxe-tooltip--arrow",style:p.arrowStyle})]),...f?T(f({})):[]])};return(0,i.watch)(()=>e.enterDelay,()=>{O()}),(0,i.watch)(()=>e.content,e=>{s.tipContent=e}),(0,i.watch)(()=>e.modelValue,t=>{s.isUpdate||(t?D(s.target||M(),e.content):m.close()),s.isUpdate=!1}),(0,i.onMounted)(()=>{const t=d.value;t&&t.addEventListener("wheel",A,{passive:!1}),(0,i.nextTick)(()=>{const{trigger:t,content:n}=e,r=u.value;if(r){const o=r.parentNode;if(o){s.tipContent=n,s.tipZindex=fe(),w().arrayEach(r.children,(e,t)=>{t&&(o.insertBefore(e,r),s.target||(s.target=e))}),o.removeChild(r);const{target:i}=s;i&&("hover"===t?(i.onmouseenter=y,i.onmouseleave=C):"click"===t&&(i.onclick=x)),e.modelValue&&D(i||M(),n)}}})}),(0,i.onBeforeUnmount)(()=>{const{target:e}=s,t=u.value;e&&(e.onmouseenter=null,e.onmouseleave=null,e.onclick=null);const n=d.value;if(n&&n.removeEventListener("wheel",A),t){const e=t.parentNode;e&&e.removeChild(t)}}),O(),h.renderVN=N,h},render(){return this.renderVN()}});const Ce=Object.assign({},we,{install(e){e.component(we.name,we)}});u.use(Ce),o.OE.component(we);const ke=Ce;var Se=Ce;const Te=a({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>(0,o.zj)().button.size||(0,o.zj)().size},zIndex:Number,name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,shadow:Boolean,icon:String,iconRender:Object,prefixIcon:String,prefixRender:Object,suffixIcon:String,suffixRender:Object,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>(0,o.zj)().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,options:Array,showDropdownIcon:{type:Boolean,default:()=>(0,o.zj)().button.showDropdownIcon},destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().button.destroyOnClose},popupConfig:Object,transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click","dropdownClick","contextmenu"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeTree",null),u=(0,i.inject)("$xeForm",null),d=(0,i.inject)("$xeButtonGroup",null),p=w().uniqueId(),{computeSize:h}=(0,o.XX)(e),{computePermissionInfo:m}=(0,o.JT)(e),g=(0,i.reactive)({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),v={showTime:void 0,tooltipTimeout:void 0},b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C={refElem:b},k={xID:p,props:e,context:t,reactData:g,internalData:v,getRefMaps:()=>C};let S={};const E=(0,i.computed)(()=>{const{transfer:t}=e,n=_.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().button.transfer;if(w().isBoolean(e))return e;if(s||c||a||l||u)return!0}return t}),O=(0,i.computed)(()=>{const{disabled:t}=e,n=m.value;return t||n.disabled}),D=(0,i.computed)(()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1}),M=(0,i.computed)(()=>{const{type:t,mode:n}=e;return"text"===n||"text"===t||d&&"text"===d.props.mode?"text":"button"}),A=(0,i.computed)(()=>{const{status:t}=e;return t||(d?d.props.status:"")}),I=(0,i.computed)(()=>{const{align:t}=e;return t||!!d&&d.props.align}),N=(0,i.computed)(()=>{const{round:t}=e;return t||!!d&&d.props.round}),R=(0,i.computed)(()=>{const{circle:t}=e;return t||!!d&&d.props.circle}),F=(0,i.computed)(()=>{const{options:t}=e;return t?t.filter(e=>{const{permissionCode:t}=e;return!t||o.EK.checkVisible(t)}):[]}),_=(0,i.computed)(()=>Object.assign({},(0,o.zj)().button.popupConfig,e.popupConfig)),P=(0,i.computed)(()=>Object.assign({},(0,o.zj)().button.prefixTooltip,e.prefixTooltip)),j=(0,i.computed)(()=>Object.assign({},(0,o.zj)().button.suffixTooltip,e.suffixTooltip)),$=()=>{const t=_.value,n=t.zIndex||e.zIndex;n?g.panelIndex=w().toNumber(n):g.panelIndex<he()&&(g.panelIndex=fe())},L=()=>{const{placement:t}=e,{panelIndex:n}=g,r=x.value,o=y.value,a=E.value,l=_.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});g.panelStyle=i,g.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},z=t=>{d&&d.handleClick({name:e.name},t),oe("click",{$event:t},t)},V=(e,t)=>{const{$event:n}=e;ee(),oe("dropdown-click",{name:t.name,option:t},n)},B=e=>{const t=0===e.button;t&&e.stopPropagation()},W=e=>{const t=e.currentTarget,n=y.value,{flag:r,targetElem:o}=H(e,t,"vxe-button");r&&(n&&(n.dataset.active="N"),g.visiblePanel=!1,setTimeout(()=>{n&&"Y"===n.dataset.active||(g.isAniVisible=!1)},350),oe("dropdown-click",{name:o.getAttribute("name"),option:null},e))},q=()=>{const e=y.value;e&&(e.dataset.active="Y",g.isAniVisible=!0,setTimeout(()=>{"Y"===e.dataset.active&&(g.visiblePanel=!0,$(),L(),setTimeout(()=>{g.visiblePanel&&L()},50))},20))},U=t=>{const{loading:n}=e,r=O.value;r||n||(Q(),Y(t))},G=e=>{ee(),K(e)},Y=e=>{oe("mouseenter",{},e)},K=e=>{oe("mouseleave",{},e)},Z=e=>{oe("contextmenu",{},e)},J=t=>{const{loading:n,trigger:r}=e,o=O.value;o||n||("click"===r&&(g.visiblePanel?ee():Q()),z(t))},Q=()=>{const{trigger:t}=e,n=y.value;return n&&(n.dataset.active="Y",g.initialized||(g.initialized=!0),v.showTime=setTimeout(()=>{"Y"===n.dataset.active?q():g.isAniVisible=!1},"click"===t?50:250)),(0,i.nextTick)()},ee=()=>{const e=y.value;return clearTimeout(v.showTime),e?(e.dataset.active="N",setTimeout(()=>{"Y"!==e.dataset.active&&(g.visiblePanel=!1,setTimeout(()=>{"Y"!==e.dataset.active&&(g.isAniVisible=!1)},350))},100)):(g.isAniVisible=!1,g.visiblePanel=!1),(0,i.nextTick)()},te=()=>{ee()},ne=(e,t)=>(0,i.h)(Se,{useHTML:e.useHTML,content:e.content,enterable:e.enterable,theme:e.theme},{default(){return(0,i.h)("span",{class:`vxe-button--item vxe-button--tooltip-${t}-icon`},[(0,i.h)("i",{class:e.icon||(0,o.sW)().BUTTON_TOOLTIP_ICON})])}}),re=()=>{const{content:t,suffixIcon:r,loading:a,prefixTooltip:l,suffixTooltip:s,suffixRender:c}=e,u=e.prefixIcon||e.icon,d=e.prefixRender||e.iconRender,p=P.value,f=j.value,h=n.prefix||n.icon,m=n.suffix,g=n.default,v=[];if(l&&v.push(ne(p,"prefix")),a)v.push((0,i.h)("i",{class:["vxe-button--item vxe-button--loading-icon",(0,o.sW)().BUTTON_LOADING]}));else if(h)v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--custom-prefix-icon"},h({})));else if(d){const e=o.Uk.get(d.name),t=e?e.renderButtonPrefix:null;v.push((0,i.h)("span",{class:["vxe-button--item vxe-button--custom-prefix-icon"]},t?T(t(d,{$button:k})):[]))}else u&&v.push((0,i.h)("i",{class:["vxe-button--item vxe-button--prefix-icon",u]}));if(g?v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--content"},g({}))):t&&v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--content"},be(t))),m)v.push((0,i.h)("span",{class:"vxe-button--item vxe-button--custom-suffix-icon"},m({})));else if(c){const e=o.Uk.get(c.name),t=e?e.renderButtonSuffix:null;v.push((0,i.h)("span",{class:["vxe-button--item vxe-button--custom-suffix-icon"]},t?T(t(c,{$button:k})):[]))}else r&&v.push((0,i.h)("i",{class:["vxe-button--item vxe-button--suffix-icon",r]}));return s&&v.push(ne(f,"suffix")),v},oe=(e,t,n)=>{r(e,(0,o.lh)(n,{$button:k},t))};S={dispatchEvent:oe,openPanel:Q,closePanel:ee,focus(){const e=x.value;return e&&e.focus(),(0,i.nextTick)()},blur(){const e=x.value;return e&&e.blur(),(0,i.nextTick)()}};const ie=e=>{const t=y.value;g.visiblePanel&&!H(e,t).flag&&ee()},ae=e=>{const t=O.value,{visiblePanel:n}=g;if(!t){const t=b.value,r=y.value;g.isActivated=H(e,t).flag||H(e,r).flag,n&&!g.isActivated&&ee()}},le=()=>{const{visiblePanel:e}=g;e&&L()};Object.assign(k,S);const se=()=>{const{className:t,trigger:r,title:a,routerLink:l,type:s,destroyOnClose:c,name:u,loading:d,shadow:p,showDropdownIcon:f}=e,{initialized:v,isAniVisible:C,visiblePanel:S}=g,T=D.value,P=M.value,j=A.value,$=N.value,L=I.value,H=R.value,X=E.value,Q=O.value,ee=m.value,ne=F.value,oe=_.value,ie=h.value,ae=n.dropdowns,le=oe.className||e.popupClassName;if(!ee.visible)return(0,o.C1)(k);if(ae||ne.length){const e={onContextmenu:Z},n={};return"hover"===r&&(e.onMouseenter=U,e.onMouseleave=G,n.onMouseenter=q,n.onMouseleave=te),(0,i.h)("div",{ref:b,class:["vxe-button--dropdown",t?w().isFunction(t)?t({$button:k}):t:"",{[`size--${ie}`]:ie,"is--active":S}]},[l?(0,i.h)((0,i.resolveComponent)("router-link"),Object.assign({ref:x,class:["vxe-button","vxe-button--link",`type--${P}`,L?`align--${L}`:"",t?w().isFunction(t)?t({$button:k}):t:"",{[`size--${ie}`]:ie,[`theme--${j}`]:j,"is--round":$,"is--circle":H,"is--shadow":p,"is--disabled":Q||d,"is--loading":d}],title:a,name:u,type:T?s:"button",disabled:Q||d,to:l,onClick:J},e),{default(){return re().concat(f?[(0,i.h)("i",{class:`vxe-button--dropdown-arrow ${(0,o.sW)().BUTTON_DROPDOWN}`})]:[])}}):(0,i.h)("button",Object.assign({ref:x,class:["vxe-button",`type--${P}`,L?`align--${L}`:"",t?w().isFunction(t)?t({$button:k}):t:"",{[`size--${ie}`]:ie,[`theme--${j}`]:j,"is--round":$,"is--circle":H,"is--shadow":p,"is--disabled":Q||d,"is--loading":d}],title:a,name:u,type:T?s:"button",disabled:Q||d,onClick:J},e),re().concat(f?[(0,i.h)("i",{class:`vxe-button--dropdown-arrow ${(0,o.sW)().BUTTON_DROPDOWN}`})]:[])),(0,i.h)(i.Teleport,{to:"body",disabled:!X||!v},[(0,i.h)("div",Object.assign({ref:y,class:["vxe-button--dropdown-panel",le?w().isFunction(le)?le({$button:k}):le:"",{[`size--${ie}`]:ie,"is--transfer":X,"ani--leave":C,"ani--enter":S}],placement:g.panelPlacement,style:g.panelStyle},n),v&&(S||C)?[ae?(0,i.h)("div",{class:"vxe-button--dropdown-wrapper",onMousedown:B,onClick:W},v&&(!c||(S||C))?ae({}):[]):(0,i.h)("div",{class:"vxe-button--dropdown-wrapper"},v&&(!c||(S||C))?ne.map((e,t)=>(0,i.h)(Te,{key:t,type:e.type,mode:e.mode||P,className:e.className,name:e.name,routerLink:e.routerLink,permissionCode:e.permissionCode,title:e.title,content:e.content,status:e.status,icon:e.icon,round:w().isBoolean(e.round)?e.round:"text"!==P&&$,circle:w().isBoolean(e.circle)?e.circle:"text"!==P&&H,disabled:e.disabled,loading:e.loading,align:e.align,onClick(t){V(t,e)}})):[])]:[])])])}return l?(0,i.h)((0,i.resolveComponent)("router-link"),{ref:x,class:["vxe-button","vxe-button--link",`type--${P}`,L?`align--${L}`:"",t?w().isFunction(t)?t({$button:k}):t:"",{[`size--${ie}`]:ie,[`theme--${j}`]:j,"is--round":$,"is--circle":H,"is--shadow":p,"is--disabled":Q||d,"is--loading":d}],title:a,name:u,type:T?s:"button",disabled:Q||d,to:l,onClick:z,onMouseenter:Y,onMouseleave:K,onContextmenu:Z},{default(){return re()}}):(0,i.h)("button",{ref:x,class:["vxe-button",`type--${P}`,L?`align--${L}`:"",t?w().isFunction(t)?t({$button:k}):t:"",{[`size--${ie}`]:ie,[`theme--${j}`]:j,"is--round":$,"is--circle":H,"is--shadow":p,"is--disabled":Q||d,"is--loading":d}],title:a,name:u,type:T?s:"button",disabled:Q||d,onClick:z,onMouseenter:Y,onMouseleave:K,onContextmenu:Z},re())};return k.renderVN=se,(0,i.onMounted)(()=>{"text"===e.type&&f("vxe.error.delProp",["[button] type=text","mode=text"]),o.Nh.on(k,"mousewheel",ie),o.Nh.on(k,"mousedown",ae),o.Nh.on(k,"resize",le)}),(0,i.onUnmounted)(()=>{o.Nh.off(k,"mousewheel"),o.Nh.off(k,"mousedown"),o.Nh.off(k,"resize")}),k},render(){return this.renderVN()}});var Ee=Te;const Oe=Object.assign({},Ee,{install(e){e.component(Ee.name,Ee)}});u.use(Oe),o.OE.component(Ee);const De=Oe;var Me=Oe;function Ae(){return{targetEl:null}}function Ie(){return{showBtn:!1,backtopZindex:0}}var Ne=a({name:"VxeBacktop",props:{target:String,size:{type:String,default:()=>(0,o.zj)().backtop.size||(0,o.zj)().size},circle:{type:Boolean,default:()=>(0,o.zj)().backtop.circle},right:{type:[String,Number],default:()=>(0,o.zj)().backtop.right},bottom:{type:[String,Number],default:()=>(0,o.zj)().backtop.bottom},status:{type:[String,Number],default:()=>(0,o.zj)().backtop.status},icon:{type:String,default:()=>(0,o.zj)().backtop.icon},showIcon:{type:Boolean,default:()=>(0,o.zj)().backtop.showIcon},content:{type:[String,Number],default:()=>(0,o.zj)().backtop.content},showContent:{type:Boolean,default:()=>(0,o.zj)().backtop.showContent},showTop:{type:Boolean,default:()=>(0,o.zj)().backtop.showTop},showBottom:{type:Boolean,default:()=>(0,o.zj)().backtop.showBottom},shadow:{type:Boolean,default:()=>(0,o.zj)().backtop.shadow},zIndex:{type:[String,Number],default:()=>(0,o.zj)().backtop.zIndex},threshold:{type:[String,Number],default:()=>(0,o.zj)().backtop.threshold},position:{type:String,default:()=>(0,o.zj)().backtop.position}},emits:["click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=Ae(),u=(0,i.reactive)(Ie()),d={refElem:l},p=(0,i.computed)(()=>{const{right:t,bottom:n}=e,{backtopZindex:r}=u,o={};return t&&(o.right=V(t)),n&&(o.bottom=V(n)),r&&(o.zIndex=r),o}),f={},m={xID:a,props:e,context:t,internalData:c,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>f},g=(e,t,n)=>{r(e,(0,o.lh)(n,{$backtop:m},t))},v=()=>{const{position:t,zIndex:n}=e,{backtopZindex:r}=u;n?u.backtopZindex=w().toNumber(n):"fixed"===t&&r<he()&&(u.backtopZindex=fe())},b=()=>{v(),u.showBtn=!0},x=()=>{u.showBtn=!1},y=t=>{const{threshold:n}=e,r=t.currentTarget,o=r.scrollTop,i=o>Math.max(1,w().toNumber(n));i?b():x()},C=()=>{const{targetEl:e}=c;if(!e)return;const t=e.scrollTop;if(t>0){requestAnimationFrame(C);const n=t-Math.max(12,t/6);e.scrollTop=n>10?n:0}},k=()=>{const{targetEl:e}=c;e&&e.removeEventListener("scroll",y)},S=()=>{const{targetEl:e}=c;e&&e.addEventListener("scroll",y,{passive:!0})},T=()=>{(0,i.nextTick)(()=>{const{target:t}=e;if(!t)return k(),void h("vxe.error.reqProp",["target"]);if(w().isString(t)){const e=document.querySelector(t);e||h("vxe.error.errProp",[`target=${t}`,"body"]);const{targetEl:n}=c;n!==e&&(k(),c.targetEl=e,S())}})},E=e=>{C(),g("click",{},e)},O={dispatchEvent:g},D={};Object.assign(m,O,D);const M=()=>{const{circle:t,position:r,status:a,icon:c,showIcon:d,content:f,showContent:h,showTop:g,showBottom:v,shadow:b}=e,{showBtn:x}=u,y=p.value,w=s.value,C=n.default,k=n.top,S=n.bottom;return(0,i.h)("div",{ref:l,class:["vxe-backtop","fixed"===r?"is--"+r:"is--absolute",{[`size--${w}`]:w,"is--visible":x}],style:y},[g&&k?(0,i.h)("div",{class:"vxe-backtop--top-wrapper"},k({})):(0,o.C1)(m),(0,i.h)("div",{class:"vxe-backtop--content-wrapper",onClick:E},[C?C({}):[(0,i.h)(Me,{circle:t,status:a,shadow:b,icon:d?c||(0,o.sW)().BACKTOP_TOP:"",content:h?f:""})]]),v&&S?(0,i.h)("div",{class:"vxe-backtop--bottom-wrapper"},S({})):(0,o.C1)(m)])};return(0,i.watch)(()=>e.position,()=>{v()}),(0,i.watch)(()=>e.target,()=>{T()}),(0,i.onMounted)(()=>{const{showTop:t}=e;t&&v(),T()}),(0,i.onBeforeUnmount)(()=>{k(),w().assign(u,Ie()),w().assign(c,Ae())}),m.renderVN=M,m},render(){return this.renderVN()}});const Re=Object.assign({},Ne,{install(e){e.component(Ne.name,Ne)}});u.use(Re),o.OE.component(Ne);const Fe=Re;var _e=Re,Pe=a({name:"VxeBadge",props:{count:[String,Number],dot:Boolean,content:[String,Number],size:{type:String,default:()=>(0,o.zj)().badge.size||(0,o.zj)().size}},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d=(0,i.computed)(()=>{const{count:t}=e;return t?w().toNumber(t):0}),p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h=(e,t,r)=>{n(e,(0,o.lh)(r,{$badge:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{dot:t,content:n}=e,a=s.value,c=d.value,u=r.default;return(0,i.h)("div",{ref:l,class:["vxe-badge",{[`size--${a}`]:a,"is--dot":t}]},[u||n?(0,i.h)("div",{class:"vxe-badge--content"},u?u({}):`${n||""}`):[],c?(0,i.h)("span",{class:"vxe-badge--count"},c>99?"99+":`${c}`):(0,o.C1)(f)])};return f.renderVN=v,f},render(){return this.renderVN()}});const je=Object.assign({},Pe,{install(e){e.component(Pe.name,Pe)}});u.use(je),o.OE.component(Pe);const $e=je;var Le=je,ze=a({name:"VxeBreadcrumbItem",props:{title:String,routerLink:Object},emits:[],setup(e,t){const{slots:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.inject)("$xeBreadcrumb",null),s=(0,i.reactive)({}),c={refElem:a},u=(0,i.computed)(()=>l?l.props.separator:""),d=t=>{if(l){const n={title:e.title,routerLink:e.routerLink};l.handleClickLink(t,n)}},p={},f={xID:r,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>p},h=()=>{const{title:t,routerLink:r}=e,l=u.value,s=n.default;return(0,i.h)("span",{ref:a,class:"vxe-breadcrumb-item",onClick:d},[(0,i.h)("span",{class:"vxe-breadcrumb-item--content"},[r?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-breadcrumb-item--content-link",title:t,to:r},{default(){return(0,i.h)("span",{class:"vxe-breadcrumb-item--content-text"},s?s({}):`${t||""}`)}}):(0,i.h)("span",{class:"vxe-breadcrumb-item--content-text"},s?s({}):`${t||""}`)]),l?(0,i.h)("span",{class:"vxe-breadcrumb-item--separator"},`${l}`):(0,o.C1)(f)])};return f.renderVN=h,f},render(){return this.renderVN()}}),Ve=a({name:"VxeBreadcrumb",props:{separator:{type:String,default:()=>(0,o.zj)().breadcrumb.separator},options:Array},emits:["click"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$breadcrumb:d},t))}},f={handleClickLink(e,t){p.dispatchEvent("click",{option:t},e)}};Object.assign(d,p,f);const h=()=>{const{options:t}=e;return t&&t.length?t.map(e=>(0,i.h)(ze,{title:e.title,routerLink:e.routerLink})):[]},m=()=>{const e=r.default;return(0,i.h)("div",{ref:l,class:"vxe-breadcrumb"},e?e({}):h())};return(0,i.provide)("$xeBreadcrumb",d),d.renderVN=m,d},render(){return this.renderVN()}});const Be=Object.assign({},Ve,{install(e){e.component(Ve.name,Ve)}});u.use(Be),o.OE.component(Ve);const He=Be;var We=Be;const qe=Object.assign({},ze,{install(e){e.component(ze.name,ze)}});u.use(qe),o.OE.component(ze);const Ue=qe;var Ge=qe,Ye=a({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,vertical:Boolean,circle:Boolean,align:String,className:[String,Function],disabled:Boolean,permissionCode:[String,Number],size:{type:String,default:()=>(0,o.zj)().buttonGroup.size||(0,o.zj)().size}},emits:["click","contextmenu"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.reactive)({}),s={},c={xID:a,props:e,context:t,reactData:l,getComputeMaps:()=>s};(0,o.XX)(e);const{computePermissionInfo:u}=(0,o.JT)(e),d=(e,t,n)=>{r(e,(0,o.lh)(n,{$buttonGroup:c},t))},p={dispatchEvent:d},f={handleClick(t,n){const{options:r}=e,{name:o}=t,i=r?r.find(e=>e.name===o):null;p.dispatchEvent("click",Object.assign(Object.assign({},t),{option:i}),n)}},h=e=>{d("contextmenu",{},e)};Object.assign(c,p,f);const m=()=>{const{className:t,options:r,vertical:a}=e,l=u.value,s=n.default;return l.visible?(0,i.h)("div",{class:["vxe-button-group",t?w().isFunction(t)?t({$buttonGroup:c}):t:"",{"is--vertical":a}],onContextmenu:h},s?s({}):r?r.map((e,t)=>(0,i.h)(Ee,Object.assign({key:t},e))):[]):(0,o.C1)(c)};return c.renderVN=m,(0,i.provide)("$xeButtonGroup",c),c},render(){return this.renderVN()}});const Ke=Object.assign({},Ye,{install(e){e.component(Ye.name,Ye)}});u.use(Ke),o.OE.component(Ye);const Xe=Ke;var Ze=Ke;function Je(e){return"timestamp"===e}function Qe(e){return"date"===e}function et(e,t){return!t||Qe(t)||Je(t)?"time"===e?"HH:mm:ss":"datetime"===e?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd":t}function tt(e){const t=new Date(2e3,0,1);if(e){let n=0,r=0,o=0;if((w().isNumber(e)||/^[0-9]{11,15}$/.test(`${e}`))&&(e=new Date(Number(e))),w().isDate(e))n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();else{e=w().toValueString(e);const t=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(n=w().toNumber(t[1]),r=w().toNumber(t[3]),o=w().toNumber(t[5]))}return t.setHours(n),t.setMinutes(r),t.setSeconds(o),t}return t}function nt(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}const rt=(e,t,n)=>{const{valueFormat:r}=n;return e?"time"===t?tt(e):w().isNumber(e)||/^[0-9]{10,15}$/.test(`${e}`)?new Date(Number(e)):w().isString(e)?w().toStringDate(w().last(e.split(",")),r):w().toStringDate(e,r):null},ot=(e,t,n)=>{const r=rt(e,t,n);return r?w().toDateString(r,n.valueFormat):""};function it(e,t,n){const{labelFormat:r,firstDay:o}=n;let i=null,a="";if(e&&(i=rt(e,t,n)),w().isValidDate(i)){if(a=w().toDateString(i,r,{firstDay:o}),r&&"week"===t){const e=i.getFullYear(),t=i.getMonth()+1,n=w().getYearWeek(i,o);if(ut(n,t)){const t="yyyy",n=e+1,o=r.indexOf(t);o>-1&&(a=a.substring(0,o)+n+a.substring(o+t.length))}}}else i=null;return{label:a,value:i}}function at(e,t,n,r){const{valueFormat:o,firstDay:i}=r;let a=null;const l=("prev"===e||"next"===e?new Date:t?rt(t,n,r):null)||new Date;switch(e){case"prev":case"next":case"minus":case"plus":{const t="plus"===e||"next"===e?1:-1;switch(n){case"date":case"datetime":a=w().getWhatDay(l,t);break;case"week":a=w().getWhatWeek(l,t,i,i);break;case"month":a=w().getWhatMonth(l,t);break;case"quarter":a=w().getWhatQuarter(l,t);break;case"year":a=w().getWhatYear(l,t);break}break}default:a=new Date;break}return{value:a?w().toDateString(a,o):""}}const lt={last180:-180,last90:-90,last60:-60,last30:-30,last7:-7,last3:-3,last1:-1};function st(e){return lt[e]||0}function ct(e,t,n,r){const{valueFormat:o,firstDay:i}=r;w().isArray(t)&&(t=t.join(""));const a=(t?rt(t,n,r):null)||new Date;let l=null;const s=a;switch(e){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const t=st(e);switch(n){case"date":case"datetime":l=w().getWhatDay(a,t);break;case"week":l=w().getWhatWeek(a,t,i,i);break;case"month":l=w().getWhatMonth(a,t);break;case"quarter":l=w().getWhatQuarter(a,t);break;case"year":l=w().getWhatYear(a,t);break}break}default:l=new Date;break}const c=l?w().toDateString(l,o):"",u=s?w().toDateString(s,o):"";return{startValue:c,endValue:u}}const ut=(e,t)=>"1"===`${e}`&&"12"===`${t}`,{menus:dt,getConfig:pt,getI18n:ft}=o.OE;var ht=a({name:"VxeCalendar",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>pt().calendar.size||pt().size},multiple:Boolean,width:[String,Number],height:[String,Number],minDate:{type:[String,Number,Date],default:()=>pt().calendar.minDate},maxDate:{type:[String,Number,Date],default:()=>pt().calendar.maxDate},startDay:{type:[String,Number],default:()=>pt().calendar.startDay},labelFormat:String,valueFormat:String,festivalMethod:{type:Function,default:()=>pt().calendar.festivalMethod},disabledMethod:{type:Function,default:()=>pt().calendar.disabledMethod},cellStyle:[Object,Function],menuConfig:Object,selectDay:{type:[String,Number],default:()=>pt().calendar.selectDay}},emits:["update:modelValue","change","cell-click","date-prev","date-today","date-next","view-change","cell-menu","menu-click"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.reactive)({selectValue:e.modelValue,inputValue:e.modelValue,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),s={yearSize:12,monthSize:20,quarterSize:8},c=(0,i.ref)(),u={refElem:c},d={xID:r,props:e,context:t,reactData:l,internalData:s,getRefMaps:()=>u},p=(0,i.computed)(()=>{const{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t)),r}),f=(0,i.computed)(()=>!1),m=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),g=(0,i.computed)(()=>e.minDate?w().toStringDate(e.minDate):null),v=(0,i.computed)(()=>e.maxDate?w().toStringDate(e.maxDate):null),b=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),x=(0,i.computed)(()=>Object.assign({},pt().calendar.menuConfig,e.menuConfig)),y=(0,i.computed)(()=>{const{multiple:t}=e,{selectValue:n}=l,r=m.value,o=S.value;return t&&n&&r?w().toValueString(n).split(",").map(e=>{const t=q(e,o);return w().isValidDate(t)?t:null}):[]}),C=(0,i.computed)(()=>{const e=y.value,t=S.value;return e.map(e=>w().toDateString(e,t))}),k=(0,i.computed)(()=>{const e=y.value,t=M.value;return e.map(e=>w().toDateString(e,t)).join(", ")}),S=(0,i.computed)(()=>{const{valueFormat:t}=e;return t||"yyyy-MM-dd"}),T=(0,i.computed)(()=>{const{selectValue:e}=l,t=m.value,n=S.value;let r=null;if(e&&t){const t=q(e,n);w().isValidDate(t)&&(r=t)}return r}),E=(0,i.computed)(()=>{const e=g.value,{selectMonth:t}=l;return!(!t||!e)&&t<=e}),O=(0,i.computed)(()=>{const e=v.value,{selectMonth:t}=l;return!(!t||!e)&&t>=e}),D=(0,i.computed)(()=>{const e=T.value;return e?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),M=(0,i.computed)(()=>{const{labelFormat:t}=e,n=m.value,r=S.value;return n?t||r||ft(`vxe.input.date.labelFormat.${e.type}`):null}),A=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,{yearSize:n}=s,r=[];if(e&&t){const o=t.getFullYear(),i=e.getFullYear(),a=new Date(i-i%n,0,1);for(let e=-4;e<n+4;e++){const t=w().getWhatYear(a,e,"first"),i=t.getFullYear();r.push({date:t,isCurrent:!0,isPrev:e<0,isNow:o===i,isNext:e>=n,year:i})}}return r}),I=(0,i.computed)(()=>{const e=m.value;let t="",n="";if(e){const{datePanelType:e,selectMonth:r}=l,o=A.value;let i,a="";r&&(a=r.getFullYear(),i=r.getMonth()+1),"quarter"===e||"month"===e?t=`${a}`:"year"===e?t=o.length?`${o[0].year} - ${o[o.length-1].year}`:"":(t=`${a}`,n=i?ft("vxe.calendar.monthLabel",[i]):"-")}return{y:ft("vxe.calendar.yearLabel",[t]),m:n}}),N=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),R=(0,i.computed)(()=>{const e=[],t=m.value;if(t){let t=N.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),F=(0,i.computed)(()=>{const e=m.value;if(e){const e=R.value;return e.map(e=>({value:e,label:ft(`vxe.input.date.weeks.w${e}`)}))}return[]}),_=(0,i.computed)(()=>{const e=m.value;if(e){const e=F.value;return[{label:ft("vxe.input.date.weeks.w")}].concat(e)}return[]}),P=(0,i.computed)(()=>{const e=A.value;return w().chunk(e,4)}),j=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,{quarterSize:n}=s,r=[];if(e&&t){const o=t.getFullYear(),i=nt(t),a=w().getWhatYear(e,0,"first"),l=a.getFullYear();for(let e=-2;e<n-2;e++){const t=w().getWhatQuarter(a,e),n=t.getFullYear(),s=nt(t),c=n<l;r.push({date:t,isPrev:c,isCurrent:n===l,isNow:n===o&&s===i,isNext:!c&&n>l,quarter:s})}}return r}),$=(0,i.computed)(()=>{const e=j.value;return w().chunk(e,2)}),L=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,{monthSize:n}=s,r=[];if(e&&t){const o=t.getFullYear(),i=t.getMonth(),a=w().getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=w().getWhatYear(e,0,t),l=n.getFullYear(),s=n.getMonth(),c=l<a;r.push({date:n,isPrev:c,isCurrent:l===a,isNow:l===o&&s===i,isNext:!c&&l>a,month:s})}}return r}),z=(0,i.computed)(()=>{const e=L.value;return w().chunk(e,4)}),B=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,n=[];if(e&&t){const r=D.value,o=R.value,i=t.getFullYear(),a=t.getMonth(),l=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-o.indexOf(u),p=new Date(w().getWhatDay(e,d).getTime()+r);for(let t=0;t<42;t++){const r=w().getWhatDay(p,t),o=r.getFullYear(),u=r.getMonth(),d=r.getDate(),f=r<e;n.push({date:r,isPrev:f,isCurrent:o===s&&u===c,isNow:o===i&&u===a&&d===l,isNext:!f&&c!==u,label:d})}}return n}),H=(0,i.computed)(()=>{const e=B.value;return w().chunk(e,7)}),W=(0,i.computed)(()=>{const e=H.value,t=N.value;return e.map(e=>{const n=e[0],r={date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:w().getYearWeek(n.date,t)};return[r].concat(e)})}),q=(e,t)=>w().toStringDate(e,t),U=(t,r)=>{l.inputValue=t,n("update:modelValue",t),w().toValueString(e.modelValue)!==t&&De("change",{value:t},r)},G=t=>{const{type:n}=e,r=M.value,o=S.value,i=N.value;let a=null,s="";if(t&&(a=q(t,o)),w().isValidDate(a)){if(s=w().toDateString(a,r,{firstDay:i}),r&&"week"===n){const e=w().getWhatWeek(a,0,i,i);if(e.getFullYear()<a.getFullYear()){const e=r.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else a=null;l.datePanelValue=a,l.datePanelLabel=s},Y=()=>{const t=m.value,{inputValue:n}=l;t&&(G(n),l.inputValue=e.multiple?k.value:l.datePanelLabel)},K=()=>{const e=m.value;e&&Y()},X=e=>{const t=w().getWhatMonth(e,0,"first");w().isEqual(t,l.selectMonth)||(l.selectMonth=t)},Z=t=>{const{modelValue:n,multiple:r}=e,o=S.value,i=N.value;if("week"===e.type){const n=w().toNumber(e.selectDay);t=w().getWhatWeek(t,0,n,i)}const a=w().toDateString(t,o,{firstDay:i});if(X(t),l.selectValue=t,r){const e=C.value;e.some(e=>w().isEqual(e,a))?U(e.filter(e=>!w().isEqual(e,a)).join(","),{type:"update"}):U(e.concat([a]).join(","),{type:"update"})}else w().isEqual(n,a)||U(a,{type:"update"})},J=(e,t)=>{l.selectMonth=w().getWhatMonth(e,t,"first")},Q=()=>{const e=w().getWhatDay(Date.now(),0,"first");l.currentDate=e,J(e,0)},ee=()=>{l.datePanelType="year"},te=e=>{let{datePanelType:t}=l;t="month"===t||"quarter"===t?"year":"month",l.datePanelType=t,ae(e)},ne=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o}=l,{yearSize:i}=s,a=E.value;a||(l.selectMonth="year"===n?w().getWhatYear(o,-i,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,-i,"first"):w().getWhatYear(o,-1,"first"):"year"===r?w().getWhatYear(o,-i,"first"):"month"===r?w().getWhatYear(o,-1,"first"):w().getWhatMonth(o,-1,"first"),De("date-prev",{type:n},t),ae(t))},re=t=>{Q(),e.multiple||Z(l.currentDate),De("date-today",{type:e.type},t),ae(t)},oe=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o}=l,{yearSize:i}=s,a=O.value;a||(l.selectMonth="year"===n?w().getWhatYear(o,i,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,i,"first"):w().getWhatYear(o,1,"first"):"year"===r?w().getWhatYear(o,i,"first"):"month"===r?w().getWhatYear(o,1,"first"):w().getWhatMonth(o,1,"first"),De("date-next",{type:n},t),ae(t))},ie=t=>{const{disabledMethod:n}=e,{datePanelType:r}=l;return n&&n({type:r,viewType:r,date:t.date,$calendar:d})},ae=e=>{const{datePanelType:t}=l,n=P.value,r=$.value,o=z.value,i=W.value,a=H.value,s=[];let c=[];switch(t){case"year":c=n;break;case"quarter":c=r;break;case"month":c=o;break;case"week":c=i;break;case"day":c=a;break}c.forEach(e=>{e.forEach(e=>{s.push(e.date)})}),De("view-change",{viewType:t,viewDates:s},e)},le=t=>{const{type:n}=e,{datePanelType:r}=l;"month"===n?"year"===r?(l.datePanelType="month",X(t),ae(null)):Z(t):"year"===n?Z(t):"quarter"===n?"year"===r?(l.datePanelType="quarter",X(t),ae(null)):Z(t):"month"===r?(l.datePanelType="week"===n?n:"day",X(t),ae(null)):"year"===r?(l.datePanelType="month",X(t),ae(null)):Z(t)},se=(t,n)=>{const{type:r}=e,{datePanelType:o}=l,{date:i}=n;ie(n)||(le(i),De("cell-click",{date:i,type:r,viewType:o},t))},ce=(t,n)=>{const{type:r}=e,{datePanelType:i}=l,{menuConfig:a}=e,s=x.value;if(a?pe(s):s.enabled){const{options:e,visibleMethod:a}=s,{date:l}=n;a&&!a({$calendar:d,options:e,date:l,type:r,viewType:i})||o.OE.contextMenu&&o.OE.contextMenu.openByEvent(t,{options:e,events:{optionClick(e){const{option:n}=e,o=dt.get(n.code),a=o?o.calendarMenuMethod:null,s={menu:n,date:l,type:r,viewType:i,$event:t,$calendar:d};a&&a(s,t),De("menu-click",s,e.$event)}}})}De("cell-menu",{date:n.date,type:r,viewType:i},t)},ue=e=>{if(!ie({date:e})){const t=B.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMMdd"))||X(e),G(e)}},de=e=>{if(!ie({date:e})){const t=A.value;t.some(t=>w().isDateSame(t.date,e,"yyyy"))||X(e),G(e)}},fe=e=>{if(!ie({date:e})){const t=j.value;t.some(t=>w().isDateSame(t.date,e,"yyyyq"))||X(e),G(e)}},he=e=>{if(!ie({date:e})){const t=L.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMM"))||X(e),G(e)}},me=e=>{if(!ie(e)){const{datePanelType:t}=l;"month"===t?he(e.date):"quarter"===t?fe(e.date):"year"===t?de(e.date):ue(e.date)}},ge=()=>{l.datePanelValue=null},ve=()=>{},be=()=>{const{type:t}=e,n=T.value;["year","quarter","month","week"].indexOf(t)>-1?l.datePanelType=t:l.datePanelType="day",l.currentDate=w().getWhatDay(Date.now(),0,"first"),n?(J(n,0),G(n)):Q()},xe=(t,n)=>{const{festivalMethod:r}=e;if(r){const{datePanelType:e}=l,o=r({type:e,viewType:e,date:t.date,$calendar:d}),a=o?w().isString(o)?{label:o}:o:{},s=a.extra?w().isString(a.extra)?{label:a.extra}:a.extra:null,c=[(0,i.h)("span",{class:["vxe-calendar--label",{"is-notice":a.notice}]},s&&s.label?[(0,i.h)("span",{class:"vxe-calendar--label--number"},`${n||""}`),(0,i.h)("span",{class:["vxe-calendar--label--extra",s.important?"is-important":"",s.className],style:s.style},w().toValueString(s.label))]:[`${n||""}`])],u=a.label;if(u){const e=w().toValueString(u).split(",");c.push((0,i.h)("span",{class:["vxe-calendar--festival",a.important?"is-important":"",a.className],style:a.style},[e.length>1?(0,i.h)("span",{class:["vxe-calendar--festival--overlap",`overlap--${e.length}`]},e.map(e=>(0,i.h)("span",e.substring(0,3)))):(0,i.h)("span",{class:"vxe-calendar--festival--label"},e[0].substring(0,3))]))}return c}return`${n||""}`},ye=()=>{const{multiple:t,cellStyle:n}=e,{datePanelType:r,datePanelValue:o}=l,a=T.value,s=F.value,c=H.value,u=y.value,p="yyyyMMdd";return[(0,i.h)("div",{class:["vxe-calendar--view-wrapper",`type--${r}`]},[(0,i.h)("div",{class:"vxe-calendar--view-header",style:{height:100/(c.length+1)+"%"}},[(0,i.h)("div",{class:"vxe-calendar--view-row"},s.map(e=>(0,i.h)("div",{class:"vxe-calendar--view-item",style:{width:100/s.length+"%"}},[(0,i.h)("div",{class:"vxe-calendar--view-item-inner"},[(0,i.h)("div",{class:"vxe-calendar--view-item-label"},e.label)])])))]),(0,i.h)("div",{class:"vxe-calendar--view-body"},c.map(e=>(0,i.h)("div",{class:"vxe-calendar--view-row",style:{height:100/c.length+"%"}},e.map(l=>{const s=t?u.some(e=>w().isDateSame(e,l.date,p)):w().isDateSame(a,l.date,p);return(0,i.h)("div",{class:["vxe-calendar--view-item",{"is--prev":l.isPrev,"is--current":l.isCurrent,"is--now":l.isNow,"is--next":l.isNext,"is--disabled":ie(l),"is--selected":s,"is--hover":w().isDateSame(o,l.date,p)}],style:Object.assign({},w().isFunction(n)?n({type:r,viewType:r,date:l.date,$calendar:d}):n,{width:100/e.length+"%"}),onClick:e=>se(e,l),onContextmenu:e=>ce(e,l),onMouseenter:()=>me(l),onMouseleave:ge},[(0,i.h)("div",{class:"vxe-calendar--view-item-inner"},xe(l,l.label))])}))))])]},we=()=>{const{multiple:t,cellStyle:n}=e,{datePanelType:r,datePanelValue:o}=l,a=T.value,s=_.value,c=W.value,u=y.value,p="yyyyMMdd";return[(0,i.h)("div",{class:["vxe-calendar--view-wrapper",`type--${r}`]},[(0,i.h)("div",{class:"vxe-calendar--view-header",style:{height:100/(c.length+1)+"%"}},[(0,i.h)("div",{class:"vxe-calendar--view-row"},s.map((e,t)=>(0,i.h)("div",{class:"vxe-calendar--view-item",style:{width:(t?13:9)+"%"}},[(0,i.h)("div",{class:"vxe-calendar--view-item-inner"},[(0,i.h)("div",{class:"vxe-calendar--view-item-label"},e.label)])])))]),(0,i.h)("div",{class:"vxe-calendar--view-body"},c.map(e=>{const l=t?e.some(e=>u.some(t=>w().isDateSame(t,e.date,p))):e.some(e=>w().isDateSame(a,e.date,p)),s=e.some(e=>w().isDateSame(o,e.date,p)),f=e.some(e=>e.isNow);return(0,i.h)("div",{class:"vxe-calendar--view-row",style:{height:100/c.length+"%"}},e.map((e,t)=>(0,i.h)("div",{class:["vxe-calendar--view-item",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":t?e.isNow:f,"is--next":e.isNext,"is--disabled":ie(e),"is--selected":l,"is--hover":s}],style:Object.assign({},w().isFunction(n)?n({type:r,viewType:r,date:e.date,$calendar:d}):n,{width:(t?13:9)+"%"}),onClick:t=>se(t,e),onContextmenu:t=>ce(t,e),onMouseenter:()=>me(e),onMouseleave:ge},[(0,i.h)("div",{class:"vxe-calendar--view-item-inner"},xe(e,e.label))])))}))])]},Ce=()=>{const{multiple:t,cellStyle:n}=e,{datePanelType:r,datePanelValue:o}=l,a=T.value,s=z.value,c=y.value,u="yyyyMM";return[(0,i.h)("div",{class:["vxe-calendar--view-wrapper",`type--${r}`]},[(0,i.h)("div",{class:"vxe-calendar--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-calendar--view-row",style:{height:100/s.length+"%"}},e.map(l=>{const s=t?c.some(e=>w().isDateSame(e,l.date,u)):w().isDateSame(a,l.date,u);return(0,i.h)("div",{class:["vxe-calendar--view-item",{"is--prev":l.isPrev,"is--current":l.isCurrent,"is--now":l.isNow,"is--next":l.isNext,"is--disabled":ie(l),"is--selected":s,"is--hover":w().isDateSame(o,l.date,u)}],style:Object.assign({},w().isFunction(n)?n({type:r,viewType:r,date:l.date,$calendar:d}):n,{width:100/e.length+"%"}),onClick:e=>se(e,l),onContextmenu:e=>ce(e,l),onMouseenter:()=>me(l),onMouseleave:ge},[(0,i.h)("div",{class:"vxe-calendar--view-item-inner"},xe(l,ft(`vxe.input.date.months.m${l.month}`)))])}))))])]},ke=()=>{const{multiple:t,cellStyle:n}=e,{datePanelType:r,datePanelValue:o}=l,a=T.value,s=$.value,c=y.value,u="yyyyq";return[(0,i.h)("div",{class:["vxe-calendar--view-wrapper",`type--${r}`]},[(0,i.h)("div",{class:"vxe-calendar--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-calendar--view-row",style:{height:100/s.length+"%"}},e.map(l=>{const s=t?c.some(e=>w().isDateSame(e,l.date,u)):w().isDateSame(a,l.date,u);return(0,i.h)("div",{class:["vxe-calendar--view-item",{"is--prev":l.isPrev,"is--current":l.isCurrent,"is--now":l.isNow,"is--next":l.isNext,"is--disabled":ie(l),"is--selected":s,"is--hover":w().isDateSame(o,l.date,u)}],style:Object.assign({},w().isFunction(n)?n({type:r,viewType:r,date:l.date,$calendar:d}):n,{width:100/e.length+"%"}),onClick:e=>se(e,l),onContextmenu:e=>ce(e,l),onMouseenter:()=>me(l),onMouseleave:ge},[(0,i.h)("div",{class:"vxe-calendar--view-item-inner"},xe(l,ft(`vxe.input.date.quarters.q${l.quarter}`)))])}))))])]},Se=()=>{const{multiple:t,cellStyle:n}=e,{datePanelType:r,datePanelValue:o}=l,a=T.value,s=P.value,c=y.value,u="yyyy";return[(0,i.h)("div",{class:["vxe-calendar--view-wrapper",`type--${r}`]},[(0,i.h)("div",{class:"vxe-calendar--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-calendar--view-row",style:{height:100/s.length+"%"}},e.map(l=>{const s=t?c.some(e=>w().isDateSame(e,l.date,u)):w().isDateSame(a,l.date,u);return(0,i.h)("div",{class:["vxe-calendar--view-item",{"is--prev":l.isPrev,"is--current":l.isCurrent,"is--now":l.isNow,"is--next":l.isNext,"is--disabled":ie(l),"is--selected":s,"is--hover":w().isDateSame(o,l.date,u)}],style:Object.assign({},w().isFunction(n)?n({type:r,viewType:r,date:l.date,$calendar:d}):n,{width:100/e.length+"%"}),onClick:e=>se(e,l),onContextmenu:e=>ce(e,l),onMouseenter:()=>me(l),onMouseleave:ge},[(0,i.h)("div",{class:"vxe-calendar--view-item-inner"},xe(l,l.year))])}))))])]},Te=()=>{const{datePanelType:e}=l;switch(e){case"week":return we();case"month":return Ce();case"quarter":return ke();case"year":return Se()}return ye()},Oe=()=>{const{multiple:t}=e,{datePanelType:n}=l,r=E.value,a=O.value,s=I.value;return[(0,i.h)("div",{class:"vxe-calendar--header"},[(0,i.h)("div",{class:"vxe-calendar--type-wrapper"},["year"===n?(0,i.h)(Ee,{class:"vxe-calendar--date-picker-label",disabled:"year"===n,content:s.y}):(0,i.h)("span",{class:"vxe-calendar--date-picker-btns"},[(0,i.h)(Ee,{class:"vxe-calendar--date-picker-btn",content:s.y,onClick:ee}),s.m?(0,i.h)(Ee,{class:"vxe-calendar--date-picker-btn",content:s.m,onClick:te}):(0,o.C1)(d)])]),(0,i.h)("div",{class:"vxe-calendar--btn-wrapper"},[(0,i.h)(Ee,{disabled:r,icon:"vxe-icon-caret-left",onClick:ne}),(0,i.h)(Ee,{icon:"vxe-icon-dot",onClick:re}),(0,i.h)(Ee,{disabled:a,icon:"vxe-icon-caret-right",onClick:oe}),t&&b.value?(0,i.h)("span",{class:"vxe-calendar--btn vxe-calendar--confirm-btn"},[(0,i.h)("button",{class:"vxe-calendar--confirm",type:"button",onClick:ve},ft("vxe.button.confirm"))]):null])]),(0,i.h)("div",{class:"vxe-calendar--body"},Te())]},De=(e,t,r)=>{n(e,(0,o.lh)(r,{$input:d},t))},Me={dispatchEvent:De};Object.assign(d,Me);const Ae=()=>{const{className:t,type:n}=e,r=a.value,o=f.value,l=p.value;return(0,i.h)("div",{ref:c,class:["vxe-calendar",`type--${n}`,t,{[`size--${r}`]:r,"is--disabled":o}],style:l},[Oe()])};return d.renderVN=Ae,(0,i.watch)(()=>e.modelValue,e=>{l.inputValue=e,Y()}),(0,i.watch)(()=>e.type,()=>{Object.assign(l,{selectValue:null,inputValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),K(),be()}),(0,i.watch)(M,()=>{const t=m.value;t&&(G(l.datePanelValue),l.inputValue=e.multiple?k.value:l.datePanelLabel)}),(0,i.onMounted)(()=>{const{menuConfig:t}=e,n=o.OE.getComponent("VxeContextMenu");t&&!n&&h("vxe.error.reqComp",["vxe-context-menu"]),be()}),K(),d},render(){return this.renderVN()}});const mt=Object.assign({},ht,{install(e){e.component(ht.name,ht)}});u.use(mt),o.OE.component(ht);const gt=mt;var vt=mt,bt=a({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>(0,o.zj)().loading.icon},showIcon:{type:Boolean,default:()=>(0,o.zj)().loading.showIcon},text:{type:String,default:()=>(0,o.zj)().loading.text},showText:{type:Boolean,default:()=>(0,o.zj)().loading.showText},status:String,size:{type:String,default:()=>(0,o.zj)().loading.size||(0,o.zj)().size}},setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.reactive)({initialized:!1}),c={computeSize:l},u={xID:a,props:e,context:t,reactData:s,getComputeMaps:()=>c},d=(0,i.computed)(()=>e.icon||(0,o.sW)().LOADING),p=(0,i.computed)(()=>{const{text:t}=e;return w().isString(t)?t:(0,o.TO)("vxe.loading.text")}),f=()=>{s.initialized||(s.initialized=!!s.initialized)},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$loading:u},t))},m={dispatchEvent:h},g={};Object.assign(u,m,g);const v=()=>{const{modelValue:t,showIcon:r,status:a}=e,{initialized:c}=s,f=l.value,h=n.default,m=n.text,g=n.icon,v=d.value,b=p.value;return c||t?(0,i.h)("div",{class:["vxe-loading",{[`size--${f}`]:f,[`theme--${a}`]:a,"is--visible":t}]},h?[(0,i.h)("div",{class:"vxe-loading--wrapper"},T(h({})))]:[(0,i.h)("div",{class:"vxe-loading--chunk"},[r&&(g||v)?(0,i.h)("div",{class:"vxe-loading--icon"},g?T(g({})):[(0,i.h)("i",{class:v})]):(0,i.h)("div",{class:"vxe-loading--spinner"}),m||b?(0,i.h)("div",{class:"vxe-loading--text"},m?T(m({})):`${b}`):null])]):(0,o.C1)(u)};return(0,i.watch)(()=>e.modelValue,()=>{f()}),f(),u.renderVN=v,u},render(){return this.renderVN()}}),xt=a({name:"VxeCard",props:{title:String,showTitleOverflow:{type:Boolean,default:()=>(0,o.zj)().card.showTitleOverflow},width:[String,Number],height:[String,Number],border:{type:Boolean,default:()=>(0,o.zj)().card.border},loading:Boolean,shadow:{type:Boolean,default:()=>(0,o.zj)().card.shadow},padding:{type:Boolean,default:()=>(0,o.zj)().card.padding},size:{type:String,default:()=>(0,o.zj)().card.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d=(0,i.computed)(()=>{const{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t)),r}),p={computeSize:s},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$card:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{title:t,border:r,shadow:a,padding:c,loading:u,showTitleOverflow:p}=e,h=n.default,m=n.header,g=n.title,v=n.extra,b=n.footer,x=n.left,y=n.right,w=s.value,C=d.value;return(0,i.h)("div",{ref:l,class:["vxe-card",{[`size--${w}`]:w,"is--border":r,"is--shadow":a,"is--padding":c}],style:C},[t||g||m?(0,i.h)("div",{class:"vxe-card--header"},m?T(m({})):[(0,i.h)("div",{class:["vxe-card--header-title",{"is--ellipsis":p}]},g?T(g({})):`${t||""}`),v?(0,i.h)("div",{class:"vxe-card--header-extra"},T(v({}))):(0,o.C1)(f)]):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-card--body"},[x?(0,i.h)("div",{class:"vxe-card--body-left"},T(x({}))):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-card--body-content"},h?T(h({})):[]),y?(0,i.h)("div",{class:"vxe-card--body-right"},T(y({}))):(0,o.C1)(f)]),b?(0,i.h)("div",{class:"vxe-card--footer"},T(b({}))):(0,o.C1)(f),(0,i.h)(bt,{class:"vxe-card--loading",modelValue:u})])};return f.renderVN=v,f},render(){return this.renderVN()}});const yt=Object.assign({},xt,{install(e){e.component(xt.name,xt)}});u.use(yt),o.OE.component(xt);const wt=yt;var Ct=yt,kt=a({name:"VxeCarousel",props:{modelValue:[String,Number],options:Array,loading:Boolean,height:{type:[Number,String],default:()=>(0,o.zj)().carousel.height},width:{type:[Number,String],default:()=>(0,o.zj)().carousel.width},autoPlay:{type:Boolean,default:()=>(0,o.zj)().carousel.autoPlay},interval:{type:[Number,String],default:()=>(0,o.zj)().carousel.interval},loop:{type:Boolean,default:()=>(0,o.zj)().carousel.loop},vertical:{type:Boolean,default:()=>(0,o.zj)().carousel.vertical},showIndicators:{type:Boolean,default:()=>(0,o.zj)().carousel.showIndicators}},emits:["update:modelValue","change"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.ref)(),c=(0,i.reactive)({activeName:"",staticItems:[],itemWidth:0,itemHeight:0}),u={apTimeout:void 0,stopFlag:!1},d={refElem:l},p=(0,i.computed)(()=>{const{vertical:t,options:n}=e,{activeName:r,itemWidth:o,itemHeight:i,staticItems:a}=c,l=(a&&a.length?a:n)||[],s=Math.max(0,w().findIndexOf(l,e=>e.name===r)),u={};return t?u.transform=`translateY(-${s*i}px)`:(u.width=o*l.length+"px",u.transform=`translateX(-${s*o}px)`),u}),f={},h={xID:a,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>d,getComputeMaps:()=>f},m=()=>{(0,i.nextTick)(()=>{const e=s.value;e&&(c.itemWidth=e.clientWidth,c.itemHeight=e.clientHeight)})},g=(e,t)=>{const r=t.name;c.activeName=t.name,n("update:modelValue",r),n("change",{value:r},e),m()},v=t=>{let r=null;if(t&&t.length){let o=!1;r=e.modelValue,t.forEach(e=>{r===e.name&&(o=!0)}),o||(r=t[0].name,n("update:modelValue",r))}c.activeName=r},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$carousel:h},t))},x=t=>{const{options:r,loop:o}=e,{activeName:i,staticItems:a}=c,l=(a&&a.length?a:r)||[],s=Math.max(0,w().findIndexOf(l,e=>e.name===i));if(s>-1){let e=null;if(t?s<l.length-1?e=l[s+1]:o&&(e=l[0]):s>0?e=l[s-1]:o&&(e=l[l.length-1]),e){const t=e.name,r=t;return c.activeName=t,n("update:modelValue",r),!0}}return!1},y={dispatchEvent:b,prev(){return x(!1)&&E(),(0,i.nextTick)()},next(){return x(!0)&&E(),(0,i.nextTick)()}},C=e=>{if(x(!1)){const t=c.activeName;n("change",{value:t},e)}},k=e=>{if(x(!0)){const t=c.activeName;n("change",{value:t},e)}},S=()=>{const{apTimeout:e}=u;u.stopFlag=!0,e&&(clearTimeout(e),u.apTimeout=void 0)},E=()=>{const{autoPlay:t,interval:n}=e,{stopFlag:r}=u;S(),t&&(u.stopFlag=!1,u.apTimeout=setTimeout(()=>{r||x(!0)},w().toNumber(n)||300))},O=()=>{S()},D=()=>{E()},M={},A=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[];Object.assign(h,y,M);const I=t=>{const{height:n}=e,{activeName:r}=c,o=p.value;return(0,i.h)("div",{class:"vxe-carousel--list",style:o},t.map(e=>{const{name:t,url:o,slots:a}=e,l=a?a.default:null;return(0,i.h)("div",{key:`${t}`,class:["vxe-carousel--item-inner",{"is--active":r===t}],style:n?{height:V(n)}:null},l?A(l,{}):[(0,i.h)("img",{class:"vxe-carousel--item-img",src:o})])}))},N=e=>{const{activeName:t}=c;return(0,i.h)("div",{class:"vxe-carousel--indicators"},e.map(e=>{const{name:n}=e;return(0,i.h)("div",{key:`${n}`,class:["vxe-carousel--indicators-item",{"is--active":t===n}],onClick(t){g(t,e)}})}))},R=()=>{const{loading:t,height:n,width:a,showIndicators:u,vertical:d,options:p}=e,{staticItems:f}=c,m=r.default,g=(f&&f.length?f:p)||[];return(0,i.h)("div",{ref:l,class:["vxe-carousel","is--"+(d?"vertical":"horizontal")],style:a?{width:V(a)}:null,onMouseenter:O,onMouseleave:D},[(0,i.h)("div",{class:"vxe-carousel--slots"},m?m({}):[]),(0,i.h)("div",{ref:s,class:"vxe-carousel--item-wrapper",style:n?{height:V(n)}:null},[I(g)]),u?N(g):(0,o.C1)(h),(0,i.h)("div",{class:"vxe-carousel--btn-wrapper"},[(0,i.h)("div",{class:"vxe-carousel--previous-btn",onClick:C},[(0,i.h)("i",{class:d?(0,o.sW)().CAROUSEL_VERTICAL_PREVIOUS:(0,o.sW)().CAROUSEL_HORIZONTAL_PREVIOUS})]),(0,i.h)("div",{class:"vxe-carousel--next-btn",onClick:k},[(0,i.h)("i",{class:d?(0,o.sW)().CAROUSEL_VERTICAL_NEXT:(0,o.sW)().CAROUSEL_HORIZONTAL_NEXT})])]),(0,i.h)(bt,{class:"vxe-carousel--loading",modelValue:t})])},F=(0,i.ref)(0);(0,i.watch)(()=>e.options?e.options.length:-1,()=>{F.value++}),(0,i.watch)(()=>e.options,()=>{F.value++}),(0,i.watch)(F,()=>{v(e.options)});const _=(0,i.ref)(0);return(0,i.watch)(()=>c.staticItems?c.staticItems.length:-1,()=>{_.value++}),(0,i.watch)(()=>c.staticItems,()=>{_.value++}),(0,i.watch)(_,()=>{v(c.staticItems)}),(0,i.watch)(()=>e.autoPlay,()=>{E()}),v(c.staticItems.length?c.staticItems:e.options),(0,i.onMounted)(()=>{E(),m()}),(0,i.onUnmounted)(()=>{S()}),(0,i.provide)("$xeCarousel",h),h.renderVN=R,h},render(){return this.renderVN()}});const St=Object.assign({},kt,{install(e){e.component(kt.name,kt)}});u.use(St),o.OE.component(kt);const Tt=St;var Et=St;function Ot(e,t,n){const r=e.reactData.staticItems,o=t.parentNode;o&&r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticItems=r.slice(0)}function Dt(e,t){const n=e.reactData.staticItems,r=w().findIndexOf(n,e=>e.id===t.id);r>-1&&n.splice(r,1),e.reactData.staticItems=n.slice(0)}var Mt=a({name:"VxeCarouselItem",props:{name:[String,Number],className:String,url:String},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeCarousel",null),l=w().uniqueId(),s=(0,i.ref)(),c=(0,i.reactive)({}),u=(0,i.reactive)({id:l,name:e.name,url:e.url,className:e.className,slots:n}),d={refElem:s},p={},f={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$carouselItem:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>(0,i.h)("div",{ref:s});return(0,i.watch)(()=>e.name,e=>{u.name=e}),(0,i.watch)(()=>e.url,e=>{u.url=e}),(0,i.onMounted)(()=>{const e=s.value;a&&e&&Ot(a,e,u)}),(0,i.onUnmounted)(()=>{a&&Dt(a,u)}),f.renderVN=v,f},render(){return this.renderVN()}});const At=Object.assign({},Mt,{install(e){e.component(Mt.name,Mt)}});u.use(At),o.OE.component(Mt);const It=At;var Nt=At;function Rt(e){return w().eqNull(e)?"":encodeURIComponent(`${e}`)}function Ft(e){return e?decodeURIComponent(`${e}`):e}function _t(e,t){let n=1;if(!t)return n;const r=e.props,{transform:o}=r,i=e.reactData,{updateExpandedFlag:a}=i,l=e.internalData,{treeExpandedMaps:s}=l,{computeChildrenField:c,computeMapChildrenField:u}=e.getComputeMaps(),d=c.value,p=u.value,f=t[o?p:d];if(f&&a&&s[e.getNodeId(t)])for(let h=0;h<f.length;h++)n+=_t(e,f[h]);return n}function Pt(e,t,n){const r=e.internalData,{scrollYStore:o}=r,{rowHeight:i}=o;let a=1;return n&&(a=_t(e,n)),(i||28)*a-(n?1:12)}function jt(e){return w().isString(e)?e.replace(/[^0-9e.-]/g,""):e}function $t(e,t){return/^-/.test(""+e)?w().toFixed(w().ceil(e,t),t):w().toFixed(w().floor(e,t),t)}var Lt=a({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,title:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>(0,o.zj)().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>(0,o.zj)().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>(0,o.zj)().input.size||(0,o.zj)().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>(0,o.zj)().input.trim},exponential:{type:Boolean,default:()=>(0,o.zj)().input.exponential},controls:{type:Boolean,default:()=>(0,o.zj)().input.controls},digits:{type:[String,Number],default:()=>(0,o.zj)().input.digits},startDate:{type:[String,Number,Date],default:()=>(0,o.zj)().input.startDate},endDate:{type:[String,Number,Date],default:()=>(0,o.zj)().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>(0,o.zj)().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>(0,o.zj)().input.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().input.disabledMethod},selectDay:{type:[String,Number],default:()=>(0,o.zj)().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeSelect",null),l=(0,i.inject)("$xeTreeSelect",null),s=(0,i.inject)("$xeModal",null),c=(0,i.inject)("$xeDrawer",null),u=(0,i.inject)("$xeTable",null),d=(0,i.inject)("$xeForm",null),p=(0,i.inject)("xeFormItemInfo",null),h=w().uniqueId(),{computeSize:m}=(0,o.XX)(e),g=(0,i.reactive)({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),v={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C=(0,i.ref)(),k=(0,i.ref)(),S={refElem:b,refInput:x},E={xID:h,props:e,context:t,reactData:g,internalData:v,getRefMaps:()=>S};let O={};const D=(t,n)=>{const{type:r}=e;return"time"===r?tt(t):w().toStringDate(t,n)},M=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().input.transfer;if(w().isBoolean(e))return e;if(u||s||c||d)return!0}return t}),A=(0,i.computed)(()=>{if("obsolete"===(0,o.zj)().inputReadonly)return!!d&&d.props.readonly;const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t}),I=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t}),N=(0,i.computed)(()=>{const{maxLength:t,maxlength:n}=e,r=t||n,o=F.value;return o&&!w().toNumber(r)?16:r}),R=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),F=(0,i.computed)(()=>["number","integer","float"].indexOf(e.type)>-1),_=(0,i.computed)(()=>w().getSize(g.inputValue)),P=(0,i.computed)(()=>{const e=_.value,t=N.value;return t&&e>w().toNumber(t)}),$=(0,i.computed)(()=>{const t=R.value;return t||["date","week","month","quarter","year"].indexOf(e.type)>-1}),L=(0,i.computed)(()=>"password"===e.type),V=(0,i.computed)(()=>"search"===e.type),B=(0,i.computed)(()=>w().toInteger(e.digits)||1),W=(0,i.computed)(()=>{const{type:t}=e,n=B.value,r=e.step;return"integer"===t?w().toInteger(r)||1:"float"===t?w().toNumber(r)||1/Math.pow(10,n):w().toNumber(r)||1}),U=(0,i.computed)(()=>{const{type:t}=e,n=F.value,r=$.value,o=L.value;return e.clearable&&(o||n||r||"text"===t||"search"===t)}),G=(0,i.computed)(()=>e.startDate?w().toStringDate(e.startDate):null),Y=(0,i.computed)(()=>e.endDate?w().toStringDate(e.endDate):null),K=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),X=(0,i.computed)(()=>{const{modelValue:t,multiple:n}=e,r=$.value,o=Q.value;return n&&t&&r?w().toValueString(t).split(",").map(e=>{const t=D(e,o);return w().isValidDate(t)?t:null}):[]}),Z=(0,i.computed)(()=>{const e=X.value,t=Q.value;return e.map(e=>w().toDateString(e,t))}),J=(0,i.computed)(()=>{const e=X.value,t=ie.value;return e.map(e=>w().toDateString(e,t)).join(", ")}),Q=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),ee=(0,i.computed)(()=>{const{modelValue:t}=e,n=$.value,r=Q.value;let o=null;if(t&&n){const e=D(t,r);w().isValidDate(e)&&(o=e)}return o}),te=(0,i.computed)(()=>{const e=G.value,{selectMonth:t}=g;return!(!t||!e)&&t<=e}),ne=(0,i.computed)(()=>{const e=Y.value,{selectMonth:t}=g;return!(!t||!e)&&t>=e}),re=(0,i.computed)(()=>{const{datetimePanelValue:e}=g,t=Oe.value;return e?w().toDateString(e,t?"HH:mm:ss":"HH:mm"):""}),oe=(0,i.computed)(()=>{const e=ee.value,t=R.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),ie=(0,i.computed)(()=>{const{labelFormat:t}=e,n=$.value;return n?t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`):""}),ae=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,{yearSize:n}=v,r=[];if(e&&t){const o=t.getFullYear(),i=e.getFullYear(),a=new Date(i-i%n,0,1);for(let e=-4;e<n+4;e++){const t=w().getWhatYear(a,e,"first"),i=t.getFullYear();r.push({date:t,isCurrent:!0,isPrev:e<0,isNow:o===i,isNext:e>=n,year:i})}}return r}),le=(0,i.computed)(()=>{const e=$.value;let t="",n="";if(e){const{datePanelType:e,selectMonth:r}=g,i=ae.value;let a,l="";r&&(l=r.getFullYear(),a=r.getMonth()+1),"quarter"===e||"month"===e?t=(0,o.TO)("vxe.datePicker.yearTitle",[l]):"year"===e?t=i.length?`${i[0].year} - ${i[i.length-1].year}`:"":(t=(0,o.TO)("vxe.datePicker.yearTitle",[l]),n=a?(0,o.TO)(`vxe.input.date.m${a}`):"-")}return{y:t,m:n}}),se=(0,i.computed)(()=>{const{startDay:t,startWeek:n}=e;return w().toNumber(w().isNumber(t)||w().isString(t)?t:n)}),ce=(0,i.computed)(()=>{const e=[],t=$.value;if(t){let t=se.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),ue=(0,i.computed)(()=>{const e=$.value;if(e){const e=ce.value;return e.map(e=>({value:e,label:(0,o.TO)(`vxe.input.date.weeks.w${e}`)}))}return[]}),de=(0,i.computed)(()=>{const e=$.value;if(e){const e=ue.value;return[{label:(0,o.TO)("vxe.input.date.weeks.w")}].concat(e)}return[]}),pe=(0,i.computed)(()=>{const e=ae.value;return w().chunk(e,4)}),me=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,{quarterSize:n}=v,r=[];if(e&&t){const o=t.getFullYear(),i=nt(t),a=w().getWhatYear(e,0,"first"),l=a.getFullYear();for(let e=-2;e<n-2;e++){const t=w().getWhatQuarter(a,e),n=t.getFullYear(),s=nt(t),c=n<l;r.push({date:t,isPrev:c,isCurrent:n===l,isNow:n===o&&s===i,isNext:!c&&n>l,quarter:s})}}return r}),ge=(0,i.computed)(()=>{const e=me.value;return w().chunk(e,2)}),ve=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,{monthSize:n}=v,r=[];if(e&&t){const o=t.getFullYear(),i=t.getMonth(),a=w().getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=w().getWhatYear(e,0,t),l=n.getFullYear(),s=n.getMonth(),c=l<a;r.push({date:n,isPrev:c,isCurrent:l===a,isNow:l===o&&s===i,isNext:!c&&l>a,month:s})}}return r}),ye=(0,i.computed)(()=>{const e=ve.value;return w().chunk(e,4)}),we=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=g,n=[];if(e&&t){const r=oe.value,o=ce.value,i=t.getFullYear(),a=t.getMonth(),l=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-o.indexOf(u),p=new Date(w().getWhatDay(e,d).getTime()+r);for(let t=0;t<42;t++){const r=w().getWhatDay(p,t),o=r.getFullYear(),u=r.getMonth(),d=r.getDate(),f=r<e;n.push({date:r,isPrev:f,isCurrent:o===s&&u===c,isNow:o===i&&u===a&&d===l,isNext:!f&&c!==u,label:d})}}return n}),Ce=(0,i.computed)(()=>{const e=we.value;return w().chunk(e,7)}),ke=(0,i.computed)(()=>{const e=Ce.value,t=se.value;return e.map(e=>{const n=e[0],r={date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:w().getYearWeek(n.date,t)};return[r].concat(e)})}),Se=(0,i.computed)(()=>{const e=[],t=R.value;if(t)for(let n=0;n<24;n++)e.push({value:n,label:(""+n).padStart(2,"0"),disabled:!1});return e}),Te=(0,i.computed)(()=>{const e=[],t=R.value;if(t)for(let n=0;n<60;n++)e.push({value:n,label:(""+n).padStart(2,"0"),disabled:!1});return e}),Ee=(0,i.computed)(()=>{const e=Q.value;return!/HH/.test(e)||/mm/.test(e)}),Oe=(0,i.computed)(()=>{const e=Q.value;return!/HH/.test(e)||/ss/.test(e)}),De=(0,i.computed)(()=>{const e=Te.value;return e}),Me=(0,i.computed)(()=>{const{type:t,editable:n,multiple:r,readonly:o}=e;return o||r||!n||"week"===t||"quarter"===t}),Ae=(0,i.computed)(()=>{const{type:t}=e,{showPwd:n}=g,r=F.value,o=$.value,i=L.value;return o||r||i&&n||"number"===t?"text":t}),Ie=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);if(w().eqNull(t)){const e=(0,o.zj)().input.placeholder;return e?be(e):(0,o.TO)("vxe.base.pleaseInput")}return t}),Ne=(0,i.computed)(()=>{const{type:t,immediate:n}=e;return n||!("text"===t||"number"===t||"integer"===t||"float"===t)}),Re=(0,i.computed)(()=>{const{type:t}=e,{inputValue:n}=g,r=F.value;return r?"integer"===t?w().toInteger(jt(n)):w().toNumber(jt(n)):0}),Fe=(0,i.computed)(()=>{const{min:t}=e,{inputValue:n}=g,r=F.value,o=Re.value;return!(!n&&0!==n||!r||null===t)&&o<=w().toNumber(t)}),_e=(0,i.computed)(()=>{const{max:t}=e,{inputValue:n}=g,r=F.value,o=Re.value;return!(!n&&0!==n||!r||null===t)&&o>=w().toNumber(t)}),Pe=t=>{const{type:n,exponential:r}=e,o=N.value,i=B.value,a="float"===n?$t(t,i):w().toValueString(t);return!r||t!==a&&w().toValueString(t).toLowerCase()!==w().toNumber(a).toExponential()?a.slice(0,o):t},je=e=>{r("update:modelValue",e)},$e=e=>{const{inputValue:t}=g;O.dispatchEvent(e.type,{value:t},e)},Le=(t,n)=>{e.trim&&(t=`${t||""}`.trim()),g.inputValue=t,je(t),O.dispatchEvent("input",{value:t},n),w().toValueString(e.modelValue)!==t&&(O.dispatchEvent("change",{value:t},n),a||l||d&&p&&d.triggerItemEvent(n,p.itemConfig.field,t))},ze=(e,t)=>{const n=$.value,r=Ne.value;g.inputValue=e,n||(r?Le(e,t):O.dispatchEvent("input",{value:e},t))},Ve=e=>{const t=e.target,n=t.value;ze(n,e)},Be=e=>{const t=Ne.value;t||$e(e),E.dispatchEvent("lazy-change",{value:g.inputValue},e)},He=e=>{const{inputValue:t}=g,n=Ne.value,r=t;n||Le(r,e),it(),g.visiblePanel||(g.isActivated=!1),O.dispatchEvent("blur",{value:r},e),a||l||d&&p&&d.triggerItemEvent(e,p.itemConfig.field,r)},We=e=>{const{inputValue:t}=g,n=F.value,r=$.value;g.isActivated=!0,n?g.inputValue=xe(t)?"":`${w().toNumber(t)}`:r&&Yt(e),$e(e)},qe=e=>{const t=I.value;if(!t){const{inputValue:t}=g;E.dispatchEvent("prefix-click",{value:t},e)}},Ue=()=>new Promise(e=>{g.visiblePanel=!1,v.hpTimeout=setTimeout(()=>{g.isAniVisible=!1,e()},350)}),Ge=(t,n)=>{const{type:r,autoFocus:o}=e,i=F.value,a=$.value;a&&Ue(),(o||null===o)&&(i||["text","search","password"].indexOf(r)>-1)&&focus(),Le("",t),E.dispatchEvent("clear",{value:n},t),E.dispatchEvent("lazy-change",{value:n},t)},Ye=e=>{const t=I.value;if(!t){const{inputValue:t}=g;E.dispatchEvent("suffix-click",{value:t},e)}},Ke=t=>{const{type:n}=e,r=ie.value,o=Q.value,i=se.value;let a=null,l="";if(t&&(a=D(t,o)),w().isValidDate(a)){if(l=w().toDateString(a,r,{firstDay:i}),r&&"week"===n){const e=w().getYearWeek(a,i),t=w().getWhatWeek(a,0,1===e?(6+i)%7:i,i),n=t.getFullYear();if(n!==a.getFullYear()){const e=r.indexOf("yyyy");if(e>-1){const t=Number(l.substring(e,e+4));t&&!isNaN(t)&&(l=l.replace(`${t}`,`${n}`))}}}}else a=null;g.datePanelValue=a,g.datePanelLabel=l},Xe=()=>{const t=$.value,{inputValue:n}=g;t&&(Ke(n),g.inputValue=e.multiple?J.value:g.datePanelLabel)},Ze=()=>{const{type:t}=e,{inputValue:n}=g,r=$.value,o=B.value;if(r)Xe();else if("float"===t&&n){const e=$t(n,o);n!==e&&Le(e,{type:"init"})}},Je=t=>null===e.max||""===e.max||w().toNumber(t)<=w().toNumber(e.max),Qe=t=>null===e.min||""===e.min||w().toNumber(t)>=w().toNumber(e.min),et=()=>{g.inputValue=e.multiple?J.value:g.datePanelLabel},rt=e=>{const t=se.value,n=w().getYearWeek(e,t),r=w().getWhatWeek(e,0,t,t),o=w().getWhatMonth(1===n?w().getWhatDay(r,6):e,0,"first");w().isEqual(o,g.selectMonth)||(g.selectMonth=o)},ot=t=>{const{modelValue:n,multiple:r}=e,{datetimePanelValue:o}=g,i=R.value,a=Q.value,l=se.value;if("week"===e.type){const n=w().toNumber(e.selectDay);t=w().getWhatWeek(t,0,n,l)}else i&&(t.setHours(o.getHours()),t.setMinutes(o.getMinutes()),t.setSeconds(o.getSeconds()));const s=w().toDateString(t,a,{firstDay:l});if(rt(t),r){const e=Z.value;if(i){const e=[...X.value],n=[],r=w().findIndexOf(e,e=>w().isDateSame(t,e,"yyyyMMdd"));-1===r?e.push(t):e.splice(r,1),e.forEach(e=>{e&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds()),n.push(e))}),Le(n.map(e=>w().toDateString(e,a)).join(","),{type:"update"})}else e.some(e=>w().isEqual(e,s))?Le(e.filter(e=>!w().isEqual(e,s)).join(","),{type:"update"}):Le(e.concat([s]).join(","),{type:"update"})}else w().isEqual(n,s)||Le(s,{type:"update"})},it=()=>{const{type:t,min:n,max:r,exponential:o}=e,{inputValue:i,datetimePanelValue:a}=g,l=F.value,s=$.value,c=ie.value,u=Me.value;if(!u)if(l){if(i){const e=`${jt(i)}`;if(e){let a="integer"===t?w().toInteger(e):w().toNumber(e);if(Qe(a)?Je(a)||(a=r):a=n,o){const e=w().toValueString(i).toLowerCase();e===w().toNumber(a).toExponential()&&(a=e)}Le(Pe(a),{type:"check"})}else{let e="";(n||0===n)&&(e=`${n}`),Le(e,{type:"check"})}}}else if(s)if(i){let e=D(i,c);if(w().isValidDate(e))if("time"===t)e=w().toDateString(e,c),i!==e&&Le(e,{type:"check"}),g.inputValue=e;else{let n=!1;const r=se.value;if("datetime"===t){const t=ee.value;i===w().toDateString(t,c)&&i===w().toDateString(e,c)||(n=!0,a.setHours(e.getHours()),a.setMinutes(e.getMinutes()),a.setSeconds(e.getSeconds()))}else n=!0;g.inputValue=w().toDateString(e,c,{firstDay:r}),n&&ot(e)}else et()}else Le("",{type:"check"})},at=e=>{const{showPwd:t}=g,n=I.value,r=Me.value;n||r||(g.showPwd=!t),O.dispatchEvent("toggle-visible",{visible:g.showPwd},e)},lt=e=>{O.dispatchEvent("search-click",{},e)},st=(t,n)=>{const{min:r,max:o,type:i}=e,{inputValue:a}=g,l=W.value,s="integer"===i?w().toInteger(jt(a)):w().toNumber(jt(a)),c=t?w().add(s,l):w().subtract(s,l);let u;u=Qe(c)?Je(c)?c:o:r,ze(Pe(u),n)},ct=e=>{const t=I.value,n=Me.value,r=Fe.value;mt(),t||n||r||st(!1,e),O.dispatchEvent("next-number",{value:g.inputValue},e)},ut=e=>{v.dnTimeout=setTimeout(()=>{ct(e),ut(e)},60)},dt=e=>{const t=I.value,n=Me.value,r=_e.value;mt(),t||n||r||st(!0,e),O.dispatchEvent("prev-number",{value:g.inputValue},e)},pt=e=>{const t=o.Nh.hasKey(e,o.un.ARROW_UP),n=o.Nh.hasKey(e,o.un.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?dt(e):ct(e))},ft=t=>{const{type:n,exponential:r,controls:i}=e,a=F.value;if(a){const e=z(t),a=t.shiftKey,l=t.altKey,s=t.keyCode,c=o.Nh.hasKey(t,o.un.ESCAPE),u=o.Nh.hasKey(t,o.un.ARROW_UP),d=o.Nh.hasKey(t,o.un.ARROW_DOWN);e||a||l||(o.Nh.hasKey(t,o.un.SPACEBAR)||"integer"===n&&110===s||(!r||69!==s)&&s>=65&&s<=90||s>=186&&s<=188||s>=191)&&t.preventDefault(),c?it():(u||d)&&i&&pt(t)}$e(t)},ht=e=>{$e(e)},mt=()=>{const{dnTimeout:e}=v;e&&(clearTimeout(e),v.dnTimeout=void 0)},gt=e=>{v.dnTimeout=setTimeout(()=>{dt(e),gt(e)},60)},vt=e=>{if(mt(),0===e.button){const t=j(e.currentTarget,"is--prev");t?dt(e):ct(e),v.dnTimeout=setTimeout(()=>{t?gt(e):ut(e)},500)}},bt=t=>{const n=F.value;if(n&&e.controls&&g.isActivated){const e=t.deltaY;e>0?ct(t):e<0&&dt(t),t.preventDefault()}$e(t)},xt=(e,t)=>{const n=se.value,r=w().getYearWeek(e,n),o=w().getWhatWeek(e,0,n,n),i=w().getWhatMonth(1===r?w().getWhatDay(o,6):e,t,"first");g.selectMonth=i},yt=()=>{const e=w().getWhatDay(Date.now(),0,"first");g.currentDate=e,xt(e,0)},wt=()=>{g.datePanelType="year"},Ct=()=>{let{datePanelType:e}=g;e="month"===e||"quarter"===e?"year":"month",g.datePanelType=e},kt=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputValue:i}=g,{yearSize:a}=v,l=i,s=te.value;if(!s){let e;e="year"===n?w().getWhatYear(o,-a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,-a,"first"):w().getWhatYear(o,-1,"first"):"year"===r?w().getWhatYear(o,-a,"first"):"month"===r?w().getWhatYear(o,-1,"first"):w().getWhatMonth(o,-1,"first"),g.selectMonth=e,O.dispatchEvent("date-prev",{viewType:r,viewDate:e,value:l,type:n},t)}},St=t=>{yt(),e.multiple||(ot(g.currentDate),Ue()),O.dispatchEvent("date-today",{type:e.type},t)},Tt=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputValue:i}=g,{yearSize:a}=v,l=i,s=ne.value;if(!s){let e;e="year"===n?w().getWhatYear(o,a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,a,"first"):w().getWhatYear(o,1,"first"):"year"===r?w().getWhatYear(o,a,"first"):"month"===r?w().getWhatYear(o,1,"first"):w().getWhatMonth(o,1,"first"),g.selectMonth=e,O.dispatchEvent("date-next",{viewType:r,viewDate:e,value:l,type:n},t)}},Et=t=>{const{disabledMethod:n}=e,{datePanelType:r}=g,o=G.value,i=Y.value,{date:a}=t;return!!(o&&o.getTime()>a.getTime())||(!!(i&&i.getTime()<a.getTime())||!!n&&n({type:r,viewType:r,date:a,$input:E}))},Ot=t=>{const{type:n,multiple:r}=e,{datePanelType:o}=g;"month"===n?"year"===o?(g.datePanelType="month",rt(t)):(ot(t),r||Ue()):"year"===n?(ot(t),r||Ue()):"quarter"===n?"year"===o?(g.datePanelType="quarter",rt(t)):(ot(t),r||Ue()):"month"===o?(g.datePanelType="week"===n?n:"day",rt(t)):"year"===o?(g.datePanelType="month",rt(t)):(ot(t),"datetime"===n||r||Ue())},Dt=e=>{Et(e)||Ot(e.date)},Mt=e=>{if(!Et({date:e})){const t=we.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMMdd"))||rt(e),Ke(e)}},At=e=>{if(!Et({date:e})){const t=ae.value;t.some(t=>w().isDateSame(t.date,e,"yyyy"))||rt(e),Ke(e)}},It=e=>{if(!Et({date:e})){const t=me.value;t.some(t=>w().isDateSame(t.date,e,"yyyyq"))||rt(e),Ke(e)}},Nt=e=>{if(!Et({date:e})){const t=ve.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMM"))||rt(e),Ke(e)}},Rt=e=>{if(!Et(e)){const{datePanelType:t}=g;"month"===t?Nt(e.date):"quarter"===t?It(e.date):"year"===t?At(e.date):Mt(e.date)}},Ft=e=>{if(e){const t=e.offsetHeight,n=e.parentNode;n.scrollTop=e.offsetTop-4*t}},_t=e=>{g.datetimePanelValue=new Date(g.datetimePanelValue.getTime()),Ft(e.currentTarget)},Pt=(e,t)=>{g.datetimePanelValue.setHours(t.value),_t(e)},Lt=()=>{const{multiple:t}=e,{datetimePanelValue:n}=g,r=ee.value,o=R.value;if(o){const e=Q.value;if(t){const t=Z.value;if(o){const t=[...X.value],r=[];t.forEach(e=>{e&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),r.push(e))}),Le(r.map(t=>w().toDateString(t,e)).join(","),{type:"update"})}else Le(t.join(","),{type:"update"})}else ot(r||g.currentDate)}Ue()},zt=(e,t)=>{g.datetimePanelValue.setMinutes(t.value),_t(e)},Vt=(e,t)=>{g.datetimePanelValue.setSeconds(t.value),_t(e)},Bt=e=>{const{isActivated:t,datePanelValue:n,datePanelType:r}=g;if(t){e.preventDefault();const t=o.Nh.hasKey(e,o.un.ARROW_LEFT),i=o.Nh.hasKey(e,o.un.ARROW_UP),a=o.Nh.hasKey(e,o.un.ARROW_RIGHT),l=o.Nh.hasKey(e,o.un.ARROW_DOWN);if("year"===r){let e=w().getWhatYear(n||Date.now(),0,"first");t?e=w().getWhatYear(e,-1):i?e=w().getWhatYear(e,-4):a?e=w().getWhatYear(e,1):l&&(e=w().getWhatYear(e,4)),At(e)}else if("quarter"===r){let e=w().getWhatQuarter(n||Date.now(),0,"first");t?e=w().getWhatQuarter(e,-1):i?e=w().getWhatQuarter(e,-2):a?e=w().getWhatQuarter(e,1):l&&(e=w().getWhatQuarter(e,2)),It(e)}else if("month"===r){let e=w().getWhatMonth(n||Date.now(),0,"first");t?e=w().getWhatMonth(e,-1):i?e=w().getWhatMonth(e,-4):a?e=w().getWhatMonth(e,1):l&&(e=w().getWhatMonth(e,4)),Nt(e)}else{let e=n||w().getWhatDay(Date.now(),0,"first");const r=se.value;t?e=w().getWhatDay(e,-1):i?e=w().getWhatWeek(e,-1,r):a?e=w().getWhatDay(e,1):l&&(e=w().getWhatWeek(e,1,r)),Mt(e)}}},Ht=e=>{const{isActivated:t}=g;if(t){const t=o.Nh.hasKey(e,o.un.PAGE_UP);e.preventDefault(),t?kt(e):Tt(e)}},Wt=()=>{const{type:t}=e,n=R.value,r=ee.value;["year","quarter","month","week"].indexOf(t)>-1?g.datePanelType=t:g.datePanelType="day",g.currentDate=w().getWhatDay(Date.now(),0,"first"),r?(xt(r,0),Ke(r)):yt(),n&&(g.datetimePanelValue=g.datePanelValue||w().getWhatDay(Date.now(),0,"first"),(0,i.nextTick)(()=>{const e=k.value;w().arrayEach(e.querySelectorAll("li.is--selected"),e=>{Ft(e)})}))},qt=()=>{g.panelIndex<he()&&(g.panelIndex=fe())},Ut=()=>(0,i.nextTick)().then(()=>{const{placement:t}=e,{panelIndex:n}=g,r=x.value,o=y.value,a=M.value;if(r&&o){const e=r.offsetHeight,l=r.offsetWidth,s=o.offsetHeight,c=o.offsetWidth,u=5,d={zIndex:n},{boundingTop:p,boundingLeft:f,visibleHeight:h,visibleWidth:m}=q(r);let v="bottom";if(a){let n=f,r=p+e;"top"===t?(v="top",r=p-s):t||(r+s+u>h&&(v="top",r=p-s),r<u&&(v="bottom",r=p+e)),n+c+u>m&&(n-=n+c+u-m),n<u&&(n=u),Object.assign(d,{left:`${n}px`,top:`${r}px`,minWidth:`${l}px`})}else"top"===t?(v="top",d.bottom=`${e}px`):t||(d.top=`${e}px`,p+e+s>h&&p-e-s>u&&(v="top",d.top="",d.bottom=`${e}px`));return g.panelStyle=d,g.panelPlacement=v,(0,i.nextTick)()}}),Gt=()=>{const{visiblePanel:e}=g,{hpTimeout:t}=v,n=I.value,r=$.value;return n||e?(0,i.nextTick)():(g.initialized||(g.initialized=!0),t&&(clearTimeout(t),v.hpTimeout=void 0),g.isActivated=!0,g.isAniVisible=!0,r&&Wt(),setTimeout(()=>{g.visiblePanel=!0},10),qt(),Ut())},Yt=e=>{const t=Me.value;t||(e.preventDefault(),Gt())},Kt=e=>{$e(e)},Xt=e=>{const{visiblePanel:t,isActivated:n}=g,r=$.value,o=b.value,i=C.value,a=I.value;!a&&n&&(g.isActivated=H(e,o).flag||H(e,i).flag,g.isActivated||(r?t&&(Ue(),it()):it()))},Zt=t=>{const{clearable:n}=e,{visiblePanel:r}=g,i=I.value,a=$.value;if(!i){const e=o.Nh.hasKey(t,o.un.TAB),i=o.Nh.hasKey(t,o.un.DELETE),l=o.Nh.hasKey(t,o.un.ESCAPE),s=o.Nh.hasKey(t,o.un.ENTER),c=o.Nh.hasKey(t,o.un.ARROW_LEFT),u=o.Nh.hasKey(t,o.un.ARROW_UP),d=o.Nh.hasKey(t,o.un.ARROW_RIGHT),p=o.Nh.hasKey(t,o.un.ARROW_DOWN),f=o.Nh.hasKey(t,o.un.PAGE_UP),h=o.Nh.hasKey(t,o.un.PAGE_DOWN),m=c||u||d||p;let v=g.isActivated;e?(v&&it(),v=!1,g.isActivated=v):m?a&&v&&(r?Bt(t):(u||p)&&Yt(t)):s?a&&(r?g.datePanelValue?Ot(g.datePanelValue):Ue():v&&Yt(t)):(f||h)&&a&&v&&Ht(t),e||l?r&&Ue():i&&n&&v&&Ge(t,null)}},Jt=e=>{const{visiblePanel:t}=g,n=I.value;if(!n&&t){const t=C.value;H(e,t).flag?Ut():(Ue(),it())}},Qt=()=>{const{isActivated:e,visiblePanel:t}=g;if(t&&Ue(),e&&(g.isActivated=!1),t||e){const e=x.value;it(),e&&e.blur()}},en=(t,n)=>{const{festivalMethod:r}=e;if(r){const{datePanelType:e}=g,o=r({type:e,viewType:e,date:t.date,$input:E}),a=o?w().isString(o)?{label:o}:o:{},l=a.extra?w().isString(a.extra)?{label:a.extra}:a.extra:null,s=[(0,i.h)("span",{class:["vxe-input--date-label",{"is-notice":a.notice}]},l&&l.label?[(0,i.h)("span",`${n||""}`),(0,i.h)("span",{class:["vxe-input--date-label--extra",l.important?"is-important":"",l.className],style:l.style},w().toValueString(l.label))]:[`${n||""}`])],c=a.label;if(c){const e=w().toValueString(c).split(",");s.push((0,i.h)("span",{class:["vxe-input--date-festival",a.important?"is-important":"",a.className],style:a.style},[e.length>1?(0,i.h)("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map(e=>(0,i.h)("span",e.substring(0,3)))):(0,i.h)("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return s}return[`${n||""}`]},tn=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,o=ee.value,a=ue.value,l=Ce.value,s=X.value,c="yyyyMMdd";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("thead",[(0,i.h)("tr",a.map(e=>(0,i.h)("th",e.label)))]),(0,i.h)("tbody",l.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Et(e),"is--selected":t?s.some(t=>w().isDateSame(t,e.date,c)):w().isDateSame(o,e.date,c),"is--hover":w().isDateSame(r,e.date,c)},onClick:()=>Dt(e),onMouseenter:()=>Rt(e)},en(e,e.label))))))])]},nn=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,o=ee.value,a=de.value,l=ke.value,s=X.value,c="yyyyMMdd";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("thead",[(0,i.h)("tr",a.map(e=>(0,i.h)("th",e.label)))]),(0,i.h)("tbody",l.map(e=>{const n=t?e.some(e=>s.some(t=>w().isDateSame(t,e.date,c))):e.some(e=>w().isDateSame(o,e.date,c)),a=e.some(e=>w().isDateSame(r,e.date,c));return(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Et(e),"is--selected":n,"is--hover":a},onClick:()=>Dt(e),onMouseenter:()=>Rt(e)},en(e,e.label))))}))])]},rn=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,a=ee.value,l=ye.value,s=X.value,c="yyyyMM";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",l.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Et(e),"is--selected":t?s.some(t=>w().isDateSame(t,e.date,c)):w().isDateSame(a,e.date,c),"is--hover":w().isDateSame(r,e.date,c)},onClick:()=>Dt(e),onMouseenter:()=>Rt(e)},en(e,(0,o.TO)(`vxe.input.date.months.m${e.month}`)))))))])]},on=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,a=ee.value,l=ge.value,s=X.value,c="yyyyq";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",l.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Et(e),"is--selected":t?s.some(t=>w().isDateSame(t,e.date,c)):w().isDateSame(a,e.date,c),"is--hover":w().isDateSame(r,e.date,c)},onClick:()=>Dt(e),onMouseenter:()=>Rt(e)},en(e,(0,o.TO)(`vxe.input.date.quarters.q${e.quarter}`)))))))])]},an=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=g,o=ee.value,a=pe.value,l=X.value,s="yyyy";return[(0,i.h)("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[(0,i.h)("tbody",a.map(e=>(0,i.h)("tr",e.map(e=>(0,i.h)("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Et(e),"is--selected":t?l.some(t=>w().isDateSame(t,e.date,s)):w().isDateSame(o,e.date,s),"is--hover":w().isDateSame(r,e.date,s)},onClick:()=>Dt(e),onMouseenter:()=>Rt(e)},en(e,e.year))))))])]},ln=()=>{const{datePanelType:e}=g;switch(e){case"week":return nn();case"month":return rn();case"quarter":return on();case"year":return an()}return tn()},sn=()=>{const{multiple:t}=e,{datePanelType:n}=g,r=te.value,a=ne.value,l=le.value;return[(0,i.h)("div",{class:"vxe-input--date-picker-header"},[(0,i.h)("div",{class:"vxe-input--date-picker-type-wrapper"},["year"===n?(0,i.h)("span",{class:"vxe-input--date-picker-label"},l.y):(0,i.h)("span",{class:"vxe-input--date-picker-btns"},[(0,i.h)("span",{class:"vxe-input--date-picker-btn",onClick:wt},l.y),l.m?(0,i.h)("span",{class:"vxe-input--date-picker-btn",onClick:Ct},l.m):(0,o.C1)(E)])]),(0,i.h)("div",{class:"vxe-input--date-picker-btn-wrapper"},[(0,i.h)("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":r}],onClick:kt},[(0,i.h)("i",{class:"vxe-icon-caret-left"})]),(0,i.h)("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:St},[(0,i.h)("i",{class:"vxe-icon-dot"})]),(0,i.h)("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":a}],onClick:Tt},[(0,i.h)("i",{class:"vxe-icon-caret-right"})]),t&&K.value?(0,i.h)("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[(0,i.h)("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:Lt},(0,o.TO)("vxe.button.confirm"))]):null])]),(0,i.h)("div",{class:"vxe-input--date-picker-body"},ln())]},cn=()=>{const{datetimePanelValue:e}=g,t=re.value,n=Se.value,r=Ee.value,a=Te.value,l=Oe.value,s=De.value;return[(0,i.h)("div",{class:"vxe-input--time-picker-header"},[r?(0,i.h)("span",{class:"vxe-input--time-picker-title"},t):(0,i.createCommentVNode)(),(0,i.h)("div",{class:"vxe-input--time-picker-btn"},[(0,i.h)("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:Lt},(0,o.TO)("vxe.button.confirm"))])]),(0,i.h)("div",{ref:k,class:"vxe-input--time-picker-body"},[(0,i.h)("ul",{class:"vxe-input--time-picker-hour-list"},n.map((t,n)=>(0,i.h)("li",{key:n,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>Pt(e,t)},t.label))),r?(0,i.h)("ul",{class:"vxe-input--time-picker-minute-list"},a.map((t,n)=>(0,i.h)("li",{key:n,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>zt(e,t)},t.label))):(0,i.createCommentVNode)(),r&&l?(0,i.h)("ul",{class:"vxe-input--time-picker-second-list"},s.map((t,n)=>(0,i.h)("li",{key:n,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>Vt(e,t)},t.label))):(0,i.createCommentVNode)()])]},un=()=>{const{type:t}=e,{initialized:n,isAniVisible:r,visiblePanel:o,panelPlacement:a,panelStyle:l}=g,s=m.value,c=M.value,u=$.value,d=[];return u?("datetime"===t?d.push((0,i.h)("div",{key:t,ref:C,class:"vxe-input--panel-layout-wrapper"},[(0,i.h)("div",{class:"vxe-input--panel-left-wrapper"},sn()),(0,i.h)("div",{class:"vxe-input--panel-right-wrapper"},cn())])):"time"===t?d.push((0,i.h)("div",{key:t,ref:C,class:"vxe-input--panel-wrapper"},cn())):d.push((0,i.h)("div",{key:t||"default",ref:C,class:"vxe-input--panel-wrapper"},sn())),(0,i.h)(i.Teleport,{to:"body",disabled:!c||!n},[(0,i.h)("div",{ref:y,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${s}`]:s,"is--transfer":c,"ani--leave":r,"ani--enter":o}],placement:a,style:l},o||r?d:[])])):(0,i.createCommentVNode)()},dn=()=>{const e=_e.value,t=Fe.value;return(0,i.h)("div",{class:"vxe-input--control-icon"},[(0,i.h)("div",{class:"vxe-input--number-icon"},[(0,i.h)("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":e}],onMousedown:vt,onMouseup:mt,onMouseleave:mt},[(0,i.h)("i",{class:(0,o.sW)().INPUT_PLUS_NUM})]),(0,i.h)("div",{class:["vxe-input--number-btn is--next",{"is--disabled":t}],onMousedown:vt,onMouseup:mt,onMouseleave:mt},[(0,i.h)("i",{class:(0,o.sW)().INPUT_MINUS_NUM})])])])},pn=()=>(0,i.h)("div",{class:"vxe-input--control-icon",onClick:Yt},[(0,i.h)("i",{class:["vxe-input--date-picker-icon",(0,o.sW)().DATE_PICKER_DATE]})]),fn=()=>(0,i.h)("div",{class:"vxe-input--control-icon",onClick:lt},[(0,i.h)("i",{class:["vxe-input--search-icon",(0,o.sW)().INPUT_SEARCH]})]),hn=()=>{const{showPwd:e}=g;return(0,i.h)("div",{class:"vxe-input--control-icon",onClick:at},[(0,i.h)("i",{class:["vxe-input--password-icon",e?(0,o.sW)().PASSWORD_INPUT_SHOW_PWD:(0,o.sW)().PASSWORD_INPUT_HIDE_PWD]})])},mn=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-input--prefix",onClick:qe},[(0,i.h)("div",{class:"vxe-input--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):null},gn=()=>{const{suffixIcon:t}=e,{inputValue:r}=g,a=n.suffix,l=I.value,s=F.value,c=$.value,u=L.value,d=V.value,p=U.value,f=u||s||c||d;return p||a||t||f?(0,i.h)("div",{class:["vxe-input--suffix",{"is--clear":p&&!l&&!(""===r||w().eqNull(r))}]},[p?(0,i.h)("div",{class:"vxe-input--clear-icon",onClick:Ge},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,i.createCommentVNode)(),f?vn():(0,i.createCommentVNode)(),a||t?(0,i.h)("div",{class:"vxe-input--suffix-icon",onClick:Ye},a?T(a({})):[(0,i.h)("i",{class:t})]):(0,i.createCommentVNode)()]):null},vn=()=>{const{controls:t}=e,n=F.value,r=$.value,o=L.value,a=V.value;return o?hn():n&&t?dn():r?pn():a?fn():(0,i.createCommentVNode)()},bn=(e,t,n)=>{r(e,(0,o.lh)(n,{$input:E},t))};O={dispatchEvent:bn,focus(){const e=x.value;return g.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=x.value;return e.blur(),g.isActivated=!1,(0,i.nextTick)()},select(){const e=x.value;return e.select(),g.isActivated=!1,(0,i.nextTick)()},showPanel:Gt,hidePanel:Ue,updatePlacement:Ut},Object.assign(E,O);const xn=()=>{const{className:t,controls:n,type:r,title:o,align:a,showWordCount:l,countMethod:s,name:c,autoComplete:u,autocomplete:d}=e,{inputValue:p,visiblePanel:f,isActivated:h}=g,v=m.value,y=I.value,C=A.value;if(C)return(0,i.h)("div",{ref:b,class:["vxe-input--readonly",`type--${r}`,t]},p);const k=P.value,S=_.value,T=Me.value,E=N.value,O=Ae.value,D=Ie.value,M=U.value,R=l&&["text","search"].includes(r),F=mn(),j=gn();return(0,i.h)("div",{ref:b,class:["vxe-input",`type--${r}`,t,{[`size--${v}`]:v,[`is--${a}`]:a,"is--controls":n,"is--prefix":!!F,"is--suffix":!!j,"is--visible":f,"is--count":R,"is--disabled":y,"is--active":h,"show--clear":M&&!y&&!(""===p||w().eqNull(p))}],spellcheck:!1},[F||(0,i.createCommentVNode)(),(0,i.h)("div",{class:"vxe-input--wrapper",title:o||null},[(0,i.h)("input",{ref:x,class:"vxe-input--inner",value:p,name:c,type:O,placeholder:D,maxlength:E,readonly:T,disabled:y,autocomplete:u||d,onKeydown:ft,onKeyup:ht,onClick:Kt,onInput:Ve,onChange:Be,onFocus:We,onBlur:He})]),j||(0,i.createCommentVNode)(),un(),R?(0,i.h)("span",{class:["vxe-input--count",{"is--error":k}]},s?`${s({value:p})}`:`${S}${E?`/${E}`:""}`):(0,i.createCommentVNode)()])};return(0,i.watch)(()=>e.modelValue,e=>{g.inputValue=e,Xe()}),(0,i.watch)(()=>e.type,()=>{Object.assign(g,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ze()}),(0,i.watch)(ie,()=>{const t=$.value;t&&(Ke(g.datePanelValue),g.inputValue=e.multiple?J.value:g.datePanelLabel)}),(0,i.onMounted)(()=>{const{type:t}=e;["date","time","datetime","week","month","quarter","year"].includes(t)?f("vxe.error.useNew",[`<vxe-input type="${t}" ... />`,`<vxe-date-picker type="${t}" ... />`]):["number","integer","float"].includes(t)?f("vxe.error.useNew",[`<vxe-input type="${t}" ... />`,`<vxe-number-input type="${t}" ... />`]):["password"].includes(t)&&f("vxe.error.useNew",[`<vxe-input type="${t}" ... />`,"<vxe-password-input ... />"]);const n=x.value;n&&n.addEventListener("wheel",bt,{passive:!1}),o.Nh.on(E,"mousewheel",Jt),o.Nh.on(E,"mousedown",Xt),o.Nh.on(E,"keydown",Zt),o.Nh.on(E,"blur",Qt)}),(0,i.onBeforeUnmount)(()=>{mt(),it();const e=x.value;e&&e.removeEventListener("wheel",bt),o.Nh.off(E,"mousewheel"),o.Nh.off(E,"mousedown"),o.Nh.off(E,"keydown"),o.Nh.off(E,"blur")}),Ze(),E.renderVN=xn,E},render(){return this.renderVN()}});function zt(){return w().uniqueId("node_")}function Vt(){return{fullOptionList:[],fullNodeMaps:{}}}var Bt=a({name:"VxeCascader",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>w().eqNull((0,o.zj)().cascader.placeholder)?(0,o.TO)("vxe.base.pleaseSelect"):(0,o.zj)().cascader.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},filterable:Boolean,filterConfig:Object,multiple:Boolean,className:[String,Function],prefixIcon:String,placement:String,transform:Boolean,lazyOptions:Array,options:Array,optionProps:Object,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().cascader.size||(0,o.zj)().size},remote:Boolean,remoteConfig:Function,popupConfig:Object,autoClose:{type:Boolean,default:()=>(0,o.zj)().cascader.autoClose},showTotalButoon:{type:Boolean,default:()=>(0,o.zj)().cascader.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>(0,o.zj)().cascader.showCheckedButoon},showClearButton:{type:Boolean,default:()=>(0,o.zj)().cascader.showClearButton},transfer:{type:Boolean,default:null},remoteMethod:Function},emits:["update:modelValue","change","all-change","clear","blur","focus","click","node-click"],setup(e,t){const{emit:n,slots:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.reactive)({initialized:!1,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),C=Vt(),k={refElem:f},S=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),T=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),E=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().select.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),O=(0,i.computed)(()=>Object.assign({},(0,o.zj)().cascader.popupConfig,e.popupConfig)),D=(0,i.computed)(()=>e.optionProps||{}),M=(0,i.computed)(()=>{const e=I.value;return e}),A=(0,i.computed)(()=>{const e=D.value;return e.label||"label"}),I=(0,i.computed)(()=>{const e=D.value;return e.value||"value"}),N=(0,i.computed)(()=>{const e=D.value;return e.children||"children"}),R=(0,i.computed)(()=>Object.assign({},(0,o.zj)().cascader.remoteConfig,e.remoteConfig)),F=(0,i.computed)(()=>{const{modelValue:t,lazyOptions:n}=e,{fullNodeMaps:r}=C,o=I.value,i=A.value,a=w().eqNull(t)?[]:w().isArray(t)?t:[t];return a.map(e=>{const t=r[e];if(t)return t.item[i];if(n){const t=n.find(t=>t[o]===e);if(t)return t[i]}return e}).join(", ")}),_=(0,i.computed)(()=>{const e=O.value,{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t),r.maxHeight=V(t)),r}),P={},j={xID:d,props:e,context:t,reactData:y,internalData:C,getRefMaps:()=>k,getComputeMaps:()=>P},$=(e,t,r)=>{n(e,(0,o.lh)(r,{$cascader:j},t))},L=e=>{n("update:modelValue",e)},z={dispatchEvent:$},B=e=>{const t=M.value,n=e[t];return n?encodeURIComponent(n):""},W=()=>{const{transform:t,options:n}=e,r=M.value,o=N.value,i=I.value,a={},l={},s=(e,t,n,o,s,c)=>{let u=B(e);u||(u=zt()),l[u]&&h("vxe.error.repeatKey",[`[tree-select] ${r}`,u]),l[u]=!0;const d=e[i];a[d]&&h("vxe.error.repeatKey",[`[tree-select] ${i}`,d]),a[d]={item:e,index:t,items:n,parent:s,nodes:c}};n&&(t?n.forEach((e,t,n)=>{s(e,t,n,[],null,[])}):w().eachTree(n,s,{children:o})),C.fullOptionList=n||[],C.fullNodeMaps=a},q=()=>{const{zIndex:t}=e;t?y.panelIndex=t:y.panelIndex<he()&&(y.panelIndex=fe())},U=()=>{const{placement:t}=e,{panelIndex:n}=y,r=f.value,o=b.value,a=E.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});y.panelStyle=i,y.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},G=()=>{const{loading:t,remote:n,filterable:r}=e,{fullOptionList:o}=C,i=T.value,a=R.value;t||i||(clearTimeout(C.hpTimeout),y.initialized||(y.initialized=!0),y.isActivated=!0,y.isAniVisible=!0,r&&n&&a.enabled&&a.autoLoad&&!o.length&&ue(),setTimeout(()=>{y.visiblePanel=!0,ie()},10),q(),U())},Y=()=>{y.visiblePanel=!1,C.hpTimeout=setTimeout(()=>{y.isAniVisible=!1},350)},K=(t,n,r)=>{const o=w().isArray(n)?n.map(Ft):Ft(n);L(o),o!==e.modelValue&&($("change",{value:o,node:r,option:r},t),c&&u&&c.triggerItemEvent(t,u.itemConfig.field,o))},Z=(e,t)=>{K(e,t,null),$("clear",{value:t},e)},J=(e,t)=>{Z(t,null),Y()},Q=t=>{const{$event:n}=t,{multiple:r,autoClose:o}=e,i=x.value;r&&i&&i.setAllCheckboxNode(!0).then(({checkNodeKeys:e,checkNodes:t})=>{K(n,e,t[0]),$("all-change",{value:e},n),o&&Y()})},ee=t=>{const{$event:n}=t,{multiple:r,autoClose:o}=e,i=x.value;if(i){const e=r?[]:null;i.clearCheckboxNode().then(()=>{o&&Y()}),K(n,e,null),$("clear",{value:e},n)}},te=e=>{const{visiblePanel:t}=y,n=T.value;if(!n&&t){const t=b.value;H(e,t).flag?U():Y()}},ne=e=>{const{visiblePanel:t}=y,n=T.value;if(!n){const n=f.value,r=b.value;y.isActivated=H(e,n).flag||H(e,r).flag,t&&!y.isActivated&&Y()}},re=()=>{const{visiblePanel:e,isActivated:t}=y;if(e&&Y(),t&&(y.isActivated=!1),e||t){const e=m.value;e&&e.blur()}},oe=()=>{const{visiblePanel:e}=y;e&&U()},ie=()=>{e.filterable&&(0,i.nextTick)(()=>{const e=g.value;e&&e.focus()})},ae=e=>{const t=T.value;t||y.visiblePanel||(y.triggerFocusPanel=!0,G(),setTimeout(()=>{y.triggerFocusPanel=!1},150)),$("focus",{},e)},le=e=>{de(e),$("click",{},e)},se=e=>{y.isActivated=!1,$("blur",{},e)},ce=e=>{y.searchValue=e},ue=()=>{const{modelValue:t,remote:n,remoteMethod:r}=e,{searchValue:o}=y,a=R.value,l=a.queryMethod||r;n&&l&&a.enabled&&(y.searchLoading=!0,Promise.resolve(l({$cascader:j,searchValue:o,value:t})).then(()=>(0,i.nextTick)()).catch(()=>(0,i.nextTick)()).finally(()=>{y.searchLoading=!1}))},de=e=>{const{$event:t}=e;t.preventDefault(),y.triggerFocusPanel?y.triggerFocusPanel=!1:y.visiblePanel?Y():G()},pe={};Object.assign(j,z,pe);const me=()=>{const{className:t,modelValue:n,multiple:a,loading:l,filterable:s,showTotalButoon:c,showCheckedButoon:u,showClearButton:d}=e,{initialized:h,isActivated:x,isAniVisible:C,visiblePanel:k,searchValue:D}=y,M=p.value,A=T.value,I=F.value,N=E.value,R=S.value,P=_.value,$=r.header,L=r.footer,z=r.prefix,V=O.value,B=V.className;if(R)return(0,i.h)("div",{ref:f,class:["vxe-cascader--readonly",t]},[(0,i.h)("span",{class:"vxe-cascader-label"},I)]);const H=w().eqNull(n)?[]:w().isArray(n)?n:[n];return(0,i.h)("div",{ref:f,class:["vxe-cascader",t?w().isFunction(t)?t({$cascader:j}):t:"",{[`size--${M}`]:M,"is--filterable":s,"is--visible":k,"is--disabled":A,"is--loading":l,"is--active":x}]},[(0,i.h)(Lt,{ref:m,clearable:e.clearable,placeholder:l?(0,o.TO)("vxe.select.loadingText"):e.placeholder,editable:!1,disabled:A,type:"text",prefixIcon:e.prefixIcon,suffixIcon:l?(0,o.sW)().TREE_SELECT_LOADED:k?(0,o.sW)().TREE_SELECT_OPEN:(0,o.sW)().TREE_SELECT_CLOSE,modelValue:l?"":I,title:I,onClear:J,onClick:le,onFocus:ae,onBlur:se,onSuffixClick:de},z?{prefix:()=>z({})}:{}),(0,i.h)(i.Teleport,{to:"body",disabled:!N||!h},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-cascader--panel",B?w().isFunction(B)?B({$cascader:j}):B:"",{[`size--${M}`]:M,"is--transfer":N,"ani--leave":!l&&C,"ani--enter":!l&&k}],placement:y.panelPlacement,style:y.panelStyle},h?[(0,i.h)("div",{class:"vxe-cascader--panel-wrapper"},[s?(0,i.h)("div",{class:"vxe-cascader--panel-search"},[(0,i.h)(Lt,{ref:g,class:"vxe-cascader-search--input",modelValue:D,clearable:!0,disabled:!1,readonly:!1,placeholder:(0,o.TO)("vxe.cascader.search"),prefixIcon:(0,o.sW)().INPUT_SEARCH,"onUpdate:modelValue":ce})]):(0,o.C1)(j),c||u&&a||d||$?(0,i.h)("div",{class:"vxe-cascader--panel-header"},$?$({}):[(0,i.h)("div",{class:"vxe-cascader--header-button"},[c?(0,i.h)("div",{class:"vxe-cascader--header-total"},(0,o.TO)("vxe.cascader.total",[H.length])):(0,o.C1)(j),(0,i.h)("div",{class:"vxe-cascader--header-btns"},[u&&a?(0,i.h)(Ee,{content:(0,o.TO)("vxe.cascader.allChecked"),mode:"text",onClick:Q}):(0,o.C1)(j),d?(0,i.h)(Ee,{content:(0,o.TO)("vxe.cascader.clearChecked"),mode:"text",onClick:ee}):(0,o.C1)(j)])])]):(0,o.C1)(j),(0,i.h)("div",{class:"vxe-cascader--panel-body"},[(0,i.h)("div",{ref:v,class:"vxe-cascader-tree--wrapper",style:P},[])]),L?(0,i.h)("div",{class:"vxe-cascader--panel-footer"},L({})):(0,o.C1)(j)])]:[])])])};return(0,i.watch)(()=>e.options,()=>{W()}),W(),(0,i.onMounted)(()=>{o.Nh.on(j,"mousewheel",te),o.Nh.on(j,"mousedown",ne),o.Nh.on(j,"blur",re),o.Nh.on(j,"resize",oe)}),(0,i.onUnmounted)(()=>{o.Nh.off(j,"mousewheel"),o.Nh.off(j,"mousedown"),o.Nh.off(j,"blur"),o.Nh.off(j,"resize"),w().assign(C,Vt())}),(0,i.provide)("$xeCascader",j),j.renderVN=me,j},render(){return this.renderVN()}});const Ht=Object.assign({},Bt,{install(e){e.component(Bt.name,Bt)}});u.use(Ht),o.OE.component(Bt);const Wt=Ht;var qt=Ht,Ut=a({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().checkbox.size||(0,o.zj)().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeCheckboxGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),d={xID:c,props:e,context:t,reactData:u};let p={};const{computeSize:f}=(0,o.XX)(e),h=(0,i.computed)(()=>s?w().includes(s.props.modelValue,e.label):e.modelValue===e.checkedValue),m=(0,i.computed)(()=>{const{disabled:t}=e,n=h.value;if(null===t&&s){const{computeIsDisabled:e,computeIsMaximize:t}=s.getComputeMaps(),r=e.value,o=t.value;return r||o&&!n}return t}),g=t=>{const{checkedValue:n,uncheckedValue:o}=e,i=m.value;if(!i){const i=t.target.checked,c=i?n:o,u={checked:i,value:c,label:e.label};s?s.handleChecked(u,t):(r("update:modelValue",c),p.dispatchEvent("change",u,t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,c))}},v=(e,t,n)=>{r(e,(0,o.lh)(n,{$checkbox:d},t))};p={dispatchEvent:v},Object.assign(d,p);const b=()=>{const{label:t}=e,r=f.value,a=m.value,l=h.value,s=!l&&e.indeterminate;return(0,i.h)("label",{key:t,class:["vxe-checkbox vxe-checkbox--default",{[`size--${r}`]:r,"is--indeterminate":s,"is--disabled":a,"is--checked":l}],title:e.title},[(0,i.h)("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:a,checked:l,onChange:g}),(0,i.h)("span",{class:["vxe-checkbox--icon",s?(0,o.sW)().CHECKBOX_INDETERMINATE:l?(0,o.sW)().CHECKBOX_CHECKED:a?(0,o.sW)().CHECKBOX_DISABLED_UNCHECKED:(0,o.sW)().CHECKBOX_UNCHECKED]}),(0,i.h)("span",{class:"vxe-checkbox--label"},n.default?n.default({}):be(e.content))])};return d.renderVN=b,d},render(){return this.renderVN()}});const Gt=Object.assign(Ut,{install(e){e.component(Ut.name,Ut)}});u.use(Gt),o.OE.component(Ut);const Yt=Gt;var Kt=Gt,Xt=a({name:"VxeCheckboxButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().checkboxButton.size||(0,o.zj)().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeCheckboxGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),{computeSize:d}=(0,o.XX)(e),p={xID:c,props:e,context:t,reactData:u},f=(0,i.computed)(()=>s?w().includes(s.props.modelValue,e.label):e.modelValue===e.checkedValue),h=(0,i.computed)(()=>{const{disabled:t}=e,n=f.value;if(null===t&&s){const{computeIsDisabled:e,computeIsMaximize:t}=s.getComputeMaps(),r=e.value,o=t.value;return r||o&&!n}return t}),m=t=>{const{checkedValue:n,uncheckedValue:o}=e,i=h.value;if(!i){const i=t.target.checked,c=i?n:o,u={checked:i,value:c,label:e.label};s?s.handleChecked(u,t):(r("update:modelValue",c),p.dispatchEvent("change",u,t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,c))}},g={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$checkboxButton:p},t))}},v={};Object.assign(p,g,v);const b=()=>{const{label:t}=e,r=d.value,o=h.value,a=f.value;return(0,i.h)("label",{key:t,class:["vxe-checkbox vxe-checkbox--button",{[`size--${r}`]:r,"is--disabled":o}],title:e.title},[(0,i.h)("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:o,checked:a,onChange:m}),(0,i.h)("span",{class:"vxe-checkbox--label"},n.default?n.default({}):be(e.content))])};return p.renderVN=b,b}});const Zt=Object.assign(Xt,{install:function(e){e.component(Xt.name,Xt)}});u.use(Zt),o.OE.component(Xt);const Jt=Zt;var Qt=Zt;function en(){return{}}var tn=a({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:{type:Boolean,default:null},max:{type:[String,Number],default:null},size:{type:String,default:()=>(0,o.zj)().checkboxGroup.size||(0,o.zj)().size},defaultConfig:Object},emits:["update:modelValue","change","default-change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),c=(0,i.reactive)({}),u=en(),d=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t}),p=(0,i.computed)(()=>{const{modelValue:t,max:n}=e;return!!n&&(t?t.length:0)>=w().toNumber(n)}),f=(0,i.computed)(()=>Object.assign({},e.defaultConfig)),h=(0,i.computed)(()=>Object.assign({},e.optionProps)),m=(0,i.computed)(()=>{const e=h.value;return e.label||"label"}),g=(0,i.computed)(()=>{const e=h.value;return e.value||"value"}),v=(0,i.computed)(()=>{const e=h.value;return e.disabled||"disabled"}),b={computeIsMaximize:p,computeIsDisabled:d},x={xID:s,props:e,context:t,reactData:c,getComputeMaps:()=>b};(0,o.XX)(e);const y=(e,t,n)=>{r(e,(0,o.lh)(n,{$checkboxGroup:x},t))},C=e=>{r("update:modelValue",e)},k=e=>{C(e),y("default-change",{value:e},null)},S={dispatchEvent:y},T={handleChecked(t,n){const{checked:r,label:o}=t,i=e.modelValue||[],s=i.indexOf(o);r?-1===s&&i.push(o):i.splice(s,1),C(i),x.dispatchEvent("change",Object.assign({},t,{checklist:i,value:i}),n),a&&l&&a.triggerItemEvent(n,l.itemConfig.field,i)}},E=t=>{const{isLoaded:n}=u,r=f.value,o=g.value;if(!n){const{selectMode:n}=r;if(t.length>0&&w().eqNull(e.modelValue)){if("all"===n)(0,i.nextTick)(()=>{k(t.map(e=>e[o]))});else if("first"===n||"last"===n){const r=w()[n](t);r&&(0,i.nextTick)(()=>{w().eqNull(e.modelValue)&&k([r[o]])})}u.isLoaded=!0}}return(0,i.nextTick)()};Object.assign(x,S,T);const O=()=>{const{options:t}=e,r=n.default,o=g.value,a=m.value,l=v.value;return(0,i.h)("div",{class:"vxe-checkbox-group"},r?r({}):t?t.map(e=>(0,i.h)(Ut,{key:e[o],label:e[o],content:e[a],disabled:e[l]})):[])};return(0,i.watch)(()=>e.options,e=>{E(e||[])}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{const{options:t}=e;t&&E(t)})}),(0,i.onUnmounted)(()=>{w().assign(u,en())}),(0,i.provide)("$xeCheckboxGroup",x),x.renderVN=O,O}});const nn=Object.assign(tn,{install(e){e.component(tn.name,tn)}});u.use(nn),o.OE.component(tn);const rn=nn;var on=nn,an=a({name:"VxeCol",props:{span:[Number,String],align:String,width:[Number,String],fill:Boolean,ellipsis:Boolean,size:{type:String,default:()=>(0,o.zj)().col.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId();(0,o.XX)(e);const l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u=(0,i.inject)("$xeRow",null),d=(0,i.computed)(()=>u?u.props.gutter:null),p=(0,i.computed)(()=>u?u.props.vertical:null),f=(0,i.computed)(()=>{const{width:t}=e,n=d.value,r=p.value,o={};if(n){let[e,t]=w().isArray(n)?n:[n];if(r&&(t=e,e=""),e){const t=w().isNumber(e)?V(e/2):`calc(${V(e)} / 2)`;o.paddingLeft=t,o.paddingRight=t}if(t){const e=w().isNumber(t)?V(t/2):`calc(${V(t)} / 2)`;o.paddingTop=e,o.paddingBottom=e}}return t&&(o.width=V(t)),o}),h={},m={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>h},g=(e,t,n)=>{r(e,(0,o.lh)(n,{$col:m},t))},v={dispatchEvent:g},b={};Object.assign(m,v,b);const x=()=>{const{span:t,fill:r,align:o,width:a,ellipsis:s}=e,c=f.value,u=n.default;return(0,i.h)("div",{ref:l,class:["vxe-col",t?`span${t}`:"",o?`align--${o}`:"",{"is--span":!!t,"is--width":!!a,"is--fill":r,"is--ellipsis":s}],style:c},[(0,i.h)("div",{class:"vxe-col--inner"},u?u({}):[])])};return m.renderVN=x,m},render(){return this.renderVN()}});const ln=Object.assign({},an,{install(e){e.component(an.name,an)}});u.use(ln),o.OE.component(an);const sn=ln;var cn=ln,un=a({name:"VxeCollapse",props:{modelValue:Array,options:Array,padding:{type:Boolean,default:()=>(0,o.zj)().collapse.padding},expandConfig:Object,size:{type:String,default:()=>(0,o.zj)().collapse.size||(0,o.zj)().size}},emits:["update:modelValue","load","change","toggle-expand"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.reactive)({staticPanes:[],activeNames:[],initNames:[],cachePaneMaps:{}}),u={refElem:s},d=(0,i.computed)(()=>{const{options:t}=e;return(t||[]).filter(e=>g(e))}),p=(0,i.computed)(()=>{const{staticPanes:e}=c;return e.filter(e=>g(e))}),f=(0,i.computed)(()=>Object.assign({},(0,o.zj)().collapse.expandConfig,e.expandConfig)),h={},m={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>h},g=e=>{const{permissionCode:t}=e;return!(t&&!o.EK.checkVisible(t))},v=e=>{const{initNames:t}=c;return!(!e||t.includes(e))&&(t.push(e),x("load",{name:e},null),!0)},b=e=>{const{activeNames:t}=c,n={};e&&e.length&&e.forEach(e=>{const{name:r,preload:o}=e||{};if(r){const e=t.includes(r);n[`${r}`]={loading:!1},e&&v(r),o&&(e||t.push(r))}}),c.activeNames=t?t.slice(0):[],c.cachePaneMaps=n},x=(e,t,r)=>{n(e,(0,o.lh)(r,{$collapse:m},t))},y={dispatchEvent:x},C=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[],k=(e,t)=>{const{activeNames:n}=c,{name:r}=t;if(r){const t=n.indexOf(r);let o=!1;-1===t?(o=!0,n.push(r)):n.splice(t,1),v(r),x("change",{value:n,name:r},e),x("toggle-expand",{value:n,name:r,expanded:o},e)}},S={};Object.assign(m,y,S);const E=e=>{const{activeNames:t,initNames:n}=c,r=f.value;return e.map(e=>{const{icon:a,name:l,title:s,slots:c}=e,u=c?c.title:null,d=c?c.default:null,p=l&&t.includes(l);return(0,i.h)("div",{class:"vxe-collapse-item"},[(0,i.h)("div",{class:"vxe-collapse--item-header",onClick(t){k(t,e)}},[r.showIcon?(0,i.h)("span",{class:"vxe-collapse--item-switch"},[(0,i.h)("i",{class:p?(0,o.sW)().COLLAPSE_OPEN:(0,o.sW)().COLLAPSE_CLOSE})]):(0,o.C1)(m),a?(0,i.h)("span",{class:"vxe-collapse--item-icon"},[(0,i.h)("i",{class:a})]):(0,o.C1)(m),(0,i.h)("span",{class:"vxe-collapse--item-name"},u?C(u,{name:l,title:s}):`${s}`)]),(0,i.h)("div",{class:["vxe-collapse--item-content",{"is--visible":p}]},[l&&n.includes(l)?(0,i.h)("div",{class:"vxe-collapse--item-inner"},[d?C(d,{name:l,title:s}):""]):(0,o.C1)(m)])])})},O=()=>{const{padding:t}=e,n=l.value,o=d.value,a=p.value,c=r.default,u=c?a:o;return(0,i.h)("div",{ref:s,class:["vxe-collapse",{[`size--${n}`]:n,"is--padding":t}]},[(0,i.h)("div",{class:"vxe-collapse-slots"},c?c({}):[]),E(u)])};(0,i.watch)(()=>e.modelValue,e=>{c.activeNames=e||[]});const D=(0,i.ref)(0);(0,i.watch)(()=>e.options?e.options.length:-1,()=>{D.value++}),(0,i.watch)(()=>e.options,()=>{D.value++}),(0,i.watch)(D,()=>{b(e.options)});const M=(0,i.ref)(0);return(0,i.watch)(()=>c.staticPanes?c.staticPanes.length:-1,()=>{M.value++}),(0,i.watch)(()=>c.staticPanes,()=>{M.value++}),(0,i.watch)(M,()=>{b(c.staticPanes)}),c.activeNames=e.modelValue||[],b(c.staticPanes.length?c.staticPanes:e.options),(0,i.provide)("$xeCollapse",m),m.renderVN=O,m},render(){return this.renderVN()}});const dn=Object.assign({},un,{install(e){e.component(un.name,un)}});u.use(dn),o.OE.component(un);const pn=dn;var fn=dn;function hn(e,t,n){const r=e.reactData.staticPanes,o=t.parentNode;o&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticPanes=r.slice(0))}function mn(e,t){const n=e.reactData.staticPanes,r=w().findTree(n,e=>e.id===t.id,{children:"children"});r&&r.items.splice(r.index,1),e.reactData.staticPanes=n.slice(0)}var gn=a({name:"VxeCollapsePane",props:{title:[String,Number],name:[String,Number],icon:String,preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeCollapse",null),s=(0,i.ref)(),c=(0,i.reactive)({}),u=(0,i.reactive)({id:a,title:e.title,name:e.name,icon:e.icon,preload:e.preload,permissionCode:e.permissionCode,slots:r}),d={refElem:s},p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,r)=>{n(e,(0,o.lh)(r,{$collapsePane:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>(0,i.h)("div",{ref:s},[]);return(0,i.watch)(()=>e.title,e=>{u.title=e}),(0,i.watch)(()=>e.name,e=>{u.name=e}),(0,i.watch)(()=>e.icon,e=>{u.icon=e}),(0,i.watch)(()=>e.permissionCode,e=>{u.permissionCode=e}),(0,i.onMounted)(()=>{const e=s.value;l&&e&&hn(l,e,u)}),(0,i.onUnmounted)(()=>{l&&mn(l,u)}),f.renderVN=v,f},render(){return this.renderVN()}});const vn=Object.assign({},gn,{install(e){e.component(gn.name,gn)}});u.use(vn),o.OE.component(gn);const bn=vn;var xn=vn;const yn={},wn={};"FF,FC,FA,F7,F5,F2,F0,ED,EB,E8,E6,E3,E0,DE,DB,D9,D6,D4,D1,CF,CC,C9,C7,C4,C2,BF,BD,BA,B8,B5,B3,B0,AD,AB,A8,A6,A3,A1,9E,9C,99,96,94,91,8F,8C,8A,87,85,82,80,7D,7A,78,75,73,70,6E,6B,69,66,63,61,5E,5C,59,57,54,52,4F,4D,4A,47,45,42,40,3D,3B,38,36,33,30,2E,2B,29,26,24,21,1F,1C,1A,17,14,12,0F,0D,0A,08,05,03,00".split(",").forEach((e,t)=>{const n=(100-t)/100;yn[e]=n,wn[n]=e});const Cn=/^rgb(a?)\((\d{1,3})[,\s]+(\d{1,3})[,\s]+(\d{1,3})([,//\s]+([0-9.]{1,4})(%?))?\)$/;const kn=/^(#?)([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;function Sn(e){const t={value:"",type:"",hex:"",hexV:"",hexA:"",r:0,g:0,b:0,a:1};if(e){const n=e.match(kn);n&&(t.value=e,t.type="hex",t.hex=e,t.hexV=n[2],t.hexA=n[3]||"",t.a=(n[3]?yn[n[3].toUpperCase()]:1)||1);const r=e.match(Cn);r&&(t.value=e,t.type=r[6]?"rgba":"rgb",t.r=parseInt(r[2]),t.g=parseInt(r[3]),t.b=parseInt(r[4]),t.a=r[7]?parseInt(r[6])/100:r[6]?parseFloat(r[6]):1)}return t}function Tn(e,t=1){const n=Sn(e),{type:r,hexV:o,r:i,g:a,b:l}=n;return"rgb"===r||"rgba"===r?En(i,a,l,t):"hex"===r?`#${o}${1===t?"":wn[t]||""}`:""}function En(e,t,n,r){return w().eqNull(r)?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${r})`}function On(e){if(!e)return"";const{r:t,g:n,b:r,a:o=1}=e,i=t.toString(16).padStart(2,"0"),a=n.toString(16).padStart(2,"0"),l=r.toString(16).padStart(2,"0"),s=1===o?"":wn[o]||"";return`#${i}${a}${l}${s}`.toUpperCase()}function Dn(e){if(!e)return null;const{r:t,g:n,b:r}=e,o=t/255,i=n/255,a=r/255;let l=0,s=0;const c=Math.max(o,i,a),u=c-Math.min(o,i,a),d=e=>(c-e)/6/u+.5;if(0===u)l=s=0;else{s=u/c;const e=d(o),t=d(i),n=d(a);o===c?l=n-t:i===c?l=1/3+e-n:a===c&&(l=2/3+t-e),l<0?l+=1:l>1&&(l-=1)}return{h:Math.round(360*l),s:w().round(s,2),v:w().round(c,2)}}function Mn(e,t,n){let r=0,o=0,i=0;const a=Math.floor(e/60),l=e/60-a,s=n*(1-t),c=n*(1-l*t),u=n*(1-(1-l)*t);switch(a){case 0:r=n,o=u,i=s;break;case 1:r=c,o=n,i=s;break;case 2:r=s,o=n,i=u;break;case 3:r=s,o=c,i=n;break;case 4:r=u,o=s,i=n;break;case 5:r=n,o=s,i=c;break}return{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*i)}}function An(e){const t=In(e);return t?Dn(t):null}function In(e){if(e){const t=e.match(/^(#?)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/);if(t)return{r:parseInt(t[2],16),g:parseInt(t[3],16),b:parseInt(t[4],16),a:(t[5]?yn[t[5].toUpperCase()]:1)||1}}return null}var Nn=a({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>(0,o.zj)().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>(0,o.zj)().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>(0,o.zj)().numberInput.size||(0,o.zj)().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>(0,o.zj)().numberInput.exponential},showCurrency:{type:Boolean,default:()=>(0,o.zj)().numberInput.showCurrency},currencySymbol:{type:String,default:()=>(0,o.zj)().numberInput.currencySymbol},controlConfig:Object,digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>(0,o.zj)().numberInput.autoFill},editable:{type:Boolean,default:!0},plusIcon:String,minusIcon:String,prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","plus-number","minus-number","prefix-click","suffix-click","prev-number","next-number"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),{computeSize:c}=(0,o.XX)(e),u=(0,i.reactive)({isFocus:!1,isActivated:!1,inputValue:""}),d={},p=(0,i.ref)(),f=(0,i.ref)(),h=(0,i.ref)(),m=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t}),g=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t}),v=(0,i.computed)(()=>{const{type:t,digits:n}=e;let r=n;return null===r&&(r=(0,o.zj)().numberInput.digits,null===r&&"amount"===t&&(r=2)),w().toInteger(r)||1}),b=(0,i.computed)(()=>Object.assign({},(0,o.zj)().numberInput.controlConfig,e.controlConfig)),x=(0,i.computed)(()=>{const{type:t}=e;return"float"===t||"amount"===t}),y=(0,i.computed)(()=>{const{type:t}=e,n=v.value,r=x.value,o=e.step;return"integer"===t?w().toInteger(o)||1:r?w().toNumber(o)||1/Math.pow(10,n):w().toNumber(o)||1}),C=(0,i.computed)(()=>e.clearable),k=(0,i.computed)(()=>{const{editable:t}=e,n=m.value;return n||!t}),S=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);const n=(0,o.zj)().numberInput.placeholder;return n?be(n):(0,o.TO)("vxe.base.pleaseInput")}),E=(0,i.computed)(()=>{const{type:t,maxLength:n,maxlength:r,min:o,max:i}=e,a=v.value,l=16;return xe(o)||xe(i)?n||r?w().toNumber(n||r):l:`${i}`.length+("integer"===t?0:a+1)+(w().toNumber(o)>=0?0:1)}),O=(0,i.computed)(()=>{const{immediate:t}=e;return t}),D=(0,i.computed)(()=>{const{type:t}=e,{inputValue:n}=u;return"integer"===t?w().toInteger(jt(n)):w().toNumber(jt(n))}),M=(0,i.computed)(()=>{const{type:t,showCurrency:n,currencySymbol:r,autoFill:i}=e,{inputValue:a}=u,l=v.value;if("amount"===t){const e=w().toNumber(a);let t=w().commafy(e,{digits:l});if(!i){const[e,n]=t.split(".");if(n){const r=n.replace(/0+$/,"");t=r?[e,".",r].join(""):e}}return n?`${r||(0,o.TO)("vxe.numberInput.currencySymbol")||""}${t}`:t}return w().toString(a)}),A=(0,i.computed)(()=>{const{min:t}=e,{inputValue:n}=u,r=D.value;return!(!n&&0!==n||null===t)&&r<=w().toNumber(t)}),I=(0,i.computed)(()=>{const{max:t}=e,{inputValue:n}=u,r=D.value;return!(!n&&0!==n||null===t)&&r>=w().toNumber(t)}),N={refElem:p,refInput:f},R={computeControlOpts:b},F={xID:s,props:e,context:t,reactData:u,internalData:d,getRefMaps:()=>N,getComputeMaps:()=>R};let _={};const P=e=>w().eqNull(e)?"":`${e}`,$=t=>{const{exponential:n,autoFill:r}=e,o=E.value,i=v.value,a=x.value;let l="";return a?(l=$t(t,i),r||(l=P(w().toNumber(l)))):l=P(t),!n||t!==l&&P(t).toLowerCase()!==w().toNumber(l).toExponential()?l.slice(0,o):t},L=e=>{const{inputValue:t}=u;_.dispatchEvent(e.type,{value:t},e)},V=(t,n,o)=>{const s=xe(t)?null:Number(t),c=s!==e.modelValue;c&&(d.isUM=!0,r("update:modelValue",s)),u.inputValue!==n&&(0,i.nextTick)(()=>{u.inputValue=n||""}),_.dispatchEvent("input",{value:s},o),c&&(_.dispatchEvent("change",{value:s},o),a&&l&&a.triggerItemEvent(o,l.itemConfig.field,s))},B=(e,t)=>{const n=O.value,r=xe(e)?null:w().toNumber(e);u.inputValue=e,n?V(r,e,t):_.dispatchEvent("input",{value:r},t)},W=e=>{const t=e.target,n=t.value;B(n,e)},q=e=>{const t=O.value;t||L(e),F.dispatchEvent("lazy-change",{value:u.inputValue},e)},U=e=>{const t=k.value;if(!t){const{inputValue:t}=u;u.inputValue=xe(t)?"":`${w().toNumber(t)}`,u.isFocus=!0,u.isActivated=!0,L(e)}},G=e=>{const t=g.value;if(!t){const{inputValue:t}=u;_.dispatchEvent("prefix-click",{value:t},e)}},Y=(e,t)=>{focus(),V(null,"",e),_.dispatchEvent("clear",{value:t},e),F.dispatchEvent("lazy-change",{value:t},e)},K=e=>{const t=g.value;if(!t){const{inputValue:t}=u;_.dispatchEvent("suffix-click",{value:t},e)}},X=t=>{const{autoFill:n}=e,{inputValue:r}=u,o=v.value,i=x.value;if(xe(t))u.inputValue="";else{let e=`${t}`;i&&(e=$t(t,o),n||(e=`${w().toNumber(e)}`)),e!==r&&(u.inputValue=e)}},Z=()=>{const{autoFill:t}=e,{inputValue:n}=u,r=v.value,o=x.value;if(o&&n){let e="",o=null;n&&(e=$t(n,r),o=w().toNumber(e),t||(e=`${o}`)),n!==o?V(o,e,{type:"init"}):u.inputValue=e}},J=t=>null===e.max||""===e.max||w().toNumber(t)<=w().toNumber(e.max),Q=t=>null===e.min||""===e.min||w().toNumber(t)>=w().toNumber(e.min),ee=()=>{const{type:t,min:n,max:r,exponential:o}=e,{inputValue:i}=u,a=k.value;if(!a){if(xe(i)){let e=null,t=i;return(n||0===n)&&(e=w().toNumber(n),t=`${e}`),void V(e,`${t||""}`,{type:"check"})}if(i||n||r){let e="integer"===t?w().toInteger(jt(i)):w().toNumber(jt(i));if(Q(e)?J(e)||(e=r):e=n,o){const t=P(i).toLowerCase();t===w().toNumber(e).toExponential()&&(e=t)}const a=$(e);V(xe(a)?null:Number(a),a,{type:"check"})}}},te=e=>{const{inputValue:t}=u,n=O.value,r=t?Number(t):null;n||V(r,P(t),e),ee(),u.isFocus=!1,u.isActivated=!1,_.dispatchEvent("blur",{value:r},e),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,r)},ne=(t,n)=>{const{min:r,max:o,type:i}=e,{inputValue:a}=u,l=y.value,s="integer"===i?w().toInteger(jt(a)):w().toNumber(jt(a)),c=t?w().add(s,l):w().subtract(s,l);let d;d=Q(c)?J(c)?c:o:r,B($(d),n)},re=e=>{const t=g.value,n=m.value,r=I.value;t||n||r||ne(!0,e),u.isActivated=!0,_.dispatchEvent("plus-number",{value:u.inputValue},e),F.dispatchEvent("lazy-change",{value:u.inputValue},e),_.dispatchEvent("next-number",{value:u.inputValue},e)},oe=e=>{const t=g.value,n=m.value,r=A.value;t||n||r||ne(!1,e),u.isActivated=!0,_.dispatchEvent("minus-number",{value:u.inputValue},e),F.dispatchEvent("lazy-change",{value:u.inputValue},e),_.dispatchEvent("prev-number",{value:u.inputValue},e)},ie=e=>{const t=o.Nh.hasKey(e,o.un.ARROW_UP),n=o.Nh.hasKey(e,o.un.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?re(e):oe(e))},ae=t=>{const{type:n,exponential:r,controls:i}=e,a=b.value,{isArrow:l}=a,s=k.value,c=z(t),u=t.shiftKey,d=t.altKey,p=t.keyCode,f=o.Nh.hasKey(t,o.un.ESCAPE),h=o.Nh.hasKey(t,o.un.ARROW_UP),m=o.Nh.hasKey(t,o.un.ARROW_DOWN);c||u||d||(o.Nh.hasKey(t,o.un.SPACEBAR)||"integer"===n&&110===p||(!r||69!==p)&&p>=65&&p<=90||p>=186&&p<=188||p>=191)&&t.preventDefault(),f?ee():(h||m)&&pe(a)&&(!1===i?i:l)&&!s&&ie(t),L(t)},le=e=>{L(e)},se=()=>{const{dnTimeout:e}=d;e&&(clearTimeout(e),d.dnTimeout=void 0)},ce=()=>{const{ainTimeout:e}=d;e&&(clearTimeout(e),d.ainTimeout=void 0)},ue=e=>{fe(),d.ainTimeout=setTimeout(()=>{oe(e),ue(e)},60)},de=e=>{fe(),d.ainTimeout=setTimeout(()=>{re(e),de(e)},60)},fe=()=>{se(),ce()},he=e=>{if(d.isMouseDown)d.isMouseDown=!1;else{fe();const t=j(e.currentTarget,"is--plus");t?re(e):oe(e)}},me=e=>{if(fe(),d.isMouseDown=!0,0===e.button){const t=j(e.currentTarget,"is--plus");t?re(e):oe(e),d.dnTimeout=setTimeout(()=>{t?de(e):ue(e)},500)}},ge=t=>{const{controls:n}=e,r=b.value,{isWheel:o}=r,i=k.value;if(pe(r)&&(!1===n?n:o)&&!i&&u.isActivated){t.stopPropagation(),t.preventDefault();const e=t.deltaY;e>0?oe(t):e<0&&re(t)}L(t)},ve=e=>{L(e)},ye=e=>{const{isActivated:t}=u,n=p.value,r=h.value,o=g.value,i=k.value,a=O.value;if(!o&&!i&&t&&(u.isActivated=H(e,n).flag||H(e,r).flag,!u.isActivated)){if(!a){const{inputValue:t}=u,n=t?Number(t):null;V(n,P(t),e)}ee()}},we=t=>{const{clearable:n}=e,r=g.value,i=k.value;if(!r&&!i){const e=o.Nh.hasKey(t,o.un.TAB),r=o.Nh.hasKey(t,o.un.DELETE);let i=u.isActivated;e&&(i&&ee(),i=!1,u.isActivated=i),r&&n&&i&&Y(t,null)}},Ce=()=>{const{isActivated:e}=u;e&&ee()},ke=(e,t,n)=>{r(e,(0,o.lh)(n,{$numberInput:F},t))};_={dispatchEvent:ke,focus(){const e=k.value;if(!e){const e=f.value;u.isActivated=!0,e.focus()}return(0,i.nextTick)()},blur(){const e=f.value;return e.blur(),u.isActivated=!1,(0,i.nextTick)()},select(){const e=f.value;return e.select(),u.isActivated=!1,(0,i.nextTick)()}},Object.assign(F,_);const Se=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-number-input--prefix",onClick:G},[(0,i.h)("div",{class:"vxe-number-input--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):(0,o.C1)(F)},Te=()=>{const{suffixIcon:t}=e,{inputValue:r}=u,a=n.suffix,l=g.value,s=C.value;return(0,i.h)("div",{class:["vxe-number-input--suffix",{"is--clear":s&&!l&&!(""===r||w().eqNull(r))}]},[s?(0,i.h)("div",{class:"vxe-number-input--clear-icon",onClick:Y},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(F),a||t?(0,i.h)("div",{class:"vxe-number-input--suffix-icon",onClick:K},a?T(a({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(F)])},Ee=()=>{const{type:t,name:n,autocomplete:r,autoComplete:o}=e,{inputValue:a,isFocus:l}=u,s=g.value,c=M.value,d=k.value,p=E.value,h=S.value;return(0,i.h)("div",{key:"ni",class:"vxe-number-input--input-wrapper"},[Se(),(0,i.h)("div",{class:"vxe-number-input--input-inner"},[(0,i.h)("input",{ref:f,class:"vxe-number-input--input",value:l||"amount"!==t?a:c,name:n,type:"text",placeholder:h,maxlength:p,readonly:d,disabled:s,autocomplete:o||r,onKeydown:ae,onKeyup:le,onClick:ve,onInput:W,onChange:q,onFocus:U,onBlur:te})]),Te()])},Oe=()=>{const{minusIcon:t}=e,n=A.value;return(0,i.h)("button",{key:"prev",class:["vxe-number-input--minus-btn is--minus",{"is--disabled":n}],type:"button",onClick:he,onMousedown:me,onMouseup:fe,onMouseleave:fe},[(0,i.h)("i",{class:t||(0,o.sW)().NUMBER_INPUT_MINUS_NUM})])},De=()=>{const{plusIcon:t}=e,n=I.value;return(0,i.h)("button",{key:"next",class:["vxe-number-input--plus-btn is--plus",{"is--disabled":n}],type:"button",onClick:he,onMousedown:me,onMouseup:fe,onMouseleave:fe},[(0,i.h)("i",{class:t||(0,o.sW)().NUMBER_INPUT_PLUS_NUM})])},Me=()=>(0,i.h)("div",{key:"cplr",class:"vxe-number-input--side-control"},[De(),Oe()]),Ae=()=>{const{className:t,controls:r,type:o,align:a,prefixIcon:l,suffixIcon:s}=e,{inputValue:d,isActivated:f}=u,h=c.value,v=b.value,{layout:x,showButton:y}=v,S=g.value,T=m.value,E=M.value,O=n.prefix,D=n.suffix;if(T)return(0,i.h)("div",{ref:p,class:["vxe-number-input--readonly",`type--${o}`,t]},E);const A=k.value,I=C.value,N=pe(v)&&(!1===r?r:y);return(0,i.h)("div",{ref:p,class:["vxe-number-input",`type--${o}`,`ctl--${"right"===x||"left"===x?x:"default"}`,t,{[`size--${h}`]:h,[`is--${a}`]:a,"is--controls":N&&!A,"is--prefix":!!O||l,"is--suffix":!!D||s,"is--disabled":S,"is--active":f,"show--clear":I&&!S&&!(""===d||w().eqNull(d))}],spellcheck:!1},N?"right"===x?[Ee(),Me()]:"left"===x?[Me(),Ee()]:[Oe(),Ee(),De()]:[Ee()])};return F.renderVN=Ae,(0,i.watch)(()=>e.modelValue,e=>{d.isUM||X(e),d.isUM=!1}),(0,i.watch)(()=>e.type,()=>{Object.assign(u,{inputValue:e.modelValue}),Z()}),(0,i.onMounted)(()=>{X(e.modelValue);const t=f.value;t&&t.addEventListener("wheel",ge,{passive:!1}),o.Nh.on(F,"mousedown",ye),o.Nh.on(F,"keydown",we),o.Nh.on(F,"blur",Ce)}),(0,i.onBeforeUnmount)(()=>{u.isFocus=!1,fe(),ee();const e=f.value;e&&e.removeEventListener("wheel",ge),o.Nh.off(F,"mousedown"),o.Nh.off(F,"keydown"),o.Nh.off(F,"blur")}),Z(),F},render(){return this.renderVN()}}),Rn=a({name:"VxeColorPicker",props:{modelValue:String,placeholder:String,clearable:{type:Boolean,default:()=>(0,o.zj)().colorPicker.clearable},type:{type:String,default:()=>(0,o.zj)().colorPicker.type},size:{type:String,default:()=>(0,o.zj)().colorPicker.size||(0,o.zj)().size},className:[String,Function],popupClassName:[String,Function],colors:{type:Array,default:()=>w().clone((0,o.zj)().colorPicker.colors,!0)||[]},showAlpha:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showAlpha},showEyeDropper:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showEyeDropper},showColorExtractor:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showColorExtractor},showQuick:{type:Boolean,default:()=>(0,o.zj)().colorPicker.showQuick},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},clickToCopy:{type:Boolean,default:()=>(0,o.zj)().colorPicker.clickToCopy},placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeModal",null),a=(0,i.inject)("$xeDrawer",null),l=(0,i.inject)("$xeTable",null),s=(0,i.inject)("$xeForm",null),c=(0,i.inject)("xeFormItemInfo",null),u="undefined"!==typeof window?window.EyeDropper:null,d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.ref)(),h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C=(0,i.ref)(),k=(0,i.reactive)({initialized:!1,selectTyle:"hex",selectColor:`${e.modelValue||""}`,showTypePopup:!1,panelColor:"",hexValue:"",rValue:0,gValue:0,bValue:0,aValue:0,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),S=[{label:"HEX",value:"hex"},{label:"RGB",value:"rgb"}],T={},E=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!s&&s.props.readonly:t}),O=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!s&&s.props.disabled:t}),D=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().colorPicker.transfer;if(w().isBoolean(e))return e;if(l||r||a||s)return!0}return t}),M=(0,i.computed)(()=>{const{colors:t}=e;return t?t.map(e=>w().isString(e)?{label:e,value:e}:{label:w().eqNull(e.label)?e.value:e.label,value:e.value}):[]}),A=(0,i.computed)(()=>{const{selectTyle:e}=k;return"rgb"===e}),I=(0,i.computed)(()=>{const{selectTyle:e}=k;return S.find(t=>t.value===e)}),N={refElem:f},R={},F={xID:d,props:e,context:t,reactData:k,getRefMaps:()=>N,getComputeMaps:()=>R},_=e=>{n("update:modelValue",e)},P=()=>{const{modelValue:t}=e;k.selectColor=w().toValueString(t),$()},j=()=>{const{type:t}=e;let n="hex";"rgb"!==t&&"rgba"!==t||(n="rgb"),k.selectTyle=n,P()},$=()=>{const{selectColor:e,isAniVisible:t}=k,n=A.value,r=g.value,o=b.value,i=Sn(e);if(k.hexValue=i.hex,k.rValue=i.r,k.gValue=i.g,k.bValue=i.b,k.aValue=i.a,i.value)if(n){if("hex"===i.type){const e=In(i.hex);e&&(k.rValue=e.r,k.gValue=e.g,k.bValue=e.b,k.aValue=e.a)}}else"hex"!==i.type&&(k.hexValue=On(i));if(t){const e="hex"===i.type?An(i.hex):Dn(i),t=y.value;if(e){if(t){const n=t.clientHeight*(1-e.v),r=t.clientWidth*e.s;pe(r,n)}r&&re(w().ceil((1-e.h/360)*r.clientWidth))}o&&ae(o.clientWidth*i.a)}},L=()=>{k.panelIndex<he()&&(k.panelIndex=fe())},z=()=>{const{placement:t}=e,{panelIndex:n}=k,r=f.value,o=m.value,a=D.value,l=()=>{const e=X(r,o,{placement:t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});k.panelStyle=i,k.panelPlacement=e.placement};return l(),(0,i.nextTick)().then(l)},B=()=>{const{hpTimeout:e}=T,t=O.value;t||(e&&(clearTimeout(e),T.hpTimeout=void 0),k.initialized||(k.initialized=!0),k.isActivated=!0,k.isAniVisible=!0,setTimeout(()=>{$(),k.visiblePanel=!0},10),L(),z())},W=()=>{k.visiblePanel=!1,T.hpTimeout=setTimeout(()=>{k.isAniVisible=!1},350)},q=(t,n)=>{k.selectColor=n,n!==e.modelValue&&(_(n),ke("change",{value:n},t),s&&c&&s.triggerItemEvent(t,c.itemConfig.field,n))},U=(e,t)=>{q(e,t),ke("clear",{value:t},e)},G=()=>{const e=O.value;e||k.visiblePanel||B()},Y=()=>{k.isActivated=!1},K=e=>{U(e,null),W()},Z=e=>{const{selectColor:t}=k;q(e,t),W()},J=e=>{e.preventDefault(),k.visiblePanel?W():B()},Q=e=>{J(e),ke("click",{},e)},ee=()=>{k.showTypePopup=!1},te=e=>{e.stopPropagation(),k.showTypePopup=!k.showTypePopup},ne=e=>{const{selectTyle:t}=k;e!==t&&(k.selectTyle=e,$()),k.showTypePopup=!1},re=e=>{const t=g.value,n=v.value;if(t&&n){e<0&&(e=0);const r=w().toInteger(t.clientWidth),o=255,i=6*o,a=w().ceil(i/r*e),l=a%o;let s=0,c=0,u=0;switch(Math.ceil(a/o)){case 1:s=o,u=l;break;case 2:s=o-l,u=o;break;case 3:c=l,u=o;break;case 4:c=o,u=o-l;break;case 5:s=l,c=o;break;case 6:s=o,c=o-l;break}k.panelColor=En(s,c,u),n.style.left=V(e)}},oe=e=>{const t=g.value,n=v.value;if(t&&n){const n=t.getBoundingClientRect(),r=w().toInteger(t.clientWidth),o=w().ceil(Math.min(r-1,Math.max(1,e.clientX-n.x)));re(o)}},ie=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),oe(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,oe(e)}},ae=e=>{const{selectColor:t}=k,n=b.value,r=x.value;if(n&&r){const o=n.getBoundingClientRect(),i=o.width;e<0&&(e=0),e>i&&(e=i);const a=w().ceil(100/i*e/100,2);k.aValue=a,r.style.left=V(e),k.selectColor=Tn(t,a)}},le=e=>{const t=b.value,n=x.value;if(t&&n){const n=t.getBoundingClientRect(),r=n.width,o=Math.min(r,Math.max(0,e.clientX-n.x));ae(o),$()}},se=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),le(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,le(e)}},ce=()=>{const{rValue:e,gValue:t,bValue:n,aValue:r}=k;k.selectColor=En(e,t,n,r),$()},ue=()=>{const{aValue:e}=k,t=b.value,n=x.value;if(t&&n){const n=t.getBoundingClientRect(),r=n.width,o=r*e;ae(o)}},de=(e,t)=>{const n=t.value;k.selectColor=n,$()},pe=(e,t)=>{const n=C.value;n&&(n.style.top=V(t),n.style.left=V(e))},me=()=>{if(u)try{const e=new u;e.open().then(e=>{e&&e.sRGBHex&&(k.selectColor=e.sRGBHex,$())}).catch(()=>{})}catch(e){}},ge=(t,n)=>{const{showAlpha:r}=e,{panelColor:o,aValue:i}=k,a=y.value,l=C.value;if(a&&l){const{clientWidth:e,clientHeight:l}=a,s=a.getBoundingClientRect(),c=Math.min(l,Math.max(0,n-s.y)),u=Math.min(e,Math.max(0,t-s.x)),d=Sn(o);if(d){const t="hex"===d.type?An(d.hex):Dn(d);if(t){const n=Mn(t.h,u/e,1-c/l);k.selectColor=En(n.r,n.g,n.b,r?i:null),$()}}pe(u,c)}},ve=e=>{e.stopPropagation(),e.preventDefault(),ge(e.clientX,e.clientY),document.onmousemove=e=>{ge(e.clientX,e.clientY)},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null}},be=()=>{const{selectColor:e}=k;e&&o.OE.clipboard.copy(e)&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.colorPicker.copySuccess",[e]),status:"success"})},xe=e=>{const{visiblePanel:t}=k,n=O.value;if(!n&&t){const t=m.value;H(e,t).flag?z():W()}},ye=e=>{const{visiblePanel:t}=k,n=O.value;if(!n){const n=f.value,r=m.value;k.isActivated=H(e,n).flag||H(e,r).flag,t&&!k.isActivated&&W()}},we=()=>{const{visiblePanel:e,isActivated:t}=k;if(e&&W(),t&&(k.isActivated=!1),e||t){const e=h.value;e&&e.blur()}},Ce=()=>{const{visiblePanel:e}=k;e&&z()},ke=(e,t,r)=>{n(e,(0,o.lh)(r,{$colorPicker:F},t))},Se={dispatchEvent:ke},Te={};Object.assign(F,Se,Te);const Oe=()=>{const{showColorExtractor:t}=e,{panelColor:n}=k;return t?(0,i.h)("div",{ref:y,class:"vxe-color-picker--color-wrapper",onMousedown:ve},[(0,i.h)("div",{class:"vxe-color-picker--color-bg",style:{backgroundColor:n}}),(0,i.h)("div",{class:"vxe-color-picker--white-bg"}),(0,i.h)("div",{class:"vxe-color-picker--black-bg"}),(0,i.h)("div",{ref:C,class:"vxe-color-picker--color-active"})]):(0,o.C1)(F)},De=()=>{const{showAlpha:t,clickToCopy:n,showEyeDropper:r}=e,{selectTyle:a,showTypePopup:l,hexValue:s,rValue:c,gValue:d,bValue:p,aValue:f,selectColor:h,panelColor:m}=k,y=A.value,w=I.value;return(0,i.h)("div",{class:"vxe-color-picker--bar-wrapper"},[(0,i.h)("div",{class:"vxe-color-picker--slider-wrapper"},[r&&u?(0,i.h)("div",{class:"vxe-color-picker--color-dropper"},[(0,i.h)("span",{class:"vxe-color-picker--color-dropper-btn",onClick:me},[(0,i.h)("i",{class:(0,o.sW)().COLOR_PICKER_EYE_DROPPER})])]):(0,o.C1)(F),(0,i.h)("div",{class:"vxe-color-picker--slider-preview"},[(0,i.h)("div",{class:"vxe-color-picker--preview-btn"},[(0,i.h)("div",{class:"vxe-color-picker--preview-color",style:{backgroundColor:h}},n?[(0,i.h)("span",{class:"vxe-color-picker--preview-copy-btn",onClick:be},[(0,i.h)("i",{class:(0,o.sW)().COLOR_PICKER_COLOR_COPY})])]:[])])]),(0,i.h)("div",{class:"vxe-color-picker--slider-handle"},[(0,i.h)("div",{ref:g,class:"vxe-color-picker--bar-hue-slider",onClick:oe},[(0,i.h)("div",{ref:v,class:"vxe-color-picker--bar-hue-btn",onMousedown:ie})]),t?(0,i.h)("div",{ref:b,class:"vxe-color-picker--bar-alpha-slider",onClick:le},[(0,i.h)("div",{class:"vxe-color-picker--bar-alpha-bg",style:{background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${m})`}}),(0,i.h)("div",{ref:x,class:"vxe-color-picker--bar-alpha-btn",onMousedown:se})]):(0,o.C1)(F)])]),(0,i.h)("div",{class:"vxe-color-picker--custom-wrapper"},[(0,i.h)("div",{class:"vxe-color-picker--type-switch"},[(0,i.h)("div",{class:"vxe-color-picker--type-label",onClick:te},[(0,i.h)("span",`${w?w.label:a}`),(0,i.h)("span",{class:"vxe-color-picker--type-icon"},[(0,i.h)("i",{class:l?(0,o.sW)().COLOR_PICKER_TPTY_OPEN:(0,o.sW)().COLOR_PICKER_TPTY_CLOSE})])]),(0,i.h)("div",{class:["vxe-color-picker--type-popup",{"is--visible":l}]},S.map(e=>(0,i.h)("div",{class:"vxe-color-picker--type-item",onClick(t){t.stopPropagation(),ne(e.value)}},e.label)))]),(0,i.h)("div",{class:`vxe-color-picker--${a}-wrapper`},y?[(0,i.h)("div",{class:"vxe-color-picker--input-wrapper"},[(0,i.h)(Nn,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:c,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.rValue=e},onChange:ce}),(0,i.h)(Nn,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:d,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.gValue=e},onChange:ce}),(0,i.h)(Nn,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:p,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.bValue=e},onChange:ce}),(0,i.h)(Nn,{type:"number",size:"mini",align:"center",min:0,max:1,step:.01,maxLength:4,placeholder:"",modelValue:f,controlConfig:{showButton:!1},"onUpdate:modelValue"(e){k.aValue=e},onChange:ue})]),(0,i.h)("div",{class:"vxe-color-picker--input-title"},[(0,i.h)("span","R"),(0,i.h)("span","G"),(0,i.h)("span","B"),(0,i.h)("span","A")])]:[(0,i.h)("div",{class:"vxe-color-picker--input-wrapper"},[(0,i.h)(Lt,{type:"text",size:"mini",align:"center",maxLength:9,placeholder:"",modelValue:s,"onUpdate:modelValue"(e){k.hexValue=e},onChange(){const e=Sn(k.hexValue);e&&e.value&&(k.selectColor=e.value,$())}})]),(0,i.h)("div",{class:"vxe-color-picker--input-title"},(0,o.TO)("vxe.colorPicker.hex"))])])])},Me=()=>{const{showQuick:t}=e,n=M.value;return t&&n.length?(0,i.h)("div",{class:"vxe-color-picker--quick-wrapper"},n.map((e,t)=>(0,i.h)("div",{key:t,class:"vxe-color-picker--quick-item",title:e.label||"",style:{backgroundColor:e.value},onClick(t){de(t,e)}}))):(0,o.C1)(F)},Ae=()=>{const{className:t,popupClassName:n,clearable:r,modelValue:a}=e,{initialized:l,isActivated:s,isAniVisible:c,visiblePanel:u}=k,d=p.value,g=O.value,v=D.value,b=E.value;return b?(0,i.h)("div",{ref:f,class:["vxe-color-picker--readonly",t]},[(0,i.h)("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:a}})]):(0,i.h)("div",{ref:f,class:["vxe-color-picker",t?w().isFunction(t)?t({$colorPicker:F}):t:"",{[`size--${d}`]:d,"is--selected":!!a,"is--visible":u,"is--disabled":g,"is--active":s}]},[(0,i.h)("input",{ref:h,class:"vxe-color-picker--input",onFocus:G,onBlur:Y}),(0,i.h)("div",{class:"vxe-color-picker--inner",onClick:Q},[(0,i.h)("div",{class:"vxe-color-picker--inner-color",style:{backgroundColor:a}})]),(0,i.h)(i.Teleport,{to:"body",disabled:!v||!l},[(0,i.h)("div",{ref:m,class:["vxe-table--ignore-clear vxe-color-picker--panel",n?w().isFunction(n)?n({$colorPicker:F}):n:"",{[`size--${d}`]:d,"is--transfer":v,"ani--leave":c,"ani--enter":u}],placement:k.panelPlacement,style:k.panelStyle},[l&&(u||c)?(0,i.h)("div",{class:"vxe-color-picker--panel-wrapper",onClick:ee},[Oe(),De(),Me(),(0,i.h)("div",{class:"vxe-color-picker--footer-wrapper"},[r?(0,i.h)(Ee,{content:(0,o.TO)("vxe.colorPicker.clear"),size:"mini",onClick:K}):(0,o.C1)(F),(0,i.h)(Ee,{content:(0,o.TO)("vxe.colorPicker.confirm"),size:"mini",status:"primary",onClick:Z})])]):(0,o.C1)(F)])])])};return(0,i.watch)(()=>e.modelValue,()=>{P()}),(0,i.watch)(()=>e.type,()=>{j()}),(0,i.onMounted)(()=>{o.Nh.on(F,"mousewheel",xe),o.Nh.on(F,"mousedown",ye),o.Nh.on(F,"blur",we),o.Nh.on(F,"resize",Ce)}),(0,i.onUnmounted)(()=>{o.Nh.off(F,"mousewheel"),o.Nh.off(F,"mousedown"),o.Nh.off(F,"blur"),o.Nh.off(F,"resize")}),j(),(0,i.provide)("$xeColorPicker",F),F.renderVN=Ae,F},render(){return this.renderVN()}});const Fn=Object.assign({},Rn,{install(e){e.component(Rn.name,Rn)}});u.use(Fn),o.OE.component(Rn);const _n=Fn;var Pn=Fn;function jn(){return{}}function $n(){return{visible:!1,activeOption:null,activeChildOption:null,popupStyle:{top:"",left:"",zIndex:0},childOffsetX:0}}var Ln=a({name:"VxeContextMenu",props:{modelValue:Boolean,className:String,size:{type:String,default:()=>(0,o.zj)().contextMenu.size||(0,o.zj)().size},options:Array,x:[Number,String],y:[Number,String],autoLocate:{type:Boolean,default:()=>(0,o.zj)().contextMenu.autoLocate},zIndex:[Number,String],position:{type:String,default:()=>(0,o.zj)().contextMenu.position},destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().contextMenu.destroyOnClose},transfer:{type:Boolean,default:()=>(0,o.zj)().contextMenu.transfer}},emits:["update:modelValue","option-click","change","show","hide"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),{computeSize:l}=(0,o.XX)(e),s=jn(),c=(0,i.reactive)($n()),u={refElem:a},d=(0,i.computed)(()=>{const{options:t}=e;return t||[]}),p=(0,i.computed)(()=>{const e=d.value,t=[];for(let n=0;n<e.length;n++){const r=e[n];for(let e=0;e<r.length;e++){const n=r[e];N(n)&&t.push(n)}}return t}),f=(0,i.computed)(()=>{const{x:t,y:n}=e;return`${t}${n}`}),h={},m={xID:r,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>h},g=(e,t,r)=>{n(e,(0,o.lh)(r,{$contextMenu:m},t))},v=e=>{n("update:modelValue",e)},b=()=>{const{modelValue:t}=e,{visible:n}=c,r=!0;return c.visible=r,y(),C(),t!==r&&(v(r),g("change",{value:r},null)),n!==r&&g("show",{visible:r},null),(0,i.nextTick)().then(()=>{k()})},x=()=>{const{modelValue:t}=e,{visible:n}=c,r=!1;return c.visible=r,t!==r&&(v(r),g("change",{value:r},null)),n!==r&&g("hide",{visible:r},null),(0,i.nextTick)()},y=()=>{const{x:t,y:n}=e,{popupStyle:r}=c;r.left=V(t||0),r.top=V(n||0),k()},C=()=>{const{zIndex:t,transfer:n}=e,{popupStyle:r}=c,o=r.zIndex;t?r.zIndex=w().toNumber(t):o<he()&&(r.zIndex=n?me():fe())},k=()=>{const{autoLocate:t,position:n}=e,{popupStyle:r}=c;if(t){const e=a.value;if(e){const{visibleWidth:t,visibleHeight:o}=B(),i=getComputedStyle(e),a=w().toNumber(i.top),l=w().toNumber(i.left),s=e.offsetWidth,c=e.offsetHeight;"absolute"===n||(a+c>o&&(r.top=`${Math.max(0,a-c)}px`),l+s>t&&(r.left=`${Math.max(0,l-s)}px`))}}S()},S=()=>{const e=a.value;if(e){const{visibleWidth:t}=B(),n=2,r=()=>{const r=getComputedStyle(e),o=w().toNumber(r.left),i=e.offsetWidth,a=e.querySelector(".vxe-context-menu--children-wrapper"),l=a?a.offsetWidth:i;c.childOffsetX=o+i>t-l?-l+n:i-n};r(),(0,i.nextTick)(()=>{r()})}},E=()=>{const{modelValue:t}=e;t?b():x()},O={dispatchEvent:g,open:b,close:x},D=e=>{const{children:t}=e;return t&&t.some(e=>!1!==e.visible)},M=(e,t)=>{e.preventDefault(),e.stopPropagation(),D(t)||(g("option-click",{option:t},e),x())},A=(e,t,n)=>{c.activeOption=n||t,n?(c.activeOption=n,c.activeChildOption=t):(c.activeOption=t,D(t)?(c.activeChildOption=_(t),(0,i.nextTick)(()=>{S()})):c.activeChildOption=null)},I=()=>{c.activeOption=null,c.activeChildOption=null},N=e=>!e.loading&&!e.disabled&&!1!==e.visible,R=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(t===r){const t=e[n+1];if(t)return t}}return w().first(e)},F=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(t===r&&n>0)return e[n-1]}return w().last(e)},_=e=>{const{children:t}=e;if(t)for(let n=0;n<t.length;n++){const e=t[n];if(N(e))return e}return null},P=(e,t)=>{const{children:n}=e;let r=null;if(n){for(let e=0;e<n.length;e++){const o=n[e];if(t===o)break;N(o)&&(r=o)}if(!r)for(let e=n.length-1;e>=0;e--){const t=n[e];if(N(t))return t}}return r},j=(e,t)=>{const{children:n}=e;let r=null;if(n){let e=!1;for(let o=0;o<n.length;o++){const i=n[o];if(r||N(i)&&(r=i),e){if(N(i))return i}else e=t===i}}return r},$=e=>{const{visible:t}=c;if(t){const t=a.value;H(e,t,"").flag||x()}},L=e=>{const{visible:t,activeOption:n,activeChildOption:r}=c,i=p.value;if(t){const t=o.Nh.hasKey(e,o.un.ARROW_UP),a=o.Nh.hasKey(e,o.un.ARROW_DOWN),l=o.Nh.hasKey(e,o.un.ARROW_LEFT),s=o.Nh.hasKey(e,o.un.ARROW_RIGHT),u=o.Nh.hasKey(e,o.un.ENTER),d=o.Nh.hasKey(e,o.un.ESCAPE);if(d)return void x();if(u&&(n||r))return e.preventDefault(),e.stopPropagation(),!r&&D(n)?(c.activeChildOption=_(n),void S()):void M(e,r||n);r?t?(e.preventDefault(),c.activeChildOption=P(n,r),S()):a?(e.preventDefault(),c.activeChildOption=j(n,r),S()):l&&(e.preventDefault(),c.activeChildOption=null):n?(e.preventDefault(),t?c.activeOption=F(i,n):a?c.activeOption=R(i,n):D(n)&&s&&(c.activeChildOption=_(n),S())):(e.preventDefault(),c.activeOption=w().first(i))}},z=e=>{const{visible:t}=c;if(t){const t=a.value;H(e,t,"").flag||x()}},W=()=>{const{visible:e}=c;e&&x()},q={};Object.assign(m,O,q);const U=(e,t,n)=>{const{visible:r,disabled:a,loading:l}=e;if(!1===r)return(0,o.C1)(m);const s=Object.assign({},e.prefixConfig),c=s.icon||e.prefixIcon,u=Object.assign({},e.suffixConfig),d=u.icon||e.suffixIcon,p=l?(0,o.TO)("vxe.contextMenu.loadingText"):be(e.name);return(0,i.h)("div",{class:["vxe-context-menu--item-inner",{"is--disabled":a,"is--loading":l}],onClick(t){M(t,e)},onMouseenter(n){A(n,e,t)},onMouseleave:I},[(0,i.h)("div",{class:["vxe-context-menu--item-prefix",s.className||""]},l?[(0,i.h)("span",{key:"1"},[(0,i.h)("i",{class:(0,o.sW)().CONTEXT_MENU_OPTION_LOADING})])]:[c&&w().isFunction(c)?(0,i.h)("span",{key:"2"},T(c({}))):(0,i.h)("span",{key:"3"},[(0,i.h)("i",{class:c})]),s.content?(0,i.h)("span",{key:"4"},`${s.content||""}`):(0,o.C1)(m)]),(0,i.h)("div",{class:"vxe-context-menu--item-label"},p),l||!d&&!u.content?(0,o.C1)(m):(0,i.h)("div",{class:["vxe-context-menu--item-suffix",u.className||""]},[d&&w().isFunction(d)?(0,i.h)("span",{key:"2"},T(d({}))):(0,i.h)("span",{key:"3"},[(0,i.h)("i",{class:d})]),u.content?(0,i.h)("span",{key:"4"},`${u.content||""}`):(0,o.C1)(m)]),n?(0,i.h)("div",{class:"vxe-context-menu--item-subicon"},[(0,i.h)("i",{class:(0,o.sW)().CONTEXT_MENU_CHILDREN})]):(0,o.C1)(m)])},G=()=>{const{activeOption:e,activeChildOption:t,childOffsetX:n}=c,r=d.value,a=[];return r.forEach((r,l)=>{const s=[];r.forEach((r,a)=>{const{children:c}=r,u=c&&c.some(e=>!1!==e.visible),d=e===r,p=d&&!!t;s.push((0,i.h)("div",{key:`${l}_${a}`,class:["vxe-context-menu--item-wrapper vxe-context-menu--first-item",r.className||"",{"is--active":d,"is--subactive":d&&!!t}]},[u&&p?(0,i.h)("div",{class:"vxe-context-menu--children-wrapper",style:{transform:`translate(${n}px, -5px)`}},c.map(e=>(0,i.h)("div",{class:["vxe-context-menu--item-wrapper vxe-context-menu--child-item",e.className||"",{"is--active":t===e}]},[U(e,r)]))):(0,o.C1)(m),U(r,null,u)]))}),a.push((0,i.h)("div",{key:l,class:"vxe-context-menu--group-wrapper"},s))}),a},Y=()=>{const{className:t,position:n,destroyOnClose:r}=e,{visible:o,popupStyle:s}=c,u=l.value;return(0,i.h)("div",{ref:a,class:["vxe-context-menu vxe-context-menu--wrapper","absolute"===n?"is--"+n:"is--fixed",t||"",{[`size--${u}`]:u,"is--visible":o}],style:s},!r||o?G():[])};return(0,i.watch)(f,()=>{y(),(0,i.nextTick)(()=>{k()})}),(0,i.watch)(()=>e.modelValue,()=>{E()}),E(),(0,i.onMounted)(()=>{o.Nh.on(m,"mousewheel",$),o.Nh.on(m,"keydown",L),o.Nh.on(m,"mousedown",z),o.Nh.on(m,"blur",W)}),(0,i.onBeforeUnmount)(()=>{o.Nh.off(m,"mousewheel"),o.Nh.off(m,"keydown"),o.Nh.off(m,"mousedown"),o.Nh.off(m,"blur"),w().assign(c,$n()),w().assign(s,jn())}),m.renderVN=Y,m},render(){return this.renderVN()}});const zn=Object.assign({},Ln,{install(e){e.component(Ln.name,Ln)}});function Vn(e,t,n){s.globalContextMenu={modelValue:!0,options:e.options,className:e.className,size:e.size,zIndex:e.zIndex,x:t,y:n,position:"fixed",destroyOnClose:!0,transfer:!1,events:e.events},d()}const Bn={open(e){const t=Object.assign({x:0,y:0},e);Vn(t,t.x,t.y)},openByEvent(e,t){e.preventDefault(),e.stopPropagation();const n=Object.assign({},t),r=e.clientX+1,o=e.clientY+1;Vn(n,r,o)},close(){s.globalContextMenu=null}};u.use(zn),o.OE.component(Ln),o.OE.contextMenu=Bn;const Hn=zn;var Wn=zn,qn=a({name:"VxeText",props:{status:String,title:[String,Number],icon:String,prefixIcon:String,suffixIcon:String,loading:Boolean,content:[String,Number],clickToCopy:{type:Boolean,default:()=>(0,o.zj)().text.clickToCopy},copyConfig:Object,size:{type:String,default:()=>(0,o.zj)().text.size||(0,o.zj)().size}},emits:["click","dblclick","prefix-click","suffix-click","copy-success","copy-error"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.ref)(),u=(0,i.reactive)({}),d=(0,i.computed)(()=>Object.assign({},(0,o.zj)().text.copyConfig,e.copyConfig)),p={refElem:s},f={},h=t=>{const{content:n}=e,r=d.value,{showMessage:i}=r,a=c.value,l=(a?a.textContent:"")||n;l&&(o.OE.clipboard.copy(l)?(i&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.text.copySuccess"),status:"success"}),b("copy-success",{},t)):(i&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.text.copyError"),status:"error"}),b("copy-error",{},t)))},m=t=>{const{clickToCopy:n}=e,r=d.value;n&&"dblclick"!==r.trigger&&h(t)},g=t=>{const{clickToCopy:n}=e,r=d.value;n&&"dblclick"===r.trigger&&h(t)},v={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>f},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$text:v},t))},x={dispatchEvent:b},y=t=>{const{loading:n}=e;n||b("click",{},t)},C=t=>{const{loading:n}=e;n||b("dblclick",{},t)},k=t=>{const{loading:n}=e;n||b("prefix-click",{},t)},S=t=>{const{loading:n}=e;n||b("suffix-click",{},t)},T={};Object.assign(v,x,T);const E=()=>{const e=d.value,{icon:t,status:n}=e;return(0,i.h)("span",{key:"ci",class:["vxe-text--copy-icon",{[`theme--${n}`]:n}],onClick:m,onDblclick:g},[(0,i.h)("i",{class:t||(0,o.sW)().TEXT_COPY})])},O=()=>{const{loading:t,icon:n,prefixIcon:a,suffixIcon:l,clickToCopy:s,content:u}=e,p=d.value,f=r.default,h=r.prefixIcon||r["prefix-icon"]||r.icon,m=r.suffixIcon||r["suffix-icon"],g="right"===p.layout,v=[];return t?v.push((0,i.h)("span",{key:"lg",class:"vxe-text--loading"},[(0,i.h)("i",{class:(0,o.sW)().TEXT_LOADING})])):s&&!g&&v.push(E()),(a||n)&&v.push((0,i.h)("span",{key:"si",class:"vxe-text--prefix-icon",onClick:k},h?h({}):[(0,i.h)("i",{class:a||n})])),v.push((0,i.h)("span",{key:"ct",ref:c,class:"vxe-text--content",onClick:y,onDblclick:C},f?f({}):w().toValueString(u))),l&&v.push((0,i.h)("span",{key:"si",class:"vxe-text--suffix-icon",onClick:S},m?m({}):[(0,i.h)("i",{class:l})])),s&&g&&!t&&v.push(E()),v},D=()=>{const{loading:t,status:n,title:r,clickToCopy:o}=e,a=l.value;return(0,i.h)("span",{ref:s,title:r,class:["vxe-text",{[`size--${a}`]:a,[`theme--${n}`]:n,"is--copy":o,"is--loading":t}]},O())};return v.renderVN=D,v},render(){return this.renderVN()}}),Un=a({name:"VxeCountdown",props:{modelValue:[Number,String],format:String,prefixConfig:Object,suffixConfig:Object,size:{type:String,default:()=>(0,o.zj)().countdown.size||(0,o.zj)().size}},emits:["update:modelValue","start","end"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({currNum:0,secondNum:0}),u={dnTimeout:void 0},d={refElem:l},p=(0,i.computed)(()=>{const{secondNum:e}=c;return e>=316224e5?["yyyy","MM","dd","HH","mm","ss"]:e>=26784e5?["MM","dd","HH","mm","ss"]:e>=864e5?["dd","HH","mm","ss"]:e>=36e5?["HH","mm","ss"]:e>=6e4?["mm","ss"]:["ss"]}),f=(0,i.computed)(()=>{const{currNum:e}=c,t=w().getDateDiff(Date.now(),Date.now()+e);return Object.assign(t,{done:!(w().isBoolean(t.status)?t.status:t.done)})}),h=(0,i.computed)(()=>{const{format:t}=e,n=f.value;let r="";return t?(r=`${t}`,w().each(n,(e,t)=>{r=r.replace(new RegExp(t,"g"),w().padStart(e,t.length,"0"))}),r):r}),m=(0,i.computed)(()=>Object.assign({},e.prefixConfig,(0,o.zj)().countdown.prefixConfig)),g=(0,i.computed)(()=>Object.assign({},e.suffixConfig,(0,o.zj)().countdown.suffixConfig)),v={computeSize:s},b={xID:a,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>d,getComputeMaps:()=>v},x=(e,t,n)=>{r(e,(0,o.lh)(n,{$carousel:b},t))},y=()=>{const t=w().toNumber(e.modelValue||0);c.secondNum=t,c.currNum=t},C=()=>{const{currNum:e}=c;e>1e3?(c.currNum-=1e3,u.dnTimeout=setTimeout(()=>{C()},1e3)):(c.currNum=0,E())},k={dispatchEvent:x},S=()=>{x("start",{},null),C()},E=()=>{const{dnTimeout:e}=u;e&&(clearTimeout(e),u.dnTimeout=void 0,x("end",{},null))},O={};Object.assign(b,k,O);const D=()=>{const{format:t}=e,n=p.value,r=f.value,a=h.value;return t?[(0,i.h)("div",{key:"format",class:"vxe-countdown--content-format"},a)]:n.map((e,t)=>(0,i.h)("div",{key:t,class:"vxe-countdown--content-item"},[(0,i.h)("div",{class:"vxe-countdown--content-num"},`${r[e]||0}`),(0,i.h)("div",{class:"vxe-countdown--content-unit"},(0,o.TO)(`vxe.countdown.formats.${e}`))]))},M=()=>{const{prefixConfig:t,suffixConfig:r}=e,{currNum:a}=c,u=s.value,d=f.value,p=m.value,h=g.value,v=n.prefix,x=n.suffix,y=n.default;return(0,i.h)("div",{ref:l,class:["vxe-countdown",d.done?"is--progress":"is-end",{[`size--${u}`]:u}]},[v||t?(0,i.h)("div",{class:"vxe-countdown--prefix"},v?T(v({currentValue:a,diffConf:d})):[(0,i.h)(qn,{content:p.content,icon:p.icon,status:p.status})]):(0,o.C1)(b),(0,i.h)("div",{class:"vxe-countdown--content"},y?T(y({currentValue:a,diffConf:d})):D()),x||r?(0,i.h)("div",{class:"vxe-countdown--suffix"},x?T(x({currentValue:a,diffConf:d})):[(0,i.h)(qn,{content:h.content,icon:h.icon,status:h.status})]):(0,o.C1)(b)])};return(0,i.watch)(()=>e.modelValue,()=>{y(),E(),S()}),(0,i.onUnmounted)(()=>{E()}),(0,i.onMounted)(()=>{S()}),y(),b.renderVN=M,b},render(){return this.renderVN()}});const Gn=Object.assign({},Un,{install(e){e.component(Un.name,Un)}});u.use(Gn),o.OE.component(Un);const Yn=Gn;var Kn=Gn,Xn=a({name:"VxeDatePanel",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>(0,o.zj)().datePanel.size||(0,o.zj)().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>(0,o.zj)().datePanel.limitCount},startDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePanel.startDate},endDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePanel.endDate},defaultDate:[String,Number,Date],defaultTime:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>(0,o.zj)().datePanel.startDay},labelFormat:String,valueFormat:String,timeFormat:String,festivalMethod:{type:Function,default:()=>(0,o.zj)().datePanel.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().datePanel.disabledMethod},timeConfig:Object,selectDay:{type:[String,Number],default:()=>(0,o.zj)().datePanel.selectDay}},emits:["update:modelValue","change","click","clear","date-prev","date-today","date-next","confirm"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.reactive)({visiblePanel:!1,isAniVisible:!1,isActivated:!1,inputValue:"",inputLabel:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),s={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0},c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p={refElem:c},f={xID:r,props:e,context:t,reactData:l,internalData:s,getRefMaps:()=>p},h=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),m=(0,i.computed)(()=>{const t=h.value;return t||["date","week","month","quarter","year"].indexOf(e.type)>-1}),g=(0,i.computed)(()=>e.startDate?w().toStringDate(e.startDate):null),v=(0,i.computed)(()=>e.endDate?w().toStringDate(e.endDate):null),b=(0,i.computed)(()=>{const{modelValue:t,multiple:n}=e,r=m.value,o=T.value;return n&&t&&r?w().toValueString(t).split(",").map(e=>{const t=J(e,o);return w().isValidDate(t),t}):[]}),x=(0,i.computed)(()=>{const e=b.value,t=T.value;return e.map(e=>w().toDateString(e,t))}),y=(0,i.computed)(()=>{const e=b.value,t=I.value;return e.map(e=>w().toDateString(e,t)).join(", ")}),C=(0,i.computed)(()=>e.multiple?w().toNumber(e.limitCount):0),k=(0,i.computed)(()=>{const{multiple:t}=e,n=C.value,r=x.value;return!(!t||!n)&&r.length>=n}),S=(0,i.computed)(()=>Object.assign({},(0,o.zj)().datePanel.timeConfig,e.timeConfig)),T=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return et(t,n)}),E=(0,i.computed)(()=>{const{modelValue:t}=e,n=m.value,r=T.value;let o=null;if(t&&n){const e=J(t,r);w().isValidDate(e)&&(o=e)}return o}),O=(0,i.computed)(()=>{const e=g.value,{selectMonth:t}=l;return!(!t||!e)&&t<=e}),D=(0,i.computed)(()=>{const e=v.value,{selectMonth:t}=l;return!(!t||!e)&&w().getWhatMonth(t,0,"last")>=e}),M=(0,i.computed)(()=>{const{datetimePanelValue:e}=l,t=K.value,n=Y.value;return e?w().toDateString(e,n&&t?"HH:mm:ss":n?"HH:mm":"HH"):""}),A=(0,i.computed)(()=>{const e=E.value,t=h.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),I=(0,i.computed)(()=>{const{labelFormat:t}=e,n=m.value;return n?t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`):""}),N=(0,i.computed)(()=>{const{yearSize:e}=s,{selectMonth:t,currentDate:n}=l,r=[];if(t&&n){const o=n.getFullYear(),i=t.getFullYear(),a=new Date(i-i%e,0,1);for(let t=-4;t<e+4;t++){const n=w().getWhatYear(a,t,"first"),i=n.getFullYear();r.push({date:n,isCurrent:!0,isPrev:t<0,isNow:o===i,isNext:t>=e,year:i})}}return r}),R=(0,i.computed)(()=>{const e=m.value;let t="",n="";if(e){const{datePanelType:e,selectMonth:r}=l,i=N.value;let a,s="";r&&(s=r.getFullYear(),a=r.getMonth()+1),"quarter"===e||"month"===e?t=(0,o.TO)("vxe.datePicker.yearTitle",[s]):"year"===e?t=i.length?`${i[0].year} - ${i[i.length-1].year}`:"":(t=(0,o.TO)("vxe.datePicker.yearTitle",[s]),n=a?(0,o.TO)(`vxe.input.date.m${a}`):"-")}return{y:t,m:n}}),F=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),_=(0,i.computed)(()=>{const e=[],t=m.value;if(t){let t=F.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),P=(0,i.computed)(()=>{const e=m.value;if(e){const e=_.value;return e.map(e=>({value:e,label:(0,o.TO)(`vxe.input.date.weeks.w${e}`)}))}return[]}),j=(0,i.computed)(()=>{const e=m.value;if(e){const e=P.value;return[{label:(0,o.TO)("vxe.input.date.weeks.w")}].concat(e)}return[]}),$=(0,i.computed)(()=>{const e=N.value;return w().chunk(e,4)}),L=(0,i.computed)(()=>{const{quarterSize:e}=s,{selectMonth:t,currentDate:n}=l,r=[];if(t&&n){const o=n.getFullYear(),i=nt(n),a=w().getWhatYear(t,0,"first"),l=a.getFullYear();for(let t=-2;t<e-2;t++){const e=w().getWhatQuarter(a,t),n=e.getFullYear(),s=nt(e),c=n<l;r.push({date:e,isPrev:c,isCurrent:n===l,isNow:n===o&&s===i,isNext:!c&&n>l,quarter:s})}}return r}),z=(0,i.computed)(()=>{const e=L.value;return w().chunk(e,2)}),V=(0,i.computed)(()=>{const{monthSize:e}=s,{selectMonth:t,currentDate:n}=l,r=[];if(t&&n){const o=n.getFullYear(),i=n.getMonth(),a=w().getWhatYear(t,0,"first").getFullYear();for(let n=-4;n<e-4;n++){const e=w().getWhatYear(t,0,n),l=e.getFullYear(),s=e.getMonth(),c=l<a;r.push({date:e,isPrev:c,isCurrent:l===a,isNow:l===o&&s===i,isNext:!c&&l>a,month:s})}}return r}),B=(0,i.computed)(()=>{const e=V.value;return w().chunk(e,4)}),H=(0,i.computed)(()=>{const{selectMonth:e,currentDate:t}=l,n=[];if(e&&t){const r=A.value,o=_.value,i=t.getFullYear(),a=t.getMonth(),l=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-o.indexOf(u),p=new Date(w().getWhatDay(e,d).getTime()+r);for(let t=0;t<42;t++){const r=w().getWhatDay(p,t),o=r.getFullYear(),u=r.getMonth(),d=r.getDate(),f=r<e;n.push({date:r,isPrev:f,isCurrent:o===s&&u===c,isNow:o===i&&u===a&&d===l,isNext:!f&&c!==u,label:d})}}return n}),W=(0,i.computed)(()=>{const e=H.value;return w().chunk(e,7)}),q=(0,i.computed)(()=>{const e=W.value,t=F.value;return e.map(e=>{const n=e[0],r={date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:w().getYearWeek(n.date,t)};return[r].concat(e)})}),U=(0,i.computed)(()=>{const e=S.value,{hours:t,hourDisabledMethod:n}=e,r=[],o=h.value;if(o)if(t&&t.length)t.forEach(e=>{if(w().isNumber(e)||w().isString(e)){const t=w().toNumber(e);r.push({value:t,label:(""+t).padStart(2,"0"),disabled:!(!n||!n({hour:t}))})}else if(e){const t=w().toNumber(e.value);r.push({value:t,label:(""+(e.label||t)).padStart(2,"0"),disabled:w().isBoolean(e.disabled)?e.disabled:!(!n||!n({hour:t}))})}});else for(let i=0;i<24;i++){const e=i;r.push({value:e,label:(""+e).padStart(2,"0"),disabled:!(!n||!n({hour:e}))})}return r}),G=(0,i.computed)(()=>{const e=S.value,{minutes:t,minuteDisabledMethod:n}=e,r=[],o=h.value;if(o)if(t&&t.length)t.forEach(e=>{if(w().isNumber(e)||w().isString(e)){const t=w().toNumber(e);r.push({value:t,label:(""+t).padStart(2,"0"),disabled:!(!n||!n({minute:t}))})}else if(e){const t=w().toNumber(e.value);r.push({value:t,label:(""+(e.label||t)).padStart(2,"0"),disabled:w().isBoolean(e.disabled)?e.disabled:!(!n||!n({minute:t}))})}});else for(let i=0;i<60;i++){const e=i;r.push({value:e,label:(""+e).padStart(2,"0"),disabled:!(!n||!n({minute:e}))})}return r}),Y=(0,i.computed)(()=>{const{timeFormat:t}=e,n=T.value;return!/HH/.test(t||n)||/mm/.test(t||n)}),K=(0,i.computed)(()=>{const{timeFormat:t}=e,n=T.value;return!/HH/.test(t||n)||/ss/.test(t||n)}),X=(0,i.computed)(()=>{const e=S.value,{seconds:t,secondDisabledMethod:n}=e,r=[],o=h.value;if(o)if(t&&t.length)t.forEach(e=>{if(w().isNumber(e)||w().isString(e)){const t=w().toNumber(e);r.push({value:t,label:(""+t).padStart(2,"0"),disabled:!(!n||!n({second:t}))})}else if(e){const t=w().toNumber(e.value);r.push({value:t,label:(""+(e.label||t)).padStart(2,"0"),disabled:w().isBoolean(e.disabled)?e.disabled:!(!n||!n({second:t}))})}});else for(let i=0;i<60;i++){const e=i;r.push({value:e,label:(""+e).padStart(2,"0"),disabled:!(!n||!n({second:e}))})}return r}),Z=t=>{const{type:n}=e,r=T.value,o=rt(t,n,{valueFormat:r});l.inputValue=o,l.inputLabel=o,Re()},J=(t,n)=>{const{type:r,multiple:o}=e;return"time"===r?tt(t):w().isArray(t)?w().toStringDate(t[0],n):w().isString(t)?w().toStringDate(o?w().last(t.split(",")):t,n):w().toStringDate(t,n)},Q=()=>{l.inputLabel=e.multiple?y.value:l.datePanelLabel},ee=t=>{const{type:n}=e,{inputLabel:r,datetimePanelValue:o}=l,i=I.value;if(t){let e=J(t,i);if(w().isValidDate(e))if("time"===n)e=w().toDateString(e,i),r!==e&&ne(e,{type:"check"}),l.inputLabel=e;else{let r=!1;const a=F.value;if("datetime"===n){const n=E.value;t===w().toDateString(n,i)&&t===w().toDateString(e,i)||(r=!0,o&&(o.setHours(e.getHours()),o.setMinutes(e.getMinutes()),o.setSeconds(e.getSeconds())))}else r=!0;l.inputLabel=w().toDateString(e,i,{firstDay:a}),r&&se(e)}else Q()}else ne("",{type:"check"})},te=e=>{l.inputValue=e,n("update:modelValue",e)},ne=(t,n)=>{const{type:r,modelValue:o,valueFormat:i}=e,a=T.value;if(l.inputLabel=t,Je(i)){const e=rt(t,r,{valueFormat:a}),i=e?e.getTime():null;te(i),o!==i&&Fe("change",{value:i},n)}else if(Qe(i)){const e=rt(t,r,{valueFormat:a});te(e),(o&&e?w().toStringDate(o).getTime()!==e.getTime():o!==e)&&Fe("change",{value:e},n)}else te(t),w().toValueString(o)!==t&&Fe("change",{value:t},n)},re=()=>new Promise(e=>{l.visiblePanel=!1,s.hpTimeout=setTimeout(()=>{l.isAniVisible=!1,e()},350)}),oe=t=>{const{type:n}=e,r=I.value,o=T.value,i=F.value,a=it(t,n,{valueFormat:o,labelFormat:r,firstDay:i});l.datePanelValue=a.value,l.datePanelLabel=a.label},ie=()=>{const t=m.value,{inputLabel:n}=l;t&&(oe(n),l.inputLabel=e.multiple?y.value:l.datePanelLabel)},ae=()=>{const{modelValue:t}=e,n=m.value;Z(t),n&&ie()},le=e=>{const t=F.value,n=w().getYearWeek(e,t),r=w().getWhatWeek(e,0,t,t),o=w().getWhatMonth(1===n?w().getWhatDay(r,6):e,0,"first");w().isEqual(o,l.selectMonth)||(l.selectMonth=o)},se=(t,n)=>{const{modelValue:r,multiple:o}=e,{datetimePanelValue:i}=l,a=h.value,s=T.value,c=F.value;if("week"===e.type){const n=w().toNumber(e.selectDay);t=w().getWhatWeek(t,0,n,c)}else a&&i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()));const u=w().toDateString(t,s,{firstDay:c});if(le(t),o){const e=k.value;if(a){const r=n?[]:[...b.value],o=[],a=w().findIndexOf(r,e=>w().isDateSame(t,e,"yyyyMMdd"));if(-1===a){if(e)return;r.push(t)}else r.splice(a,1);r.forEach(e=>{e&&(i&&(e.setHours(i.getHours()),e.setMinutes(i.getMinutes()),e.setSeconds(i.getSeconds())),o.push(e))}),ne(o.map(e=>w().toDateString(e,s)).join(","),{type:"update"})}else{const t=n?[]:x.value;if(t.some(e=>w().isEqual(e,u)))ne(t.filter(e=>!w().isEqual(e,u)).join(","),{type:"update"});else{if(e)return;ne(t.concat([u]).join(","),{type:"update"})}}}else w().isEqual(r,u)||ne(u,{type:"update"})},ce=(e,t)=>{const n=F.value,r=w().getYearWeek(e,n),o=w().getWhatWeek(e,0,n,n),i=w().getWhatMonth(1===r?w().getWhatDay(o,6):e,t,"first");l.selectMonth=i},ue=()=>{const{type:t}=e,n=F.value;let r=new Date;switch(t){case"week":r=w().getWhatWeek(r,0,n);break;case"datetime":r=new Date,l.datetimePanelValue=new Date;break;default:r=w().getWhatDay(Date.now(),0,"first");break}l.currentDate=r,ce(r,0)},de=()=>{l.datePanelType="year"},pe=()=>{let{datePanelType:e}=l;e="month"===e||"quarter"===e?"year":"month",l.datePanelType=e},fe=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputLabel:i}=l,{yearSize:a}=s,c=i,u=O.value;if(!u){let e;e="year"===n?w().getWhatYear(o,-a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,-a,"first"):w().getWhatYear(o,-1,"first"):"year"===r?w().getWhatYear(o,-a,"first"):"month"===r?w().getWhatYear(o,-1,"first"):w().getWhatMonth(o,-1,"first"),l.selectMonth=e,Fe("date-prev",{viewType:r,viewDate:e,value:c,type:n},t)}},he=t=>{ue(),se(l.currentDate,!0),e.multiple||re(),Fe("date-today",{type:e.type},t)},me=t=>{const{type:n}=e,{datePanelType:r,selectMonth:o,inputLabel:i}=l,{yearSize:a}=s,c=i,u=D.value;if(!u){let e;e="year"===n?w().getWhatYear(o,a,"first"):"month"===n||"quarter"===n?"year"===r?w().getWhatYear(o,a,"first"):w().getWhatYear(o,1,"first"):"year"===r?w().getWhatYear(o,a,"first"):"month"===r?w().getWhatYear(o,1,"first"):w().getWhatMonth(o,1,"first"),l.selectMonth=e,Fe("date-next",{viewType:r,value:c,type:n},t)}},ge=e=>{const t=g.value,n=v.value,{date:r}=e;return!!(t&&t.getTime()>r.getTime())||!!(n&&n.getTime()<r.getTime())},ve=t=>{const{disabledMethod:n}=e,{datePanelType:r}=l,{date:o}=t;return!!n&&n({type:r,viewType:r,date:o,$datePanel:f})},be=e=>ge(e)||ve(e),xe=t=>{const{type:n,multiple:r}=e,{datePanelType:o}=l;"month"===n?"year"===o?(l.datePanelType="month",le(t)):(se(t),r||re()):"year"===n?(se(t),r||re()):"quarter"===n?"year"===o?(l.datePanelType="quarter",le(t)):(se(t),r||re()):"month"===o?(l.datePanelType="week"===n?n:"day",le(t)):"year"===o?(l.datePanelType="month",le(t)):(se(t),"datetime"===n||r||re())},ye=e=>{be(e)||xe(e.date)},we=e=>{if(!be({date:e})){const t=H.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMMdd"))||le(e),oe(e)}},Ce=e=>{if(!be({date:e})){const t=N.value;t.some(t=>w().isDateSame(t.date,e,"yyyy"))||le(e),oe(e)}},ke=e=>{if(!be({date:e})){const t=L.value;t.some(t=>w().isDateSame(t.date,e,"yyyyq"))||le(e),oe(e)}},Se=e=>{if(!be({date:e})){const t=V.value;t.some(t=>w().isDateSame(t.date,e,"yyyyMM"))||le(e),oe(e)}},Te=e=>{if(!be(e)){const{datePanelType:t}=l;"month"===t?Se(e.date):"quarter"===t?ke(e.date):"year"===t?Ce(e.date):we(e.date)}},Ee=()=>{l.datePanelValue=null},Oe=e=>{if(e){const t=e.offsetHeight,n=e.parentNode;n.scrollTop=e.offsetTop-4*t}},De=e=>{const{datetimePanelValue:t}=l;l.datetimePanelValue=t?new Date(t.getTime()):new Date,Oe(e.currentTarget)},Me=(e,t)=>{const{datetimePanelValue:n}=l;t.disabled||(n&&n.setHours(t.value),De(e))},Ae=t=>{const{multiple:n}=e,{datetimePanelValue:r}=l,o=E.value,i=h.value;if(i){const e=T.value;if(n){const t=x.value;if(i){const t=[...b.value],n=[];t.forEach(e=>{e&&(r&&(e.setHours(r.getHours()),e.setMinutes(r.getMinutes()),e.setSeconds(r.getSeconds())),n.push(e))}),ne(n.map(t=>w().toDateString(t,e)).join(","),{type:"update"})}else ne(t.join(","),{type:"update"})}else se(o||l.currentDate)}re(),Fe("confirm",{},t)},Ie=(e,t)=>{const{datetimePanelValue:n}=l;t.disabled||(n&&n.setMinutes(t.value),De(e))},Ne=(e,t)=>{const{datetimePanelValue:n}=l;t.disabled||(n&&n.setSeconds(t.value),De(e))},Re=()=>{const{type:t,defaultDate:n,defaultTime:r}=e,o=h.value,a=E.value;if(["year","quarter","month","week"].indexOf(t)>-1?l.datePanelType=t:l.datePanelType="day",l.currentDate=w().getWhatDay(Date.now(),0,"first"),a)ce(a,0),oe(a);else if(n){const e=J(n,"yyyy-MM-dd");w().isValidDate(e)?ce(e,0):ue()}else ue();if(o){let e=l.datePanelValue;if(!e&&(e=w().getWhatDay(Date.now(),0,"first"),r)){const t=tt(r);w().isValidDate(t)&&(e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()))}l.datetimePanelValue=e,(0,i.nextTick)(()=>{const e=d.value;w().arrayEach(e.querySelectorAll("li.is--selected"),e=>{Oe(e)})})}},Fe=(e,t,r)=>{n(e,(0,o.lh)(r,{$datePanel:f},t))},_e={dispatchEvent:Fe,getModelValue(){return l.inputValue},setPanelDate(e){e&&le(e)},getPanelDate(){return l.selectMonth},checkValue(e){ee(e)},confirmByEvent(e){Ae(e)}};Object.assign(f,_e);const Pe=(t,n)=>{const{festivalMethod:r}=e,o=[];if(r){const{datePanelType:e}=l,a=r({type:e,viewType:e,date:t.date,$datePanel:f}),s=a?w().isString(a)?{label:a}:a:{},c=s.extra?w().isString(s.extra)?{label:s.extra}:s.extra:null;o.push((0,i.h)("div",{class:["vxe-date-panel--label",{"is-notice":s.notice}]},c&&c.label?[(0,i.h)("div",{class:"vxe-date-panel--label--number"},`${n}`),(0,i.h)("div",{class:["vxe-date-panel--label--extra",c.important?"is-important":"",c.className],style:c.style},w().toValueString(c.label))]:`${n}`));const u=s.label;if(u){const e=w().toValueString(u).split(",");o.push((0,i.h)("div",{class:["vxe-date-panel--festival",s.important?"is-important":"",s.className],style:s.style},[e.length>1?(0,i.h)("div",{class:["vxe-date-panel--festival--overlap",`overlap--${e.length}`]},e.map(e=>(0,i.h)("div",e.substring(0,3)))):(0,i.h)("div",{class:"vxe-date-panel--festival--label"},e[0].substring(0,3))]))}}return o},je=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=E.value,a=P.value,s=W.value,c=b.value,u=k.value,d="yyyyMMdd";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-header"},[(0,i.h)("div",{class:"vxe-date-panel--view-row"},a.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-item",style:{width:100/a.length+"%"}},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},[(0,i.h)("div",{class:"vxe-date-panel--view-item-label"},e.label)])])))]),(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map(n=>{const a=t?c.some(e=>w().isDateSame(e,n.date,d)):w().isDateSame(o,n.date,d);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":ge(n),"is--disabled":ve(n),"is--selected":a,"is--over":u&&!a,"is--hover":!u&&w().isDateSame(r,n.date,d)}],style:{width:100/e.length+"%"},onClick:()=>ye(n),onMouseenter:()=>Te(n),onMouseleave:Ee},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},Pe(n,n.label))])}))))])]},$e=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=E.value,a=j.value,s=q.value,c=b.value,u=k.value,d="yyyyMMdd";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-header"},[(0,i.h)("div",{class:"vxe-date-panel--view-row"},a.map((e,t)=>(0,i.h)("div",{class:"vxe-date-panel--view-item",style:{width:(t?13:9)+"%"}},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},[(0,i.h)("div",{class:"vxe-date-panel--view-item-label"},e.label)])])))]),(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>{const n=t?e.some(e=>c.some(t=>w().isDateSame(t,e.date,d))):e.some(e=>w().isDateSame(o,e.date,d)),a=e.some(e=>w().isDateSame(r,e.date,d)),l=e.some(e=>e.isNow);return(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map((e,t)=>(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":t?e.isNow:l,"is--next":e.isNext,"is--range-disabled":ge(e),"is--disabled":ve(e),"is--selected":n,"is--over":u&&!n,"is--hover":!u&&a}],style:{width:(t?13:9)+"%"},onClick:()=>ye(e),onMouseenter:()=>Te(e),onMouseleave:Ee},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},Pe(e,e.label))])))}))])]},Le=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,a=E.value,s=B.value,c=b.value,u=k.value,d="yyyyMM";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map(n=>{const l=t?c.some(e=>w().isDateSame(e,n.date,d)):w().isDateSame(a,n.date,d);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":ge(n),"is--disabled":ve(n),"is--selected":l,"is--over":u&&!l,"is--hover":!u&&w().isDateSame(r,n.date,d)}],style:{width:100/e.length+"%"},onClick:()=>ye(n),onMouseenter:()=>Te(n),onMouseleave:Ee},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},Pe(n,(0,o.TO)(`vxe.input.date.months.m${n.month}`)))])}))))])]},ze=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,a=E.value,s=z.value,c=b.value,u=k.value,d="yyyyq";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-body"},s.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/s.length+"%"}},e.map(n=>{const l=t?c.some(e=>w().isDateSame(e,n.date,d)):w().isDateSame(a,n.date,d);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":ge(n),"is--disabled":ve(n),"is--selected":l,"is--over":u&&!l,"is--hover":!u&&w().isDateSame(r,n.date,d)}],style:{width:100/e.length+"%"},onClick:()=>ye(n),onMouseenter:()=>Te(n),onMouseleave:Ee},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},Pe(n,(0,o.TO)(`vxe.input.date.quarters.q${n.quarter}`)))])}))))])]},Ve=()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:r}=l,o=E.value,a=$.value,s=b.value,c=k.value,u="yyyy";return[(0,i.h)("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[(0,i.h)("div",{class:"vxe-date-panel--view-body"},a.map(e=>(0,i.h)("div",{class:"vxe-date-panel--view-row",style:{height:100/a.length+"%"}},e.map(n=>{const a=t?s.some(e=>w().isDateSame(e,n.date,u)):w().isDateSame(o,n.date,u);return(0,i.h)("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--range-disabled":ge(n),"is--disabled":ve(n),"is--selected":a,"is--over":c&&!a,"is--hover":!c&&w().isDateSame(r,n.date,u)}],style:{width:100/e.length+"%"},onClick:()=>ye(n),onMouseenter:()=>Te(n),onMouseleave:Ee},[(0,i.h)("div",{class:"vxe-date-panel--view-item-inner"},Pe(n,n.year))])}))))])]},Be=()=>{const{datePanelType:e}=l;switch(e){case"week":return $e();case"month":return Le();case"quarter":return ze();case"year":return Ve()}return je()},He=()=>{const{datePanelType:e}=l,t=O.value,n=D.value,r=R.value;return[(0,i.h)("div",{class:"vxe-date-panel--picker-header"},[(0,i.h)("div",{class:"vxe-date-panel--picker-type-wrapper"},["year"===e?(0,i.h)("span",{class:"vxe-date-panel--picker-label"},r.y):(0,i.h)("span",{class:"vxe-date-panel--picker-btns"},[(0,i.h)("span",{class:"vxe-date-panel--picker-btn",onClick:de},r.y),r.m?(0,i.h)("span",{class:"vxe-date-panel--picker-btn",onClick:pe},r.m):(0,o.C1)(f)])]),(0,i.h)("div",{class:"vxe-date-panel--picker-btn-wrapper"},[(0,i.h)("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-prev-btn",{"is--disabled":t}],onClick:fe},[(0,i.h)("i",{class:"vxe-icon-caret-left"})]),(0,i.h)("span",{class:"vxe-date-panel--picker-btn vxe-date-panel--picker-current-btn",onClick:he},[(0,i.h)("i",{class:"vxe-icon-dot"})]),(0,i.h)("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-next-btn",{"is--disabled":n}],onClick:me},[(0,i.h)("i",{class:"vxe-icon-caret-right"})])])]),(0,i.h)("div",{class:"vxe-date-panel--picker-body"},Be())]},We=()=>{const{type:t}=e,{datetimePanelValue:n}=l,r=M.value,a=U.value,s=Y.value,c=G.value,u=K.value,p=X.value;return["time"===t?(0,o.C1)(f):(0,i.h)("div",{class:"vxe-date-panel--time-header"},[(0,i.h)("div",{class:"vxe-date-panel--time-title"},r)]),(0,i.h)("div",{ref:d,class:"vxe-date-panel--time-body"},[(0,i.h)("ul",{class:"vxe-date-panel--time-hour-list"},a.map((e,t)=>(0,i.h)("li",{key:t,class:{"is--disabled":e.disabled,"is--selected":n&&n.getHours()===e.value},onClick:t=>Me(t,e)},e.label))),s?(0,i.h)("ul",{class:"vxe-date-panel--time-minute-list"},c.map((e,t)=>(0,i.h)("li",{key:t,class:{"is--disabled":e.disabled,"is--selected":n&&n.getMinutes()===e.value},onClick:t=>Ie(t,e)},e.label))):(0,o.C1)(f),s&&u?(0,i.h)("ul",{class:"vxe-date-panel--time-second-list"},p.map((e,t)=>(0,i.h)("li",{key:t,class:{"is--disabled":e.disabled,"is--selected":n&&n.getSeconds()===e.value},onClick:t=>Ne(t,e)},e.label))):(0,o.C1)(f)])]},qe=()=>{const{type:t}=e;return"datetime"===t?(0,i.h)("div",{key:t,ref:u,class:"vxe-date-panel--time-layout-wrapper"},[(0,i.h)("div",{class:"vxe-date-panel--time-left-wrapper"},He()),(0,i.h)("div",{class:"vxe-date-panel--time-right-wrapper"},We())]):"time"===t?(0,i.h)("div",{key:t,ref:u,class:"vxe-date-panel--wrapper"},We()):(0,i.h)("div",{key:t||"default",ref:u,class:"vxe-date-panel--wrapper"},He())},Ue=()=>{const{type:t}=e,n=a.value;return(0,i.h)("div",{class:["vxe-date-panel",`type--${t}`,{[`size--${n}`]:n}]},[qe()])};return(0,i.watch)(()=>e.modelValue,e=>{Z(e),ie()}),(0,i.watch)(()=>e.type,()=>{Object.assign(l,{inputLabel:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),ae()}),(0,i.watch)(I,()=>{const t=m.value;t&&(oe(l.datePanelValue),l.inputLabel=e.multiple?y.value:l.datePanelLabel)}),ae(),Re(),f.renderVN=Ue,f},render(){return this.renderVN()}});const Zn=Object.assign({},Xn,{install(e){e.component(Xn.name,Xn)}});u.use(Zn),o.OE.component(Xn);const Jn=Zn;var Qn=Zn,er=a({name:"VxeDatePicker",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>(0,o.zj)().datePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().datePicker.size||(0,o.zj)().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>(0,o.zj)().datePicker.limitCount},startDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePicker.startDate},endDate:{type:[String,Number,Date],default:()=>(0,o.zj)().datePicker.endDate},defaultDate:[String,Number,Date],defaultTime:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>(0,o.zj)().datePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>(0,o.zj)().datePicker.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().datePicker.disabledMethod},selectDay:{type:[String,Number],default:()=>(0,o.zj)().datePicker.selectDay},showClearButton:{type:Boolean,default:()=>(0,o.zj)().datePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().datePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>(0,o.zj)().datePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},timeConfig:Object,popupConfig:Object,shortcutConfig:Object,startWeek:Number},emits:["update:modelValue","input","change","keydown","keyup","click","focus","blur","clear","confirm","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.reactive)({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:"",inputLabel:""}),m={hpTimeout:void 0},g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C={refElem:g,refInput:v},k={xID:d,props:e,context:t,reactData:f,internalData:m,getRefMaps:()=>C},S=(0,i.computed)(()=>{const{transfer:t}=e,n=_.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().datePicker.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),E=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),O=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),D=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),M=(0,i.computed)(()=>{const t=D.value;return t||["date","week","month","quarter","year"].indexOf(e.type)>-1}),A=(0,i.computed)(()=>e.clearable),I=(0,i.computed)(()=>{const{type:t,editable:n,multiple:r}=e,o=E.value;return o||r||!n||"week"===t||"quarter"===t}),N=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);const n=(0,o.zj)().datePicker.placeholder;return n?be(n):(0,o.TO)("vxe.base.pleaseSelect")}),R=(0,i.computed)(()=>{const{immediate:t}=e;return t}),F=(0,i.computed)(()=>Object.assign({},(0,o.zj)().datePicker.timeConfig,e.timeConfig)),_=(0,i.computed)(()=>Object.assign({},(0,o.zj)().datePicker.popupConfig,e.popupConfig)),P=(0,i.computed)(()=>Object.assign({},(0,o.zj)().datePicker.shortcutConfig,e.shortcutConfig)),j=(0,i.computed)(()=>{const e=P.value,{options:t}=e;return t?t.map((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e)):[]}),$=(0,i.computed)(()=>{const{labelFormat:t}=e;return t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`)}),L=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return et(t,n)}),z=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),V=(0,i.computed)(()=>{const{type:t,multiple:n}=e,{inputValue:r}=f,o=$.value,i=L.value,a=z.value,l=r?n?r.split(","):[r]:[];return l.map(e=>{const n=it(e,t,{valueFormat:i,labelFormat:o,firstDay:a});return n.label}).join(", ")}),B=()=>{const{modelValue:t}=e;let n="";t&&(n=w().isNumber(t)&&/^[0-9]{11,15}$/.test(`${t}`)?new Date(t):t),f.inputValue=n},W=e=>{const{inputValue:t}=f;we(e.type,{value:t},e)},q=(t,n)=>{const{type:o,modelValue:i,valueFormat:a}=e,l=L.value;if(f.inputValue=t,Je(a)){const e=rt(t,o,{valueFormat:l}),a=e?e.getTime():null;r("update:modelValue",a),i!==a&&(we("change",{value:a},n),c&&u&&c.triggerItemEvent(n,u.itemConfig.field,a))}else if(Qe(a)){const e=rt(t,o,{valueFormat:l});r("update:modelValue",e),(i&&e?w().toStringDate(i).getTime()!==e.getTime():i!==e)&&(we("change",{value:e},n),c&&u&&c.triggerItemEvent(n,u.itemConfig.field,e))}else r("update:modelValue",t),w().toValueString(i)!==t&&(we("change",{value:t},n),c&&u&&c.triggerItemEvent(n,u.itemConfig.field,t))},U=e=>{const t=e.target,n=t.value;f.inputLabel=n,we("input",{value:n},e)},G=e=>{const t=R.value;t||W(e)},Y=e=>{f.isActivated=!0;const t=M.value;t&&ve(e),W(e)},K=e=>{const t=O.value;if(!t){const{inputValue:t}=f;we("prefix-click",{value:t},e)}},Z=()=>new Promise(e=>{f.visiblePanel=!1,m.hpTimeout=setTimeout(()=>{f.isAniVisible=!1,e()},350)}),J=(e,t)=>{const n=M.value;n&&Z(),q("",e),we("clear",{value:t},e)},Q=e=>{const t=O.value;if(!t){const{inputValue:t}=f;we("suffix-click",{value:t},e)}},ee=e=>{const t=y.value,{inputValue:n}=f,r=R.value,o=n;r||q(o,e),f.visiblePanel||(f.isActivated=!1,t&&t.checkValue(f.inputLabel)),we("blur",{value:o},e),c&&u&&c.triggerItemEvent(e,u.itemConfig.field,o)},te=e=>{W(e)},ne=e=>{W(e)},re=e=>{const t=y.value;t&&t.confirmByEvent(e),Z()},oe=t=>{const{multiple:n,autoClose:r}=e,{value:o,$event:i}=t,a=D.value;q(o,i),n||a||r&&Z()},ie=e=>{we("confirm",e,e.$event)},ae=e=>{const t=y.value,{visiblePanel:n,isActivated:r}=f,o=g.value,i=x.value,a=O.value;!a&&r&&(f.isActivated=H(e,o).flag||H(e,i).flag,f.isActivated||n&&(Z(),t&&t.checkValue(f.inputLabel)))},le=e=>{const{visiblePanel:t}=f,n=O.value;if(!n){const n=o.Nh.hasKey(e,o.un.TAB),r=o.Nh.hasKey(e,o.un.ESCAPE);n&&(f.isActivated=!1),t&&(r||n)&&Z()}},se=e=>{const{visiblePanel:t}=f,n=O.value;if(!n&&t){const t=x.value;H(e,t).flag?me():Z()}},ce=()=>{const e=y.value,{isActivated:t,visiblePanel:n}=f;if(n&&Z(),t&&(f.isActivated=!1),n||t){e&&e.checkValue(f.inputLabel);const t=v.value;t&&t.blur()}},ue=()=>{const{visiblePanel:e}=f;e&&me()},de=()=>{const t=_.value,n=t.zIndex||e.zIndex;n?f.panelIndex=w().toNumber(n):f.panelIndex<he()&&(f.panelIndex=fe())},me=()=>{const{placement:t}=e,{panelIndex:n}=f,r=v.value,o=b.value,a=S.value,l=_.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});f.panelStyle=i,f.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},ge=()=>{const{visiblePanel:e}=f,t=O.value;return t||e?(0,i.nextTick)():(f.initialized||(f.initialized=!0),m.hpTimeout&&(clearTimeout(m.hpTimeout),m.hpTimeout=void 0),f.isActivated=!0,f.isAniVisible=!0,setTimeout(()=>{f.visiblePanel=!0,me()},10),de(),me())},ve=e=>{const t=E.value;t||(e.preventDefault(),ge())},xe=e=>{W(e)},ye=({option:t,$event:n})=>{const{type:r}=e,{inputValue:i}=f,a=P.value,{autoClose:l}=a,{code:s,clickMethod:c}=t;let u=i;const d={$datePicker:k,option:t,value:u,code:s};if(!c&&s){const e=o.Pi.get(s),t=e?e.datePickerCommandMethod:null;if(t)t(d);else{const e=L.value,t=z.value;switch(s){case"now":case"prev":case"next":case"minus":case"plus":{const o=at(s,u,r,{valueFormat:e,firstDay:t});u=o.value,d.value=u,q(u,n);break}default:h("vxe.error.notCommands",[`[date-picker] ${s}`]);break}}}else{const e=c||a.clickMethod;e&&e(d)}l&&Z(),we("shortcut-click",d,n)},we=(e,t,n)=>{r(e,(0,o.lh)(n,{$datePicker:k},t))},Ce={dispatchEvent:we,setModelValue(e){f.inputValue=e,r("update:modelValue",e)},setModelValueByEvent(e,t){q(t||"",e)},focus(){const e=v.value;return f.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=v.value;return e.blur(),f.isActivated=!1,(0,i.nextTick)()},select(){const e=v.value;return e.select(),f.isActivated=!1,(0,i.nextTick)()},showPanel:ge,hidePanel:Z,updatePlacement:me};Object.assign(k,Ce);const ke=(e,t)=>{const n=P.value,{position:r,align:a,mode:l}=n,s=j.value;return pe(n)&&s.length&&(r||"left")===e?(0,i.h)("div",{class:`vxe-date-picker--layout-${e}-wrapper`},[(0,i.h)(Ye,{options:s,mode:l,align:a,vertical:t,onClick:ye})]):(0,o.C1)(k)},Se=()=>{const{type:t,multiple:r,showClearButton:a,showConfirmButton:l}=e,{initialized:s,isAniVisible:c,visiblePanel:u,panelPlacement:d,panelStyle:h,inputValue:m}=f,g=p.value,v=S.value,C=P.value,T=A.value,E=D.value,O=j.value,M=F.value,I=_.value,{position:N}=C,R=n.header,$=n.footer,L=n.top,z=n.bottom,V=n.left,B=n.right,H=I.className,W=O.length>0,q=null===l?E||r:l,U=null===a?T&&q&&"time"!==t:a;return(0,i.h)(i.Teleport,{to:"body",disabled:!v||!s},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-date-picker--panel",`type--${t}`,H?w().isFunction(H)?H({$datePicker:k}):H:"",{[`size--${g}`]:g,"is--transfer":v,"ani--leave":c,"ani--enter":u,"show--top":!!(L||R||W&&("top"===N||"header"===N)),"show--bottom":!!(z||$||W&&("bottom"===N||"footer"===N)),"show--left":!!(V||W&&"left"===N),"show--right":!!(B||W&&"right"===N)}],placement:d,style:h},s&&(u||c)?[(0,i.h)("div",{ref:x,class:["vxe-date-picker--layout-all-wrapper",`type--${t}`,{[`size--${g}`]:g}]},[L?(0,i.h)("div",{class:"vxe-date-picker--layout-top-wrapper"},L({})):ke("top"),(0,i.h)("div",{class:"vxe-date-picker--layout-body-layout-wrapper"},[V?(0,i.h)("div",{class:"vxe-date-picker--layout-left-wrapper"},V({})):ke("left",!0),(0,i.h)("div",{class:"vxe-date-picker--layout-body-content-wrapper"},[R?(0,i.h)("div",{class:"vxe-date-picker--layout-header-wrapper"},R({})):ke("header"),(0,i.h)("div",{class:"vxe-date-picker--layout-body-wrapper"},[(0,i.h)(Xn,{ref:y,modelValue:f.inputValue,type:e.type,className:e.className,multiple:e.multiple,limitCount:e.limitCount,startDate:e.startDate,endDate:e.endDate,defaultDate:e.defaultDate,defaultTime:e.defaultTime,minDate:e.minDate,maxDate:e.maxDate,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,timeConfig:M,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:oe,onConfirm:ie})]),(0,i.h)("div",{class:"vxe-date-picker--layout-footer-wrapper"},[(0,i.h)("div",{class:"vxe-date-picker--layout-footer-custom"},$?$({}):[ke("footer")]),U||q?(0,i.h)("div",{class:"vxe-date-picker--layout-footer-btns"},[U?(0,i.h)(Ee,{size:"mini",disabled:""===m||w().eqNull(m),content:(0,o.TO)("vxe.button.clear"),onClick:J}):(0,o.C1)(k),q?(0,i.h)(Ee,{size:"mini",status:"primary",content:(0,o.TO)("vxe.button.confirm"),onClick:re}):(0,o.C1)(k)]):(0,o.C1)(k)])]),B?(0,i.h)("div",{class:"vxe-date-picker--layout-right-wrapper"},B({})):ke("right",!0)]),z?(0,i.h)("div",{class:"vxe-date-picker--layout-bottom-wrapper"},z({})):ke("bottom")])]:[])])},Te=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-date-picker--prefix",onClick:K},[(0,i.h)("div",{class:"vxe-date-picker--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):null},Oe=()=>{const{suffixIcon:t}=e,{inputValue:r}=f,a=n.suffix,l=O.value,s=A.value;return(0,i.h)("div",{class:["vxe-date-picker--suffix",{"is--clear":s&&!l&&!(""===r||w().eqNull(r))}]},[s?(0,i.h)("div",{class:"vxe-date-picker--clear-icon",onClick:J},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(k),De(),a||t?(0,i.h)("div",{class:"vxe-date-picker--suffix-icon",onClick:Q},a?T(a({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(k)])},De=()=>(0,i.h)("div",{class:"vxe-date-picker--control-icon",onClick:ve},[(0,i.h)("i",{class:["vxe-date-picker--date-picker-icon",(0,o.sW)().DATE_PICKER_DATE]})]),Me=()=>{const{className:t,type:n,name:r,autoComplete:a}=e,{inputValue:l,inputLabel:s,visiblePanel:c,isActivated:u}=f,d=p.value,h=O.value,m=E.value,b=V.value;if(m)return(0,i.h)("div",{ref:g,class:["vxe-date-picker--readonly",`type--${n}`,t]},b);const x=I.value,y=N.value,C=A.value,S=Te(),T=Oe();return(0,i.h)("div",{ref:g,class:["vxe-date-picker",`type--${n}`,t,{[`size--${d}`]:d,"is--prefix":!!S,"is--suffix":!!T,"is--visible":c,"is--disabled":h,"is--active":u,"show--clear":C&&!h&&!(""===l||w().eqNull(l))}],spellcheck:!1},[S||(0,o.C1)(k),(0,i.h)("div",{class:"vxe-date-picker--wrapper"},[(0,i.h)("input",{ref:v,class:"vxe-date-picker--inner",value:s,name:r,type:"text",placeholder:y,readonly:x,disabled:h,autocomplete:a,onKeydown:te,onKeyup:ne,onClick:xe,onInput:U,onChange:G,onFocus:Y,onBlur:ee})]),T||(0,o.C1)(k),Se()])};return(0,i.watch)(V,e=>{f.inputLabel=e}),(0,i.watch)(()=>e.modelValue,()=>{B()}),(0,i.nextTick)(()=>{o.Nh.on(k,"mousewheel",se),o.Nh.on(k,"mousedown",ae),o.Nh.on(k,"keydown",le),o.Nh.on(k,"blur",ce),o.Nh.on(k,"resize",ue)}),(0,i.onUnmounted)(()=>{o.Nh.off(k,"mousewheel"),o.Nh.off(k,"mousedown"),o.Nh.off(k,"blur"),o.Nh.off(k,"resize")}),B(),(0,i.provide)("$xeDatePicker",k),k.renderVN=Me,k},render(){return this.renderVN()}});const tr=Object.assign({},er,{install(e){e.component(er.name,er)}});u.use(tr),o.OE.component(er);const nr=tr;var rr=tr,or=a({name:"VxeDateRangePicker",props:{modelValue:[String,Number,Date,Array],startValue:[String,Number,Date],endValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().dateRangePicker.size||(0,o.zj)().size},minDate:[String,Number,Date],maxDate:[String,Number,Date],defaultDate:[String,Number,Date,Array],defaultTime:[String,Number,Date,Array],startDay:{type:[String,Number],default:()=>(0,o.zj)().dateRangePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,valueType:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>(0,o.zj)().dateRangePicker.festivalMethod},disabledMethod:{type:Function,default:()=>(0,o.zj)().dateRangePicker.disabledMethod},separator:{type:[String,Number],default:()=>(0,o.zj)().dateRangePicker.separator},selectDay:{type:[String,Number],default:()=>(0,o.zj)().dateRangePicker.selectDay},showClearButton:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>(0,o.zj)().dateRangePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},timeConfig:Object,popupConfig:Object,shortcutConfig:Object},emits:["update:modelValue","update:startValue","update:endValue","input","change","keydown","keyup","click","focus","blur","clear","confirm","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.reactive)({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,startValue:"",endValue:""}),m={},g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C=(0,i.ref)(),k={refElem:g,refInput:v},S={xID:d,props:e,context:t,reactData:f,internalData:m,getRefMaps:()=>k};let E={};const O=(0,i.computed)(()=>{const{transfer:t}=e,n=L.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().dateRangePicker.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),D=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),M=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),A=(0,i.computed)(()=>{const{defaultDate:t}=e;return t?w().isArray(t)?t:`${t}`.indexOf(",")>-1?`${t}`.split(","):[t,t]:[]}),I=(0,i.computed)(()=>{const{defaultTime:t}=e;return t?w().isArray(t)?t:`${t}`.indexOf(",")>-1?`${t}`.split(","):[t,t]:[]}),N=(0,i.computed)(()=>{const{startValue:t,endValue:n}=e;return`${t||""}${n||""}`}),R=(0,i.computed)(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),F=(0,i.computed)(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),_=(0,i.computed)(()=>e.clearable),P=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);const n=(0,o.zj)().dateRangePicker.placeholder;return n?be(n):(0,o.TO)("vxe.dateRangePicker.pleaseRange")}),j=(0,i.computed)(()=>{const{immediate:t}=e;return t}),$=(0,i.computed)(()=>Object.assign({},(0,o.zj)().dateRangePicker.timeConfig,e.timeConfig)),L=(0,i.computed)(()=>Object.assign({},(0,o.zj)().dateRangePicker.popupConfig,e.popupConfig)),z=(0,i.computed)(()=>Object.assign({},(0,o.zj)().dateRangePicker.shortcutConfig,e.shortcutConfig)),V=(0,i.computed)(()=>{const e=z.value,{options:t}=e;return t?t.map((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e)):[]}),B=(0,i.computed)(()=>{const{labelFormat:t}=e;return t||(0,o.TO)(`vxe.input.date.labelFormat.${e.type}`)}),W=(0,i.computed)(()=>{const{type:t,valueFormat:n}=e;return et(t,n)}),q=(0,i.computed)(()=>{const{startDay:t}=e;return w().toNumber(t)}),U=(0,i.computed)(()=>{const{startValue:e,endValue:t}=f,n=e||t?[e||"",t||""]:[];return Y(n)}),G=(0,i.computed)(()=>{const e=U.value;return e.label}),Y=t=>{const{type:n,separator:r}=e,o=B.value,i=W.value,a=q.value,l=t[0]?it(t[0],n,{valueFormat:i,labelFormat:o,firstDay:a}):null,s=t[1]?it(t[1],n,{valueFormat:i,labelFormat:o,firstDay:a}):null,c=l?l.label:"",u=s?s.label:"";return{label:(c||u?[c,u]:[]).join(`${r||" ~ "}`),startLabel:c,endLabel:u}},K=(t,n)=>{const{modelValue:r,valueType:o}=e;let i=w().isArray(r);if(o)switch(o){case"array":i=!0;break;case"string":i=!1;break}if(t||n){const e=[t||"",n||""];return i?e:e.join(",")}return i?[]:""},Z=()=>{const{type:t,modelValue:n}=e,r=W.value;let o="",i="";if(w().isArray(n)){const e=ot(n[0],t,{valueFormat:r}),a=ot(n[1],t,{valueFormat:r});(e||a)&&(o=e||"",i=a||"")}else if(w().isString(n)){const e=n.split(",");(e[0]||e[1])&&(o=e[0]||"",i=e[1]||"")}return{sValue:o,eValue:i}},J=()=>{const{type:t,startValue:n,endValue:r}=e,o=W.value;let i="",a="";return i=ot(n,t,{valueFormat:o}),a=ot(r,t,{valueFormat:o}),{sValue:i,eValue:a}},Q=t=>{const{modelValue:n,startValue:r,endValue:o}=e;let i={sValue:"",eValue:""};i=t?n?Z():J():r||o?J():Z(),f.startValue=i.sValue,f.endValue=i.eValue},ee=e=>{const{startValue:t,endValue:n}=f,r=K(t,n);Ne(e.type,{value:r,startValue:t,endValue:n},e)},te=(t,n,o)=>{const{modelValue:i}=e;f.startValue=t,f.endValue=n;const a=K(t,n),l=t&&n||!t&&!n;r("update:modelValue",a),r("update:startValue",t||""),r("update:endValue",n||""),w().toValueString(i)!==a&&(Ne("change",{value:a,startValue:t,endValue:n,isFinish:l},o),c&&u&&c.triggerItemEvent(o,u.itemConfig.field,a))},ne=e=>{const t=j.value;t||ee(e)},re=e=>{f.isActivated=!0,Me(e),ee(e)},oe=e=>{const t=M.value;if(!t){const{startValue:t,endValue:n}=f,r=K(t,n);Ne("prefix-click",{value:r,startValue:t,endValue:n},e)}},ie=()=>new Promise(e=>{f.visiblePanel=!1,m.hpTimeout=setTimeout(()=>{f.isAniVisible=!1,e()},350)}),ae=(e,t)=>{const n=F.value;n&&ie();const r="",o="";te(r,o,e),Ne("clear",{value:t,startValue:r,endValue:o},e)},le=()=>{const e=y.value,t=C.value;if(e&&t){const n=e.getModelValue(),r=t.getModelValue();n&&r||te("","",{type:"check"})}},se=()=>{const{autoClose:t}=e,{startValue:n,endValue:r}=f,{selectStatus:o}=m,i=F.value;t?o&&i&&n&&r&&ie():n&&r&&(m.selectStatus=!1)},ce=e=>{const t=M.value;if(!t){const{startValue:t,endValue:n}=f,r=K(t,n);Ne("suffix-click",{value:r,startValue:t,endValue:n},e)}},ue=e=>{const{startValue:t,endValue:n}=f,r=j.value,o="";r||te(t,n,e),f.visiblePanel||(f.isActivated=!1),Ne("blur",{value:o,startValue:t,endValue:n},e),c&&u&&c.triggerItemEvent(e,u.itemConfig.field,o)},de=e=>{ee(e)},me=e=>{ee(e)},ge=e=>{const t=y.value,n=C.value;if(t&&n){const r=t.getModelValue(),o=n.getModelValue();r&&!o||!r&&o?te("","",e):(t.confirmByEvent(e),n.confirmByEvent(e));const i=K(r,o);Ne("confirm",{value:i,startValue:r,endValue:o},e)}ie()},ve=e=>{const{selectStatus:t}=m,{value:n,$event:r}=e,o=t?f.endValue:"";te(n,o,r),se(),t||(m.selectStatus=!0),(0,i.nextTick)(()=>{const e=y.value,t=C.value;if(e&&t){const n=e.getModelValue();!o&&n&&t.setPanelDate(w().toStringDate(n))}})},xe=e=>{const{selectStatus:t}=m,{value:n,$event:r}=e,o=t?f.startValue:"";te(o,n,r),se(),t||(m.selectStatus=!0),(0,i.nextTick)(()=>{const e=y.value,t=C.value;if(e&&t){const n=t.getModelValue();!o&&n&&e.setPanelDate(w().toStringDate(n))}})},ye=e=>{const{visiblePanel:t,isActivated:n}=f,r=g.value,o=x.value,i=M.value;!i&&n&&(f.isActivated=H(e,r).flag||H(e,o).flag,f.isActivated||t&&(le(),ie()))},we=e=>{const{visiblePanel:t}=f,n=M.value;if(!n){const n=o.Nh.hasKey(e,o.un.TAB),r=o.Nh.hasKey(e,o.un.ESCAPE);n&&(f.isActivated=!1),t&&(r||n)&&(le(),ie())}},Ce=e=>{const{visiblePanel:t}=f,n=M.value;if(!n&&t){const t=x.value;H(e,t).flag?Oe():(le(),ie())}},ke=()=>{const{visiblePanel:e,isActivated:t}=f;if(e&&(le(),ie()),t&&(f.isActivated=!1),e||t){const e=v.value;e&&e.blur()}},Se=()=>{const{visiblePanel:e}=f;e&&Oe()},Te=()=>{const t=L.value,n=t.zIndex||e.zIndex;n?f.panelIndex=w().toNumber(n):f.panelIndex<he()&&(f.panelIndex=fe())},Oe=()=>{const{placement:t}=e,{panelIndex:n}=f,r=v.value,o=b.value,a=O.value,l=L.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});f.panelStyle=i,f.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},De=()=>{const{visiblePanel:e}=f,t=M.value;return t||e?(0,i.nextTick)():(f.initialized||(f.initialized=!0),m.hpTimeout&&(clearTimeout(m.hpTimeout),m.hpTimeout=void 0),m.selectStatus=!1,f.isActivated=!0,f.isAniVisible=!0,setTimeout(()=>{f.visiblePanel=!0,Oe()},10),Te(),Oe())},Me=e=>{const t=D.value;t||(e.preventDefault(),De())},Ae=e=>{ee(e)},Ie=({option:t,$event:n})=>{const{type:r}=e,i=z.value,{autoClose:a}=i,{code:l,clickMethod:s}=t;let c=f.startValue,u=f.endValue,d=K(c,u);const p={$dateRangePicker:S,option:t,value:d,startValue:c,endValue:u,code:l};if(!s&&l){const e=o.Pi.get(l),t=e?e.dateRangePickerCommandMethod:null;if(t)t(p);else{const e=W.value,t=q.value;switch(l){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const o=ct(l,d,r,{valueFormat:e,firstDay:t});c=o.startValue,u=o.endValue,d=K(c,u),p.value=d,p.startValue=c,p.endValue=u,te(c,u,n);break}default:h("vxe.error.notCommands",[`[date-range-picker] ${l}`]);break}}}else{const e=s||i.clickMethod;e&&e(p)}a&&ie(),Ne("shortcut-click",p,n)},Ne=(e,t,n)=>{r(e,(0,o.lh)(n,{$dateRangePicker:S},t))};E={dispatchEvent:Ne,setModelValue(e,t){f.startValue=e||"",f.endValue=t||"";const n=K(e,t);r("update:modelValue",n)},setModelValueByEvent(e,t,n){te(t||"",n||"",e)},focus(){const e=v.value;return f.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=v.value;return e.blur(),f.isActivated=!1,(0,i.nextTick)()},select(){const e=v.value;return e.select(),f.isActivated=!1,(0,i.nextTick)()},showPanel:De,hidePanel:ie,updatePlacement:Oe},Object.assign(S,E);const Re=(e,t)=>{const n=z.value,{position:r,align:a,mode:l}=n,s=V.value;return pe(n)&&s.length&&(r||"left")===e?(0,i.h)("div",{class:`vxe-date-range-picker--layout-${e}-wrapper`},[(0,i.h)(Ye,{options:s,mode:l,align:a,vertical:t,onClick:Ie})]):(0,o.C1)(S)},Fe=()=>{const{type:t,separator:r,autoClose:a,showConfirmButton:l,showClearButton:s}=e,{initialized:c,isAniVisible:u,visiblePanel:d,panelPlacement:h,panelStyle:m,startValue:g,endValue:v}=f,k=p.value,T=O.value,E=z.value,D=_.value,M=U.value,N=V.value,F=R.value,P=A.value,j=I.value,B=$.value,H=L.value,{startLabel:W,endLabel:q}=M,{position:G}=E,Y=n.header,K=n.footer,X=n.top,Z=n.bottom,J=n.left,Q=n.right,ee=H.className,[te,ne]=P,[re,oe]=j,ie=N.length>0,le=null===l?F||!a:l,se=null===s?D:s;return(0,i.h)(i.Teleport,{to:"body",disabled:!T||!c},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-date-range-picker--panel",`type--${t}`,ee?w().isFunction(ee)?ee({$dateRangePicker:S}):ee:"",{[`size--${k}`]:k,"is--transfer":T,"ani--leave":u,"ani--enter":d,"show--top":!!(X||Y||ie&&("top"===G||"header"===G)),"show--bottom":!!(Z||K||ie&&("bottom"===G||"footer"===G)),"show--left":!!(J||ie&&"left"===G),"show--right":!!(Q||ie&&"right"===G)}],placement:h,style:m},c&&(d||u)?[(0,i.h)("div",{ref:x,class:["vxe-date-range-picker--layout-all-wrapper",`type--${t}`,{[`size--${k}`]:k}]},[X?(0,i.h)("div",{class:"vxe-date-range-picker--layout-top-wrapper"},X({})):Re("top"),(0,i.h)("div",{class:"vxe-date-range-picker--layout-body-layout-wrapper"},[J?(0,i.h)("div",{class:"vxe-date-range-picker--layout-left-wrapper"},J({})):Re("left",!0),(0,i.h)("div",{class:"vxe-date-range-picker--layout-body-content-wrapper"},[Y?(0,i.h)("div",{class:"vxe-date-range-picker--layout-header-wrapper"},Y({})):Re("header"),(0,i.h)("div",{class:"vxe-date-range-picker--layout-body-wrapper"},[(0,i.h)(Xn,{ref:y,modelValue:g,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,endDate:v,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,defaultDate:te,defaultTime:re,timeConfig:B,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:ve}),(0,i.h)(Xn,{ref:C,modelValue:v,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,startDate:g,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,defaultDate:ne,defaultTime:oe,timeConfig:B,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:xe})]),(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-wrapper"},[(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-label"},W||q?[(0,i.h)("span",W),(0,i.h)("span",`${r||""}`),(0,i.h)("span",q)]:`${r||""}`),(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-custom"},K?K({}):[Re("footer")]),(0,i.h)("div",{class:"vxe-date-range-picker--layout-footer-btns"},[se?(0,i.h)(Ee,{size:"mini",disabled:!(g||v),content:(0,o.TO)("vxe.button.clear"),onClick:ae}):(0,o.C1)(S),le?(0,i.h)(Ee,{size:"mini",status:"primary",content:(0,o.TO)("vxe.button.confirm"),onClick:ge}):(0,o.C1)(S)])])]),Q?(0,i.h)("div",{class:"vxe-date-range-picker--layout-right-wrapper"},Q({})):Re("right",!0)]),Z?(0,i.h)("div",{class:"vxe-date-range-picker--layout-bottom-wrapper"},Z({})):Re("bottom")])]:[])])},_e=()=>{const{prefixIcon:t}=e,r=n.prefix;return r||t?(0,i.h)("div",{class:"vxe-date-range-picker--prefix",onClick:oe},[(0,i.h)("div",{class:"vxe-date-range-picker--prefix-icon"},r?T(r({})):[(0,i.h)("i",{class:t})])]):null},Pe=()=>{const{suffixIcon:t}=e,{startValue:r,endValue:a}=f,l=n.suffix,s=M.value,c=_.value;return(0,i.h)("div",{class:["vxe-date-range-picker--suffix",{"is--clear":c&&!s&&(r||a)}]},[c?(0,i.h)("div",{class:"vxe-date-range-picker--clear-icon",onClick:ae},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(S),je(),l||t?(0,i.h)("div",{class:"vxe-date-range-picker--suffix-icon",onClick:ce},l?T(l({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(S)])},je=()=>(0,i.h)("div",{class:"vxe-date-range-picker--control-icon",onClick:Me},[(0,i.h)("i",{class:["vxe-date-range-picker--date-picker-icon",(0,o.sW)().DATE_PICKER_DATE]})]),$e=()=>{const{className:t,type:n,name:r,autoComplete:a}=e,{startValue:l,endValue:s,visiblePanel:c,isActivated:u}=f,d=p.value,h=M.value,m=D.value,b=G.value;if(m)return(0,i.h)("div",{ref:g,class:["vxe-date-range-picker--readonly",`type--${n}`,t]},b);const x=P.value,y=_.value,w=_e(),C=Pe();return(0,i.h)("div",{ref:g,class:["vxe-date-range-picker",`type--${n}`,t,{[`size--${d}`]:d,"is--prefix":!!w,"is--suffix":!!C,"is--visible":c,"is--disabled":h,"is--active":u,"show--clear":y&&!h&&(l||s)}],spellcheck:!1},[w||(0,o.C1)(S),(0,i.h)("div",{class:"vxe-date-range-picker--wrapper"},[(0,i.h)("input",{ref:v,class:"vxe-date-range-picker--inner",value:b,name:r,type:"text",placeholder:x,editable:!1,disabled:h,autocomplete:a,onKeydown:de,onKeyup:me,onClick:Ae,onChange:ne,onFocus:re,onBlur:ue})]),C||(0,o.C1)(S),Fe()])};return(0,i.watch)(()=>e.modelValue,()=>{Q(!0)}),(0,i.watch)(N,()=>{Q(!1)}),Q(!0),(0,i.nextTick)(()=>{o.Nh.on(S,"mousewheel",Ce),o.Nh.on(S,"mousedown",ye),o.Nh.on(S,"keydown",we),o.Nh.on(S,"blur",ke),o.Nh.on(S,"resize",Se)}),(0,i.onDeactivated)(()=>{le()}),(0,i.onUnmounted)(()=>{o.Nh.off(S,"mousewheel"),o.Nh.off(S,"mousedown"),o.Nh.off(S,"blur"),o.Nh.off(S,"resize")}),(0,i.onBeforeUnmount)(()=>{le()}),(0,i.provide)("$xeDateRangePicker",S),S.renderVN=$e,S},render(){return this.renderVN()}});const ir=Object.assign({},or,{install(e){e.component(or.name,or)}});u.use(ir),o.OE.component(or);const ar=ir;var lr=ir;const sr=Object.assign({},bt,{install(e){e.component(bt.name,bt)}}),cr={open(e){const t=Object.assign({},e);s.globalLoading={modelValue:!0,text:t.text,icon:t.icon},d()},close(){s.globalLoading=null}};u.use(sr),o.OE.component(bt),o.OE.loading=cr;const ur=sr;var dr=sr;const pr=[];var fr=a({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:{type:[String,Object],default:()=>(0,o.zj)().drawer.position},lockView:{type:Boolean,default:()=>(0,o.zj)().drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>(0,o.zj)().drawer.mask},maskClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.maskClosable},escClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.escClosable},cancelClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.cancelClosable},confirmClosable:{type:Boolean,default:()=>(0,o.zj)().drawer.confirmClosable},showHeader:{type:Boolean,default:()=>(0,o.zj)().drawer.showHeader},showFooter:{type:Boolean,default:()=>(0,o.zj)().drawer.showFooter},showClose:{type:Boolean,default:()=>(0,o.zj)().drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>(0,o.zj)().drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>(0,o.zj)().drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>(0,o.zj)().drawer.showTitleOverflow},width:[Number,String],height:[Number,String],resize:{type:Boolean,default:()=>(0,o.zj)().drawer.resize},zIndex:Number,transfer:{type:Boolean,default:()=>(0,o.zj)().drawer.transfer},padding:{type:Boolean,default:()=>(0,o.zj)().drawer.padding},size:{type:String,default:()=>(0,o.zj)().drawer.size||(0,o.zj)().size},beforeHideMethod:{type:Function,default:()=>(0,o.zj)().drawer.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","resize"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeModal",null),s=(0,i.inject)("$xeDrawer",null),c=(0,i.inject)("$xeTable",null),u=(0,i.inject)("$xeForm",null),{computeSize:d}=(0,o.XX)(e),p=(0,i.ref)(),f=(0,i.ref)(),h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.reactive)({initialized:!1,visible:!1,contentVisible:!1,drawerZIndex:0,resizeFlag:1}),v={refElem:p},b=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().modal.transfer;if(w().isBoolean(e))return e;if(c||l||s||u)return!0}return t}),x=(0,i.computed)(()=>{switch(e.position){case"top":return"sb";case"bottom":return"st";case"left":return"wr"}return"wl"}),y={},C={xID:a,props:e,context:t,reactData:g,getRefMaps:()=>v,getComputeMaps:()=>y},k=()=>{const e=f.value;return e},S=()=>{const{width:t,height:n}=e,r=k();return r&&(r.style.width=V(t),r.style.height=V(n)),(0,i.nextTick)()},E=()=>{const{zIndex:t}=e,{drawerZIndex:n}=g;t?g.drawerZIndex=t:n<he()&&(g.drawerZIndex=fe())},O=()=>{pr.indexOf(C)>-1&&w().remove(pr,e=>e===C)},D=t=>{const{beforeHideMethod:n}=e,{visible:o}=g,a={type:t};return o&&Promise.resolve(n?n(a):null).then(e=>{w().isError(e)||(g.contentVisible=!1,O(),R("before-hide",a,null),setTimeout(()=>{g.visible=!1,r("update:modelValue",!1),R("hide",a,null)},200))}).catch(e=>e),(0,i.nextTick)()},M=e=>{const t="close";R(t,{type:t},e),D(t)},A=t=>{const{confirmClosable:n}=e,r="confirm";R(r,{type:r},t),n&&D(r)},I=t=>{const{cancelClosable:n}=e,r="cancel";R(r,{type:r},t),n&&D(r)},N=()=>{const{showFooter:t}=e,{initialized:n,visible:o}=g;return n||(g.initialized=!0),o||(g.visible=!0,g.contentVisible=!1,E(),pr.push(C),setTimeout(()=>{S(),g.contentVisible=!0,(0,i.nextTick)(()=>{if(t){const e=h.value,t=m.value,n=e||t;n&&n.focus()}const e="",n={type:e};r("update:modelValue",!0),R("show",n,null)})},10)),(0,i.nextTick)()},R=(e,t,n)=>{r(e,(0,o.lh)(n,{$drawer:C},t))},F={dispatchEvent:R,open:N,close(){return D("close")},getBox:k},_=t=>{const n=p.value;if(e.maskClosable&&t.target===n){const e="mask";D(e)}},P=e=>{const t=o.Nh.hasKey(e,o.un.ESCAPE);if(t){const t=w().max(pr,e=>e.reactData.drawerZIndex);t&&setTimeout(()=>{if(t===C&&t.props.escClosable){const t="exit";R("close",{type:t},e),D(t)}},10)}},j=()=>{const{drawerZIndex:e}=g;pr.some(t=>t.reactData.visible&&t.reactData.drawerZIndex>e)&&E()},$=e=>{e.preventDefault();const{visibleHeight:t,visibleWidth:n}=B(),r=0,o=e.target,i=o.getAttribute("type"),a=0,l=0,s=n,c=t,u=k(),d=u.clientWidth,p=u.clientHeight,f=e.clientX,h=e.clientY,m=u.offsetTop,v=u.offsetLeft,b={type:"resize"};document.onmousemove=e=>{let o,x,y,w;switch(e.preventDefault(),i){case"wl":o=f-e.clientX,y=o+d,v-o>r&&y>a&&(u.style.width=`${y<s?y:s}px`);break;case"st":x=h-e.clientY,w=p+x,m-x>r&&w>l&&(u.style.height=`${w<c?w:c}px`);break;case"wr":o=e.clientX-f,y=o+d,v+y+r<n&&y>a&&(u.style.width=`${y<s?y:s}px`);break;case"sb":x=e.clientY-h,w=x+p,m+w+r<t&&w>l&&(u.style.height=`${w<c?w:c}px`);break}u.className=u.className.replace(/\s?is--drag/,"")+" is--drag",R("resize",b,e),g.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,g.resizeFlag++,setTimeout(()=>{u.className=u.className.replace(/\s?is--drag/,"")},50)}},L={};Object.assign(C,F,L);const z=()=>{const{slots:t={},showClose:r,title:a}=e,l=n.title||t.title,s=n.corner||t.corner;return[(0,i.h)("div",{class:"vxe-drawer--header-title"},l?T(l({$drawer:C})):a?be(a):(0,o.TO)("vxe.alert.title")),(0,i.h)("div",{class:"vxe-drawer--header-right"},[s?(0,i.h)("div",{class:"vxe-drawer--corner-wrapper"},T(s({$drawer:C}))):(0,o.C1)(C),r?(0,i.h)("div",{class:["vxe-drawer--close-btn","trigger--btn"],title:(0,o.TO)("vxe.drawer.close"),onClick:M},[(0,i.h)("i",{class:(0,o.sW)().DRAWER_CLOSE})]):(0,o.C1)(C)])]},H=()=>{const{slots:t={},showTitleOverflow:r}=e,a=n.header||t.header;return e.showHeader?(0,i.h)("div",{class:["vxe-drawer--header",{"is--ellipsis":r}]},a?T(a({$drawer:C})):z()):(0,o.C1)(C)},W=()=>{const{slots:t={},content:r}=e,a=n.default||t.default,l=n.left||t.left,s=n.right||t.right;return(0,i.h)("div",{class:"vxe-drawer--body"},[l?(0,i.h)("div",{class:"vxe-drawer--body-left"},T(l({$drawer:C}))):(0,o.C1)(C),(0,i.h)("div",{class:"vxe-drawer--body-default"},[(0,i.h)("div",{class:"vxe-drawer--content"},a?T(a({$drawer:C})):be(r))]),s?(0,i.h)("div",{class:"vxe-drawer--body-right"},T(s({$drawer:C}))):(0,o.C1)(C),(0,i.h)(dr,{class:"vxe-drawer--loading",modelValue:e.loading})])},q=()=>{const{slots:t={},showCancelButton:r,showConfirmButton:a,loading:l}=e,s=n.leftfoot||t.leftfoot,c=n.rightfoot||t.rightfoot,u=[];return r&&u.push((0,i.h)(Ee,{key:1,ref:m,content:e.cancelButtonText||(0,o.TO)("vxe.button.cancel"),onClick:I})),a&&u.push((0,i.h)(Ee,{key:2,ref:h,loading:l,status:"primary",content:e.confirmButtonText||(0,o.TO)("vxe.button.confirm"),onClick:A})),(0,i.h)("div",{class:"vxe-drawer--footer-wrapper"},[(0,i.h)("div",{class:"vxe-drawer--footer-left"},s?T(s({$drawer:C})):[]),(0,i.h)("div",{class:"vxe-drawer--footer-right"},c?T(c({$drawer:C})):u)])},U=()=>{const{slots:t={}}=e,r=n.footer||t.footer;return e.showFooter?(0,i.h)("div",{class:"vxe-drawer--footer"},r?T(r({$drawer:C})):[q()]):(0,o.C1)(C)},G=()=>{const{slots:t={},className:r,position:a,loading:l,lockScroll:s,padding:c,lockView:u,mask:h,resize:m,destroyOnClose:v}=e,{initialized:y,contentVisible:w,visible:k}=g,S=n.aside||t.aside,E=d.value,O=x.value,D=b.value;return(0,i.h)(i.Teleport,{to:"body",disabled:!D||!y},[(0,i.h)("div",{ref:p,class:["vxe-drawer--wrapper",`pos--${a}`,r||"",{[`size--${E}`]:E,"is--padding":c,"lock--scroll":s,"lock--view":u,"is--resize":m,"is--mask":h,"is--visible":w,"is--active":k,"is--loading":l}],style:{zIndex:g.drawerZIndex},onClick:_},[(0,i.h)("div",{ref:f,class:"vxe-drawer--box",onMousedown:j},[S?(0,i.h)("div",{class:"vxe-drawer--aside"},T(S({$drawer:C}))):(0,o.C1)(C),(0,i.h)("div",{class:"vxe-drawer--container"},!g.initialized||v&&!g.visible?[]:[H(),W(),U(),m?(0,i.h)("span",{class:"vxe-drawer--resize"},[(0,i.h)("span",{class:`${O}-resize`,type:O,onMousedown:$})]):(0,o.C1)(C)])])])])};return(0,i.watch)(()=>e.width,S),(0,i.watch)(()=>e.height,S),(0,i.watch)(()=>e.modelValue,e=>{e?N():D("model")}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{e.modelValue&&N(),S()}),e.escClosable&&o.Nh.on(C,"keydown",P)}),(0,i.onUnmounted)(()=>{o.Nh.off(C,"keydown"),O()}),(0,i.provide)("$xeDrawer",C),C.renderVN=G,C},render(){return this.renderVN()}});function hr(e){return d(),new Promise(t=>{if(e&&e.id&&pr.some(t=>t.props.id===e.id))t("exist");else{const n=e.onHide,r=Object.assign(e,{key:w().uniqueId(),modelValue:!0,onHide(e){const o=s.drawers;n&&n(e),s.drawers=o.filter(e=>e.key!==r.key),t(e.type)}});s.drawers.push(r)}})}function mr(e){return w().find(pr,t=>t.props.id===e)}function gr(e){const t=e?[mr(e)]:pr,n=[];return t.forEach(e=>{e&&n.push(e.close())}),Promise.all(n)}function vr(e){return hr(Object.assign({},e))}const br={get:mr,close:gr,open:vr},xr=Object.assign(fr,{install:function(e){e.component(fr.name,fr)}});o.OE.drawer=br,u.use(xr),o.OE.component(fr);const yr=xr;var wr=xr,Cr=a({name:"VxeEmpty",props:{imageUrl:String,imageStyle:Object,icon:String,status:String,content:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({}),s={refElem:a},c={},u={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>c},d=(e,t,r)=>{n(e,(0,o.lh)(r,{$empty:u},t))},p={dispatchEvent:d},f={};Object.assign(u,p,f);const h=()=>{const{imageUrl:t,imageStyle:n,icon:r,status:l,content:s}=e;return(0,i.h)("div",{ref:a,class:["vxe-empty",{[`theme--${l}`]:l}]},[(0,i.h)("div",{class:"vxe-empty--inner"},[t?(0,i.h)("div",{class:"vxe-empty--img-wrapper"},[(0,i.h)("img",{src:t,style:n})]):(0,i.h)("div",{class:"vxe-empty--icon-wrapper"},[(0,i.h)("i",{class:r||(0,o.sW)().EMPTY_DEFAULT})]),(0,i.h)("div",{class:"vxe-empty--content-wrapper"},`${s||(0,o.TO)("vxe.empty.defText")}`)])])};return u.renderVN=h,u},render(){return this.renderVN()}});const kr=Object.assign({},Cr,{install(e){e.component(Cr.name,Cr)}});u.use(kr),o.OE.component(Cr);const Sr=kr;var Tr=kr;class Er{constructor(e,t){const{field:n,itemRender:r,formatter:i}=t;if(i)if(w().isString(i)){const e=o.Fx.get(i);e&&e.formItemFormatMethod||h("vxe.error.notFormats",[`[form] ${i}`])}else if(w().isArray(i)){const e=o.Fx.get(i[0]);e&&e.formItemFormatMethod||h("vxe.error.notFormats",[`[form] ${i[0]}`])}n&&r&&(r.startField&&`${r.startField}`.indexOf(n)>=0&&h("vxe.error.modelConflicts",[`[form] field=${n}`,`item-render.startField=${r.startField}`]),r.endField&&`${r.endField}`.indexOf(n)>=0&&h("vxe.error.modelConflicts",[`[form] field=${n}`,`item-render.endField=${r.endField}`])),Object.assign(this,{id:w().uniqueId("item_"),title:t.title,field:n,span:t.span,align:t.align,verticalAlign:t.verticalAlign,titleBackground:t.titleBackground,titleBold:t.titleBold,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titleColon:t.titleColon,vertical:t.vertical,padding:t.padding,titleAsterisk:t.titleAsterisk,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,showTitle:t.showTitle,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,showContent:t.showContent,folding:t.folding,collapseNode:t.collapseNode,className:t.className,contentClassName:t.contentClassName,contentStyle:t.contentStyle,titleClassName:t.titleClassName,titleStyle:t.titleStyle,itemRender:r,rules:t.rules,formatter:i,params:t.params,showError:!1,showIconMsg:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function Or(e){return e instanceof Er}function Dr(e,t){return Or(t)?t:new Er(e,t)}function Mr(e,t){return t?w().isString(t)?e.getItemByField(t):t:null}function Ar(e,t){const{reactData:n}=e,{collapseAll:r}=n,{folding:o,visible:i}=t;return!1===i||o&&r}function Ir(e,t){const n=e.xeGrid;let{visibleMethod:r,itemRender:i,visible:a,field:l}=t;if(!1===a)return a;const s=pe(i)?o.Uk.get(i.name):null,c=s?s.formItemVisibleMethod||s.itemVisibleMethod:null;if(!r&&c&&(r=c),!r)return!0;const u=e.props,{data:d}=u;return r({data:d,field:l,property:l,item:t,$form:e,$grid:n})}function Nr(e,t){Object.keys(e).forEach(n=>{(0,i.watch)(()=>e[n],e=>{t.update(n,e)})})}function Rr(e,t,n,r){const{reactData:o}=e,i=e.props,{customLayout:a}=i,{staticItems:l}=o;if(a)l.some(e=>e.id===n.id)||l.push(n);else if(t){const e=t.parentNode,i=r?r.formItem:null,a=i?i.children:l;e&&(a.splice(w().arrayIndexOf(e.children,t),0,n),o.staticItems=l.slice(0))}}function Fr(e,t){const{reactData:n}=e,{staticItems:r}=n,o=w().findIndexOf(r,e=>e.id===t.id);o>-1&&r.splice(o,1),n.staticItems=r.slice(0)}var _r=a({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>(0,o.zj)().icon.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l={xID:r,props:e,context:t},s=e=>{n("click",(0,o.lh)(e,{}))},c=(e,t,r)=>{n(e,(0,o.lh)(r,{$icon:l},t))},u={dispatchEvent:c},d={};Object.assign(l,u,d);const p=()=>{const{name:t,roll:n,status:r,className:o}=e,l=a.value;return(0,i.h)("i",{class:["vxe-icon",`vxe-icon-${t}`,`${o||""}`,{[`size--${l}`]:l,[`theme--${r}`]:r,roll:n}],onClick:s})};return l.renderVN=p,l},render(){return this.renderVN()}});function Pr(e){return(0,i.h)("span",{class:"vxe-form--item-title-tip-prefix"},[(0,i.h)(_r,{class:e.icon||(0,o.sW)().FORM_PREFIX,status:e.iconStatus})])}function jr(e){return(0,i.h)("span",{class:"vxe-form--item-title-tip-suffix"},[(0,i.h)(_r,{class:e.icon||(0,o.sW)().FORM_SUFFIX,status:e.iconStatus})])}function $r(e,t,n){const r=e.props,i=e.reactData,a=e.xeGrid,{computeSize:l,computeValidOpts:s}=e.getComputeMaps(),{data:c,rules:u,readonly:d,disabled:p,span:f,titleBackground:h,titleBold:m,titleColon:g,titleAsterisk:v,vertical:b,padding:x}=r,{collapseAll:y}=i,{folding:C,field:k,itemRender:S,showError:T,className:E,vertical:O,padding:D,children:M,showContent:A}=t,I=l.value,N=s.value,{showErrorMessage:R,showMessage:F,showErrorBackground:_,showErrorIcon:P}=N,j=pe(S)?o.Uk.get(S.name):null,$=j?j.formItemClassName||j.itemClassName:"",L=t.span||f,z=w().eqNull(D)?x:D,V=w().eqNull(O)?b:O,B=w().eqNull(t.titleBackground)?h:t.titleBackground,H=w().eqNull(t.titleBold)?m:t.titleBold,W=w().eqNull(t.titleColon)?g:t.titleColon,q=w().eqNull(t.titleAsterisk)?v:t.titleAsterisk,U={data:c,disabled:p,readonly:d,field:k,property:k,item:t,$form:e,$grid:a},G=M&&M.length>0;let Y=!1,K=!1;if(!d&&u){const e=u[k];e&&e.length&&(K=!0,Y=e.some(e=>e.required))}const X=w().isBoolean(R)?R:F;return[n||G?"vxe-form--group":"","vxe-form--item",t.id,L?`vxe-form--item-col_${L} is--span`:"",(X?"show":"hide")+"--err-msg",E?w().isFunction(E)?E(U):E:"",$?w().isFunction($)?$(U):$:"",{[`size--${I}`]:I,"is--colon":W,"is--tbg":B,"is--bold":H,"is--padding":z,"is--vertical":V,"is--asterisk":q,"hide--content":!1===A,"is--valid":K,"is--required":Y,"is--hidden":C&&y,"is--active":Ir(e,t),"err--icon":P,"err--bg":_,"is--error":T}]}function Lr(e,t,n){const r=e.props,i=e.xeGrid,{data:a,readonly:l,disabled:s,align:c,verticalAlign:u}=r,{field:d,itemRender:p,contentClassName:f,children:h}=t,m=h&&h.length>0,g=pe(p)?o.Uk.get(p.name):null,v=g?g.formItemContentClassName||g.itemContentClassName:"",b=m?t.align:w().eqNull(t.align)?c:t.align,x=m?t.verticalAlign:w().eqNull(t.verticalAlign)?u:t.verticalAlign,y={data:a,disabled:s,readonly:l,field:d,property:d,item:t,$form:e,$grid:i};return[n||m?"vxe-form--group-content vxe-form--item-row":"","vxe-form--item-content",b?`align--${b}`:"",x?`vertical-align--${x}`:"",v?w().isFunction(v)?v(y):v:"",f?w().isFunction(f)?f(y):f:""]}function zr(e,t,n){const r=e.props,a=e.xeGrid,{data:l,readonly:s,disabled:c,titleAlign:u,titleWidth:d,titleOverflow:p,vertical:f}=r,{slots:h,title:m,field:g,itemRender:v,titleOverflow:b,vertical:x,showTitle:y,titleClassName:C,titleStyle:k,titlePrefix:S,titleSuffix:E,children:O,showContent:D}=t,{computeTooltipOpts:M}=e.getComputeMaps(),A=M.value,I=pe(v)?o.Uk.get(v.name):null,N=I?I.formItemTitleClassName||I.itemTitleClassName:"",R=I?I.formItemTitleStyle||I.itemTitleStyle:null,F=w().eqNull(x)?f:x,_=w().eqNull(t.titleAlign)?u:t.titleAlign,P=F?null:w().eqNull(t.titleWidth)?d:t.titleWidth,j=w().eqNull(b)?p:b,$="ellipsis"===j,L="title"===j,z=!0===j||"tooltip"===j,B=L||z||$,H={data:l,disabled:c,readonly:s,field:g,property:g,item:t,$form:e,$grid:a},W=h?h.title:null,q=h?h.prefix:null,U=h?h.suffix||h.extra:null,G=!1!==y&&(m||W),Y=O&&O.length>0,K=[];q&&K.push((0,i.h)("span",{key:"pt",class:"vxe-form--item-title-prefix"},e.callSlot(q,H))),S&&K.push(S.content||S.message?(0,i.h)(we,Object.assign(Object.assign(Object.assign({key:"pm"},A),S),{content:be(S.content||S.message)}),{default:()=>Pr(S)}):Pr(S));const X=I?I.renderFormItemTitle||I.renderItemTitle:null;K.push((0,i.h)("span",{key:"pl",class:"vxe-form--item-title-label"},W?e.callSlot(W,H):X?T(X(v,H)):be(t.title)));const Z=[];E&&Z.push(E.content||E.message?(0,i.h)(we,Object.assign(Object.assign(Object.assign({key:"sm"},A),E),{content:be(E.content||E.message)}),{default:()=>jr(E)}):jr(E)),U&&Z.push((0,i.h)("span",{key:"st",class:"vxe-form--item-title-suffix"},e.callSlot(U,H)));const J=z?{onMouseenter(t){e.triggerTitleTipEvent(t,H)},onMouseleave:e.handleTitleTipLeaveEvent}:{},Q=Object.assign({},w().isFunction(R)?R(H):R,w().isFunction(k)?k(H):k);return P&&"auto"!==P&&!1!==D&&(Q.width=V(P)),G?(0,i.h)("div",Object.assign({class:[n||Y?"vxe-form--group-title":"","vxe-form--item-title",_?`align--${_}`:"",B?"is--ellipsis":"",N?w().isFunction(N)?N(H):N:"",C?w().isFunction(C)?C(H):C:""],style:Q,itemid:t.id,title:L?be(m):null},J),[(0,i.h)("div",{class:"vxe-form--item-title-content"},K),(0,i.h)("div",{class:"vxe-form--item-title-postfix"},Z)]):(0,o.C1)(e)}function Vr(e,t){const{computeValidOpts:n}=e.getComputeMaps(),r=n.value,{showErrorIcon:a,errorIcon:l}=r,{errRule:s,showIconMsg:c}=t;return a?(0,i.h)("div",{key:"emi",class:["vxe-form-item--valid-error-icon-wrapper",{"is--show":c,"is--hide":!c}]},[(0,i.h)("span",{class:"vxe-form-item--valid-error-icon-btn",onClick(n){e.handleValidIconEvent(n,{item:t})}},[(0,i.h)("i",{class:l||(0,o.sW)().FORM_VALID_ERROR_ICON})]),(0,i.h)("div",{class:"vxe-form-item--valid-error-icon-msg-tip"},s?[(0,i.h)("div",{class:`vxe-form-item--valid-error-icon-msg vxe-form-item--valid-error-icon-theme-${r.theme||"normal"}`},s.content||s.message)]:[])]):(0,o.C1)(e)}function Br(e,t){const n=e.props,r=e.reactData,a=e.internalData,l=e.xeGrid,{computeCollapseOpts:s,computeValidOpts:c}=e.getComputeMaps(),{itemFormatCache:u}=a,{data:d,readonly:p,disabled:f}=n,{collapseAll:h}=r,{slots:m,field:g,itemRender:v,collapseNode:b,errRule:x,formatter:y}=t,C=m?m.default:null,k=m?m.valid:null,S=s.value,E=c.value,{showErrorMessage:O,showMessage:D}=E,M=pe(v)?o.Uk.get(v.name):null,A=w().get(d,g),I={data:d,disabled:f,readonly:p,field:g,property:g,item:t,itemValue:A,$form:e,$grid:l};let N=[];const R=M?M.renderFormItemContent||M.renderItemContent:null;if(C)N=e.callSlot(C,I);else if(R)N=T(R(v,I));else if(g){let e=A;if(y){let t;if(g){const e=u[g];if(e)if(t=e.formatData,t){if(t.value===A)return t.label}else t=e.formatData={};else u[g]={field:g}}if(w().isString(y)){const t=o.Fx.get(y),n=t?t.formItemFormatMethod:null;e=n?n(I):""}else if(w().isArray(y)){const t=o.Fx.get(y[0]),n=t?t.formItemFormatMethod:null;e=n?n(I,...y.slice(1)):""}else e=y(I);t&&(t.value=A,t.label=e)}N=[xe(e)?"":`${e}`]}if(b&&N.push((0,i.h)("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[(0,i.h)("span",{class:"vxe-form--item-trigger-text"},h?S.unfoldButtonText||(0,o.TO)("vxe.form.unfolding"):S.foldButtonText||(0,o.TO)("vxe.form.folding")),(0,i.h)("i",{class:["vxe-form--item-trigger-icon",h?S.foldIcon||(0,o.sW)().FORM_FOLDING:S.unfoldIcon||(0,o.sW)().FORM_UNFOLDING]})])),x&&(w().isBoolean(O)?O:D)){const t=Object.assign(Object.assign({},I),{rule:x});N.push((0,i.h)("div",{class:"vxe-form-item--valid-error-tip",style:x.maxWidth?{width:V(x.maxWidth)}:null},[(0,i.h)("div",{class:`vxe-form-item--valid-error-wrapper vxe-form-item--valid-error-theme-${E.theme||"normal"}`},[k?e.callSlot(k,t):[(0,i.h)("span",{class:"vxe-form--item--valid-error-msg"},x.content||x.message)]])]))}return(0,i.h)("div",{key:"ct",class:"vxe-form--item-inner"},N)}const Hr=a({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=(0,i.inject)("$xeForm",{}),n={itemConfig:e.itemConfig};(0,i.provide)("xeFormItemInfo",n);const r=(e,t)=>{const n=e.props,a=e.xeGrid,{data:l,readonly:s,disabled:c}=n,{visible:u,field:d,itemRender:p,contentStyle:f,children:h,showContent:m}=t,g=pe(p)?o.Uk.get(p.name):null,v=g?g.formItemStyle||g.itemStyle:null,b=g?g.formItemContentStyle||g.itemContentStyle:null,x={data:l,disabled:c,readonly:s,field:d,property:d,item:t,$form:e,$grid:a},y=h&&h.length>0;return!1===u?(0,o.C1)(e):(0,i.h)("div",{key:t.id,itemid:t.id,class:$r(e,t),style:w().isFunction(v)?v(x):v},[zr(e,t),!1===m?(0,o.C1)(e):(0,i.h)("div",{class:Lr(e,t),style:Object.assign({},w().isFunction(b)?b(x):b,w().isFunction(f)?f(x):f)},y?h.map(t=>r(e,t)):[Br(e,t),Vr(e,t)])])},a=()=>r(t,e.itemConfig),l={renderVN:a};return(0,i.provide)("$xeFormGroup",null),l},render(){return this.renderVN()}});var Wr=Hr;const qr="modelValue";function Ur(e){return`vxe-${`${e||""}`.replace("$","")}`}function Gr(e){const{name:t}=e;return(0,o.QQ)(t)||(0,i.resolveComponent)(`${t}`)}function Yr({name:e}){return(0,i.resolveComponent)(Ur(e))}function Kr(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function Xr(e,t,n,r){return w().assign({},r,e.props,{[qr]:n})}function Zr(e,t,n,r){const{events:o}=e,i=k(e),a=S(e),l=a===i,s={};return o&&w().objectEach(o,(e,n)=>{s[C(n)]=function(...n){e(t,...n)}}),n&&(s[C(i)]=function(e){n(e),l&&r&&r(e),o&&o[i]&&o[i](t,e)}),!l&&r&&(s[C(a)]=function(...e){r(...e),o&&o[a]&&o[a](t,...e)}),s}function Jr(e,t,n,r){const{events:o}=e,{model:i,change:a}=n||{},l=k(e),s=S(e),c={};return w().objectEach(o,(e,n)=>{c[C(n)]=function(...n){w().isFunction(e)||h("vxe.error.errFunc",[`[form] ${e}`]),e(t,...n)}}),i&&(c[C(l)]=function(e){i(e),o&&o[l]&&o[l](t,e)}),a&&(c[C(s)]=function(...e){a(...e),o&&o[s]&&o[s](t,...e)}),r?Object.assign(c,r):c}function Qr(e,t){const{$form:n,data:r,field:o}=t;return Jr(e,t,{model(e){w().set(r,o,e)},change(){n.updateStatus(t),e.changeToSubmit&&n.handleSubmitEvent(new Event("change"))}})}function eo(e,t){const{$form:n,data:r,field:o}=t;return Zr(e,t,e=>{const t=e.target.value;w().set(r,o,t)},()=>{n.updateStatus(t)})}function to(e,t,n){const{optionGroups:r,optionGroupProps:o={}}=e,a=o.options||"options",l=o.label||"label";return r?r.map((r,o)=>(0,i.h)("optgroup",{key:o,label:r[l]},n(r[a],e,t))):[]}function no(e,t){const{data:n,field:r}=t,{name:o}=e,a=Kr(e),l=w().get(n,r);return[(0,i.h)(`${o}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${o}`},a),{value:!a||"input"!==o||"submit"!==a.type&&"reset"!==a.type?l:null}),eo(e,t)))]}function ro(e,t){const{data:n,field:r}=t,o=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,o)),Qr(e,t)))]}function oo(e,t){const{data:n,field:r}=t,o=w().get(n,r);return[(0,i.h)(Yr(e),Object.assign(Object.assign({},Xr(e,t,o)),Qr(e,t)))]}function io(e,t){return[(0,i.h)((0,i.resolveComponent)("vxe-button"),Object.assign(Object.assign({},Xr(e,t,null)),Jr(e,t)))]}function ao(e,t){const{children:n}=e;return n?n.map(e=>io(e,t)[0]):[]}function lo(e,t,n){const{data:r,field:o}=n,{optionProps:a={}}=t,l=a.label||"label",s=a.value||"value",c=a.disabled||"disabled",u=w().get(r,o);return e?e.map((e,t)=>(0,i.h)("option",{key:t,value:e[s],disabled:e[c],selected:e[s]==u},e[l])):[]}function so(e,t){const{data:n,field:r}=t,o=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,o)),Qr(e,t)))]}function co(e,t){const{options:n,optionProps:r}=e,{data:o,field:a}=t,l=w().get(o,a);return[(0,i.h)(Gr(e),Object.assign(Object.assign({options:n,optionProps:r},Xr(e,t,l)),Qr(e,t)))]}function uo(e,t){const{name:n,options:r,optionProps:o={}}=e,{data:a,field:l}=t,s=o.label||"label",c=o.value||"value",u=o.disabled||"disabled",d=w().get(a,l),p=Ur(n);return r?[(0,i.h)((0,i.resolveComponent)(`${p}-group`),Object.assign(Object.assign({},Xr(e,t,d)),Qr(e,t)),{default:()=>r.map((e,t)=>(0,i.h)((0,i.resolveComponent)(p),{key:t,label:e[c],content:e[s],disabled:e[u]}))})]:[(0,i.h)((0,i.resolveComponent)(p),Object.assign(Object.assign({},Xr(e,t,d)),Qr(e,t)))]}o.Uk.mixin({input:{formItemAutoFocus:"input",renderFormItemContent:no},textarea:{formItemAutoFocus:"textarea",renderFormItemContent:no},select:{formItemAutoFocus:"input",renderFormItemContent(e,t){return[(0,i.h)("select",Object.assign(Object.assign({class:"vxe-default-select"},Kr(e)),eo(e,t)),e.optionGroups?to(e,t,lo):lo(e.options,e,t))]}},VxeInput:{formItemAutoFocus:"input",renderFormItemContent:ro},VxeNumberInput:{formItemAutoFocus:"input",renderFormItemContent:ro},VxePasswordInput:{formItemAutoFocus:"input",renderFormItemContent:ro},VxeTextarea:{formItemAutoFocus:"textarea",renderFormItemContent:ro},VxeDatePicker:{formItemAutoFocus:"input",renderFormItemContent:ro},VxeDateRangePicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{startField:n,endField:r}=e,{$form:o,data:a,field:l}=t,s=w().get(a,l),c={},u={};return n&&r&&(c.startValue=w().get(a,n),c.endValue=w().get(a,r),u["onUpdate:startValue"]=e=>{n&&w().set(a,n,e)},u["onUpdate:endValue"]=e=>{r&&w().set(a,r,e)}),[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,s,c)),Jr(e,t,{model(e){w().set(a,l,e)},change({$event:n,isFinish:r}){o.updateStatus(t),e.changeToSubmit&&r&&o.handleSubmitEvent(n)}},u)))]}},VxeButton:{renderFormItemContent:so},VxeButtonGroup:{renderFormItemContent(e,t){const{options:n}=e,{data:r,field:o}=t,a=w().get(r,o);return[(0,i.h)(Gr(e),Object.assign(Object.assign({options:n},Xr(e,t,a)),Qr(e,t)))]}},VxeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s}=e,c=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,c,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s})),Qr(e,t)))]}},VxeTreeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a}=e,l=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,l,{options:o,optionProps:a})),Qr(e,t)))]}},VxeTableSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a}=e,l=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,l,{options:o,optionProps:a})),Qr(e,t)))]}},VxeColorPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o}=e,a=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,a,{colors:o})),Qr(e,t)))]}},VxeIconPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o}=e,a=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign({},Xr(e,t,a,{icons:o})),Qr(e,t)))]}},VxeRadio:{renderFormItemContent:so},VxeRadioGroup:{renderFormItemContent:co},VxeCheckbox:{renderFormItemContent:so},VxeCheckboxGroup:{renderFormItemContent:co},VxeSwitch:{renderFormItemContent:ro},VxeRate:{renderFormItemContent:ro},VxeSlider:{renderFormItemContent:ro},VxeImage:{renderFormItemContent(e,t){const{data:n,field:r}=t,{props:o}=e,a=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign(Object.assign({},o),{src:a}),Qr(e,t)))]}},VxeImageGroup:{renderFormItemContent(e,t){const{data:n,field:r}=t,{props:o}=e,a=w().get(n,r);return[(0,i.h)(Gr(e),Object.assign(Object.assign(Object.assign({},o),{urlList:a}),Qr(e,t)))]}},VxeUpload:{renderFormItemContent:ro},$input:{formItemAutoFocus:"input",renderFormItemContent:oo},$textarea:{formItemAutoFocus:"textarea",renderFormItemContent:oo},$button:{renderFormItemContent:io},$buttons:{renderFormItemContent:ao},$select:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:r}=t,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s}=e,c=w().get(n,r);return[(0,i.h)(Yr(e),Object.assign(Object.assign({},Xr(e,t,c,{options:o,optionProps:a,optionGroups:l,optionGroupProps:s})),Qr(e,t)))]}},$radio:{renderFormItemContent:uo},$checkbox:{renderFormItemContent:uo},$switch:{renderFormItemContent:oo}});class po{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return be(this.$options.content||this.$options.message)}get message(){return this.content}}function fo(e,t){return!(e&&!(w().isRegExp(e)?e:new RegExp(e)).test(t))}function ho(e,t){return!(!w().eqNull(e)&&t>w().toNumber(e))}function mo(e,t){return!(!w().eqNull(e)&&t<w().toNumber(e))}function go(e,t,n){const{type:r,min:o,max:i,pattern:a}=e,l="array"===r,s="number"===r,c="string"===r,u=`${t}`;if(!fo(a,u))return!1;if(l){if(!w().isArray(t))return!1;if(n&&!t.length)return!1;if(!mo(o,t.length))return!1;if(!ho(i,t.length))return!1}else if(s){const e=Number(t);if(isNaN(e))return!1;if(!mo(o,e))return!1;if(!ho(i,e))return!1}else{if(c&&!w().isString(t))return!1;if(n&&!u)return!1;if(!mo(o,u.length))return!1;if(!ho(i,u.length))return!1}return!0}function vo(e,t,n){const{required:r,field:o}=e,i=o?w().get(t,o):n,a=w().isArray(i)?!i.length:xe(i);if(r){if(a)return!1;if(!go(e,i,r))return!1}else if(!a&&!go(e,i,r))return!1;return!0}function bo(){return{meTimeout:void 0,stTimeout:void 0,tooltipStore:{item:null,visible:!1},itemFormatCache:{}}}var xo=a({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>(0,o.zj)().form.size||(0,o.zj)().size},span:{type:[String,Number],default:()=>(0,o.zj)().form.span},align:{type:String,default:()=>(0,o.zj)().form.align},verticalAlign:{type:String,default:()=>(0,o.zj)().form.verticalAlign},border:{type:Boolean,default:()=>(0,o.zj)().form.border},titleBackground:{type:Boolean,default:()=>(0,o.zj)().form.titleBackground},titleBold:{type:Boolean,default:()=>(0,o.zj)().form.titleBold},titleAlign:{type:String,default:()=>(0,o.zj)().form.titleAlign},titleWidth:{type:[String,Number],default:()=>(0,o.zj)().form.titleWidth},titleColon:{type:Boolean,default:()=>(0,o.zj)().form.titleColon},titleAsterisk:{type:Boolean,default:()=>(0,o.zj)().form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:()=>(0,o.zj)().form.titleOverflow},vertical:{type:Boolean,default:()=>(0,o.zj)().form.vertical},padding:{type:Boolean,default:()=>(0,o.zj)().form.padding},className:[String,Function],readonly:Boolean,disabled:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>(0,o.zj)().form.preventSubmit},validConfig:Object,tooltipConfig:Object,collapseConfig:Object,customLayout:{type:Boolean,default:()=>(0,o.zj)().form.customLayout},params:Object},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeGrid",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({collapseAll:e.collapseStatus,staticItems:[],formItems:[],itemWidth:0}),u=bo(),d=(0,i.ref)(),p=(0,i.ref)();let m={};const g=(0,i.computed)(()=>Object.assign({},(0,o.zj)().form.validConfig,e.validConfig)),v=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tooltip,(0,o.zj)().form.tooltipConfig,e.tooltipConfig)),b=(0,i.computed)(()=>Object.assign({},(0,o.zj)().form.collapseConfig,e.collapseConfig)),x=(0,i.computed)(()=>{const{titleWidth:t,vertical:n}=e,{formItems:r}=c,o=[];return w().eachTree(r,e=>{const{titleWidth:r,vertical:i}=e;if("auto"===r)o.push(e);else{const a=w().eqNull(i)?n:i,l=a?null:w().eqNull(r)?t:r;"auto"!==l||e.children&&e.children.length||o.push(e)}},{children:"children"}),o}),y={refElem:d},C={computeSize:s,computeValidOpts:g,computeTooltipOpts:v,computeCollapseOpts:b,computeAutoItemWidthList:x},k={xID:l,props:e,context:t,reactData:c,internalData:u,xeGrid:a,getRefMaps:()=>y,getComputeMaps:()=>C},S=(e,t)=>e&&(w().isString(e)&&(e=n[e]||null),w().isFunction(e))?T(e(t)):[],E=e=>(e.length&&e.forEach(e=>{e.slots&&w().each(e.slots,e=>{w().isFunction(e)||n[e]||h("vxe.error.notSlot",[`[form] ${e}`])})}),c.staticItems=w().mapTree(e,e=>Dr(k,e),{children:"children"}),u.itemFormatCache={},(0,i.nextTick)().then(()=>Y())),O=()=>{const e=[];return w().eachTree(c.formItems,t=>{e.push(t)},{children:"children"}),e},D=e=>{const t=w().findTree(c.formItems,t=>t.field===e,{children:"children"});return t?t.item:null},M=()=>c.collapseAll,A=()=>{const e=!M();return c.collapseAll=e,r("update:collapseStatus",e),(0,i.nextTick)()},I=t=>{const n=A(),r=M();m.dispatchEvent("toggle-collapse",{status:r,collapse:r,data:e.data},t),m.dispatchEvent("collapse",{status:r,collapse:r,data:e.data},t),n.then(()=>{Y().then(()=>{a&&a.recalculate(!0)}),a&&a.recalculate()})},N=e=>{if(e){let t=e;w().isArray(e)||(t=[e]),t.forEach(e=>{if(e){const t=Mr(k,e);t&&(t.showError=!1,t.showIconMsg=!1)}})}else O().forEach(e=>{e.showError=!1,e.showIconMsg=!1});return(0,i.nextTick)()},R=(e,t,n)=>{const{field:r,resetValue:o}=e;return w().isFunction(o)?o({field:r,item:e,data:t,$form:k,$grid:a}):w().eqNull(o)&&w().isArray(n)?[]:o},F=()=>{const{data:t}=e,n=O();return t&&n.forEach(e=>{const{field:n,itemRender:r}=e;if(pe(r)){const{name:i,startField:l,endField:s}=r,c=o.Uk.get(i),u=c?c.formItemResetMethod||c.itemResetMethod:null;if(c&&u)u({data:t,field:n,property:n,item:e,$form:k,$grid:a});else if(n){const r=w().get(t,n);w().set(t,n,R(e,t,r))}l&&s&&(w().set(t,l,R(e,t,w().get(t,l))),w().set(t,s,R(e,t,w().get(t,s))))}}),u.itemFormatCache={},N(),Y()},_=t=>{t.preventDefault(),F(),m.dispatchEvent("reset",{data:e.data},t)},P=t=>{const n=d.value;if(n)for(let r=0;r<t.length;r++){const i=t[r],l=D(i);if(l&&pe(l.itemRender)){const{itemRender:t}=l,s=o.Uk.get(t.name);r||K(n.querySelector(`.${l.id}`));let c=null;const u=t.autoFocus||t.autofocus||(s?s.formItemAutoFocus:null);if(w().isFunction(u)?c=u({$form:k,$grid:a,item:l,data:e.data,field:i}):!0===u?c=n.querySelector(`.${l.id} input,textarea`):u&&(c=n.querySelector(`.${l.id} ${u}`)),c){c.focus();break}}}},j=(t,n,r)=>{const{data:i,rules:a}=e,l={};return w().isArray(n)||(n=[n]),Promise.all(n.map(e=>{const n=[],s=[];if(e&&a){const l=w().get(a,e);if(l){const a=w().isUndefined(r)?w().get(i,e):r;l.forEach(r=>{const{trigger:c,validator:u}=r;if("all"===t||!c||t===c)if(u){const t={itemValue:a,rule:r,rules:l,data:i,field:e,property:e,$form:k};let d;if(w().isString(u)){const e=o.y$.get(u);if(e){const n=e.formItemValidatorMethod||e.itemValidatorMethod;n?d=n(t):f("vxe.error.notValidators",[`[form] ${u}`])}else h("vxe.error.notValidators",[`[form] ${u}`])}else d=u(t);d&&(w().isError(d)?n.push(new po({type:"custom",trigger:c,content:d.message,rule:new po(r)})):d.catch&&s.push(d.catch(e=>{n.push(new po({type:"custom",trigger:c,content:e?e.message:r.content||r.message,rule:new po(r)}))})))}else vo(r,i,a)||n.push(new po(r))})}}return Promise.all(s).then(()=>{n.length&&(l[e]=n.map(t=>({$form:k,rule:t,data:i,field:e,property:e})))})})).then(()=>{if(!w().isEmpty(l))return Promise.reject(l)})},$=(t,n,r)=>{const{data:o,rules:a}=e,l=g.value,s={},c=[],d=[];return clearTimeout(u.meTimeout),o&&a?(t.forEach(e=>{const{field:t}=e;t&&!Ar(k,e)&&Ir(k,e)&&d.push(j(n||"all",t).then(()=>{e.errRule=null}).catch(n=>{const r=n[t];return s[t]||(s[t]=[]),s[t].push(r),c.push(t),e.errRule=r[0].rule,Promise.reject(r)}))}),Promise.all(d).then(()=>{r&&r()}).catch(()=>new Promise(e=>{u.meTimeout=setTimeout(()=>{t.forEach(e=>{e.errRule&&(e.showError=!0)})},20),!1!==l.autoPos&&(0,i.nextTick)(()=>{P(c)}),r?(r(s),e()):e(s)}))):(r&&r(),Promise.resolve())},L=t=>{const{readonly:n}=e;return N(),n?(0,i.nextTick)():$(O(),"",t).then(e=>(Y(),e))},z=(t,n)=>{const{readonly:r}=e;if(r)return(0,i.nextTick)();let o=[];t&&(o=w().isArray(t)?t:[t]);const a=o.map(e=>Mr(k,e));return $(a,"",n).then(e=>(Y(),e))},V=t=>{const{readonly:n}=e;if(N(),n)return k.dispatchEvent("submit",{data:e.data},t),void Y();$(O()).then(n=>{n?k.dispatchEvent("submit-invalid",{data:e.data,errMap:n},t):k.dispatchEvent("submit",{data:e.data},t),Y()})},B=t=>{t.preventDefault(),e.preventSubmit||V(t)},H=()=>{const{tooltipStore:e}=u,t=p.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),t&&t.close()),(0,i.nextTick)()},W=(e,t)=>{const{item:n}=t,{tooltipStore:r}=u,o=p.value,i=e.currentTarget.children[0],a=(i.textContent||"").trim(),l=i.scrollWidth>i.clientWidth;clearTimeout(u.stTimeout),r.item!==n&&H(),a&&l&&(Object.assign(r,{item:n,visible:!0}),o&&o.open(i,a))},q=()=>{const e=v.value;let t=p.value;t&&t.setActived(!1),e.enterable?u.stTimeout=setTimeout(()=>{t=p.value,t&&!t.isActived()&&H()},e.leaveDelay):H()},U=(e,t,n)=>t?j(e?["blur"].includes(e.type)?"blur":"change":"all",t,n).then(()=>{N(t)}).catch(e=>{const n=e[t],r=D(t);n&&r&&(r.showError=!0,r.errRule=n[0].rule)}):(0,i.nextTick)(),G=(e,t)=>{const{field:n}=e;return U(new Event("change"),n,t)},Y=()=>{const e=x.value,t=d.value;if(t&&e.length){const n=t.querySelectorAll(e.map(e=>`.vxe-form--item-title[itemid="${e.id}"]`).join(","));let r=0;w().arrayEach(n,e=>{e.style.width="",r=Math.max(r,Math.ceil(e.clientWidth+2))}),w().arrayEach(n,e=>{e.style.width=`${r}px`})}return(0,i.nextTick)()},X=()=>{Y()};m={dispatchEvent(e,t,n){r(e,(0,o.lh)(n,{$form:k,$grid:a},t))},reset:F,validate:L,validateField:z,clearValidate:N,updateStatus:G,toggleCollapse:A,getItems:O,getItemByField:D,closeTooltip:H,recalculate:Y};const Z={callSlot:S,triggerItemEvent:U,toggleCollapseEvent:I,triggerTitleTipEvent:W,handleTitleTipLeaveEvent:q,handleValidIconEvent(e,t){const{item:n}=t;n.showIconMsg=!n.showIconMsg},handleSubmitEvent:V};Object.assign(k,m,Z);const J=()=>{const{loading:t,border:r,className:o,data:a,customLayout:l}=e,{formItems:u}=c,f=s.value,h=v.value,m=n.default;return(0,i.h)("form",{ref:d,class:["vxe-form",o?w().isFunction(o)?o({items:u,data:a,$form:k}):o:"",{[`size--${f}`]:f,"is--border":r,"custom--layout":l,"is--loading":t}],onSubmit:B,onReset:_},[(0,i.h)("div",{class:"vxe-form--wrapper vxe-form--item-row"},l?m?m({}):[]:u.map((e,t)=>(0,i.h)(Wr,{key:t,itemConfig:e}))),(0,i.h)("div",{class:"vxe-form-slots",ref:"hideItem"},l?[]:m?m({}):[]),(0,i.h)(dr,{class:"vxe-form--loading",modelValue:t}),(0,i.h)(Se,Object.assign({ref:p},h))])},Q=(0,i.ref)(0);(0,i.watch)(()=>e.vertical,()=>{Q.value++}),(0,i.watch)(()=>e.titleWidth,()=>{Q.value++}),(0,i.watch)(Q,()=>{(0,i.nextTick)().then(()=>{Y()})});const ee=(0,i.ref)(0);(0,i.watch)(()=>c.staticItems.length,()=>{ee.value++}),(0,i.watch)(()=>c.staticItems,()=>{ee.value++}),(0,i.watch)(ee,()=>{c.formItems=c.staticItems,Q.value++});const te=(0,i.ref)(0);return(0,i.watch)(()=>e.items?e.items.length:-1,()=>{te.value++}),(0,i.watch)(()=>e.items,()=>{te.value++}),(0,i.watch)(te,()=>{E(e.items||[])}),(0,i.watch)(()=>e.collapseStatus,e=>{c.collapseAll=!!e}),(0,i.watch)(()=>e.readonly,()=>{N()}),(0,i.watch)(()=>e.disabled,()=>{N()}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{e.customLayout&&e.items&&h("vxe.error.errConflicts",["[form] custom-layout","items"])}),o.Nh.on(k,"resize",X)}),(0,i.onUnmounted)(()=>{o.Nh.off(k,"resize"),w().assign(u,bo())}),e.items&&E(e.items),(0,i.provide)("xeFormItemInfo",null),(0,i.provide)("$xeForm",k),(0,i.provide)("$xeFormGroup",null),(0,i.provide)("$xeFormItem",null),k.renderVN=J,k},render(){return this.renderVN()}});const yo=Object.assign(xo,{install(e){e.component(xo.name,xo)}});u.use(yo),o.OE.component(xo);const wo=yo;var Co=yo;const ko={title:String,field:String,span:{type:[String,Number],default:null},align:{type:String,default:null},verticalAlign:{type:String,default:null},titleBackground:{type:Boolean,default:null},titleBold:{type:Boolean,default:null},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},padding:{type:Boolean,default:null},formatter:[String,Function],className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},showContent:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array,params:Object};var So=a({name:"VxeFormItem",props:ko,setup(e,{slots:t}){const n=w().uniqueId(),r=(0,i.ref)(),a=(0,i.inject)("$xeForm",{}),l=(0,i.inject)("$xeFormGroup",null),s=(0,i.reactive)(Dr(a,e));s.slots=t;const c={itemConfig:s};(0,i.provide)("xeFormItemInfo",c);const u=(e,t)=>{const n=e.props,a=e.xeGrid,{data:l,readonly:s,disabled:c}=n,{visible:u,field:d,itemRender:f,contentStyle:h,showContent:m}=t,g=pe(f)?o.Uk.get(f.name):null,v=g?g.formItemStyle||g.itemStyle:null,b=g?g.formItemContentStyle||g.itemContentStyle:null,x={data:l,disabled:c,readonly:s,field:d,property:d,item:t,$form:e,$grid:a};return!1===u?(0,o.C1)(p):(0,i.h)("div",{ref:r,key:t.id,itemid:t.id,class:$r(e,t),style:w().isFunction(v)?v(x):v},[zr(e,t),!1===m?(0,o.C1)(p):(0,i.h)("div",{class:Lr(e,t),style:Object.assign({},w().isFunction(b)?b(x):b,w().isFunction(h)?h(x):h)},[Br(e,t),Vr(e,t)])])},d=()=>{const e=!!a&&a.props.customLayout,t=s;return e?u(a,t):(0,i.h)("div",{ref:r})},p={xID:n,formItem:s,renderVN:d};return Nr(e,s),(0,i.onMounted)(()=>{const e=r.value;Rr(a,e,s,l)}),(0,i.onUnmounted)(()=>{Fr(a,s)}),(0,i.provide)("$xeFormItem",p),(0,i.provide)("$xeFormGroup",null),p},render(){return this.renderVN()}}),To=a({name:"VxeFormGroup",props:ko,setup(e,t){const{slots:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.inject)("$xeForm",{}),s=(0,i.inject)("$xeFormGroup",null),c=(0,i.reactive)(Dr(l,e));c.slots=n,c.children=[];const u={itemConfig:c};(0,i.provide)("xeFormItemInfo",u);const d=()=>{const e=l.props,t=l.xeGrid,r=c,{data:s,readonly:u,disabled:d}=e,{visible:f,field:h,itemRender:m,contentStyle:g}=r,v=pe(m)?o.Uk.get(m.name):null,b=v?v.formItemStyle||v.itemStyle:null,x=v?v.formItemContentStyle||v.itemContentStyle:null,y=n?n.default:null,C={data:s,disabled:d,readonly:u,field:h,property:h,item:r,$form:l,$grid:t};return!1===f?(0,o.C1)(p):(0,i.h)("div",{ref:a,key:r.id,itemid:r.id,class:$r(l,r,!0),style:w().isFunction(b)?b(C):b},[zr(l,r,!0),(0,i.h)("div",{class:Lr(l,r,!0),style:Object.assign({},w().isFunction(x)?x(C):x,w().isFunction(g)?g(C):g)},y?y({}):[])])},p={xID:r,formItem:c,renderVN:d};return Nr(e,c),(0,i.onMounted)(()=>{const e=a.value;Rr(l,e,c,s)}),(0,i.onUnmounted)(()=>{Fr(l,c)}),(0,i.provide)("$xeFormGroup",p),(0,i.provide)("$xeFormItem",null),p},render(){return this.renderVN()}});const Eo=Object.assign({},To,{name:"VxeFormGather"}),Oo=Object.assign(Eo,{install(e){e.component(Eo.name,Eo)}});u.use(Oo),o.OE.component(Eo);const Do=Oo;var Mo=Oo;const Ao=Object.assign(To,{install(e){e.component(To.name,To)}});u.use(Ao),o.OE.component(To);const Io=Ao;var No=Ao;const Ro=Object.assign(So,{install(e){e.component(So.name,So)}});u.use(Ro),o.OE.component(So);const Fo=Ro;var _o=Ro;const Po=Object.assign({},_r,{install(e){e.component(_r.name,_r)}});u.use(Po),o.OE.component(_r);const jo=Po;var $o=Po,Lo=a({name:"VxeIconPicker",props:{modelValue:String,placeholder:String,clearable:Boolean,size:{type:String,default:()=>(0,o.zj)().iconPicker.size||(0,o.zj)().size},className:[String,Function],popupClassName:[String,Function],showIconTitle:{type:Boolean,default:()=>(0,o.zj)().iconPicker.showIconTitle},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},icons:Array,placement:String,popupConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeModal",null),a=(0,i.inject)("$xeDrawer",null),l=(0,i.inject)("$xeTable",null),s=(0,i.inject)("$xeForm",null),c=(0,i.inject)("xeFormItemInfo",null),u=w().uniqueId(),{computeSize:d}=(0,o.XX)(e),p=(0,i.reactive)({initialized:!1,selectIcon:`${e.modelValue||""}`,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),f={},h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v={refElem:h},b={xID:u,props:e,context:t,reactData:p,getRefMaps:()=>v};let x={};const y=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!s&&s.props.readonly:t}),C=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!s&&s.props.disabled:t}),k=(0,i.computed)(()=>{const{transfer:t}=e,n=O.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().iconPicker.transfer;if(w().isBoolean(e))return e;if(l||r||a||s)return!0}return t}),S=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);const n=(0,o.zj)().select.placeholder;return n?be(n):(0,o.TO)("vxe.base.pleaseSelect")}),E=(0,i.computed)(()=>{let{icons:t}=e;return t&&t.length||(t=(0,o.zj)().iconPicker.icons||[]),t.map(e=>w().isString(e)?{title:e,icon:`vxe-icon-${`${e||""}`.replace(/^vxe-icon-/,"")}`}:{title:`${e.title||""}`,icon:e.icon||"",iconRender:e.iconRender})}),O=(0,i.computed)(()=>Object.assign({},(0,o.zj)().iconPicker.popupConfig,e.popupConfig)),D=(0,i.computed)(()=>{const e=E.value;return w().chunk(e,4)}),M=(0,i.computed)(()=>{const{selectIcon:e}=p,t=E.value;return e?t.find(t=>t.icon===e):null}),A=()=>{p.panelIndex<he()&&(p.panelIndex=fe())},I=()=>{const{placement:t}=e,{panelIndex:n}=p,r=h.value,o=g.value,a=k.value,l=O.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});p.panelStyle=i,p.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},N=()=>{const{hpTimeout:e}=f,t=C.value;t||(e&&(clearTimeout(e),f.hpTimeout=void 0),p.initialized||(p.initialized=!0),p.isActivated=!0,p.isAniVisible=!0,setTimeout(()=>{p.visiblePanel=!0,I()},10),A(),I())},R=()=>{p.visiblePanel=!1,f.hpTimeout=setTimeout(()=>{p.isAniVisible=!1},350)},F=(t,r)=>{p.selectIcon=r,r!==e.modelValue&&(n("update:modelValue",r),U("change",{value:r},t),s&&c&&s.triggerItemEvent(t,c.itemConfig.field,r))},_=()=>{const e=C.value;e||p.visiblePanel||N()},P=()=>{p.isActivated=!1},j=(e,t)=>{F(e,t),U("clear",{value:t},e)},$=(e,t)=>{j(t,null),R()},L=e=>{e.preventDefault(),p.visiblePanel?R():N()},z=e=>{L(e),U("click",{},e)},V=e=>{const{visiblePanel:t}=p,n=C.value;if(!n&&t){const t=g.value;H(e,t).flag?I():R()}},B=e=>{const{visiblePanel:t}=p,n=C.value;if(!n){const n=h.value,r=g.value;p.isActivated=H(e,n).flag||H(e,r).flag,t&&!p.isActivated&&R()}},W=t=>{const{clearable:n}=e,{visiblePanel:r}=p,i=C.value;if(!i){const e=o.Nh.hasKey(t,o.un.TAB),i=o.Nh.hasKey(t,o.un.ENTER),a=o.Nh.hasKey(t,o.un.ESCAPE),l=o.Nh.hasKey(t,o.un.ARROW_UP),s=o.Nh.hasKey(t,o.un.ARROW_DOWN),c=o.Nh.hasKey(t,o.un.DELETE),u=o.Nh.hasKey(t,o.un.SPACEBAR);e&&(p.isActivated=!1),r?a||e?R():i?(t.preventDefault(),t.stopPropagation()):(l||s||u)&&t.preventDefault():(l||s||i||u)&&p.isActivated&&(t.preventDefault(),N()),p.isActivated&&c&&n&&j(t,null)}},q=()=>{const{visiblePanel:e,isActivated:t}=p;if(e&&R(),t&&(p.isActivated=!1),e||t){const e=m.value;e&&e.blur()}},U=(e,t,r)=>{n(e,(0,o.lh)(r,{$iconPicker:b},t))};x={dispatchEvent:U,isPanelVisible(){return p.visiblePanel},togglePanel(){return p.visiblePanel?R():N(),(0,i.nextTick)()},hidePanel(){return p.visiblePanel&&R(),(0,i.nextTick)()},showPanel(){return p.visiblePanel||N(),(0,i.nextTick)()},focus(){const e=m.value;return p.isActivated=!0,e&&e.blur(),(0,i.nextTick)()},blur(){const e=m.value;return e&&e.blur(),p.isActivated=!1,(0,i.nextTick)()}};const G=(e,t)=>{const n=t.icon;F(e,n),R()};Object.assign(b,x);const Y=()=>{const{showIconTitle:t}=e,n=D.value,r=C.value;return(0,i.h)("div",{class:"vxe-ico-picker--list-wrapper"},n.map(e=>(0,i.h)("div",{class:"vxe-ico-picker--list"},e.map(e=>{const{iconRender:n}=e,a=n?o.Uk.get(n.name):null,l=a?a.renderIconPickerOptionIcon:null;return(0,i.h)("div",{class:"vxe-ico-picker--item",onClick(t){r||G(t,e)}},[(0,i.h)("div",{class:"vxe-ico-picker--item-icon"},l&&n?T(l(n,{$iconPicker:b,option:e})):[(0,i.h)("i",{class:e.icon||""})]),t?(0,i.h)("div",{class:"vxe-ico-picker--item-title"},`${e.title||""}`):(0,o.C1)(b)])}))))},K=()=>{const{selectIcon:e}=p,t=M.value;if(t){const{iconRender:e}=t,n=e?o.Uk.get(e.name):null,r=n?n.renderIconPickerOptionIcon:null;if(r&&e)return(0,i.h)("div",{key:"inc",class:"vxe-ico-picker--icon"},T(r(e,{$iconPicker:b,option:t})))}return(0,i.h)("div",{key:"ind",class:"vxe-ico-picker--icon"},[(0,i.h)("i",{class:e})])},Z=()=>{const{className:t,clearable:n}=e,{initialized:r,isActivated:a,isAniVisible:l,visiblePanel:s,selectIcon:c}=p,u=d.value,f=C.value,v=k.value,x=y.value,T=S.value,E=O.value,D=E.className||e.popupClassName;return x?(0,i.h)("div",{ref:h,class:["vxe-ico-picker--readonly",t]},[(0,i.h)("i",{class:c})]):(0,i.h)("div",{ref:h,class:["vxe-ico-picker",t?w().isFunction(t)?t({$iconPicker:b}):t:"",{[`size--${u}`]:u,"show--clear":n&&!f&&!!c,"is--visible":s,"is--disabled":f,"is--active":a}]},[(0,i.h)("div",{class:"vxe-ico-picker--inner",onClick:z},[(0,i.h)("input",{ref:m,class:"vxe-ico-picker--input",onFocus:_,onBlur:P}),c?K():(0,i.h)("div",{class:"vxe-ico-picker--placeholder"},T),(0,i.h)("div",{class:"vxe-ico-picker--suffix"},[(0,i.h)("div",{class:"vxe-ico-picker--clear-icon",onClick:$},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]),(0,i.h)("div",{class:"vxe-ico-picker--suffix-icon"},[(0,i.h)("i",{class:s?(0,o.sW)().ICON_PICKER_OPEN:(0,o.sW)().ICON_PICKER_CLOSE})])])]),(0,i.h)(i.Teleport,{to:"body",disabled:!v||!r},[(0,i.h)("div",{ref:g,class:["vxe-table--ignore-clear vxe-ico-picker--panel",D?w().isFunction(D)?D({$iconPicker:b}):D:"",{[`size--${u}`]:u,"is--transfer":v,"ani--leave":l,"ani--enter":s}],placement:p.panelPlacement,style:p.panelStyle},[r&&(s||l)?(0,i.h)("div",{class:"vxe-ico-picker--panel-wrapper"},[Y()]):(0,o.C1)(b)])])])};return(0,i.watch)(()=>e.modelValue,e=>{p.selectIcon=`${e||""}`}),(0,i.onMounted)(()=>{o.Nh.on(b,"mousewheel",V),o.Nh.on(b,"mousedown",B),o.Nh.on(b,"keydown",W),o.Nh.on(b,"blur",q)}),(0,i.onUnmounted)(()=>{o.Nh.off(b,"mousewheel"),o.Nh.off(b,"mousedown"),o.Nh.off(b,"keydown"),o.Nh.off(b,"blur")}),(0,i.provide)("$xeIconPicker",b),b.renderVN=Z,b},render(){return this.renderVN()}});const zo=Object.assign(Lo,{install:function(e){e.component(Lo.name,Lo)}});u.use(zo),o.OE.component(Lo);const Vo=zo;var Bo=zo,Ho=a({name:"VxeImagePreview",props:{modelValue:Number,urlList:Array,urlField:{type:String,default:()=>(0,o.zj)().imagePreview.urlField},maskClosable:{type:Boolean,default:()=>(0,o.zj)().imagePreview.maskClosable},marginSize:{type:String,default:()=>(0,o.zj)().imagePreview.marginSize},showPrintButton:{type:Boolean,default:()=>(0,o.zj)().imagePreview.showPrintButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().imagePreview.showDownloadButton},zIndex:Number,toolbarConfig:Object,beforeDownloadMethod:Function,downloadMethod:Function},emits:["update:modelValue","change","download","download-fail","rotate","close"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l={refElem:a},s=(0,i.reactive)({activeIndex:e.modelValue||0,offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0}),c=(0,i.computed)(()=>e.urlField||"url"),u=(0,i.computed)(()=>w().toNumber(e.marginSize||0)||16),d=(0,i.computed)(()=>Object.assign({},(0,o.zj)().imagePreview.toolbarConfig,e.toolbarConfig)),p=(0,i.computed)(()=>{const{offsetRotate:e}=s;return e?`${e}°`:"0°"}),f=(0,i.computed)(()=>{const{offsetScale:e}=s;return e?`${w().ceil(100*(1+e))}%`:"100%"}),h=(0,i.computed)(()=>{const{urlList:t}=e,n=c.value;return t&&t.length?t.map(e=>w().isString(e)?e:e[n]?e[n]:""):[]}),m=(0,i.computed)(()=>{let{offsetScale:e,offsetRotate:t,offsetLeft:n,offsetTop:r}=s;const o=[];let i=1;if(e&&(i=1+e,o.push(`scale(${i})`)),t&&o.push(`rotate(${t}deg)`),n||r){n/=i,r/=i;let e=n,a=r;if(t)switch(t%360){case 90:case-270:e=r,a=-n;break;case 180:case-180:e=-n,a=-r;break;case 270:case-90:e=-r,a=n;break}o.push(`translate(${e}px, ${a}px)`)}return o.length?o.join(" "):""}),g={computeImgList:h},v={xID:r,props:e,context:t,reactData:s,getRefMaps:()=>l,getComputeMaps:()=>g},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$imagePreview:v},t))},x={dispatchEvent:b},y=e=>{s.activeIndex=e,n("update:modelValue",e)},C=e=>{b("close",{},e)},k={},S=()=>{const e=a.value;$(e,"is--move"),Object.assign(s,{offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0})},T=()=>{const{offsetScale:e}=s;let t=.02;return e>=-.6&&(t=.04,e>=-.4&&(t=.07,e>=0&&(t=.1,e>=3&&(t=.25,e>=8&&(t=.4,e>=16&&(t=.6,e>=24&&(t=.9,e>=32&&(t=1.3,e>=39&&(t=1.9,e>=45&&(t=2.5)))))))))),t},E=e=>{const{offsetScale:t}=s,n=T();s.offsetScale=Number(e?Math.min(49,t+n).toFixed(2):Math.max(-.9,t-n).toFixed(2))},O=(e,t)=>{let n=s.activeIndex||0;const r=h.value;t?n>=r.length-1?n=0:n++:n<=0?n=r.length-1:n--;const o=r[n||0];s.activeIndex=n,S(),y(n),b("change",{url:o,activeIndex:n},e)},D=(e,t)=>{const n=h.value,{activeIndex:r}=s,o=n[r||0];let i=s.offsetRotate;t?i+=90:i-=90,s.offsetRotate=i,b("rotate",{url:o,rotateValue:i},e)},M=()=>{S(),s.offsetPct11=!0},A=()=>{const{activeIndex:e}=s,t=h.value,n=t[e||0];o.OE.print&&o.OE.print({align:"center",pageBreaks:[{bodyHtml:`<img src="${n}" style="max-width:100%;max-height:100%;">`}]})},I=(e,t)=>{b("download",{url:t},e)},N=(e,t)=>{o.OE.saveFile&&fetch(t).then(n=>n.blob().then(n=>{o.OE.saveFile({filename:t,content:n}),I(e,t)})).catch(()=>{o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.error.downErr"),status:"error"})})},R=t=>{const{activeIndex:n}=s,r=d.value,i=r.download,a=w().isBoolean(i)?{}:i?Object.assign({},i):{},l=h.value,c=l[n||0],u=e.beforeDownloadMethod||a.beforeDownloadMethod||(0,o.zj)().imagePreview.beforeDownloadMethod,p=e.downloadMethod||a.downloadMethod||(0,o.zj)().imagePreview.downloadMethod;Promise.resolve(!u||u({$imagePreview:v,url:c,index:n||0})).then(e=>{e&&(p?Promise.resolve(p({$imagePreview:v,url:c,index:n||0})).then(()=>{I(t,c)}).catch(e=>e):N(t,c))})},F=(e,t)=>{const{activeIndex:n}=s,r=h.value,o=r[n||0];if(o)switch(t){case"zoomOut":E(!1);break;case"zoomIn":E(!0);break;case"pctFull":S();break;case"pct11":M();break;case"rotateLeft":D(e,!1);break;case"rotateRight":D(e,!0);break;case"print":A();break;case"download":R(e);break}},_=e=>{const t=e.deltaY;t>0?(e.preventDefault(),E(!1)):t<0&&(e.preventDefault(),E(!0))},P=e=>{const{offsetTop:t,offsetLeft:n}=s,r=a.value;e.preventDefault();const o=document.onmousemove,i=document.onmouseup,l=e.pageX,c=e.pageY,d=u.value;document.onmousemove=e=>{const{pageX:o,pageY:i}=e,{visibleHeight:a,visibleWidth:u}=B();e.preventDefault(),L(r,"is--move"),o>d&&i>d&&o<u-d&&i<a-d&&(s.offsetLeft=n+o-l,s.offsetTop=t+i-c)},document.onmouseup=()=>{document.onmousemove=o,document.onmouseup=i,$(r,"is--move")}},j=e=>{const t=z(e),n=e.shiftKey,r=o.Nh.hasKey(e,o.un.ARROW_UP),i=o.Nh.hasKey(e,o.un.ARROW_DOWN),a=o.Nh.hasKey(e,o.un.ARROW_LEFT),l=o.Nh.hasKey(e,o.un.ARROW_RIGHT),c=o.Nh.hasKey(e,o.un.R),u=o.Nh.hasKey(e,o.un.P);r?(e.preventDefault(),n?s.offsetTop-=1:E(!0)):i?(e.preventDefault(),n?s.offsetTop+=1:E(!1)):a?(e.preventDefault(),n?s.offsetLeft-=1:O(e,!1)):l?(e.preventDefault(),n?s.offsetLeft+=1:O(e,!0)):c&&t?(e.preventDefault(),D(e,!n)):u&&t&&(e.preventDefault(),A())},V=t=>{e.maskClosable&&t.target===t.currentTarget&&b("close",{},t)};Object.assign(v,x,k);const H=()=>{const{activeIndex:e}=s,t=h.value,n=m.value;return(0,i.h)("div",{class:"vxe-image-preview--img-list",onClick:V},t.map((t,r)=>{const o=e===r;return(0,i.h)("img",{class:["vxe-image-preview--img-item",{"is--active":o}],src:t,style:o?{transform:n}:null,onMousedown(e){P(e)}})}))},W=(e,t)=>{const n=d.value,r=n[e],a=w().isBoolean(r)?{}:r?Object.assign({},r):{},l=!1!==r;return l?(0,i.h)("div",{class:"vxe-image-preview--operation-btn",title:(0,o.TO)(`vxe.imagePreview.operBtn.${e}`),onClick(t){F(t,e)}},[(0,i.h)("i",{class:a.icon||(0,o.sW)()[t]})]):(0,o.C1)(v)},q=()=>{const{showPrintButton:t,showDownloadButton:n}=e,{activeIndex:r}=s,a=h.value,l=p.value,c=f.value,u=d.value;return(0,i.h)("div",{class:"vxe-image-preview--btn-wrapper"},[(0,i.h)("div",{class:"vxe-image-preview--close-wrapper"},[(0,i.h)("div",{class:"vxe-image-preview--close-btn",onClick:C},[(0,i.h)("i",{class:(0,o.sW)().IMAGE_PREVIEW_CLOSE})]),(0,i.h)("div",{class:"vxe-image-preview--close-bg"})]),a.length>1?(0,i.h)("div",{class:"vxe-image-preview--previous-btn",onClick(e){O(e,!1)}},[(0,i.h)("i",{class:(0,o.sW)().IMAGE_PREVIEW_PREVIOUS})]):(0,o.C1)(v),a.length>1?(0,i.h)("div",{class:"vxe-image-preview--next-btn",onClick(e){O(e,!0)}},[(0,i.h)("i",{class:(0,o.sW)().IMAGE_PREVIEW_NEXT})]):(0,o.C1)(v),(0,i.h)("div",{class:"vxe-image-preview--operation-info"},[(0,i.h)("div",{class:"vxe-image-preview--operation-deg"},l),(0,i.h)("div",{class:"vxe-image-preview--operation-pct"},c)]),(0,i.h)("div",{class:"vxe-image-preview--operation-wrapper"},[(0,i.h)("div",{class:"vxe-image-preview--operation-active-count"},[(0,i.h)("span",{class:"vxe-image-preview--operation-active-current"},`${(r||0)+1}`),(0,i.h)("span",{class:"vxe-image-preview--operation-active-total"},`/${a.length}`)]),W("zoomOut","IMAGE_PREVIEW_ZOOM_OUT"),W("zoomIn","IMAGE_PREVIEW_ZOOM_IN"),W("pctFull","IMAGE_PREVIEW_PCT_FULL"),W("pct11","IMAGE_PREVIEW_PCT_1_1"),W("rotateLeft","IMAGE_PREVIEW_ROTATE_LEFT"),W("rotateRight","IMAGE_PREVIEW_ROTATE_RIGHT"),t||u.print?W("print","IMAGE_PREVIEW_PRINT"):(0,o.C1)(v),n||u.download?W("download","IMAGE_PREVIEW_DOWNLOAD"):(0,o.C1)(v)])])},U=()=>{const{offsetPct11:e}=s;return(0,i.h)("div",{ref:a,class:["vxe-image-preview",{"is--pct11":e}]},[H(),q()])};return(0,i.watch)(()=>e.modelValue,e=>{s.activeIndex=e,S()}),(0,i.onMounted)(()=>{const e=a.value;e&&e.addEventListener("wheel",_,{passive:!1}),o.Nh.on(v,"keydown",j)}),(0,i.onBeforeUnmount)(()=>{const e=a.value;e&&(e.removeEventListener("wheel",_),$(e,"is--move"))}),(0,i.onUnmounted)(()=>{o.Nh.off(v,"keydown")}),(0,i.provide)("$xeImagePreview",v),v.renderVN=U,U}});const Wo=e=>{if(o.OE.modal){const t=Object.assign({escClosable:!0},e),{urlList:n,activeIndex:r,zIndex:a}=t,{rotate:l,change:s}=t.events||{},c=w().uniqueId("image-preview");o.OE.modal.open({id:c,title:"预览",width:"100%",height:"100%",showHeader:!1,showFooter:!1,padding:!1,escClosable:t.escClosable,zIndex:a,className:"vxe-image-preview-popup-wrapper",slots:{default(){return(0,i.h)(Ho,{modelValue:r,urlList:n,urlField:t.urlField,marginSize:t.marginSize,maskClosable:t.maskClosable,toolbarConfig:t.toolbarConfig,showPrintButton:t.showPrintButton,showDownloadButton:t.showDownloadButton,beforeDownloadMethod:t.beforeDownloadMethod,downloadMethod:t.downloadMethod,onClose(){o.OE.modal.close(c)},onChange(e){s&&s.call(this,e)},onRotate(e){l&&l.call(this,e)}})}}})}return Promise.resolve()};function qo(){return{}}function Uo(){return{}}var Go=a({name:"VxeImage",props:{src:[String,Array],alt:[String,Number],loading:String,title:[String,Number],width:[String,Number],height:[String,Number],circle:Boolean,draggable:{type:Boolean,default:()=>(0,o.zj)().image.draggable},zIndex:Number,maskClosable:{type:Boolean,default:()=>(0,o.zj)().image.maskClosable},toolbarConfig:Object,showPreview:{type:Boolean,default:()=>(0,o.zj)().image.showPreview},showPrintButton:{type:Boolean,default:()=>(0,o.zj)().image.showPrintButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().image.showDownloadButton},size:{type:String,default:()=>(0,o.zj)().image.size||(0,o.zj)().size},getThumbnailUrlMethod:Function},emits:["click","change","rotate","dragstart","drag","dragend"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.inject)("$xeImageGroup",null),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=qo(),u=(0,i.reactive)(Uo()),d={refElem:l},p=(0,i.computed)(()=>{const{width:t,height:n,circle:r}=e,o={};return t?o.width=V(t):r&&n&&(o.width=V(n)),n?o.height=V(n):r&&t&&(o.height=V(t)),o}),f=(0,i.computed)(()=>{const{width:t,height:n}=e,r={};return t&&n?(r.maxWidth=V(t),r.maxHeight=V(n)):(t&&(r.width=V(t)),n&&(r.height=V(n))),r}),h=(0,i.computed)(()=>{const{src:t}=e;return t?(w().isArray(t)?t:[t]).map(e=>w().isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt}):[]}),m=(0,i.computed)(()=>{const e=h.value;return e[0]}),g=(0,i.computed)(()=>{const e=m.value;return e?`${e.url||""}`:""}),v=(0,i.computed)(()=>{const t=e.getThumbnailUrlMethod||(0,o.zj)().image.getThumbnailUrlMethod,n=g.value;return t?t({url:n,$image:x}):""}),b={computeSize:s},x={xID:r,props:e,context:t,reactData:u,internalData:c,getRefMaps:()=>d,getComputeMaps:()=>b},y=(e,t,r)=>{n(e,(0,o.lh)(r,{$image:x},t))},C={dispatchEvent:y},k=t=>{const{showPreview:n,toolbarConfig:r,showPrintButton:o,showDownloadButton:i,maskClosable:l,zIndex:s}=e,{mdTime:u,dgTime:d}=c;if(u&&d&&d>u)return;const p=h.value,f=g.value;a?a.handleClickImgEvent(t,{url:f}):(n&&f&&Wo({urlList:p,toolbarConfig:r,showPrintButton:o,showDownloadButton:i,maskClosable:l,zIndex:s,events:{change(e){y("change",e,e.$event)},rotate(e){y("rotate",e,e.$event)}}}),y("click",{url:f},t))},S=()=>{c.mdTime=Date.now()},T=e=>{c.dgTime=Date.now(),y("dragstart",{},e)},E=e=>{y(e.type,{},e)},O={};Object.assign(x,C,O);const D=()=>{const{alt:t,loading:n,circle:r,draggable:o}=e,a=p.value,c=f.value,u=g.value,d=v.value,h=s.value;let m;return w().eqNull(o)||(m=!(!0!==o&&"true"!==o)),(0,i.h)("div",{class:["vxe-image",{[`size--${h}`]:h,"is--circle":r}],style:a},[(0,i.h)("img",{ref:l,class:"vxe-image-img",src:d||u,alt:t,loading:n,draggable:m,style:c,onMousedown:S,onClick:k,onDragstart:T,onDrag:E,onDragend:E})])};return(0,i.onBeforeUnmount)(()=>{w().assign(u,Uo()),w().assign(c,qo())}),x.renderVN=D,x},render(){return this.renderVN()}});const Yo=Object.assign({},Go,{install(e){e.component(Go.name,Go)}});u.use(Yo),o.OE.component(Go);const Ko=Yo;var Xo=Yo,Zo=a({name:"VxeImageGroup",props:{urlList:[Array,String],showPreview:{type:Boolean,default:()=>(0,o.zj)().imageGroup.showPreview},imageStyle:Object,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().imageGroup.size||(0,o.zj)().size},toolbarConfig:Object,showPrintButton:{type:Boolean,default:()=>(0,o.zj)().imageGroup.showPrintButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().imageGroup.showDownloadButton},getThumbnailUrlMethod:Function},emits:["click","change","rotate"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),l=(0,i.computed)(()=>{const{urlList:t}=e;return t?(w().isArray(t)?t:[t]).map(e=>w().isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt}):[]}),s=(0,i.computed)(()=>Object.assign({},(0,o.zj)().imageGroup.imageStyle,e.imageStyle)),c=(0,i.computed)(()=>e.getThumbnailUrlMethod||(0,o.zj)().imageGroup.getThumbnailUrlMethod),u={computeSize:a},d={xID:r,props:e,context:t,getComputeMaps:()=>u},p={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$imageGroup:d},t))}},f={handleClickImgEvent(t,n){const{showPreview:r,toolbarConfig:o,showPrintButton:i,showDownloadButton:a,zIndex:s}=e,{url:c}=n,u=l.value;r&&c&&Wo({activeIndex:Math.max(0,w().findIndexOf(u,e=>e.url===c)),urlList:u,toolbarConfig:o,showPrintButton:i,showDownloadButton:a,zIndex:s,events:{change(e){d.dispatchEvent("change",e,e.$event)},rotate(e){d.dispatchEvent("rotate",e,e.$event)}}}),d.dispatchEvent("click",{url:c,urlList:u},t)}};Object.assign(d,p,f);const h=()=>{const e=l.value,t=a.value,n=s.value,r=c.value;return(0,i.h)("div",{class:["vxe-image-group",{[`size--${t}`]:t}]},e?e.map((e,t)=>(0,i.h)(Go,{key:t,src:e.url,alt:e.alt,width:n.width,height:n.height,getThumbnailUrlMethod:r})):[])};return d.renderVN=h,(0,i.provide)("$xeImageGroup",d),d},render(){return this.renderVN()}});const Jo=Object.assign({},Zo,{install(e){e.component(Zo.name,Zo)}});u.use(Jo),o.OE.component(Zo);const Qo=Jo;var ei=Jo;const ti=Object.assign(Ho,{install(e){e.component(Ho.name,Ho)}});o.OE.previewImage=Wo,u.use(ti),o.OE.component(Ho);const ni=ti;var ri=ti;const oi=Object.assign(Lt,{install(e){e.component(Lt.name,Lt)}});u.use(oi),o.OE.component(Lt);const ii=oi;var ai=oi,li=a({name:"VxeLayoutAside",props:{width:[String,Number],collapsed:Boolean,collapseWidth:[String,Number],loading:Boolean,padding:Boolean,size:{type:String,default:()=>(0,o.zj)().layoutAside.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d=(0,i.computed)(()=>{const{width:t,collapsed:n,collapseWidth:r}=e;if(n){if(r)return V(r)}else if(t)return V(t);return""}),p={computeSize:s},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutAside:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{width:t,collapsed:r,loading:o,padding:a}=e,c=d.value,u=s.value,p=n.default;return(0,i.h)("aside",{ref:l,class:["vxe-layout-aside",{[`size--${u}`]:u,"is--padding":a,"is--default-width":!t,"is--collapse":r,"is--loading":o}],style:c?{width:c}:null},[(0,i.h)("div",{class:"vxe-layout-aside--inner"},p?p({}):[]),(0,i.h)(bt,{class:"vxe-list-view--loading",modelValue:o})])};return(0,i.provide)("$xeLayoutAside",f),f.renderVN=v,f},render(){return this.renderVN()}});const si=Object.assign({},li,{install(e){e.component(li.name,li)}});u.use(si),o.OE.component(li);const ci=si;var ui=si;function di(){return{}}function pi(){return{}}var fi=a({name:"VxeLayoutBody",props:{loading:Boolean,padding:Boolean,showBacktop:{type:Boolean,default:()=>(0,o.zj)().layoutBody.showBacktop},backtopConfig:Object,size:{type:String,default:()=>(0,o.zj)().layoutBody.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=`vxe_layout_body_backtop_${a}`,s=(0,i.ref)(),{computeSize:c}=(0,o.XX)(e),u=di(),d=(0,i.reactive)(pi()),p={refElem:s},f=(0,i.computed)(()=>Object.assign({},(0,o.zj)().layoutBody.backtopConfig,e.backtopConfig,{target:"#"+l})),h={computeSize:c},m={xID:a,props:e,context:t,internalData:u,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>h},g=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutBody:m},t))},v={dispatchEvent:g},b={};Object.assign(m,v,b);const x=()=>{const{loading:t,padding:r,showBacktop:a}=e,u=f.value,d=c.value,p=n.default,h=n.backtop,g=n.backtopTop||n["backtop-top"],v=n.backtopBottom||n["backtop-bottom"],b={};return h&&(b.default=h),g&&(b.top=g),v&&(b.bottom=v),(0,i.h)("div",{ref:s,class:["vxe-layout-body",{[`size--${d}`]:d,"is--loading":t,"is--padding":r}]},[(0,i.h)("div",{id:a?l:"",class:"vxe-layout-body--inner"},p?p({}):[]),(0,i.h)(dr,{class:"vxe-list-view--loading",modelValue:t}),a?(0,i.h)(_e,u,b):(0,o.C1)(m)])};return m.renderVN=x,m},render(){return this.renderVN()}});const hi=Object.assign({},fi,{install(e){e.component(fi.name,fi)}});u.use(hi),o.OE.component(fi);const mi=hi;var gi=hi,vi=a({name:"VxeLayoutContainer",props:{vertical:Boolean,size:{type:String,default:()=>(0,o.zj)().layoutContainer.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({}),u={refElem:l},d={computeSize:s},p={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutContainer:p},t))},h={dispatchEvent:f},m={};Object.assign(p,h,m);const g=()=>{const{vertical:t}=e,r=s.value,o=n.default;return(0,i.h)("div",{ref:l,class:["vxe-layout-container",{[`size--${r}`]:r,"is--vertical":t}]},o?o({}):[])};return p.renderVN=g,p},render(){return this.renderVN()}});const bi=Object.assign({},vi,{install(e){e.component(vi.name,vi)}});u.use(bi),o.OE.component(vi);const xi=bi;var yi=bi,wi=a({name:"VxeLayoutFooter",props:{fixed:Boolean,align:String},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutFooter:d},t))},f={dispatchEvent:p},h={};Object.assign(d,f,h);const m=()=>{const{fixed:t,align:r}=e,o=n.default;return(0,i.h)("footer",{ref:l,class:["vxe-layout-footer",r?`align--${r}`:"",{"is--fixed":t}]},o?o({}):[])};return d.renderVN=m,d},render(){return this.renderVN()}});const Ci=Object.assign({},wi,{install(e){e.component(wi.name,wi)}});u.use(Ci),o.OE.component(wi);const ki=Ci;var Si=Ci,Ti=a({name:"VxeLayoutHeader",props:{fixed:Boolean},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{r(e,(0,o.lh)(n,{$layoutHeader:d},t))},f={dispatchEvent:p},h={};Object.assign(d,f,h);const m=()=>{const{fixed:t}=e,r=n.default;return(0,i.h)("header",{ref:l,class:["vxe-layout-header",{"is--fixed":t}]},r?r({}):[])};return d.renderVN=m,d},render(){return this.renderVN()}});const Ei=Object.assign({},Ti,{install(e){e.component(Ti.name,Ti)}});u.use(Ei),o.OE.component(Ti);const Oi=Ei;var Di=Ei,Mi=a({name:"VxeLink",props:{href:String,target:String,status:String,title:[String,Number],disabled:Boolean,icon:String,routerLink:Object,underline:{type:Boolean,default:()=>(0,o.zj)().link.underline},permissionCode:[String,Number],content:[String,Number],size:{type:String,default:()=>(0,o.zj)().link.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),{computePermissionInfo:s}=(0,o.JT)(e),c=(0,i.ref)(),u=(0,i.reactive)({}),d={refElem:c},p={},f={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$link:f},t))},m={dispatchEvent:h},g={},v=t=>{const{disabled:n}=e;n||h("click",{},t)};Object.assign(f,m,g);const b=()=>{const{icon:t,content:r}=e,a=n.default,l=n.icon,s=w().toValueString(r);return[l||t?(0,i.h)("span",{class:"vxe-link--icon"},l?T(l({})):[(0,i.h)("i",{class:t})]):(0,o.C1)(f),a||s?(0,i.h)("span",{class:"vxe-link--content"},a?a({}):s):(0,o.C1)(f)]},x=()=>{const{status:t,target:n,href:r,title:a,underline:u,disabled:d,routerLink:p}=e,h=s.value,m=l.value;return h.visible?p&&!d?(0,i.h)((0,i.resolveComponent)("router-link"),{class:["vxe-link",{[`size--${m}`]:m,[`theme--${t}`]:t,"is--disabled":d,"is--underline":u}],title:a,target:n,to:d?null:p,onClick:v},{default(){return b()}}):(0,i.h)("a",{ref:c,class:["vxe-link",{[`size--${m}`]:m,[`theme--${t}`]:t,"is--disabled":d,"is--underline":u}],href:d?null:r,target:n,title:a,onClick:v},b()):(0,o.C1)(f)};return f.renderVN=x,f},render(){return this.renderVN()}});const Ai=Object.assign({},Mi,{install(e){e.component(Mi.name,Mi)}});u.use(Ai),o.OE.component(Mi);const Ii=Ai;var Ni=Ai;function Ri(){return{scrollYLoad:!1,bodyHeight:0,customHeight:0,customMaxHeight:0,parentHeight:0,topSpaceHeight:0,items:[]}}function Fi(){return{resizeObserver:void 0,fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}}}var _i=a({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>(0,o.zj)().list.size||(0,o.zj)().size},autoResize:{type:Boolean,default:()=>(0,o.zj)().list.autoResize},syncResize:[Boolean,String,Number],virtualYConfig:Object,scrollY:Object},emits:["scroll"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=w().browse(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)(Ri()),u=Fi(),d=(0,i.ref)(),p=(0,i.ref)(),f=(0,i.ref)(),h={refElem:d},m={xID:a,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>h},g=(0,i.computed)(()=>Object.assign({},(0,o.zj)().list.virtualYConfig||(0,o.zj)().list.scrollY,e.virtualYConfig||e.scrollY)),v=(0,i.computed)(()=>{const{height:t,maxHeight:n}=e,{customHeight:r,customMaxHeight:o}=c,i={};return t?i.height=`${r}px`:n&&(i.height="auto",i.maxHeight=`${o}px`),i}),b=(e,t,n)=>{r(e,(0,o.lh)(n,{$list:m},t))},x=t=>{const{parentHeight:n}=c,r=e[t];let o=0;return r&&("100%"===r||"auto"===r?o=n:(o=P(r)?Math.floor((w().toInteger(r)||1)/100*n):w().toNumber(r),o=Math.max(40,o))),o},y=()=>{c.customHeight=x("height"),c.customMaxHeight=x("maxHeight")},C=()=>{const{scrollYLoad:e}=c,{scrollYStore:t,fullData:n}=u;c.bodyHeight=e?n.length*t.rowHeight:0,c.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},k=()=>{const{scrollYLoad:e}=c,{fullData:t,scrollYStore:n}=u;return c.items=e?t.slice(n.startIndex,n.endIndex):t.slice(0),(0,i.nextTick)()},S=()=>{k(),C()},T=()=>(0,i.nextTick)().then(()=>{const{scrollYLoad:e}=c,{scrollYStore:t}=u,n=f.value,r=g.value;let o,i=0;if(n&&(r.sItem&&(o=n.querySelector(r.sItem)),o||(o=n.children[0])),o&&(i=o.offsetHeight),i=Math.max(12,i),t.rowHeight=i,e){const e=p.value,n=Math.max(8,Math.ceil(e.clientHeight/i)),o=r.oSize?w().toNumber(r.oSize):l.edge?10:0;t.offsetSize=o,t.visibleSize=n,t.endIndex=Math.max(t.startIndex+n+o,t.endIndex),S()}else C()}),E=()=>{const e=p.value;return e&&(e.scrollTop=0),(0,i.nextTick)()},O=(e,t)=>{const n=p.value;return e&&(w().isNumber(e)||(t=e.top,e=e.left)),w().isNumber(e)&&(n.scrollLeft=e),w().isNumber(t)&&(n.scrollTop=t),c.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,i.nextTick)(()=>{e()})},50)}):(0,i.nextTick)()},D=()=>{const{lastScrollLeft:e,lastScrollTop:t}=u;return E().then(()=>{if(e||t)return u.lastScrollLeft=0,u.lastScrollTop=0,O(e,t)})},M=()=>{const e=d.value;if(e){const t=e.parentElement;if(c.parentHeight=t?t.clientHeight:0,y(),e.clientWidth&&e.clientHeight)return T()}return(0,i.nextTick)()},A=e=>{const{scrollYStore:t}=u,{startIndex:n,endIndex:r,visibleSize:o,offsetSize:i,rowHeight:a}=t,l=e.target,s=l.scrollTop,c=Math.floor(s/a),d=Math.max(0,c-1-i),p=c+o+i;(c<=n||c>=r-o-1)&&(n===d&&r===p||(t.startIndex=d,t.endIndex=p,S()))},I=e=>{const t=e.target,n=t.scrollTop,r=t.scrollLeft,o=r!==u.lastScrollLeft,i=n!==u.lastScrollTop;u.lastScrollTop=n,u.lastScrollLeft=r,c.scrollYLoad&&A(e),b("scroll",{scrollLeft:r,scrollTop:n,isX:o,isY:i},e)},N=e=>{const{scrollYStore:t}=u,n=g.value,r=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),u.fullData=r,c.scrollYLoad=!!n.enabled&&n.gt>-1&&(0===n.gt||n.gt<=r.length),k(),T().then(()=>{D()})},R={dispatchEvent:b,loadData:N,reloadData(e){return E(),N(e)},recalculate:M,scrollTo:O,refreshScroll:D,clearScroll:E};Object.assign(m,R);const F=()=>{const{className:t,loading:r}=e,{bodyHeight:o,topSpaceHeight:a,items:l}=c,u=n.default,h=s.value,g=v.value;return(0,i.h)("div",{ref:d,class:["vxe-list",t?w().isFunction(t)?t({$list:m}):t:"",{[`size--${h}`]:h,"is--loading":r}]},[(0,i.h)("div",{ref:p,class:"vxe-list--virtual-wrapper",style:g,onScroll:I},[(0,i.h)("div",{class:"vxe-list--y-space",style:{height:o?`${o}px`:""}}),(0,i.h)("div",{ref:f,class:"vxe-list--body",style:{marginTop:a?`${a}px`:""}},u?u({items:l,$list:m}):[])]),(0,i.h)(bt,{class:"vxe-list--loading",modelValue:r})])},_=(0,i.ref)(0);return(0,i.watch)(()=>e.data?e.data.length:-1,()=>{_.value++}),(0,i.watch)(()=>e.data,()=>{_.value++}),(0,i.watch)(_,()=>{N(e.data||[])}),(0,i.watch)(()=>e.height,()=>{M()}),(0,i.watch)(()=>e.maxHeight,()=>{M()}),(0,i.watch)(()=>e.syncResize,e=>{e&&(M(),(0,i.nextTick)(()=>setTimeout(()=>M())))}),(0,i.onActivated)(()=>{M().then(()=>D())}),(0,i.nextTick)(()=>{N(e.data||[])}),(0,i.onMounted)(()=>{if(M(),e.autoResize){const e=d.value,t=o.yD.create(()=>M());t.observe(e),e&&t.observe(e.parentElement),u.resizeObserver=t}o.Nh.on(m,"resize",M)}),(0,i.onBeforeUnmount)(()=>{const{resizeObserver:e}=u;e&&e.disconnect(),o.Nh.off(m,"resize"),w().assign(c,Ri()),w().assign(u,Fi())}),m.renderVN=F,m},render(){return this.renderVN()}});const Pi=Object.assign(_i,{install(e){e.component(_i.name,_i)}});u.use(Pi),o.OE.component(_i);const ji=Pi;var $i=Pi;const{menus:Li,getConfig:zi,getIcon:Vi}=o.OE;var Bi=a({name:"VxeMenu",props:{modelValue:[String,Number],expandAll:Boolean,accordion:{type:Boolean,default:()=>zi().menu.accordion},collapsed:{type:Boolean,default:null},collapseFixed:Boolean,loading:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:()=>zi().menu.size||zi().size},menuConfig:Object},emits:["update:modelValue","click","option-menu","menu-click"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeLayoutAside",null),s=(0,i.ref)(),c=(0,i.ref)(),{computeSize:u}=(0,o.XX)(e),d=(0,i.reactive)({initialized:!!e.collapsed,isEnterCollapse:!1,collapseStyle:{},collapseZindex:0,activeName:e.modelValue,menuList:[],itemHeight:1}),p={refElem:s},f=(0,i.computed)(()=>Object.assign({},zi().menu.menuConfig,e.menuConfig)),m=(0,i.computed)(()=>{const{collapsed:t}=e;return w().isBoolean(t)?t:!!l&&!!l.props.collapsed}),g=(0,i.computed)(()=>{let e="";return l&&(e=l.props.collapseWidth||""),e}),v=(0,i.computed)(()=>{let e="";return l&&(e=l.props.width||""),e}),b={computeSize:u},x={xID:a,props:e,context:t,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>b},y=e=>`${e.title||e.name}`,C=()=>{d.collapseZindex<he()&&(d.collapseZindex=fe())},k=e=>{const{activeName:t}=d;w().eachTree(d.menuList,(n,r,o,i,a,l)=>{n.itemKey===t?(l.forEach(t=>{t.isActive=!0,e&&(t.isExpand=!0)}),n.isExactActive=!0):(n.isExactActive=!1,n.isActive=!1)},{children:"childList"})},S=()=>{const{options:t,expandAll:n}=e;d.menuList=w().mapTree(t,(e,t,r,o,i)=>{const a=Object.assign(Object.assign({},e),{parentKey:i?i.name||o.slice(0,o.length-1).join(","):"",level:o.length,itemKey:e.name||o.join(","),isExactActive:!1,isActive:!1,isExpand:w().isBoolean(e.expanded)?e.expanded:!!n,hasChild:e.children&&e.children.length>0});return a},{children:"children",mapChildren:"childList"})},E=()=>{const{collapseFixed:t}=e;t&&(0,i.nextTick)(()=>{const{isEnterCollapse:e}=d,t=m.value,n=v.value,r=g.value,o=s.value;if(o){const i=o.getBoundingClientRect(),a=o.parentNode;d.collapseStyle=t?{top:V(i.top),left:V(i.left),height:V(a.clientHeight),width:e?n?V(n):"":r?V(r):"",zIndex:d.collapseZindex}:{}}})},O=()=>{const{collapseFixed:t}=e;if(t){const{initialized:e}=d,t=m.value;t&&(e||(d.initialized=!0,(0,i.nextTick)(()=>{const e=c.value;e&&document.body.appendChild(e)}))),d.isEnterCollapse=!1,C(),E()}},D=(t,n,r)=>{const{accordion:o}=e,{hasChild:i,isExpand:a}=n;i&&(t.stopPropagation(),t.preventDefault(),o&&r.forEach(e=>{e!==n&&(e.isExpand=!1)}),n.isExpand=!a)},M=e=>{d.activeName=e,n("update:modelValue",e)},A=(t,n)=>{const{menuConfig:r}=e,i=f.value;if(r?pe(i):i.enabled){const{options:e,visibleMethod:r}=i;r&&!r({$menu:x,options:e,currentMenu:n})||o.OE.contextMenu&&o.OE.contextMenu.openByEvent(t,{options:e,events:{optionClick(e){const{option:r}=e,o=Li.get(r.code),i=o?o.menuMenuMethod:null,a={menu:r,currentMenu:n,$event:t,$menu:x};i&&i(a,t),P("menu-click",a,e.$event)}}})}P("option-menu",{currentMenu:n},t)},I=(e,t,n)=>{const{itemKey:r,routerLink:o,hasChild:i}=t;o?(M(r),F()):i?D(e,t,n):(M(r),F());const a={currentMenu:t,menu:t};P("click",a,e)},N=()=>{const{collapseStyle:e}=d,t=v.value;d.collapseStyle=Object.assign({},e,{width:t?V(t):""}),d.isEnterCollapse=!0},R=()=>{const{isEnterCollapse:e}=d;e||N()},F=()=>{const{collapseStyle:e}=d,t=s.value;d.collapseStyle=Object.assign({},e,{width:t?V(t.offsetWidth):""}),d.isEnterCollapse=!1},_=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[],P=(e,t,r)=>{n(e,(0,o.lh)(r,{$menu:x},t))},j={dispatchEvent:P},$={};Object.assign(x,j,$);const L=(e,t)=>{const{icon:n,isExpand:a,hasChild:l}=e,s=e.slots||{},c=s.default||r.option,u=s.title||r.optionTitle||r["option-title"],d=s.icon||r.optionIcon||r["option-icon"],p=y(e),f=m.value,h={currentMenu:e,collapsed:f,option:e};return[c?(0,o.C1)(x):(0,i.h)("div",{class:"vxe-menu--item-link-icon"},d?_(d,h):n?[(0,i.h)("i",{class:n})]:[]),c?(0,i.h)("div",{class:"vxe-menu--item-custom-title"},_(c,h)):(0,i.h)("div",{class:"vxe-menu--item-link-title",title:p},u?_(u,h):p),l?(0,i.h)("div",{class:"vxe-menu--item-link-collapse",onClick(n){D(n,e,t)}},[(0,i.h)("i",{class:a?Vi().MENU_ITEM_EXPAND_OPEN:Vi().MENU_ITEM_EXPAND_CLOSE})]):(0,o.C1)(x)]},z=(e,t)=>{const{itemKey:n,level:r,hasChild:a,isActive:l,isExactActive:s,isExpand:c,routerLink:u,childList:p}=e,{isEnterCollapse:f}=d,h=m.value;return e.permissionCode&&!o.EK.checkVisible(e.permissionCode)?(0,o.C1)(x):(0,i.h)("div",{key:n,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${r}`,{"is--exact-active":s,"is--active":l,"is--expand":(!h||f)&&c}]},[u?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-menu--item-link",to:u,onContextmenu(t){A(t,e)},onClick(n){I(n,e,t)}},{default:()=>L(e,t)}):(0,i.h)("div",{class:"vxe-menu--item-link",onContextmenu(t){A(t,e)},onClick(n){I(n,e,t)}},L(e,t)),a?(0,i.h)("div",{class:"vxe-menu--item-group"},p.map(e=>z(e,p))):(0,o.C1)(x)])},B=(e,t)=>{const{itemKey:n,level:r,hasChild:a,isActive:l,isExactActive:s,routerLink:c,childList:u}=e;return e.permissionCode&&!o.EK.checkVisible(e.permissionCode)?(0,o.C1)(x):(0,i.h)("div",{key:n,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${r}`,{"is--exact-active":s,"is--active":l}]},[c?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-menu--item-link",to:c,onContextmenu(t){A(t,e)},onClick(n){I(n,e,t)}},{default:()=>L(e,t)}):(0,i.h)("div",{class:"vxe-menu--item-link",onContextmenu(t){A(t,e)},onClick(n){I(n,e,t)}},L(e,t)),a?(0,i.h)("div",{class:"vxe-menu--item-group"},u.map(e=>z(e,u))):(0,o.C1)(x)])},H=()=>{const{loading:t,collapseFixed:n}=e,{initialized:r,menuList:a,collapseStyle:l,isEnterCollapse:p}=d,f=u.value,h=m.value;let g={};return n&&(g={onMouseenter:N,onMouseover:R,onMouseleave:F}),(0,i.h)("div",{ref:s,class:["vxe-menu",{[`size--${f}`]:f,"is--collapsed":h,"is--loading":t}]},[(0,i.h)("div",{class:"vxe-menu--item-list"},a.map(e=>h?B(e,a):z(e,a))),r?(0,i.h)("div",Object.assign({ref:c,class:["vxe-menu--collapse-wrapper",{[`size--${f}`]:f,"is--collapsed":h,"is--enter":p,"is--loading":t}],style:l},g),[h?(0,i.h)("div",{class:"vxe-menu--item-list"},a.map(e=>z(e,a))):(0,o.C1)(x)]):(0,o.C1)(x),(0,i.h)(dr,{class:"vxe-list-view--loading",modelValue:t})])},W=(0,i.ref)(0);return(0,i.watch)(()=>e.options?e.options.length:-1,()=>{W.value++}),(0,i.watch)(()=>e.options,()=>{W.value++}),(0,i.watch)(W,()=>{S(),k(!0)}),(0,i.watch)(()=>e.modelValue,e=>{d.activeName=e}),(0,i.watch)(()=>d.activeName,()=>{k(!0)}),(0,i.watch)(m,()=>{O()}),(0,i.onMounted)(()=>{const{menuConfig:t}=e,n=o.OE.getComponent("VxeContextMenu");t&&!n&&h("vxe.error.reqComp",["vxe-context-menu"]),o.Nh.on(x,"resize",E),E()}),(0,i.onBeforeUnmount)(()=>{o.Nh.off(x,"resize");const e=c.value;if(e){const t=e.parentNode;t&&t.removeChild(e)}}),S(),k(!0),x.renderVN=H,x},render(){return this.renderVN()}});const Hi=Object.assign({},Bi,{install(e){e.component(Bi.name,Bi)}});u.use(Hi),o.OE.component(Bi);const Wi=Hi;var qi=Hi;const Ui=[],Gi=[],Yi=[],Ki="data-vxe-lock-scroll",Xi="--vxe-ui-modal-lock-scroll-view-width";var Zi=a({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>(0,o.zj)().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>(0,o.zj)().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>(0,o.zj)().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>(0,o.zj)().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>(0,o.zj)().modal.confirmButtonText},lockView:{type:Boolean,default:()=>(0,o.zj)().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>(0,o.zj)().modal.mask},maskClosable:{type:Boolean,default:()=>(0,o.zj)().modal.maskClosable},escClosable:{type:Boolean,default:()=>(0,o.zj)().modal.escClosable},cancelClosable:{type:Boolean,default:()=>(0,o.zj)().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>(0,o.zj)().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>(0,o.zj)().modal.showHeader},showFooter:{type:Boolean,default:()=>(0,o.zj)().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>ye((0,o.zj)().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>ye((0,o.zj)().modal.showMinimize)},showClose:{type:Boolean,default:()=>(0,o.zj)().modal.showClose},dblclickZoom:{type:Boolean,default:()=>(0,o.zj)().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>(0,o.zj)().modal.minWidth},minHeight:{type:[Number,String],default:()=>(0,o.zj)().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>(0,o.zj)().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>(0,o.zj)().modal.draggable},remember:{type:Boolean,default:()=>(0,o.zj)().modal.remember},destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>(0,o.zj)().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>(0,o.zj)().modal.transfer},storage:{type:Boolean,default:()=>(0,o.zj)().modal.storage},storageKey:{type:String,default:()=>(0,o.zj)().modal.storageKey},padding:{type:Boolean,default:()=>(0,o.zj)().modal.padding},size:{type:String,default:()=>(0,o.zj)().modal.size||(0,o.zj)().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>(0,o.zj)().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeModal",null),s=(0,i.inject)("$xeDrawer",null),c=(0,i.inject)("$xeTable",null),u=(0,i.inject)("$xeForm",null),{computeSize:d}=(0,o.XX)(e),p=(0,i.reactive)({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),m={msgTimeout:void 0},g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.ref)(),C={refElem:g},k=(0,i.computed)(()=>{const{transfer:t}=e;if(null===t){const e=(0,o.zj)().modal.transfer;if(w().isBoolean(e))return e;if(c||l||s||u)return!0}return t}),S=(0,i.computed)(()=>"message"===e.type||"notification"===e.type),E=(0,i.computed)(()=>"minimize"===p.zoomStatus),O=(0,i.computed)(()=>"maximize"===p.zoomStatus),D=(0,i.computed)(()=>Object.assign({},(0,o.zj)().modal.zoomConfig,e.zoomConfig)),M={computeSize:d,computeZoomOpts:D},A={xID:a,props:e,context:t,reactData:p,internalData:m,getRefMaps:()=>C,getComputeMaps:()=>M};let I={};const N=()=>{const e=v.value;return e},R=()=>{const{width:t,height:n}=e,r=N();return r&&(r.style.width=t?V(t):"",r.style.height=n?V(n):""),(0,i.nextTick)()},F=()=>{const{zIndex:t}=e,{modalZindex:n}=p;if(t)p.modalZindex=t;else{const e=S.value;e?n<ge()&&(p.modalZindex=me()):n<he()&&(p.modalZindex=fe())}},_=()=>(0,i.nextTick)().then(()=>{const{position:t}=e,n=w().toNumber(e.marginSize),r=N();if(!r)return;const o=document.documentElement.clientWidth||document.body.clientWidth,i=document.documentElement.clientHeight||document.body.clientHeight,a="center"===t,{top:l,left:s}=w().isString(t)?{top:t,left:t}:Object.assign({},t),c=a||"center"===l,u=a||"center"===s;let d="",p="";p=s&&!u?isNaN(s)?s:`${s}px`:`${Math.max(n,o/2-r.offsetWidth/2)}px`,d=l&&!c?isNaN(l)?l:`${l}px`:`${Math.max(n,i/2-r.offsetHeight/2)}px`,r.style.top=d,r.style.left=p}),P=()=>{(0,i.nextTick)(()=>{const{type:t}=e,n="notification"===t?Yi:Gi;let r=0;n.forEach(e=>{const t=e.getBox();t&&(r+=w().toNumber(e.props.top),e.reactData.modalTop=r,r+=t.clientHeight)})})},j=()=>{Ui.indexOf(A)>-1&&w().remove(Ui,e=>e===A)},$=()=>{const{type:t}=e,n="notification"===t?Yi:Gi;n.indexOf(A)>-1&&w().remove(n,e=>e===A),P()},L=t=>{const{remember:n}=e,{visible:r}=p,a=S.value,l=e.beforeHideMethod||(0,o.zj)().modal.beforeHideMethod,s={type:t};return r&&Promise.resolve(l?l(s):null).then(e=>{w().isError(e)||(a&&$(),p.contentVisible=!1,n||ce(),j(),ke("before-hide",s,null),setTimeout(()=>{p.visible=!1,Se(!1),ke("hide",s,null)},200),ee())}).catch(e=>e),(0,i.nextTick)()},z=e=>{const t="close";ke(t,{type:t},e),L(t)},W=t=>{const{confirmClosable:n}=e,r="confirm";ke(r,{type:r},t),n&&L(r)},q=t=>{const{cancelClosable:n}=e,r="cancel";ke(r,{type:r},t),n&&L(r)},U=e=>{const t=(0,o.zj)().version,n=w().toStringJSON(localStorage.getItem(e)||"");return n&&n._v===t?n:{_v:t}},G=()=>{const{id:t,storage:n,storageKey:r}=e;return!!(t&&n&&U(r)[t])},Y=()=>{const{id:t,storage:n,storageKey:r}=e;if(t&&n){const e=U(r)[t];if(e){const t=N(),[n,r,o,i,a,l,s,c]=e.split(",");t&&(n&&(t.style.left=`${n}px`),r&&(t.style.top=`${r}px`),o&&(t.style.width=`${o}px`),i&&(t.style.height=`${i}px`)),a&&l&&(p.revertLocat={left:a,top:l,width:s,height:c})}}},K=()=>{const{type:t}=e,n="notification"===t?Yi:Gi;-1===n.indexOf(A)&&n.push(A),P()},X=()=>{const{id:t,storage:n,storageKey:r}=e,{zoomStatus:o,revertLocat:i}=p;if(!o&&t&&n){const e=N();if(!e)return;const n=U(r);n[t]=[e.style.left,e.style.top,e.clientWidth,e.clientHeight].concat(i?[i.left,i.top,i.width,i.height]:[]).map(e=>e?w().toNumber(e):"").join(","),localStorage.setItem(r,w().toJSONString(n))}},Z=()=>{const e=D.value,{minimizeLayout:t,minimizeMaxSize:n,minimizeHorizontalOffset:r,minimizeVerticalOffset:a,minimizeOffsetMethod:l}=e,s="horizontal"===t,c=p.zoomStatus,u=[],d=[];Ui.forEach(e=>{if(e.xID!==A.xID&&"modal"===e.props.type&&"minimize"===e.reactData.zoomStatus){const t=e.getComputeMaps().computeZoomOpts.value;"horizontal"===t.minimizeLayout?u.push(e):d.push(e)}});const f=s?u:d;return n&&f.length>=n?(o.OE.modal&&o.OE.modal.message({status:"error",content:(0,o.TO)("vxe.modal.miniMaxSize",[n])}),Promise.resolve({status:!1})):(p.prevZoomStatus=c,p.zoomStatus="minimize",(0,i.nextTick)().then(()=>{const e=N();if(!e)return{status:!1};const t=b.value;if(!t)return{status:!1};const{visibleHeight:n}=B();c||(p.revertLocat={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth+(e.style.width?0:1),height:e.offsetHeight+(e.style.height?0:1)});const o=w()[s?"max":"min"](f,e=>{const t=e.getBox();return t?w().toNumber(t.style[s?"left":"top"]):0});let i=n-t.offsetHeight-16,u=16;if(o){const e=o.getBox();if(e){const t=w().toNumber(e.style.left),n=w().toNumber(e.style.top);let o={};o=s?Object.assign({},r):Object.assign({},a),u=t+w().toNumber(o.left),i=n+w().toNumber(o.top),l&&(o=l({$modal:A,left:u,top:i}),u=w().toNumber(o.left),i=w().toNumber(o.top))}}return Object.assign(e.style,{top:`${i}px`,left:`${u}px`,width:"200px",height:`${t.offsetHeight}px`}),X(),{status:!0}}))},J=()=>{const t=p.zoomStatus;return p.prevZoomStatus=t,p.zoomStatus="maximize",(0,i.nextTick)().then(()=>{const n=N();if(n){if(!t){const t=w().toNumber(e.marginSize),r=document.documentElement.clientWidth||document.body.clientWidth,o=document.documentElement.clientHeight||document.body.clientHeight;p.revertLocat={top:Math.max(t,o/2-n.offsetHeight/2),left:Math.max(t,r/2-n.offsetWidth/2),width:n.offsetWidth+(n.style.width?0:1),height:n.offsetHeight+(n.style.height?0:1)}}Object.assign(n.style,{top:"0",left:"0",width:"100%",height:"100%"})}return X(),{status:!0}})},Q=()=>{const{duration:t}=e;-1!==t&&(m.msgTimeout=setTimeout(()=>L("close"),w().toNumber(t)))},ee=()=>{const e=document.documentElement,t=e.getAttribute(Ki);if(t){const n=t.split(",").filter(e=>e!==a);n.length?e.setAttribute(Ki,n.join(",")):(e.removeAttribute(Ki),e.style.removeProperty(Xi))}},te=()=>{const{lockScroll:t}=e,n=S.value;if(t&&!n){const e=document.documentElement,t=document.body.clientWidth,n=e.getAttribute(Ki),r=n?n.split(","):[];r.includes(a)||(r.push(a),e.setAttribute(Ki,r.join(","))),e.style.setProperty(Xi,`${t}px`)}},ne=()=>{const{remember:t,showFooter:n}=e,{initialized:r,visible:o}=p,a=S.value;return r||(p.initialized=!0),o||(te(),p.visible=!0,p.contentVisible=!1,F(),Ui.push(A),setTimeout(()=>{p.contentVisible=!0,(0,i.nextTick)(()=>{if(n){const e=x.value,t=y.value,n=e||t;n&&n.focus()}const e="",t={type:e};Se(!0),ke("show",t,null)})},10),a?(K(),Q()):(0,i.nextTick)(()=>{const{fullscreen:n}=e,{firstOpen:r}=p;r?(p.firstOpen=!1,G()?Y():n?(0,i.nextTick)(()=>J()):(R(),_().then(()=>{setTimeout(()=>_(),20)}))):t||(R(),_().then(()=>{setTimeout(()=>_(),20)}))})),(0,i.nextTick)()},re=t=>{const n=g.value;if(e.maskClosable&&t.target===n){const e="mask";L(e)}},oe=()=>{const{msgTimeout:e}=m;if(!e)return;const t=S.value;t&&(clearTimeout(e),m.msgTimeout=void 0)},ie=()=>{const{msgTimeout:e}=m;if(!e){const e=S.value;e&&Q()}},ae=e=>{const t=o.Nh.hasKey(e,o.un.ESCAPE);if(t){const t=w().max(Ui,e=>e.reactData.modalZindex);t&&setTimeout(()=>{if(t===A&&t.props.escClosable){const t="exit";ke("close",{type:t},e),L(t)}},10)}},le=()=>"minimize"===p.zoomStatus,se=()=>"maximize"===p.zoomStatus,ce=()=>(p.prevZoomStatus=p.zoomStatus,p.zoomStatus="",(0,i.nextTick)().then(()=>{const{revertLocat:e}=p;if(e){const t=N();return p.revertLocat=null,t&&Object.assign(t.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),X(),(0,i.nextTick)().then(()=>({status:!0}))}return{status:!1}})),ue=e=>{const{zoomStatus:t}=p;return new Promise(n=>{if(e)return"maximize"===e?void n(J()):"minimize"===e?void n(Z()):void n(ce());n(t?ce():J())}).then(()=>p.zoomStatus||"revert")},de=e=>{const{zoomStatus:t,prevZoomStatus:n}=p;return ue("minimize"===t?n||"revert":"minimize").then(t=>{const n={type:t};ke("zoom",n,e)})},pe=e=>ue().then(t=>{const n={type:t};ke("zoom",n,e)}),ve=()=>{const e=S.value;if(!e){const e=N();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},xe=(e,t)=>{const n=S.value;if(!n){const n=N();n&&(w().isNumber(e)&&(n.style.top=`${e}px`),w().isNumber(t)&&(n.style.left=`${t}px`))}return(0,i.nextTick)()},ye=()=>{const{modalZindex:e}=p;Ui.some(t=>t.reactData.visible&&t.reactData.modalZindex>e)&&F()},we=t=>{const{storage:n}=e,{zoomStatus:r}=p,o=w().toNumber(e.marginSize),a=N();if(a&&"maximize"!==r&&0===t.button&&!H(t,a,"trigger--btn").flag){t.preventDefault();const e=t.clientX-a.offsetLeft,r=t.clientY-a.offsetTop,{visibleHeight:l,visibleWidth:s}=B();document.onmousemove=t=>{t.preventDefault();const n=a.offsetWidth,i=a.offsetHeight,c=o,u=s-n-o-1,d=o,f=l-i-o-1;let h=t.clientX-e,m=t.clientY-r;h>u&&(h=u),h<c&&(h=c),m>f&&(m=f),m<d&&(m=d),a.style.left=`${h}px`,a.style.top=`${m}px`,a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",ke("move",{type:"move"},t),p.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,n&&(0,i.nextTick)(()=>{X()}),p.resizeFlag++,setTimeout(()=>{a.className=a.className.replace(/\s?is--drag/,"")},50)}}},Ce=t=>{t.preventDefault();const{storage:n}=e,{visibleHeight:r,visibleWidth:o}=B(),i=w().toNumber(e.marginSize),a=t.target,l=a.getAttribute("type"),s=w().toNumber(e.minWidth),c=w().toNumber(e.minHeight),u=o,d=r,f=N(),h=f.clientWidth,m=f.clientHeight,g=t.clientX,v=t.clientY,b=f.offsetTop,x=f.offsetLeft,y={type:"resize"};document.onmousemove=e=>{let t,a,p,w;switch(e.preventDefault(),l){case"wl":t=g-e.clientX,p=t+h,x-t>i&&p>s&&(f.style.width=`${p<u?p:u}px`,f.style.left=x-t+"px");break;case"swst":t=g-e.clientX,a=v-e.clientY,p=t+h,w=a+m,x-t>i&&p>s&&(f.style.width=`${p<u?p:u}px`,f.style.left=x-t+"px"),b-a>i&&w>c&&(f.style.height=`${w<d?w:d}px`,f.style.top=b-a+"px");break;case"swlb":t=g-e.clientX,a=e.clientY-v,p=t+h,w=a+m,x-t>i&&p>s&&(f.style.width=`${p<u?p:u}px`,f.style.left=x-t+"px"),b+w+i<r&&w>c&&(f.style.height=`${w<d?w:d}px`);break;case"st":a=v-e.clientY,w=m+a,b-a>i&&w>c&&(f.style.height=`${w<d?w:d}px`,f.style.top=b-a+"px");break;case"wr":t=e.clientX-g,p=t+h,x+p+i<o&&p>s&&(f.style.width=`${p<u?p:u}px`);break;case"sest":t=e.clientX-g,a=v-e.clientY,p=t+h,w=a+m,x+p+i<o&&p>s&&(f.style.width=`${p<u?p:u}px`),b-a>i&&w>c&&(f.style.height=`${w<d?w:d}px`,f.style.top=b-a+"px");break;case"selb":t=e.clientX-g,a=e.clientY-v,p=t+h,w=a+m,x+p+i<o&&p>s&&(f.style.width=`${p<u?p:u}px`),b+w+i<r&&w>c&&(f.style.height=`${w<d?w:d}px`);break;case"sb":a=e.clientY-v,w=a+m,b+w+i<r&&w>c&&(f.style.height=`${w<d?w:d}px`);break}f.className=f.className.replace(/\s?is--drag/,"")+" is--drag",n&&X(),ke("resize",y,e)},document.onmouseup=()=>{p.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout(()=>{f.className=f.className.replace(/\s?is--drag/,"")},50)}},ke=(e,t,n)=>{r(e,(0,o.lh)(n,{$modal:A},t))},Se=e=>{r("update:modelValue",e)};I={dispatchEvent:ke,open:ne,close(){return L("close")},getBox:N,getPosition:ve,setPosition:xe,isMinimized:le,isMaximized:se,zoom(){return ue()},minimize(){return p.visible?Z():Promise.resolve({status:!1})},maximize(){return p.visible?J():Promise.resolve({status:!1})},revert(){return p.visible?ce():Promise.resolve({status:!1})}},Object.assign(A,I);const Te=()=>{const{slots:t={},showClose:r,showZoom:a,showMaximize:l,showMinimize:s,title:c}=e,{zoomStatus:u}=p,d=n.title||t.title,f=n.corner||t.corner,h=E.value,m=O.value;return[(0,i.h)("div",{class:"vxe-modal--header-title"},d?T(d({$modal:A,minimized:h,maximized:m})):c?be(c):(0,o.TO)("vxe.alert.title")),(0,i.h)("div",{class:"vxe-modal--header-right"},[f&&!h?(0,i.h)("div",{class:"vxe-modal--corner-wrapper"},T(f({$modal:A}))):(0,o.C1)(A),(w().isBoolean(s)?s:a)?(0,i.h)("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:(0,o.TO)("vxe.modal.zoom"+("minimize"===u?"Out":"Min")),onClick:de},[(0,i.h)("i",{class:"minimize"===u?(0,o.sW)().MODAL_ZOOM_REVERT:(0,o.sW)().MODAL_ZOOM_MIN})]):(0,o.C1)(A),(w().isBoolean(l)?l:a)&&"minimize"!==u?(0,i.h)("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:(0,o.TO)("vxe.modal.zoom"+("maximize"===u?"Out":"In")),onClick:pe},[(0,i.h)("i",{class:"maximize"===u?(0,o.sW)().MODAL_ZOOM_OUT:(0,o.sW)().MODAL_ZOOM_IN})]):(0,o.C1)(A),r?(0,i.h)("div",{class:["vxe-modal--close-btn","trigger--btn"],title:(0,o.TO)("vxe.modal.close"),onClick:z},[(0,i.h)("i",{class:(0,o.sW)().MODAL_CLOSE})]):(0,o.C1)(A)])]},Oe=()=>{const{slots:t={},showZoom:r,showMaximize:a,draggable:l}=e,s=n.header||t.header;if(e.showHeader){const t={};return l&&(t.onMousedown=we),(w().isBoolean(a)?a:r)&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=pe),(0,i.h)("div",Object.assign({ref:b,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},t),s?T(s({$modal:A})):Te())}return(0,o.C1)(A)},De=()=>{const{slots:t={},status:r,message:a,iconStatus:l}=e,s=e.content||a,c=S.value,u=n.default||t.default,d=n.left||t.left,p=n.right||t.right,f=[];return c||!r&&!l||f.push((0,i.h)("div",{class:"vxe-modal--status-wrapper"},[(0,i.h)("i",{class:["vxe-modal--status-icon",l||(0,o.sW)()[`MODAL_${r}`.toLocaleUpperCase()]]})])),f.push((0,i.h)("div",{class:"vxe-modal--content"},u?T(u({$modal:A})):be(s))),(0,i.h)("div",{class:"vxe-modal--body"},[d?(0,i.h)("div",{class:"vxe-modal--body-left"},T(d({$modal:A}))):(0,o.C1)(A),(0,i.h)("div",{class:"vxe-modal--body-default"},f),p?(0,i.h)("div",{class:"vxe-modal--body-right"},T(p({$modal:A}))):(0,o.C1)(A),c?(0,o.C1)(A):(0,i.h)(dr,{class:"vxe-modal--loading",modelValue:e.loading})])},Me=()=>{const{slots:t={},showCancelButton:r,showConfirmButton:a,type:l,loading:s}=e,c=n.leftfoot||t.leftfoot,u=n.rightfoot||t.rightfoot,d=[];return(w().isBoolean(r)?r:"confirm"===l)&&d.push((0,i.h)(Ee,{key:1,ref:y,content:e.cancelButtonText||(0,o.TO)("vxe.button.cancel"),onClick:q})),(w().isBoolean(a)?a:"confirm"===l||"alert"===l)&&d.push((0,i.h)(Ee,{key:2,ref:x,loading:s,status:"primary",content:e.confirmButtonText||(0,o.TO)("vxe.button.confirm"),onClick:W})),(0,i.h)("div",{class:"vxe-modal--footer-wrapper"},[(0,i.h)("div",{class:"vxe-modal--footer-left"},c?T(c({$modal:A})):[]),(0,i.h)("div",{class:"vxe-modal--footer-right"},u?T(u({$modal:A})):d)])},Ae=()=>{const{slots:t={}}=e,r=n.footer||t.footer;return e.showFooter?(0,i.h)("div",{class:"vxe-modal--footer"},r?T(r({$modal:A})):[Me()]):(0,o.C1)(A)},Ie=()=>{const{slots:t={},className:r,type:a,animat:l,draggable:s,iconStatus:c,position:u,loading:f,destroyOnClose:h,status:m,lockScroll:b,padding:x,lockView:y,mask:w,resize:C}=e,{initialized:O,modalTop:D,contentVisible:M,visible:I,zoomStatus:N}=p,R=n.aside||t.aside,F=d.value,_=S.value,P=E.value,j=k.value,$={};return _&&($.onMouseover=oe,$.onMouseout=ie),(0,i.h)(i.Teleport,{to:"body",disabled:!j||!O},[(0,i.h)("div",Object.assign({ref:g,class:["vxe-modal--wrapper",`type--${a}`,`zoom--${N||"revert"}`,r||"",u?`pos--${u}`:"",{[`size--${F}`]:F,[`status--${m}`]:m,"is--padding":x,"is--animat":l,"lock--scroll":b,"lock--view":y,"is--draggable":s,"is--resize":C,"is--mask":w,"is--visible":M,"is--active":I,"is--loading":f}],style:{zIndex:p.modalZindex,top:D?`${D}px`:null},onClick:re},$),[(0,i.h)("div",{ref:v,class:"vxe-modal--box",onMousedown:ye},[!_&&!R||P?(0,o.C1)(A):(0,i.h)("div",{class:"vxe-modal--aside"},R?T(R({$modal:A})):[m||c?(0,i.h)("div",{class:"vxe-modal--status-wrapper"},[(0,i.h)("i",{class:["vxe-modal--status-icon",c||(0,o.sW)()[`MODAL_${m}`.toLocaleUpperCase()]]})]):(0,o.C1)(A)]),(0,i.h)("div",{class:"vxe-modal--container"},!p.initialized||h&&!p.visible?[]:[Oe(),De(),Ae(),!_&&C?(0,i.h)("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(e=>(0,i.h)("span",{class:`${e}-resize`,type:e,onMousedown:Ce}))):(0,o.C1)(A)])])])])};return A.renderVN=Ie,(0,i.watch)(()=>e.width,R),(0,i.watch)(()=>e.height,R),(0,i.watch)(()=>e.modelValue,e=>{e?ne():L("model")}),(0,i.onMounted)(()=>{"modal"===e.type&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||n.footer)&&f("vxe.modal.footPropErr"),(0,i.nextTick)(()=>{e.storage&&!e.id&&h("vxe.error.reqProp",["[modal] id"]),e.modelValue&&ne(),R()}),e.escClosable&&o.Nh.on(A,"keydown",ae)}),(0,i.onUnmounted)(()=>{o.Nh.off(A,"keydown"),$(),j(),ee()}),(0,i.provide)("$xeModal",A),A},render(){return this.renderVN()}});function Ji(e){return d(),new Promise(t=>{const n=Object.assign({},e);if(n.id&&Ui.some(e=>e.props.id===n.id))t("exist");else{const e=n.onHide,r=Object.assign(n,{key:w().uniqueId(),modelValue:!0,onHide(n){const o=s.modals;e&&e(n),s.modals=o.filter(e=>e.key!==r.key),t(n.type)}});s.modals.push(r)}})}function Qi(e){return w().find(Ui,t=>t.props.id===e)}function ea(e){const t=e?[Qi(e)]:Ui,n=[];return t.forEach(e=>{e&&n.push(e.close())}),Promise.all(n)}function ta(e,t,n,r){let o;return o=w().isObject(t)?t:{content:w().toValueString(t),title:n},Ji(Object.assign(Object.assign(Object.assign({},e),r),o))}function na(e){return ta({type:"modal"},e)}function ra(e,t,n){return ta({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)}function oa(e,t,n){return ta({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)}function ia(e,t){return ta({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)}function aa(e,t,n){return ta({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,n)}const la={get:Qi,close:ea,open:na,alert:ra,confirm:oa,message:ia,notification:aa},sa=Object.assign(Zi,{install:function(e){e.component(Zi.name,Zi)}});o.OE.modal=la,u.use(sa),o.OE.component(Zi);const ca=sa;var ua=sa,da=a({name:"VxeNoticeBar",props:{duration:[String,Number],direction:{type:String,default:()=>(0,o.zj)().noticeBar.direction},speed:{type:String,default:()=>(0,o.zj)().noticeBar.speed},content:String,vertical:Boolean,loop:{type:Boolean},size:{type:String,default:()=>(0,o.zj)().noticeBar.size||(0,o.zj)().size}},emits:["start","end"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeTabs",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.reactive)({animationStatus:!1,animationDuration:0}),p={refElem:c},f=(0,i.computed)(()=>{const{content:t}=e;return`${t||""}`}),h=(0,i.computed)(()=>a?a.reactData.resizeFlag:null),m={},g={xID:l,props:e,context:t,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>m},v=(e,t,n)=>{r(e,(0,o.lh)(n,{$noticeBar:g},t))},b={dispatchEvent:v},x={},y=()=>{const{speed:t}=e,n=u.value;if(n){let e=46;"fast"===t?e=118:"slow"===t&&(e=18),d.animationDuration=Math.ceil(n.scrollWidth/e)}},C=e=>{d.animationStatus=!0,v("start",{status:!0},e)},k=e=>{d.animationStatus=!1,v("end",{status:!1},e)};Object.assign(g,b,x);const S=()=>{const{vertical:t,duration:r,direction:a,loop:l}=e,{animationDuration:p,animationStatus:h}=d,m=s.value,v=f.value,b=n.default,x=n.prefix,y=n.suffix;return(0,i.h)("div",{ref:c,class:["vxe-notice-bar","is--"+(t?"vertical":"horizontal"),`dir--${a||"left"}`,{[`size--${m}`]:m,"is--loop":l}]},[x?(0,i.h)("div",{class:"vxe-notice-bar--prefix"},x({})):(0,o.C1)(g),(0,i.h)("div",{class:"vxe-notice-bar--content"},[(0,i.h)("div",{ref:u,class:"vxe-notice-bar--inner"},[(0,i.h)("div",{class:["vxe-notice-bar--wrapper","is--"+(h?"progress":"end")],style:{animationDuration:r?V(r,"s"):`${p}s`},onAnimationstart:C,onAnimationend:k},b?b({}):v)])]),y?(0,i.h)("div",{class:"vxe-notice-bar--suffix"},y({})):(0,o.C1)(g)])};return(0,i.watch)(h,()=>{y()}),(0,i.onMounted)(()=>{o.Nh.on(g,"resize",y),y()}),(0,i.onBeforeUnmount)(()=>{o.Nh.off(g,"resize")}),g.renderVN=S,g},render(){return this.renderVN()}});const pa=Object.assign({},da,{install(e){e.component(da.name,da)}});u.use(pa),o.OE.component(da);const fa=pa;var ha=pa;const ma=Object.assign({},Nn,{install(e){e.component(Nn.name,Nn)}});u.use(ma),o.OE.component(Nn);const ga=ma;var va=ma;class ba{constructor(e,t){Object.assign(this,{id:w().uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function xa(e){return e instanceof ba}function ya(e,t){return xa(t)?t:new ba(e,t)}function wa(e,t){Object.keys(e).forEach(n=>{(0,i.watch)(()=>e[n],e=>{t.update(n,e)})})}function Ca(e,t,n,r){const{reactData:o}=e,{staticOptions:i}=o,a=t.parentNode,l=r?r.optionConfig:null,s=l?l.options:i;a&&s&&(s.splice(w().arrayIndexOf(a.children,t),0,n),o.staticOptions=i.slice(0))}function ka(e,t){const{reactData:n}=e,{staticOptions:r}=n,o=w().findTree(r,e=>e.id===t.id,{children:"options"});o&&o.items.splice(o.index,1),n.staticOptions=r.slice(0)}var Sa=a({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const n=(0,i.ref)(),r=(0,i.inject)("$xeSelect",{}),o=ya(r,e),a={optionConfig:o};return o.options=[],(0,i.provide)("$xeOptgroup",a),wa(e,o),(0,i.onMounted)(()=>{const e=n.value;Ca(r,e,o)}),(0,i.onUnmounted)(()=>{ka(r,o)}),()=>{const e=t.default;return(0,i.h)("div",{ref:n},e?e({}):[])}}});const Ta=Object.assign(Sa,{install:function(e){e.component(Sa.name,Sa)}});u.use(Ta),o.OE.component(Sa);const Ea=Ta;var Oa=Ta,Da=a({name:"VxeOption",props:{value:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const n=(0,i.ref)(),r=(0,i.inject)("$xeSelect",{}),o=(0,i.inject)("$xeOptgroup",null),a=ya(r,e);return a.slots=t,wa(e,a),(0,i.onMounted)(()=>{const e=n.value;Ca(r,e,a,o)}),(0,i.onUnmounted)(()=>{ka(r,a)}),()=>(0,i.h)("div",{ref:n})}});const Ma=Object.assign(Da,{install:function(e){e.component(Da.name,Da)}});u.use(Ma),o.OE.component(Da);const Aa=Ma;var Ia=Ma;function Na(e){return!1!==e.visible}function Ra(){return w().uniqueId("opt_")}function Fa(){return{synchData:[],fullData:[],afterVisibleList:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0}}var _a=a({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>(0,o.zj)().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>(0,o.zj)().select.allowCreate},placement:String,lazyOptions:Array,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},zIndex:Number,size:{type:String,default:()=>(0,o.zj)().select.size||(0,o.zj)().size},filterable:Boolean,filterMethod:Function,filterConfig:Object,remote:Boolean,remoteConfig:Object,emptyText:String,showTotalButoon:{type:Boolean,default:()=>(0,o.zj)().select.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>(0,o.zj)().select.showCheckedButoon},showClearButton:{type:Boolean,default:()=>(0,o.zj)().select.showClearButton},transfer:{type:Boolean,default:null},popupConfig:Object,virtualYConfig:Object,scrollY:Object,remoteMethod:Function,optionId:{type:String,default:()=>(0,o.zj)().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","default-change","all-change","clear","blur","focus","click","scroll","visible-change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),p=(0,i.ref)(),f=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),{computeSize:x}=(0,o.XX)(e),y=(0,i.reactive)({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),C=Fa(),k={refElem:p},S={xID:d,props:e,context:t,reactData:y,internalData:C,getRefMaps:()=>k},E=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),O=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),D=(0,i.computed)(()=>{const{transfer:t}=e,n=$.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().select.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),M=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);const n=(0,o.zj)().select.placeholder;return n?be(n):(0,o.TO)("vxe.base.pleaseSelect")}),A=(0,i.computed)(()=>Object.assign({},e.defaultConfig)),I=(0,i.computed)(()=>Object.assign({},e.optionProps)),N=(0,i.computed)(()=>Object.assign({},e.optionGroupProps)),R=(0,i.computed)(()=>{const e=I.value;return e.label||"label"}),F=(0,i.computed)(()=>{const e=I.value;return e.value||"value"}),_=(0,i.computed)(()=>{const e=N.value;return e.label||"label"}),P=(0,i.computed)(()=>{const e=N.value;return e.options||"options"}),j=(0,i.computed)(()=>{const e=G.value;return re(e)}),$=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.popupConfig,e.popupConfig)),L=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.virtualYConfig||(0,o.zj)().select.scrollY,e.virtualYConfig||e.scrollY)),z=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.remoteConfig,e.remoteConfig)),B=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.filterConfig,e.filterConfig)),W=(0,i.computed)(()=>Object.assign({},(0,o.zj)().select.optionConfig,e.optionConfig)),q=(0,i.computed)(()=>w().toNumber(e.multiCharOverflow)),U=(0,i.computed)(()=>{const e=$.value,{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t),r.maxHeight=V(t)),r}),G=(0,i.computed)(()=>{const{modelValue:t,multiple:n}=e;let r=[];return w().isArray(t)?r=t:n?xe(t)||(r=`${t}`.indexOf(",")>-1?`${t}`.split(","):[t]):r=null===t||void 0===t?[]:[t],r}),Y=(0,i.computed)(()=>{const{remote:t}=e,{reactFlag:n}=y,r=G.value;return t&&n?r.map(e=>oe(e)).join(", "):r.map(e=>ie(e)).join(", ")}),K=(0,i.computed)(()=>{const{remote:t,multiple:n}=e,{reactFlag:r}=y,o=q.value,i=G.value;if(t&&r)return i.map(e=>oe(e)).join(", ");const a=i.map(e=>ie(e));return n&&o>0&&a.length>o?`${a.slice(0,o)}...`:a.join(", ")}),Z=(e,t)=>e&&(w().isString(e)&&(e=n[e]||null),w().isFunction(e))?T(e(t)):[],J=(e,t,n)=>{r(e,(0,o.lh)(n,{$select:S},t))},Q=e=>{r("update:modelValue",e)},ee=e=>{Q(e),J("default-change",{value:e},null)},te=()=>{const t=W.value;return t.keyField||e.optionId||"_X_OPTION_KEY"},ne=e=>{const t=e[te()];return t?encodeURIComponent(t):""},re=t=>{const{multiple:n,max:r}=e;return!(!n||!r)&&t.length>=w().toNumber(r)},oe=t=>{const{lazyOptions:n}=e,{remoteValMaps:r,optFullValMaps:o}=C,i=F.value,a=R.value,l=r[t]||o[t],s=l?l.item:null;if(s)return w().toValueString(s[a]);if(n){const e=n.find(e=>e[i]===t);if(e)return e[a]}return t},ie=t=>{const{lazyOptions:n}=e,{optFullValMaps:r}=C,o=F.value,i=R.value,a=y.reactFlag?r[t]:null;if(a)return a.item[i];if(n){const e=n.find(e=>e[o]===t);if(e)return e[i]}return t},ae=e=>{const t=P.value,n=F.value,r=te(),o={},i={},a=[],l=e=>{a.push(e);let t=ne(e);t||(t=Ra(),e[r]=t),i[e[n]]={key:t,item:e,_index:-1}};e.forEach(e=>{l(e),e[t]&&(o[e[r]]=e,e[t].forEach(l))}),C.fullData=a,C.optGroupKeyMaps=o,C.optFullValMaps=i,y.reactFlag++,le()},le=()=>{const{remote:t,modelValue:n,filterable:r}=e,{searchValue:o}=y,{fullData:a,optFullValMaps:l}=C,s=R.value,c=F.value,u=B.value,d=u.filterMethod||e.filterMethod,p=`${o||""}`.toLowerCase();let f=[];return f=t?a.filter(Na):r&&d?a.filter(e=>Na(e)&&d({$select:S,group:null,option:e,searchValue:o,value:n})):r?a.filter(e=>Na(e)&&(!p||`${e[s]||e[c]}`.toLowerCase().indexOf(p)>-1)):a.filter(Na),f.forEach((e,t)=>{const n=l[e[c]];n&&(n._index=t)}),C.afterVisibleList=f,(0,i.nextTick)()},se=e=>{e&&(y.currentOption=e)},ce=()=>{const t=$.value,n=t.zIndex||e.zIndex;n?y.panelIndex=w().toNumber(n):y.panelIndex<he()&&(y.panelIndex=fe())},ue=()=>{const{placement:t}=e,{panelIndex:n}=y,r=p.value,o=v.value,a=D.value,l=$.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});y.panelStyle=i,y.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},de=()=>{(0,i.nextTick)(()=>{const{isAniVisible:e,visiblePanel:t}=y,{optFullValMaps:n}=C,r=G.value;if(r.length&&e&&t){const e=y.reactFlag?n[`${r[0]}`]:null;e&&Ge(e.item)}})},pe=()=>{const{loading:t,filterable:n,remote:r}=e,{fullData:o,hpTimeout:i}=C,a=O.value,l=z.value;t||a||(i&&(clearTimeout(i),C.hpTimeout=void 0),y.initialized||(y.initialized=!0),y.isActivated=!0,y.isAniVisible=!0,n&&(r&&l.enabled&&(l.autoLoad&&!o.length||o.length&&l.clearOnClose)?Le():(le(),qe())),setTimeout(()=>{y.visiblePanel=!0,Ne(),Xe().then(()=>{de(),Ke()}),ue()},10),setTimeout(()=>{Xe().then(()=>Ke())},100),ce(),ue(),J("visible-change",{visible:!0},null))},me=()=>{const{filterable:t,remote:n}=e,r=B.value,o=z.value;n?o.clearOnClose&&(y.searchValue=""):t?r.clearOnClose&&(y.searchValue=""):y.searchValue="",y.searchLoading=!1,y.visiblePanel=!1,C.hpTimeout=setTimeout(()=>{y.isAniVisible=!1},350),J("visible-change",{visible:!1},null)},ge=(t,n,r)=>{Q(n),n!==e.modelValue&&(J("change",{value:n,option:r},t),c&&u&&c.triggerItemEvent(t,u.itemConfig.field,n))},ve=(e,t)=>{C.remoteValMaps={},ge(e,t,null),J("clear",{value:t},e)},ye=e=>{const{$event:t}=e;ve(t,null),me()},we=t=>{const{$event:n}=t,{multiple:r,max:i}=e,{optList:a}=y,l=F.value;if(r){const e=G.value,t=e.slice(0);for(let n=0;n<a.length;n++){const e=a[n],r=e[l];if(re(t)){o.OE&&o.OE.modal.message({content:(0,o.TO)("vxe.select.overSizeErr",[i]),status:"warning"});break}t.some(e=>e===r)||t.push(r)}ge(n,t,a[0]),J("all-change",{value:t},n)}},Ce=e=>{const{$event:t}=e;ve(t,null),me()},ke=(t,n)=>{const{multiple:r}=e,{remoteValMaps:o}=C,i=F.value,a=n[i],l=o[a];if(y.visiblePanel){if(l?l.item=n:o[a]={key:ne(n),item:n,_index:-1},r){let e=[];const r=G.value,o=w().findIndexOf(r,e=>e===a);e=-1===o?r.concat([a]):r.filter(e=>e!==a),ge(t,e,n)}else ge(t,a,n),me();y.reactFlag++}},Se=e=>{const{visiblePanel:t}=y,n=O.value;if(!n&&t){const t=v.value;H(e,t).flag?ue():me()}},Te=e=>{const{visiblePanel:t}=y,n=O.value,r=$.value,{trigger:o}=r;if(!n){const n=p.value,r=v.value;y.isActivated=H(e,n).flag||H(e,r).flag,t&&!y.isActivated&&"manual"!==o&&me()}},Oe=e=>{const t=e.disabled,n=ne(e);return!t&&!nt(n)},De=(t,n)=>{const{allowCreate:r}=e,{optList:o}=y,{optFullValMaps:i,optAddMaps:a,afterVisibleList:l}=C,s=F.value;let c=l,u=0;if(r&&o.length){const e=o[0],t=ne(e);a[t]&&(u=1,c=[a[t]].concat(c))}if(!t)if(n)for(let e=0;e<c.length;e++){const t=c[e];if(Oe(t))return t}else for(let e=c.length-1;e>=0;e--){const t=c[e];if(Oe(t))return t}let d=0;const p=t?i[t[s]]:null;if(p&&(d=p._index+u),d>-1)if(n)for(let e=d+1;e<=c.length-1;e++){const t=c[e];if(Oe(t))return t}else if(d>0)for(let e=d-1;e>=0;e--){const t=c[e];if(Oe(t))return t}return null},Me=t=>{const{clearable:n}=e,{visiblePanel:r,currentOption:i}=y,a=O.value,l=$.value,{trigger:s}=l;if(!a){const e=o.Nh.hasKey(t,o.un.TAB),a=o.Nh.hasKey(t,o.un.ENTER),l=o.Nh.hasKey(t,o.un.ESCAPE),c=o.Nh.hasKey(t,o.un.ARROW_UP),u=o.Nh.hasKey(t,o.un.ARROW_DOWN),d=o.Nh.hasKey(t,o.un.DELETE);if(e&&(y.isActivated=!1),r){if(l||e)"manual"!==s&&me();else if(a)i&&(t.preventDefault(),t.stopPropagation(),ke(t,i));else if(c||u){t.preventDefault();let e=De(i,u);e||(e=De(null,u)),e&&(se(e),Ge(e,u))}}else(c||u||a)&&y.isActivated&&(t.preventDefault(),pe());y.isActivated&&d&&n&&ve(t,null)}},Ae=()=>{const{visiblePanel:e,isActivated:t}=y,n=$.value,{trigger:r}=n;if(e&&"manual"!==r&&me(),t&&(y.isActivated=!1),e||t){const e=f.value;e&&e.blur()}},Ie=()=>{const{visiblePanel:e}=y;e&&ue()},Ne=()=>{e.filterable&&(0,i.nextTick)(()=>{const e=m.value;e&&e.focus()})},Re=e=>{const t=O.value,n=$.value,{trigger:r}=n;t||y.visiblePanel||r&&"default"!==r||(y.triggerFocusPanel=!0,pe(),setTimeout(()=>{y.triggerFocusPanel=!1},500)),J("focus",{},e)},Fe=e=>{const t=$.value,{trigger:n}=t;n&&"default"!==n||Ve(e),J("click",{triggerButton:!1,visible:y.visiblePanel},e)},_e=e=>{y.isActivated=!1,J("blur",{},e)},Pe=e=>{const t=$.value,{trigger:n}=t;n&&"default"!==n&&"icon"!==n||Ve(e),J("click",{triggerButton:!0,visible:y.visiblePanel},e)},je=e=>{y.searchValue=e},$e=()=>{y.isActivated=!0},Le=()=>{const{modelValue:t,remote:n}=e,{searchValue:r}=y,o=z.value,a=o.queryMethod||e.remoteMethod;n&&a&&o.enabled?(y.searchLoading=!0,Promise.resolve(a({$select:S,searchValue:r,value:t})).then(()=>(0,i.nextTick)()).catch(()=>(0,i.nextTick)()).finally(()=>{y.searchLoading=!1,le(),qe()})):(le(),qe())},ze=w().debounce(Le,350,{trailing:!0}),Ve=e=>{const{$event:t}=e;t.preventDefault(),y.triggerFocusPanel?y.triggerFocusPanel=!1:y.visiblePanel?me():pe()},Be=(e,t)=>{if(t.disabled)return!0;const n=j.value;return!(!n||e)},He=()=>{const{scrollYLoad:e}=y,{scrollYStore:t,afterVisibleList:n}=C;y.bodyHeight=e?n.length*t.rowHeight:0,y.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},We=()=>{const{filterable:t,allowCreate:n}=e,{scrollYLoad:r,searchValue:o}=y,{optAddMaps:a,scrollYStore:l,afterVisibleList:s}=C,c=R.value,u=F.value,d=r?s.slice(l.startIndex,l.endIndex):s.slice(0);if(t&&n&&o&&!d.some(e=>e[c]===o)){const e=a[o]||(0,i.reactive)({[te()]:o,[c]:o,[u]:o});a[o]=e,d.unshift(e)}return y.optList=d,(0,i.nextTick)()},qe=()=>{We(),He()},Ue=()=>(0,i.nextTick)().then(()=>{const{scrollYLoad:e}=y,{scrollYStore:t}=C,n=b.value,r=L.value;let o,i=0;if(n&&(o||(o=n.children[0])),o&&(i=o.offsetHeight),i=Math.max(20,i),t.rowHeight=i,e){const e=g.value,n=Math.max(8,e?Math.ceil(e.clientHeight/i):0),o=Math.max(0,Math.min(2,w().toNumber(r.oSize)));t.offsetSize=o,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+o,t.endIndex),qe()}else He()}),Ge=(e,t)=>{const{scrollYLoad:n}=y,{optFullValMaps:r,scrollYStore:o}=C,i=F.value,a=r[e[i]];if(a){const e=a.key,r=a._index;if(r>-1){const i=g.value,a=v.value;if(!a)return;const l=a.querySelector(`[optid='${e}']`);if(i)if(l){const e=i.offsetHeight,n=1;t?l.offsetTop+l.offsetHeight-i.scrollTop>e?i.scrollTop=l.offsetTop+l.offsetHeight-e:(l.offsetTop+n<i.scrollTop||l.offsetTop+n>i.scrollTop+i.clientHeight)&&(i.scrollTop=l.offsetTop-n):l.offsetTop+n<i.scrollTop||l.offsetTop+n>i.scrollTop+i.clientHeight?i.scrollTop=l.offsetTop-n:l.offsetTop+l.offsetHeight-i.scrollTop>e&&(i.scrollTop=l.offsetTop+l.offsetHeight-e)}else n&&(i.scrollTop=t?r*o.rowHeight-i.clientHeight+o.rowHeight:r*o.rowHeight)}}},Ye=(e,t)=>{const n=g.value;return n&&(w().isNumber(e)&&(n.scrollLeft=e),w().isNumber(t)&&(n.scrollTop=t)),y.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,i.nextTick)(()=>{e()})},50)}):(0,i.nextTick)()},Ke=()=>{const{lastScrollLeft:e,lastScrollTop:t}=C;return tt().then(()=>{if(e||t)return C.lastScrollLeft=0,C.lastScrollTop=0,Ye(e,t)})},Xe=()=>{const e=p.value;return e&&e.clientWidth&&e.clientHeight?Ue():Promise.resolve()},Ze=e=>{const{scrollYStore:t}=C,{startIndex:n,endIndex:r,visibleSize:o,offsetSize:i,rowHeight:a}=t,l=e.target,s=l.scrollTop,c=Math.floor(s/a),u=Math.max(0,c-1-i),d=c+o+i;(c<=n||c>=r-o-1)&&(n===u&&r===d||(t.startIndex=u,t.endIndex=d,qe()))},Je=()=>{const e=250,{lastScrollTime:t}=C;return!!(t&&Date.now()<t+e)},Qe=e=>{const t=e.target,n=t.scrollTop,r=t.scrollLeft,o=r!==C.lastScrollLeft,i=n!==C.lastScrollTop;C.lastScrollTop=n,C.lastScrollLeft=r,y.scrollYLoad&&Ze(e),C.lastScrollTime=Date.now(),J("scroll",{scrollLeft:r,scrollTop:n,isX:o,isY:i},e)},et=t=>{ae(t||[]);const{multiple:n}=e,{isLoaded:r,fullData:o,scrollYStore:a}=C,l=A.value,s=L.value,c=F.value;if(Object.assign(a,{startIndex:0,endIndex:1,visibleSize:0}),C.synchData=t||[],y.scrollYLoad=!!s.enabled&&s.gt>-1&&(0===s.gt||s.gt<=o.length),We(),!r){const{selectMode:r}=l;if(t.length>0&&w().eqNull(e.modelValue)){if("all"===r)n?(0,i.nextTick)(()=>{ee(t.map(e=>e[c]))}):h("vxe.error.notConflictProp",["default-config.selectMode=all","multiple=true"]);else if("first"===r||"last"===r){const n=w()[r](t);n&&(0,i.nextTick)(()=>{w().eqNull(e.modelValue)&&ee(n[c])})}C.isLoaded=!0}}return Ue().then(()=>{Ke()})},tt=()=>{const e=g.value;return e&&(e.scrollTop=0,e.scrollLeft=0),C.lastScrollTop=0,C.lastScrollLeft=0,(0,i.nextTick)()},nt=e=>{const{optGroupKeyMaps:t}=C;return!!t[e]},rt={dispatchEvent:J,loadData:et,reloadData(e){return C.isLoaded=!1,tt(),et(e)},isPanelVisible(){return y.visiblePanel},togglePanel(){return y.visiblePanel?me():pe(),(0,i.nextTick)()},hidePanel(){return y.visiblePanel&&me(),(0,i.nextTick)()},showPanel(){return y.visiblePanel||pe(),(0,i.nextTick)()},refreshOption(){return le(),qe(),(0,i.nextTick)()},focus(){const e=f.value;return e&&e.blur(),y.isActivated=!0,(0,i.nextTick)()},blur(){const e=f.value;return e&&e.blur(),y.isActivated=!1,(0,i.nextTick)()},recalculate:Xe,clearScroll:tt};Object.assign(S,rt);const ot=t=>{const{allowCreate:r,optionKey:a}=e,{currentOption:l}=y,{optAddMaps:s}=C,c=W.value,u=R.value,d=F.value,p=_.value,f=G.value,{useKey:h,height:m}=c,g=n.option;return t.map((e,t)=>{const{slots:n,className:c}=e,v=ne(e),b=e[d],x=nt(v),y=!(!r||!s[v]),C=!y&&f.indexOf(b)>-1,k=y||!x||Na(e),T=!y&&Be(C,e),E=n?n.default:null,O={option:e,group:x?e:null,$select:S};let D="",M=[];return g?M=Z(g,O):E?M=Z(E,O):(D=be(e[x?p:u]||b),M=D),k?(0,i.h)("div",{key:h||a?v:t,class:["vxe-select-option",c?w().isFunction(c)?c(O):c:"",{"vxe-select-optgroup":x,"is--disabled":T,"is--selected":C,"is--add":y,"is--hover":l&&ne(l)===v}],optid:v,title:D||null,style:m?{height:V(m)}:void 0,onMousedown:e=>{const t=0===e.button;t&&e.stopPropagation()},onClick:t=>{T||x||ke(t,e)},onMouseenter:()=>{T||x||Je()||se(e)}},r?[(0,i.h)("span",{key:1,class:"vxe-select-option--label"},M),y?(0,i.h)("span",{key:2,class:"vxe-select-option--add-icon"},[(0,i.h)("i",{class:(0,o.sW)().SELECT_ADD_OPTION})]):(0,o.C1)(S)]:M):(0,o.C1)(S)})},it=()=>{const{optList:t,searchLoading:n}=y;return n?[(0,i.h)("div",{class:"vxe-select--search-loading"},[(0,i.h)("i",{class:["vxe-select--search-icon",(0,o.sW)().SELECT_LOADED]}),(0,i.h)("span",{class:"vxe-select--search-text"},(0,o.TO)("vxe.select.loadingText"))])]:t.length?ot(t):[(0,i.h)("div",{class:"vxe-select--empty-placeholder"},e.emptyText||(0,o.TO)("vxe.select.emptyText"))]},at=()=>{const{className:t,multiple:r,loading:a,filterable:l,showTotalButoon:s,showCheckedButoon:c,showClearButton:u}=e,{initialized:d,isActivated:h,isAniVisible:C,optList:k,visiblePanel:T,bodyHeight:A,topSpaceHeight:I}=y,N=x.value,R=O.value,F=K.value,_=Y.value,P=D.value,j=E.value,L=M.value,z=U.value,V=$.value,B=n.default,H=n.header,W=n.footer,q=n.prefix,X=V.className||e.popupClassName;if(j)return(0,i.h)("div",{ref:p,class:["vxe-select--readonly",t]},[(0,i.h)("div",{class:"vxe-select-slots",ref:"hideOption"},B?B({}):[]),(0,i.h)("span",{class:"vxe-select-label",title:_},F)]);const J=G.value;return(0,i.h)("div",{ref:p,class:["vxe-select",t?w().isFunction(t)?t({$select:S}):t:"",{[`size--${N}`]:N,"is--visible":T,"is--disabled":R,"is--filter":l,"is--loading":a,"is--active":h}]},[(0,i.h)("div",{class:"vxe-select-slots",ref:"hideOption"},B?B({}):[]),(0,i.h)(Lt,{ref:f,clearable:e.clearable,placeholder:L,editable:!1,disabled:R,type:"text",prefixIcon:e.prefixIcon,suffixIcon:a?(0,o.sW)().SELECT_LOADED:T?(0,o.sW)().SELECT_OPEN:(0,o.sW)().SELECT_CLOSE,autoFocus:!1,title:_,modelValue:F,onClear:ye,onClick:Fe,onFocus:Re,onBlur:_e,onSuffixClick:Pe},q?{prefix:()=>q({})}:{}),(0,i.h)(i.Teleport,{to:"body",disabled:!P||!d},[(0,i.h)("div",{ref:v,class:["vxe-table--ignore-clear vxe-select--panel",X?w().isFunction(X)?X({$select:S}):X:"",{[`size--${N}`]:N,"is--transfer":P,"ani--leave":!a&&C,"ani--enter":!a&&T}],placement:y.panelPlacement,style:y.panelStyle},d&&(T||C)?[(0,i.h)("div",{class:"vxe-select--panel-wrapper",style:z},[l?(0,i.h)("div",{class:"vxe-select--panel-search"},[(0,i.h)(Lt,{ref:m,class:"vxe-select-search--input",modelValue:y.searchValue,type:"text",clearable:!0,disabled:!1,readonly:!1,placeholder:(0,o.TO)("vxe.select.search"),prefixIcon:(0,o.sW)().INPUT_SEARCH,"onUpdate:modelValue":je,onFocus:$e,onChange:ze,onSearch:ze})]):(0,o.C1)(S),s||c&&r||u||H?(0,i.h)("div",{class:"vxe-select--panel-header"},H?Z(H,{}):[(0,i.h)("div",{class:"vxe-select--header-button"},[s?(0,i.h)("div",{class:"vxe-select--header-total"},(0,o.TO)("vxe.select.total",[J.length,k.length])):(0,o.C1)(S),(0,i.h)("div",{class:"vxe-select--header-btns"},[c&&r?(0,i.h)(Ee,{content:(0,o.TO)("vxe.select.allChecked"),mode:"text",onClick:we}):(0,o.C1)(S),u?(0,i.h)(Ee,{content:(0,o.TO)("vxe.select.clear"),mode:"text",onClick:Ce}):(0,o.C1)(S)])])]):(0,o.C1)(S),(0,i.h)("div",{class:"vxe-select--panel-body"},[(0,i.h)("div",{ref:g,class:"vxe-select-option--wrapper",onScroll:Qe},[(0,i.h)("div",{class:"vxe-select--y-space",style:{height:A?`${A}px`:""}}),(0,i.h)("div",{ref:b,class:"vxe-select--body",style:{transform:`translateY(${I}px)`}},it())])]),W?(0,i.h)("div",{class:"vxe-select--panel-footer"},Z(W,{})):(0,o.C1)(S)])]:[])])])};return(0,i.watch)(()=>y.staticOptions,e=>{et(e)}),(0,i.watch)(()=>e.options,e=>{et(e||[])}),(0,i.watch)(()=>e.optionGroups,e=>{et(e||[])}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{const{options:t,optionGroups:n}=e;n?et(n):t&&et(t)}),o.Nh.on(S,"mousewheel",Se),o.Nh.on(S,"mousedown",Te),o.Nh.on(S,"keydown",Me),o.Nh.on(S,"blur",Ae),o.Nh.on(S,"resize",Ie)}),(0,i.onUnmounted)(()=>{o.Nh.off(S,"mousewheel"),o.Nh.off(S,"mousedown"),o.Nh.off(S,"keydown"),o.Nh.off(S,"blur"),o.Nh.off(S,"resize"),w().assign(C,Fa())}),(0,i.provide)("$xeSelect",S),S.renderVN=at,S},render(){return this.renderVN()}}),Pa=a({name:"VxePager",props:{size:{type:String,default:()=>(0,o.zj)().pager.size||(0,o.zj)().size},layouts:{type:Array,default:()=>(0,o.zj)().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>(0,o.zj)().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>(0,o.zj)().pager.pagerCount||7},pageSizes:{type:Array,default:()=>(0,o.zj)().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>(0,o.zj)().pager.align},border:{type:Boolean,default:()=>(0,o.zj)().pager.border},background:{type:Boolean,default:()=>(0,o.zj)().pager.background},perfect:{type:Boolean,default:()=>(0,o.zj)().pager.perfect},autoHidden:{type:Boolean,default:()=>(0,o.zj)().pager.autoHidden},transfer:{type:Boolean,default:()=>(0,o.zj)().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>(0,o.zj)().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.inject)("$xeGrid",null),c=(0,i.reactive)({inpCurrPage:e.currentPage}),u=(0,i.ref)(),d={refElem:u},p=(0,i.computed)(()=>y(e.total,e.pageSize)),m=(0,i.computed)(()=>{const{pagerCount:t}=e,n=p.value,r=n>t?t-2:t,o=[];for(let e=0;e<r;e++)o.push(e);return o}),g=(0,i.computed)(()=>Math.floor((e.pagerCount-2)/2)),v=(0,i.computed)(()=>e.pageSizes.map(e=>w().isNumber(e)?{value:e,label:`${(0,o.TO)("vxe.pager.pagesize",[e])}`}:Object.assign({value:"",label:""},e))),b={xID:a,props:e,context:t,getRefMaps:()=>d},x=(e,t,n)=>{r(e,(0,o.lh)(n,{$pager:b},t))},y=(e,t)=>Math.max(Math.ceil(e/t),1),C=(t,n)=>{r("update:currentPage",n),t&&n!==e.currentPage&&x("page-change",{type:"current",pageSize:e.pageSize,currentPage:n},t)},k=(t,n)=>{r("update:currentPage",t),n&&t!==e.currentPage&&x("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},n)},S=e=>{const{$event:t}=e,n=t.target,r=w().toInteger(n.value),o=p.value,i=r<=0?1:r>=o?o:r,a=w().toValueString(i);n.value=a,c.inpCurrPage=a,k(i,t)},T=t=>{const{currentPage:n}=e;n>1&&k(1,t)},E=t=>{const{currentPage:n}=e,r=p.value;n<r&&k(r,t)},O=t=>{const{currentPage:n}=e,r=p.value;n>1&&k(Math.min(r,Math.max(n-1,1)),t)},D=t=>{const{currentPage:n}=e,r=p.value;n<r&&k(Math.min(r,n+1),t)},M=t=>{const n=m.value;k(Math.max(e.currentPage-n.length,1),t)},A=t=>{const n=p.value,r=m.value;k(Math.min(e.currentPage+r.length,n),t)},I=t=>{const{value:n,$event:o}=t,i=w().toNumber(n),a=y(e.total,i);let l=e.currentPage;l>a&&(l=a,r("update:currentPage",a)),r("update:pageSize",i),o&&x("page-change",{type:"size",pageSize:i,currentPage:l},o)},N=e=>{const{$event:t}=e;o.Nh.hasKey(t,o.un.ENTER)?S(e):o.Nh.hasKey(t,o.un.ARROW_UP)?(t.preventDefault(),D(t)):o.Nh.hasKey(t,o.un.ARROW_DOWN)&&(t.preventDefault(),O(t))},R=()=>{const{currentPage:t,total:r}=e,a=n.home,l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-home-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--home-btn",{"is--disabled":t<=1}],type:"button",title:(0,o.TO)("vxe.pager.homePageTitle"),onClick:T},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconHomePage||(0,o.sW)().PAGER_HOME]})])},F=()=>{const{currentPage:t,total:r}=e,a=n.prevPage||n["prev-page"],l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-prev-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--prev-btn",{"is--disabled":t<=1}],type:"button",title:(0,o.TO)("vxe.pager.prevPageTitle"),onClick:O},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||(0,o.sW)().PAGER_PREV_PAGE]})])},_=t=>{const{currentPage:r,total:a}=e,l=n.prevJump||n["prev-jump"],s=p.value;return l?(0,i.h)("span",{class:"vxe-pager--custom-jump-prev"},l({$pager:b,total:a,currentPage:r,pageCount:s})):(0,i.h)(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":r<=1}],type:"button",title:(0,o.TO)("vxe.pager.prevJumpTitle"),onClick:M},[t?(0,i.h)("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||(0,o.sW)().PAGER_JUMP_MORE]}):null,(0,i.h)("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||(0,o.sW)().PAGER_JUMP_PREV]})])},P=t=>{const{currentPage:r,total:a}=e,l=n.nextJump||n["next-jump"],s=p.value;return l?(0,i.h)("span",{class:"vxe-pager--custom-jump-next"},l({$pager:b,total:a,currentPage:r,pageCount:s})):(0,i.h)(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":r>=s}],type:"button",title:(0,o.TO)("vxe.pager.nextJumpTitle"),onClick:A},[t?(0,i.h)("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||(0,o.sW)().PAGER_JUMP_MORE]}):null,(0,i.h)("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||(0,o.sW)().PAGER_JUMP_NEXT]})])},j=()=>{const{currentPage:t,total:r}=e,a=n.nextPage||n["next-page"],l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-next-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--next-btn",{"is--disabled":t>=l}],type:"button",title:(0,o.TO)("vxe.pager.nextPageTitle"),onClick:D},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconNextPage||(0,o.sW)().PAGER_NEXT_PAGE]})])},$=()=>{const{currentPage:t,total:r}=e,a=n.end,l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-end-btn"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("button",{class:["vxe-pager--end-btn",{"is--disabled":t>=l}],type:"button",title:(0,o.TO)("vxe.pager.endPageTitle"),onClick:E},[(0,i.h)("i",{class:["vxe-pager--btn-icon",e.iconEndPage||(0,o.sW)().PAGER_END]})])},L=t=>{const{currentPage:r,total:o,pagerCount:a}=e,l=t?n.numberJump||n["number-jump"]:n.number,s=[],c=p.value,u=m.value,d=g.value,f=c>a,h=f&&r>d+1,v=f&&r<c-d,x=[];let y=1;return f&&(y=r>=c-d?Math.max(c-u.length+1,1):Math.max(r-d,1)),t&&h&&(x.push(1),s.push((0,i.h)("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>C(e,1)},"1"),_("span"))),u.forEach((e,t)=>{const n=y+t;n<=c&&(x.push(n),s.push((0,i.h)("button",{key:n,class:["vxe-pager--num-btn",{"is--active":r===n}],type:"button",onClick:e=>C(e,n)},`${n}`)))}),t&&v&&(x.push(c),s.push(P("button"),(0,i.h)("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>C(e,c)},c))),l?(0,i.h)("span",{class:"vxe-pager--custom-btn-wrapper"},l({$pager:b,total:o,numList:x,currentPage:r,pageCount:c})):(0,i.h)("span",{class:"vxe-pager--btn-wrapper"},s)},z=()=>L(!0),V=()=>{const{total:t,currentPage:r,pageSize:o,pageSizePlacement:a,transfer:l}=e,s=n.sizes,c=v.value,u=p.value;return s?(0,i.h)("span",{class:"vxe-pager--custom-sizes"},s({$pager:b,total:t,currentPage:r,pageCount:u,pageSize:o,options:c})):(0,i.h)(_a,{class:"vxe-pager--sizes",modelValue:o,placement:a,transfer:l,options:c,onChange:I})},B=t=>{const{total:r}=e,{inpCurrPage:a}=c,l=t?n.fullJump||n["full-jump"]:n.jump,s=p.value;return l?(0,i.h)("span",{class:"vxe-pager--custom-jump"},l({$pager:b,total:r,currentPage:a,pageCount:s})):(0,i.h)("span",{class:"vxe-pager--jump"},[t?(0,i.h)("span",{class:"vxe-pager--goto-text"},(0,o.TO)("vxe.pager.goto")):null,(0,i.h)(Nn,{class:"vxe-pager--goto",modelValue:c.inpCurrPage,placeholder:(0,o.TO)("vxe.pager.gotoTitle"),align:"center",type:"integer",max:s,min:1,controls:!1,onKeydown:N,onBlur:S,"onUpdate:modelValue"(e){c.inpCurrPage=e}}),t?(0,i.h)("span",{class:"vxe-pager--classifier-text"},(0,o.TO)("vxe.pager.pageClassifier")):null])},H=()=>B(!0),W=()=>{const{currentPage:t,total:r}=e,o=n.pageCount||n["page-count"],a=p.value;return o?(0,i.h)("span",{class:"vxe-pager--custom-count"},o({$pager:b,total:r,currentPage:t,pageCount:a})):(0,i.h)("span",{class:"vxe-pager--count"},[(0,i.h)("span",{class:"vxe-pager--separator"}),(0,i.h)("span",a)])},q=()=>{const{currentPage:t,total:r}=e,a=n.total,l=p.value;return a?(0,i.h)("span",{class:"vxe-pager--custom-total"},a({$pager:b,total:r,currentPage:t,pageCount:l})):(0,i.h)("span",{class:"vxe-pager--total"},(0,o.TO)("vxe.pager.total",[r]))},U={dispatchEvent:x,setPageSize(e){return I({value:e}),(0,i.nextTick)()},setPageSizeByEvent(e,t){I({value:t,$event:e})},homePage(){return T(),(0,i.nextTick)()},homePageByEvent(e){T(e)},endPage(){return E(),(0,i.nextTick)()},endPageByEvent(e){E(e)},prevPage(){return O(),(0,i.nextTick)()},prevPageByEvent(e){O(e)},nextPage(){return D(),(0,i.nextTick)()},nextPageByEvent(e){D(e)},prevJump(){return M(),(0,i.nextTick)()},prevJumpByEvent(e){M(e)},nextJump(){return A(),(0,i.nextTick)()},nextJumpByEvent(e){A(e)},setCurrentPage(e){const t=w().toNumber(e)||1;return c.inpCurrPage=t,k(t),(0,i.nextTick)()},setCurrentPageByEvent(e,t){const n=w().toNumber(t)||1;c.inpCurrPage=n,k(n,e)},jumpPage(e){return f("vxe.error.delFunc",["[pager] jumpPage","setCurrentPage"]),b.setCurrentPage(e)}},G={handlePrevPage:O,handleNextPage:D,handlePrevJump:M,handleNextJump:A};Object.assign(b,U,G),(0,i.watch)(()=>e.currentPage,e=>{c.inpCurrPage=e});const Y=()=>{const{align:t,layouts:r,className:o}=e,a=[],c=l.value,d=p.value;return n.left&&a.push((0,i.h)("span",{class:"vxe-pager--left-wrapper"},n.left({$grid:s}))),r.forEach(e=>{let t;switch(e){case"Home":t=R;break;case"PrevJump":t=_;break;case"PrevPage":t=F;break;case"Number":t=L;break;case"JumpNumber":t=z;break;case"NextPage":t=j;break;case"NextJump":t=P;break;case"End":t=$;break;case"Sizes":t=V;break;case"FullJump":t=H;break;case"Jump":t=B;break;case"PageCount":t=W;break;case"Total":t=q;break}t?a.push(t()):h("vxe.error.notProp",[`[pager] layouts -> ${e}`])}),n.right&&a.push((0,i.h)("span",{class:"vxe-pager--right-wrapper"},n.right({$grid:s}))),(0,i.h)("div",{ref:u,class:["vxe-pager",o?w().isFunction(o)?o({$pager:b}):o:"",{[`size--${c}`]:c,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===d,"is--loading":e.loading}]},[(0,i.h)("div",{class:"vxe-pager--wrapper"},a)])};return b.renderVN=Y,b},render(){return this.renderVN()}});const ja=Object.assign(Pa,{install:function(e){e.component(Pa.name,Pa)}});u.use(ja),o.OE.component(Pa);const $a=ja;var La=ja,za=a({name:"VxePasswordInput",props:{modelValue:String,immediate:{type:Boolean,default:!0},name:String,clearable:{type:Boolean,default:()=>(0,o.zj)().passwordInput.clearable},readonly:Boolean,disabled:Boolean,maxLength:[String,Number],placeholder:String,autoComplete:{type:String,default:"off"},className:String,size:{type:String,default:()=>(0,o.zj)().passwordInput.size||(0,o.zj)().size},prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:()=>(0,o.zj)().passwordInput.controls},autocomplete:String},emits:["update:modelValue","input","change","click","focus","blur","clear","lazy-change","toggle-visible","prefix-click","suffix-click"],setup(e,t){const{emit:n,slots:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),{computeSize:c}=(0,o.XX)(e),u=(0,i.reactive)({showPwd:!1,isActivated:!1,inputValue:e.modelValue}),d=(0,i.ref)(),p=(0,i.ref)(),f={refElem:d,refInput:p},h={xID:s,props:e,context:t,reactData:u,getRefMaps:()=>f};let m={};const g=(0,i.computed)(()=>e.clearable),v=(0,i.computed)(()=>{const{readonly:t}=e;return t}),b=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);const n=(0,o.zj)().passwordInput.placeholder;return n?be(n):(0,o.TO)("vxe.base.pleaseInput")}),x=(0,i.computed)(()=>{const{showPwd:e}=u;return e?"text":"password"}),y=(0,i.computed)(()=>{const{immediate:t}=e;return t}),C=e=>{const{inputValue:t}=u;m.dispatchEvent(e.type,{value:t},e)},k=(e,t)=>{const n=y.value;u.inputValue=e,n?E(e,t):m.dispatchEvent("input",{value:e},t)},S=e=>{const t=e.target,n=t.value;k(n,e)},E=(t,r)=>{u.inputValue=t,n("update:modelValue",t),m.dispatchEvent("input",{value:t},r),w().toValueString(e.modelValue)!==t&&(m.dispatchEvent("change",{value:t},r),a&&l&&a.triggerItemEvent(r,l.itemConfig.field,t))},O=e=>{C(e),h.dispatchEvent("lazy-change",{value:u.inputValue},e),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,u.inputValue)},D=e=>{u.isActivated=!0,C(e)},M=e=>{const{inputValue:t}=u,n=t;h.dispatchEvent("blur",{value:n},e),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,n)},A=t=>{const{readonly:n,disabled:r}=e,{showPwd:o}=u;r||n||(u.showPwd=!o),h.dispatchEvent("toggle-visible",{visible:u.showPwd},t)},I=e=>{C(e)},N=(e,t)=>{focus(),E("",e),h.dispatchEvent("clear",{value:t},e),h.dispatchEvent("lazy-change",{value:u.inputValue},e)},R=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=u;h.dispatchEvent("suffix-click",{value:e},t)}},F=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=u;h.dispatchEvent("prefix-click",{value:e},t)}},_=()=>{const{showPwd:e}=u;return(0,i.h)("div",{class:"vxe-password-input--control-icon",onClick:A},[(0,i.h)("i",{class:["vxe-password-input--password-icon",e?(0,o.sW)().PASSWORD_INPUT_SHOW_PWD:(0,o.sW)().PASSWORD_INPUT_HIDE_PWD]})])},P=()=>{const{prefixIcon:t}=e,n=r.prefix;return n||t?(0,i.h)("div",{class:"vxe-password-input--prefix",onClick:F},[(0,i.h)("div",{class:"vxe-password-input--prefix-icon"},n?T(n({})):[(0,i.h)("i",{class:t})])]):null},j=()=>{const{disabled:t,suffixIcon:n,controls:a}=e,{inputValue:l}=u,s=r.suffix,c=g.value;return c||a||s||n?(0,i.h)("div",{class:["vxe-password-input--suffix",{"is--clear":c&&!t&&!(""===l||w().eqNull(l))}]},[c?(0,i.h)("div",{class:"vxe-password-input--clear-icon",onClick:N},[(0,i.h)("i",{class:(0,o.sW)().INPUT_CLEAR})]):(0,o.C1)(h),a?_():(0,o.C1)(h),s||n?(0,i.h)("div",{class:"vxe-password-input--suffix-icon",onClick:R},s?T(s({})):[(0,i.h)("i",{class:n})]):(0,o.C1)(h)]):null};m={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$passwordInput:h},t))},focus(){const e=p.value;return u.isActivated=!0,e.focus(),(0,i.nextTick)()},blur(){const e=p.value;return e.blur(),u.isActivated=!1,(0,i.nextTick)()},select(){const e=p.value;return e.select(),u.isActivated=!1,(0,i.nextTick)()}},Object.assign(h,m),(0,i.watch)(()=>e.modelValue,e=>{u.inputValue=e});const $=()=>{const{className:t,name:n,disabled:r,readonly:a,autocomplete:l,autoComplete:s,maxLength:f}=e,{inputValue:m,isActivated:y}=u,C=c.value,k=v.value,T=x.value,E=b.value,A=g.value,N=P(),R=j();return(0,i.h)("div",{ref:d,class:["vxe-password-input",t,{[`size--${C}`]:C,"is--prefix":!!N,"is--suffix":!!R,"is--readonly":a,"is--disabled":r,"is--active":y,"show--clear":A&&!r&&!(""===m||w().eqNull(m))}],spellcheck:!1},[N||(0,o.C1)(h),(0,i.h)("div",{class:"vxe-password-input--wrapper"},[(0,i.h)("input",{ref:p,class:"vxe-password-input--inner",value:m,name:n,type:T,placeholder:E,readonly:k,disabled:r,autocomplete:l||s,maxlength:f,onClick:I,onInput:S,onChange:O,onFocus:D,onBlur:M})]),R||(0,o.C1)(h)])};return h.renderVN=$,h},render(){return this.renderVN()}});const Va=Object.assign({},za,{install(e){e.component(za.name,za)}});u.use(Va),o.OE.component(za);const Ba=Va;var Ha=Va;const Wa=w().browse();let qa;const Ua='body{padding:0;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function Ga(e){return`${e}`.replace(/(<!---->)/,"")}function Ya(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function Ka(){qa.parentNode||document.body.appendChild(qa)}function Xa(){requestAnimationFrame(Za)}function Za(){if(qa){if(qa.parentNode){try{qa.contentDocument.write("")}catch(e){}qa.parentNode.removeChild(qa)}qa=null}}function Ja(e,t){return new Blob([e],{type:`text/${t};charset=utf-8;`})}const Qa=50,el="#000000";function tl(e){const t=Object.assign({},e),n=Object.assign({},t.header),r=Object.assign({},t.title),o=Object.assign({},t.footer),i=Object.assign({},t.pageNumber);let a=Qa,l=a,s=a,c=a,u=a;return(w().isNumber(t.margin)||w().isString(t.margin))&&(a=t.margin,l=a,s=a,c=a,u=a),{marginTop:V(t.marginTop||l),marginBottom:V(t.marginBottom||s),marginLeft:V(t.marginLeft||c),marginRight:V(t.marginRight||u),fontSize:V(t.fontSize),color:t.color,textAlign:t.textAlign,header:{height:V(n.height),textAlign:n.textAlign},title:{color:r.color,fontSize:V(r.fontSize),textAlign:r.textAlign},footer:{height:V(o.height),textAlign:o.textAlign},pageNumber:{color:i.color,fontSize:V(i.fontSize),textAlign:i.textAlign}}}function nl(e){return e?e.map(e=>`<link rel="stylesheet" href="${e}">`).join("\n"):""}function rl(e,t){const{pageStyle:n,customStyle:r,styleUrls:o}=e,i=tl(n),a=i.header,l=i.title,s=i.header,c=i.pageNumber,u=e._pageBreaks||e.pageBreaks&&e.pageBreaks.length;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.title||""}</title>`,nl(o),`<style media="print">@page{size:auto;${u?"margin: 0mm;":""}}</style>`,`<style>body{font-size:${i.fontSize||"14px"};color:${i.color||el};text-align:${i.textAlign||"left"};}</style>`,"<style>",".vxe-print-slots{display:none;}",".vxe-print-page-break.align--center{text-align:center;}",".vxe-print-page-break.align--left{text-align:left;}",".vxe-print-page-break.align--right{text-align:right;}",".vxe-print-page-break{break-before:always;page-break-before:always;display:flex;flex-direction:column;height:100vh;overflow:hidden;}",".vxe-print-page-break--body{display:flex;flex-direction:row;flex-grow:1;overflow:hidden;}",".vxe-print-page-break--left,.vxe-print-page-break--right{flex-shrink:0;height:100%;}",`.vxe-print-page-break--left{width:${i.marginLeft};}`,`.vxe-print-page-break--right{width:${i.marginRight};}`,".vxe-print-page-break--header,.vxe-print-page-break--footer{display:flex;justify-content:center;flex-direction:column;flex-shrink:0;width:100%;}",`.vxe-print-page-break--header{height:${a.height||i.marginTop};padding:0 ${i.marginLeft} 0 ${i.marginRight};text-align:${a.textAlign||"left"};}`,`.vxe-print-page-break--header-title{font-size:${l.fontSize||"1.6em"};color:${l.color||el};text-align:${e.headerAlign||c.textAlign||"center"};}`,`.vxe-print-page-break--footer{height:${s.height||i.marginBottom};padding:0 ${i.marginLeft} 0 ${i.marginRight};text-align:${s.textAlign||"left"};}`,".vxe-print-page-break--content{flex-grow:1;overflow:hidden;}",`.vxe-print-page-break--footer-page-number{font-size:${c.fontSize||"1.2em"};color:${c.color||el};text-align:${e.footerAlign||c.textAlign||"center"};}`,"</style>","<style>.vxe-table{white-space:pre;}</style>",`<style>${Ua}</style>`,u?"<style>body{margin:0;}</style>":"",r?`<style>${r}</style>`:"","</head>","<body>",`${t}`,"</body>","</html>"].join("")}function ol(e,t=""){const{beforeMethod:n,styleUrls:r}=e;r&&r.length&&r.forEach(e=>{/.css$/.test(e)||f("vxe.error.errProp",[e,`${e}.css`])}),n&&(t=n({content:t,html:t,options:e})||""),t=rl(e,t);const o=Ja(t,"html");return new Promise(e=>{if(Wa.msie){Za(),qa=Ya(),Ka();const n=qa.contentDocument;n&&(n.write(t),n.execCommand("print")),setTimeout(()=>{e({status:!0})},300)}else qa||(qa=Ya(),qa.onload=t=>{const n=t.target;if(n.src)try{const e=n.contentWindow;e&&(e.onafterprint=Xa,e.print())}catch(r){}e({status:!0})},qa.onerror=()=>{e({status:!1})}),Ka(),qa.src=URL.createObjectURL(o)})}function il(e){const{title:t,showPageNumber:n,align:r,headerAlign:o,footerAlign:i,showAllPageTitle:a}=e,l=e.pageBreaks||[],s=l.length;return l.map((l,c)=>{const u=l.bodyHtml,d=l.headerHtml||e.headerHtml,p=l.footerHtml||e.footerHtml,f=l.leftHtml||e.leftHtml,h=l.rightHtml||e.rightHtml,m=c+1,g={currentPage:m,pageCount:s};return[`<div class="${["vxe-print-page-break",r?`align--${r}`:""].join(" ")}">`,`<div class="${["vxe-print-page-break--header",o?`align--${o}`:""].join(" ")}">`,d?`${w().isFunction(d)?d(g):d||""}`:!t||!a&&c?"":`<div class="vxe-print-page-break--header-title">${t||""}</div>`,"</div>",'<div class="vxe-print-page-break--body">',`<div class="vxe-print-page-break--left">${w().isFunction(f)?f(g):f||""}</div>`,`<div class="vxe-print-page-break--content">${w().isFunction(u)?u(g):u||""}</div>`,`<div class="vxe-print-page-break--right">${w().isFunction(h)?h(g):h||""}</div>`,"</div>",`<div class="${["vxe-print-page-break--footer",i?`align--${i}`:""].join(" ")}">`,p?`${w().isFunction(p)?p(g):p||""}`:n?`<div class="vxe-print-page-break--footer-page-number">${m}/${s}</div>`:"","</div>","</div>"].join("")}).join("")}const al=e=>{const t=Object.assign({_pageBreaks:!1,customLayout:!0},e);if(t.sheetName&&(t.title=t.title||t.sheetName),t.style&&(t.customStyle=t.customStyle||t.style),t.beforePrintMethod&&(t.beforeMethod=t.beforeMethod||t.beforePrintMethod),t.pageBreaks&&t.pageBreaks.length)return ol(t,il(t));const n=t.html||t.content;return ol(t,n)};function ll(e,t,n){const r=e.reactData.staticPageBreaks,o=t.parentNode;o&&r&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticPageBreaks=r.slice(0))}function sl(e,t){e.reactData.staticPageBreaks=e.reactData.staticPageBreaks.filter(e=>e.id!==t.id)}var cl=a({name:"VxePrintPageBreak",props:{},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xePrint",null),s=(0,i.ref)(),c=(0,i.reactive)({}),u={refElem:s},d={},p=(0,i.reactive)({id:a,slots:n}),f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$print:l},t))},m={dispatchEvent:h},g={};if(Object.assign(f,m,g),!l)return f.renderVN=()=>(0,i.createCommentVNode)(),f;const v=()=>(0,i.h)("div",{ref:s});return(0,i.onMounted)(()=>{const e=s.value;l&&e&&ll(l,e,p)}),(0,i.onUnmounted)(()=>{l&&sl(l,p)}),f.renderVN=v,f},render(){return this.renderVN()}});const ul=Object.assign({},cl,{install(e){e.component(cl.name,cl)}});u.use(ul),o.OE.component(cl);const dl=ul;var pl=ul,fl=a({name:"VxePrint",props:{align:{type:String,default:()=>(0,o.zj)().print.align},title:String,headerAlign:{type:String,default:()=>(0,o.zj)().print.headerAlign},footerAlign:{type:String,default:()=>(0,o.zj)().print.footerAlign},showPageNumber:{type:Boolean,default:()=>(0,o.zj)().print.showPageNumber},customLayout:Boolean,pageBreaks:Array,content:String,html:String,headerHtml:String,footerHtml:String,leftHtml:String,rightHtml:String,showAllPageTitle:{type:Boolean,default:()=>(0,o.zj)().print.showAllPageTitle},pageStyle:{type:Object,default:()=>(0,o.zj)().print.pageStyle},customStyle:{type:String,default:()=>(0,o.zj)().print.customStyle},styleUrls:{type:Array,default:()=>(0,o.zj)().print.styleUrls},beforeMethod:Function},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({staticPageBreaks:[]}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{r(e,(0,o.lh)(n,{$print:d},t))},f={dispatchEvent:p,print(){const{align:t,title:n,headerAlign:r,footerAlign:o,showPageNumber:i,customLayout:a,pageBreaks:c,content:u,headerHtml:d,footerHtml:p,leftHtml:f,rightHtml:h,showAllPageTitle:m,pageStyle:g,customStyle:v,styleUrls:b,beforeMethod:x}=e,y=l.value;return al(Object.assign({},{align:t,title:n,headerAlign:r,footerAlign:o,showPageNumber:i,customLayout:a,pageBreaks:c,content:u,headerHtml:d,footerHtml:p,leftHtml:f,rightHtml:h,showAllPageTitle:m,pageStyle:g,customStyle:v,styleUrls:b,beforeMethod:x},{_pageBreaks:!!s.staticPageBreaks.length,html:Ga(y?y.outerHTML:"")||e.html||e.content||""}))}},h={};Object.assign(d,f,h);const m=()=>{const{title:t,showPageNumber:n,showAllPageTitle:r,align:a,headerAlign:l,footerAlign:s}=e,c=e.pageBreaks||[],u=c.length;return c.map((c,p)=>{const f=c.bodyHtml,h=c.headerHtml||e.headerHtml,m=c.footerHtml||e.footerHtml,g=c.leftHtml||e.leftHtml,v=c.rightHtml||e.rightHtml,b=p+1,x={currentPage:b,pageCount:u};return(0,i.h)("div",{class:["vxe-print-page-break",a?`align--${a}`:""]},[(0,i.h)("div",{class:["vxe-print-page-break--header",l?`align--${l}`:""]},h?`${w().isFunction(h)?h(x):h||""}`:[!t||!r&&p?(0,o.C1)(d):(0,i.h)("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),(0,i.h)("div",{class:"vxe-print-page-break--body"},[(0,i.h)("div",{class:"vxe-print-page-break--left"},`${w().isFunction(g)?g(x):g||""}`),(0,i.h)("div",{class:"vxe-print-page-break--content"},`${w().isFunction(f)?f(x):f||""}`),(0,i.h)("div",{class:"vxe-print-page-break--right"},`${w().isFunction(v)?v(x):v||""}`)]),(0,i.h)("div",{class:["vxe-print-page-break--footer",s?`align--${s}`:""]},m?`${w().isFunction(m)?m(x):m||""}`:[n?(0,i.h)("div",{class:"vxe-print-page-break--footer-page-number"},`${b}/${u}`):(0,o.C1)(d)])])})},g=()=>{const{title:t,showPageNumber:r,showAllPageTitle:a,align:l,headerAlign:c,footerAlign:u}=e,{staticPageBreaks:p}=s,f=p.length;return p.map((e,s)=>{const p=e.slots||{},h=s+1,m=p.default,g=p.header||n.header,v=p.footer||n.footer,b=p.left||n.left,x=p.right||n.right,y={currentPage:h,pageCount:f};return(0,i.h)("div",{class:["vxe-print-page-break",l?`align--${l}`:""]},[(0,i.h)("div",{class:["vxe-print-page-break--header",c?`align--${c}`:""]},g?T(g(y)):[!t||!a&&s?(0,o.C1)(d):(0,i.h)("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),(0,i.h)("div",{class:"vxe-print-page-break--body"},[(0,i.h)("div",{class:"vxe-print-page-break--left"},b?T(b(y)):[]),(0,i.h)("div",{class:"vxe-print-page-break--content"},m?T(m(y)):[]),(0,i.h)("div",{class:"vxe-print-page-break--right"},x?T(x(y)):[])]),(0,i.h)("div",{class:["vxe-print-page-break--footer",u?`align--${u}`:""]},v?T(v(y)):[r?(0,i.h)("div",{class:"vxe-print-page-break--footer-page-number"},`${h}/${f}`):(0,o.C1)(d)])])})},v=()=>{const{customLayout:t}=e,{staticPageBreaks:r}=s,o=n.default;return(0,i.h)("div",{ref:l,class:["vxe-print"]},t?o?T(o({})):[]:[(0,i.h)("div",{key:"slot",class:"vxe-print-slots"},o?T(o({})):[])].concat(r.length?g():m()))};return d.renderVN=v,(0,i.provide)("$xePrint",d),d},render(){return this.renderVN()}});const hl=Object.assign({},fl,{install(e){e.component(fl.name,fl)}});u.use(hl),o.OE.component(fl),o.OE.print=al;const ml=hl;var gl=hl,vl=a({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,trigger:{type:String,default:(0,o.zj)().pulldown.trigger},zIndex:Number,size:{type:String,default:()=>(0,o.zj)().pulldown.size||(0,o.zj)().size},options:Array,className:{type:[String,Function],default:(0,o.zj)().pulldown.className},popupClassName:[String,Function],showPopupShadow:Boolean,popupConfig:Object,destroyOnClose:{type:Boolean,default:(0,o.zj)().pulldown.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["update:modelValue","click","option-click","show-panel","hide-panel","visible-change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=w().uniqueId(),{computeSize:d}=(0,o.XX)(e),p=(0,i.reactive)({initialized:!1,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),f={hpTimeout:void 0},h=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.computed)(()=>{const{transfer:t}=e,n=b.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().pulldown.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),b=(0,i.computed)(()=>Object.assign({},(0,o.zj)().pulldown.popupConfig,e.popupConfig)),x={refElem:h},y={xID:u,props:e,context:t,reactData:p,internalData:f,getRefMaps:()=>x};let C={};const k=()=>{const t=b.value,n=t.zIndex||e.zIndex;n?p.panelIndex=w().toNumber(n):p.panelIndex<he()&&(p.panelIndex=fe())},S=()=>p.visiblePanel,T=()=>{const{placement:t}=e,{panelIndex:n}=p,r=m.value,o=g.value,a=v.value,l=b.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});p.panelStyle=i,p.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},E=()=>(p.initialized||(p.initialized=!0),new Promise(t=>{e.disabled?(0,i.nextTick)(()=>{t()}):(f.hpTimeout&&clearTimeout(f.hpTimeout),p.isActivated=!0,p.isAniVisible=!0,setTimeout(()=>{p.visiblePanel=!0,r("update:modelValue",!0),T(),setTimeout(()=>{t(T())},40)},10),k(),_("visible-change",{visible:!0},null))})),O=()=>(p.visiblePanel=!1,_("visible-change",{visible:!1},null),r("update:modelValue",!1),new Promise(e=>{p.isAniVisible?f.hpTimeout=setTimeout(()=>{p.isAniVisible=!1,(0,i.nextTick)(()=>{e()})},350):(0,i.nextTick)(()=>{e()})})),D=()=>p.visiblePanel?O():E(),M=(e,t)=>{t.disabled||(p.visiblePanel&&(O(),_("hide-panel",{},e)),_("option-click",{option:t},e))},A=t=>{const{trigger:n}=e;"click"===n&&(p.visiblePanel?(O(),_("hide-panel",{},t)):(E(),_("show-panel",{},t))),_("click",{$pulldown:y},t)},I=t=>{const{disabled:n}=e,{visiblePanel:r}=p,o=g.value;n||r&&(H(t,o).flag?T():(O(),_("hide-panel",{},t)))},N=t=>{const{disabled:n}=e,{visiblePanel:r}=p,o=h.value,i=g.value;n||(p.isActivated=H(t,o).flag||H(t,i).flag,r&&!p.isActivated&&(O(),_("hide-panel",{},t)))},R=e=>{const{visiblePanel:t,isActivated:n}=p;t&&(O(),_("hide-panel",{},e)),n&&(p.isActivated=!1)},F=()=>{const{visiblePanel:e}=p;e&&T()},_=(e,t,n)=>{r(e,(0,o.lh)(n,{$pulldown:y},t))};C={dispatchEvent:_,isPanelVisible:S,togglePanel:D,showPanel:E,hidePanel:O},Object.assign(y,C),(0,i.watch)(()=>e.modelValue,e=>{p.isActivated=!!e,e?E():O()}),(0,i.nextTick)(()=>{e.modelValue&&E(),o.Nh.on(y,"mousewheel",I),o.Nh.on(y,"mousedown",N),o.Nh.on(y,"blur",R),o.Nh.on(y,"resize",F)}),(0,i.onUnmounted)(()=>{o.Nh.off(y,"mousewheel"),o.Nh.off(y,"mousedown"),o.Nh.off(y,"blur"),o.Nh.off(y,"resize")});const P=e=>{const t=n.option;return(0,i.h)("div",{class:"vxe-pulldown--panel-list"},e?e.map(e=>(0,i.h)("div",{class:"vxe-pulldown--panel-item",onClick(t){M(t,e)}},t?t({$pulldown:y,option:e}):`${e.label||""}`)):[])},j=()=>{const{className:t,options:r,showPopupShadow:a,destroyOnClose:l,disabled:s}=e,{initialized:c,isActivated:u,isAniVisible:f,visiblePanel:x,panelStyle:C,panelPlacement:k}=p,S=v.value,T=d.value,E=b.value,O=n.default,D=n.header,M=n.footer,I=n.dropdown,N=E.className||e.popupClassName;return(0,i.h)("div",{ref:h,class:["vxe-pulldown",t?w().isFunction(t)?t({$pulldown:y}):t:"",{[`size--${T}`]:T,"is--visible":x,"is--disabled":s,"is--active":u}]},[(0,i.h)("div",{ref:m,class:"vxe-pulldown--content",onClick:A},O?O({$pulldown:y}):[]),(0,i.h)(i.Teleport,{to:"body",disabled:!S||!c},[(0,i.h)("div",{ref:g,class:["vxe-table--ignore-clear vxe-pulldown--panel",N?w().isFunction(N)?N({$pulldown:y}):N:"",{[`size--${T}`]:T,"is--transfer":S,"ani--leave":f,"ani--enter":x}],placement:k,style:C},[(0,i.h)("div",{class:["vxe-pulldown--panel-wrapper",{"is--shadow":a}]},c&&(!l||(x||f))?[D?(0,i.h)("div",{class:"vxe-pulldown--panel-header"},D({$pulldown:y})):(0,o.C1)(y),(0,i.h)("div",{class:"vxe-pulldown--panel-body"},I?I({$pulldown:y}):[P(r)]),M?(0,i.h)("div",{class:"vxe-pulldown--panel-footer"},M({$pulldown:y})):(0,o.C1)(y)]:[])])])])};return y.renderVN=j,y},render(){return this.renderVN()}});const bl=Object.assign(vl,{install:function(e){e.component(vl.name,vl)}});u.use(bl),o.OE.component(vl);const xl=bl;var yl=bl,wl=a({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>(0,o.zj)().radio.strict},size:{type:String,default:()=>(0,o.zj)().radio.size||(0,o.zj)().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeRadioGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),d={xID:c,props:e,context:t,reactData:u},{computeSize:p}=(0,o.XX)(e),f=(0,i.computed)(()=>{const{disabled:t}=e;if(null===t&&s){const{computeIsDisabled:e}=s.getComputeMaps();return e.value}return t}),h=(0,i.computed)(()=>s?s.name:e.name),m=(0,i.computed)(()=>s?s.props.strict:e.strict),g=(0,i.computed)(()=>{const{label:t,checkedValue:n}=e,r=w().isUndefined(n)?t:n;return s?s.props.modelValue===r:e.modelValue===r}),v=(t,n)=>{const{content:o}=e;s?s.handleChecked({label:t,checkedValue:t,checkedLabel:o},n):(r("update:modelValue",t),y("change",{value:t,label:t,checkedValue:t,checkedLabel:o},n),a&&l&&a.triggerItemEvent(n,l.itemConfig.field,t))},b=t=>{const n=f.value;if(!n){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;v(o,t)}},x=t=>{const n=f.value,r=m.value;if(!n&&!r){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;o===(s?s.props.modelValue:e.modelValue)&&v(null,t)}},y=(e,t,n)=>{r(e,(0,o.lh)(n,{$radio:d},t))},C={dispatchEvent:y},k={};Object.assign(d,C,k);const S=()=>{const{label:t,checkedValue:r}=e,a=w().isUndefined(r)?t:r,l=p.value,s=f.value,c=h.value,u=g.value;return(0,i.h)("label",{key:a,class:["vxe-radio vxe-radio--default",{[`size--${l}`]:l,"is--checked":u,"is--disabled":s}],title:e.title},[(0,i.h)("input",{class:"vxe-radio--input",type:"radio",name:c,checked:u,disabled:s,onChange:b,onClick:x}),(0,i.h)("span",{class:["vxe-radio--icon",u?(0,o.sW)().RADIO_CHECKED:s?(0,o.sW)().RADIO_DISABLED_UNCHECKED:(0,o.sW)().RADIO_UNCHECKED]}),(0,i.h)("span",{class:"vxe-radio--label"},n.default?n.default({}):be(e.content))])};return d.renderVN=S,d},render(){return this.renderVN()}});const Cl=Object.assign(wl,{install:function(e){e.component(wl.name,wl)}});u.use(Cl),o.OE.component(wl);const kl=Cl;var Sl=Cl,Tl=a({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>(0,o.zj)().radioButton.strict},size:{type:String,default:()=>(0,o.zj)().radioButton.size||(0,o.zj)().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeRadioGroup",null),c=w().uniqueId(),u=(0,i.reactive)({}),{computeSize:d}=(0,o.XX)(e),p={xID:c,props:e,context:t,reactData:u},f=(0,i.computed)(()=>{const{disabled:t}=e;if(null===t&&s){const{computeIsDisabled:e}=s.getComputeMaps();return e.value}return t}),h=(0,i.computed)(()=>s?s.name:null),m=(0,i.computed)(()=>s?s.props.strict:e.strict),g=(0,i.computed)(()=>{const{label:t,checkedValue:n}=e,r=w().isUndefined(n)?t:n;return s?s.props.modelValue===r:e.modelValue===r}),v=(e,t,n)=>{r(e,(0,o.lh)(n,{$radioGroup:s},t))},b={dispatchEvent:v},x={};Object.assign(p,b,x);const y=(t,n)=>{const{content:o}=e;s?s.handleChecked({label:t,checkedValue:t,checkedLabel:o},n):(r("update:modelValue",t),v("change",{value:t,label:t,checkedValue:t,checkedLabel:o},n),a&&l&&a.triggerItemEvent(n,l.itemConfig.field,t))},C=t=>{const n=f.value;if(!n){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;y(o,t)}},k=t=>{const n=f.value,r=m.value;if(!n&&!r){const{label:n,checkedValue:r}=e,o=w().isUndefined(r)?n:r;o===(s?s.props.modelValue:e.modelValue)&&y(null,t)}},S=()=>{const{label:t,checkedValue:r}=e,o=w().isUndefined(r)?t:r,a=d.value,l=f.value,s=h.value,c=g.value;return(0,i.h)("label",{key:o,class:["vxe-radio vxe-radio--button",{[`size--${a}`]:a,"is--disabled":l}],title:e.title},[(0,i.h)("input",{class:"vxe-radio--input",type:"radio",name:s,checked:c,disabled:l,onChange:C,onClick:k}),(0,i.h)("span",{class:"vxe-radio--label"},n.default?n.default({}):be(e.content))])};return p.renderVN=S,S}});const El=Object.assign(Tl,{install:function(e){e.component(Tl.name,Tl)}});u.use(El),o.OE.component(Tl);const Ol=El;var Dl=El;function Ml(){return{}}var Al=a({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>(0,o.zj)().radioGroup.strict},size:{type:String,default:()=>(0,o.zj)().radioGroup.size||(0,o.zj)().size},defaultConfig:Object},emits:["update:modelValue","change","default-change"],setup(e,t){const{slots:n,emit:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=w().uniqueId(),{computeSize:c}=(0,o.XX)(e),u=(0,i.reactive)({}),d=Ml(),p=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t}),f=(0,i.computed)(()=>Object.assign({},e.defaultConfig)),h={computeIsDisabled:p},m={xID:s,props:e,context:t,reactData:u,name:w().uniqueId("xe_group_"),getComputeMaps:()=>h},g=(0,i.computed)(()=>Object.assign({},e.optionProps)),v=(0,i.computed)(()=>{const e=g.value;return e.label||"label"}),b=(0,i.computed)(()=>{const e=g.value;return e.value||"value"}),x=(0,i.computed)(()=>{const e=g.value;return e.disabled||"disabled"}),y=e=>{r("update:modelValue",e)},C=e=>{y(e),k("default-change",{value:e},null)},k=(e,t,n)=>{r(e,(0,o.lh)(n,{$radioGroup:m},t))},S={dispatchEvent:k},T={handleChecked(e,t){const{checkedValue:n,checkedLabel:r}=e,o=n;y(o),k("change",{value:o,label:o,checkedValue:n,checkedLabel:r},t),a&&l&&a.triggerItemEvent(t,l.itemConfig.field,o)}},E=t=>{const{isLoaded:n}=d,r=f.value,o=b.value;if(!n){const{selectMode:n}=r;if(t.length>0&&w().eqNull(e.modelValue)){if("first"===n||"last"===n){const r=w()[n](t);r&&(0,i.nextTick)(()=>{w().eqNull(e.modelValue)&&C(r[o])})}d.isLoaded=!0}}return(0,i.nextTick)()};Object.assign(m,S,T);const O=()=>{const{options:t,type:r}=e,o=c.value,a=n.default,l=b.value,s=v.value,u=x.value,d="button"===r?Tl:wl;return(0,i.h)("div",{class:["vxe-radio-group",{[`size--${o}`]:o}]},a?a({}):t?t.map(e=>(0,i.h)(d,{key:e[l],checkedValue:e[l],content:e[s],disabled:e[u]})):[])};return(0,i.watch)(()=>e.options,e=>{E(e||[])}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{const{options:t}=e;t&&E(t)})}),(0,i.onUnmounted)(()=>{w().assign(d,Ml())}),(0,i.provide)("$xeRadioGroup",m),m.renderVN=O,m},render(){return this.renderVN()}});const Il=Object.assign(Al,{install:function(e){e.component(Al.name,Al)}});u.use(Il),o.OE.component(Al);const Nl=Il;var Rl=Il,Fl=a({name:"VxeRate",props:{modelValue:[Number,String],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().rate.size||(0,o.zj)().size},status:String},emits:["update:modelValue","change"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.reactive)({activeValue:null}),d={refElem:c},p=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),f=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),h=(0,i.computed)(()=>{const{modelValue:t}=e,{activeValue:n}=u;return w().toNumber(null===n?t:n)}),m=(0,i.computed)(()=>[1,2,3,4,5].map(e=>({value:e,label:e}))),g={},v={xID:l,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>g},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$rate:v},t))},x={dispatchEvent:b},y={},C=e=>{n("update:modelValue",e)},k=(e,t)=>{const n=p.value,r=f.value;if(!n&&!r){const e=t.value;u.activeValue=e}},S=()=>{u.activeValue=null},T=(e,t)=>{const n=p.value,o=f.value;if(!n&&!o){const n=t.value;C(n),b("change",{value:n},e),r&&a&&r.triggerItemEvent(e,a.itemConfig.field,n)}};Object.assign(v,x,y);const E=()=>{const{status:t}=e,n=p.value,r=f.value,a=m.value,l=s.value,u=h.value;return(0,i.h)("div",{ref:c,class:["vxe-rate",{[`size--${l}`]:l,[`theme--${t}`]:t,"is--disabled":n,"is--readonly":r}]},a.map(e=>{const t=u>=e.value;return(0,i.h)("div",{class:["vxe-rte--item",{"is--checked":t}],onMouseenter(t){n||r||k(t,e)},onMouseleave:S,onClick(t){n||r||T(t,e)}},[(0,i.h)("i",{class:t?(0,o.sW)().RATE_CHECKED:(0,o.sW)().RATE_UNCHECKED})])}))};return v.renderVN=E,v},render(){return this.renderVN()}});const _l=Object.assign({},Fl,{install(e){e.component(Fl.name,Fl)}});u.use(_l),o.OE.component(Fl);const Pl=_l;var jl=_l,$l=a({name:"VxeResult",props:{imageUrl:String,imageStyle:Object,icon:String,type:[String,Number],status:[String,Number],title:[String,Number],content:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u={},d={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,r)=>{n(e,(0,o.lh)(r,{$result:d},t))},f={dispatchEvent:p},h={};Object.assign(d,f,h);const m=()=>{const{imageUrl:t,imageStyle:n,icon:a,title:l,type:s,content:c}=e,u=e.status||s,p=r.extra;return(0,i.h)("div",{ref:"refElem",class:["vxe-result",{[`theme--${u}`]:u}]},[(0,i.h)("div",{class:"vxe-result--inner"},[t?(0,i.h)("div",{class:"vxe-result--img-wrapper"},[(0,i.h)("img",{src:t,style:n})]):(0,i.h)("div",{class:"vxe-result--icon-wrapper"},[(0,i.h)("i",{class:[a,s?(0,o.sW)()[`RESULT_${s}`.toLocaleUpperCase()]:""]})]),(0,i.h)("div",{class:"vxe-result--title-wrapper"},`${l||""}`),(0,i.h)("div",{class:"vxe-result--content-wrapper"},`${c||""}`),p?(0,i.h)("div",{class:"vxe-result--extra-wrapper"},p({})):(0,o.C1)(d)])])};return d.renderVN=m,d},render(){return this.renderVN()}});const Ll=Object.assign({},$l,{install(e){e.component($l.name,$l)}});u.use(Ll),o.OE.component($l);const zl=Ll;var Vl=Ll,Bl=a({name:"VxeRow",props:{gutter:[Number,String,Array],wrap:{type:Boolean,default:()=>(0,o.zj)().row.wrap},vertical:Boolean,size:{type:String,default:()=>(0,o.zj)().row.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId();(0,o.XX)(e);const l=(0,i.ref)(),s=(0,i.reactive)({}),c={refElem:l},u=(0,i.computed)(()=>{const{gutter:t,vertical:n}=e,r={};if(t){let[e,o]=w().isArray(t)?t:[t];if(n&&(o=e,e=""),e){const t=w().isNumber(e)?V(-e/2):`calc(${V(e)} / 2 * -1)`;r.marginLeft=t,r.marginRight=t}if(o){const e=w().isNumber(o)?V(-o/2):`calc(${V(o)} / 2 * -1)`;r.marginTop=e,r.marginBottom=e}}return r}),d={},p={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},f=e=>{h("click",{},e)},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$row:p},t))},m={dispatchEvent:h},g={};Object.assign(p,m,g);const v=()=>{const{vertical:t,wrap:r}=e,o=u.value,a=n.default;return(0,i.h)("div",{ref:l,class:["vxe-row",{"is--vertical":t,"is--wrap":r}],style:o,onClick:f},a?a({}):[])};return(0,i.provide)("$xeRow",p),p.renderVN=v,p},render(){return this.renderVN()}});const Hl=Object.assign({},Bl,{install(e){e.component(Bl.name,Bl)}});u.use(Hl),o.OE.component(Bl);const Wl=Hl;var ql=Hl;function Ul(){return{groupName:w().uniqueId("xe_group_"),selectStyle:{display:"",left:"",width:""}}}var Gl=a({name:"VxeSegmented",props:{modelValue:[String,Number],name:[String,Number],disabled:Boolean,options:Array,type:{type:String,default:()=>(0,o.zj)().segmented.type},status:String,width:[String,Number],height:[String,Number],optionConfig:Object,size:{type:String,default:()=>(0,o.zj)().segmented.size||(0,o.zj)().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.reactive)(Ul()),p={refElem:s},f=(0,i.computed)(()=>{const{type:t}=e;return"round"===t||"inside"===t?t:"default"}),h=(0,i.computed)(()=>{const{width:t,height:n}=e,r={};return t&&(r.width=V(t)),n&&(r.height=V(n)),r}),m=(0,i.computed)(()=>Object.assign({},(0,o.zj)().segmented.optionConfig,e.optionConfig)),g=(0,i.computed)(()=>e.options||[]),v=(0,i.computed)(()=>{const{modelValue:t}=e,n=g.value;return w().findIndexOf(n,e=>e.value===t)}),b=(0,i.computed)(()=>{const e=h.value;return"100%"===e.width}),x={},y={xID:a,props:e,context:t,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>x},C=(e,t,n)=>{r(e,(0,o.lh)(n,{$segmented:y},t))},k=e=>{r("update:modelValue",e)},S=(e,t)=>{const n=t.value;k(n),C("change",{value:n},e),T()},T=()=>{(0,i.nextTick)(()=>{const e=v.value,t=c.value,n={display:"",left:"",width:""};if(t){const r=t.children[e];r&&(n.display="block",n.left=V(r.offsetLeft),n.width=V(r.clientWidth))}d.selectStyle=n})},E={dispatchEvent:C},O={};Object.assign(y,E,O);const D=()=>{const{modelValue:t,name:r}=e,{groupName:a}=d,l=m.value,s=g.value,c=b.value,u=c?Math.max(0,100/s.length):0,p=n.default,f=[];return s.forEach((e,n)=>{const{icon:s,width:d}=e,h=d||l.width;f.push((0,i.h)("label",{key:n,class:["vxe-segmented--item",{"is--checked":t===e.value}],style:c||h?{width:h?V(h):u?`${u}%`:""}:void 0},[(0,i.h)("input",{class:"vxe-segmented--input",type:"radio",name:r||a,onChange(t){S(t,e)}}),(0,i.h)("div",{class:"vxe-segmented--content"},[s?(0,i.h)("div",{class:"vxe-segmented--icon"},[(0,i.h)("i",{class:s})]):(0,o.C1)(y),(0,i.h)("div",{class:"vxe-segmented--label"},p?p({option:e}):w().eqNull(e.label)?"":`${e.label}`)])]))}),f},M=()=>{const{status:t}=e,{selectStyle:n}=d,r=f.value,o=h.value,a=l.value;return(0,i.h)("div",{ref:s,class:["vxe-segmented",`type--${r}`,{[`size--${a}`]:a,[`theme--${t}`]:t}]},[(0,i.h)("div",{class:"vxe-segmented--group",style:o},[(0,i.h)("div",{ref:u,class:"vxe-segmented--selected",style:n}),(0,i.h)("div",{ref:c,class:"vxe-segmented--inner"},D())])])};return(0,i.watch)(v,()=>{T()}),(0,i.onMounted)(()=>{T()}),(0,i.onBeforeUnmount)(()=>{w().assign(d,Ul())}),y.renderVN=M,y},render(){return this.renderVN()}});const Yl=Object.assign({},Gl,{install(e){e.component(Gl.name,Gl)}});u.use(Yl),o.OE.component(Gl);const Kl=Yl;var Xl=Yl;const Zl=Object.assign(_a,{install:function(e){e.component(_a.name,_a)}});u.use(Zl),o.OE.component(_a);const Jl=Zl;var Ql=Zl,es=a({name:"VxeSplitter",props:{width:[Number,String],height:[Number,String],vertical:{type:Boolean,default:()=>(0,o.zj)().splitter.vertical},border:{type:Boolean,default:()=>(0,o.zj)().splitter.border},padding:{type:Boolean,default:()=>(0,o.zj)().splitter.padding},resize:{type:Boolean,default:()=>(0,o.zj)().splitter.resize},items:Array,itemConfig:Object,barConfig:Object,resizeConfig:Object,actionConfig:Object,size:{type:String,default:()=>(0,o.zj)().splitter.size||(0,o.zj)().size}},emits:["action-dblclick","action-click","toggle-expand","resize-start","resize-drag","resize-end"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.ref)(),c=(0,i.ref)(),{computeSize:u}=(0,o.XX)(e),d=(0,i.reactive)({staticItems:[],itemList:[],barWidth:0,barHeight:0}),p={wrapperWidth:0,wrapperHeight:0},m=(0,i.computed)(()=>Object.assign({},(0,o.zj)().splitter.itemConfig,e.itemConfig)),g=(0,i.computed)(()=>Object.assign({},(0,o.zj)().splitter.barConfig,e.barConfig)),v=(0,i.computed)(()=>Object.assign({},(0,o.zj)().splitter.resizeConfig,e.resizeConfig)),b=(0,i.computed)(()=>Object.assign({},(0,o.zj)().splitter.actionConfig,e.actionConfig)),x=(0,i.computed)(()=>d.itemList.filter(e=>e.isExpand)),y=(0,i.computed)(()=>{const{vertical:t}=e,n=[];let r=0,o=0;return d.itemList.forEach(t?e=>{const{renderHeight:t,resizeHeight:o,foldHeight:i,isExpand:a,height:l}=e,s=a?i||o||t:0;l||n.push(e),r+=s}:e=>{const{renderWidth:t,resizeWidth:r,foldWidth:i,isExpand:a,width:l}=e,s=a?i||r||t:0;l||n.push(e),o+=s}),{autoItems:n,heightCount:r,heightRatio:r/100,widthCount:o,widthRatio:o/100}}),C=(0,i.computed)(()=>{const e=g.value,{width:t,height:n}=e,r={};return n&&(r.height=V(n)),t&&(r.width=V(t)),r}),k={computeItemOpts:m,computeBarOpts:g,computeActionOpts:b},S={refElem:l},E={xID:a,props:e,context:t,reactData:d,internalData:p,getRefMaps:()=>S,getComputeMaps:()=>k},O=(e,t,r)=>{n(e,(0,o.lh)(r,{$splitter:E},t))},D=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[],M=(t,n,r)=>{const{vertical:i}=e,a="SPLIT_TOP_ACTION",l="SPLIT_BOTTOM_ACTION",s="SPLIT_LEFT_ACTION",c="SPLIT_RIGHT_ACTION";let u="";return u=i?r?n.isExpand?l:a:t.isExpand?a:l:r?n.isExpand?c:s:t.isExpand?s:c,u?(0,o.sW)()[u]:""},A=()=>{const{itemList:e}=d;return e.forEach(e=>{e.isExpand=!0,e.foldHeight=0,e.foldWidth=0,e.resizeHeight=0,e.resizeWidth=0}),(0,i.nextTick)()},I=(e,t)=>{const{staticItems:n}=d,o=b.value,{showPrevButton:i,showNextButton:a}=o,l={isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0};return d.itemList=e.map(e=>(e.showAction&&f("vxe.error.removeProp",["[splitter] show-action"]),e.slots&&w().each(e.slots,e=>{w().isFunction(e)||r[e]||h("vxe.error.notSlot",[`[splitter] ${e}`])}),Object.assign({},t?null:l,e,t?l:null,{id:w().uniqueId()}))),n.length&&h("vxe.error.errConflicts",["<vxe-splitter-panel ...>","items"]),(i||a)&&d.itemList.length>2&&h("vxe.error.errConflicts",["action-config.showPrevButton | action-config.showNextButton","Only supports 2 item"]),B()},N=e=>I(e||[],!1),R=e=>I(e||[],!0),F=e=>{const{itemList:t}=d;let n=-1,r=null,o=null,i=null;for(let a=0;a<t.length;a++){const l=t[a];if(l.name===e){n=a,r=l,o=t[a-1]||null,i=t[a+1]||null;break}}return{index:n,currItem:r,prevItem:o,nextItem:i}},_=(e,t)=>{const n=F(e);if(n){const{currItem:e,prevItem:r,nextItem:o}=n;e&&(t?!e.isExpand:e.isExpand)&&(o?o.isExpand&&W(null,e,o,!1):r&&r.isExpand&&W(null,r,e,!0))}return(0,i.nextTick)()},j=e=>{const t=F(e);if(t){const{currItem:n}=t;if(n)return _(e,!n.isExpand)}return(0,i.nextTick)()},z=e=>{const t=F(e);if(t){const{currItem:e}=t;if(e)return e.isExpand}return!1},B=()=>(0,i.nextTick)().then(()=>{const{vertical:t}=e,{itemList:n}=d,r=l.value,o=s.value;if(!r)return;const i=r.clientWidth,a=r.clientHeight;if(!i||!a)return;o&&(d.barWidth=o.offsetWidth,d.barHeight=o.offsetHeight);const c=i-(t?0:d.barWidth*(n.length-1)),u=a-(t?d.barHeight*(n.length-1):0),f=m.value,h=w().toNumber(f.minWidth),g=w().toNumber(f.minHeight),v=[];if(t){let e=0;if(n.forEach(t=>{const{height:n}=t;let r=0;n?(r=P(n)?u*w().toNumber(n)/100:w().toNumber(n),t.renderHeight=r):v.push(t),e+=r}),v.length){const t=(u-e)/v.length;v.forEach(e=>{e.renderHeight=Math.max(w().toNumber(ve(e.minHeight,g)),t)})}}else{let e=0;if(n.forEach(t=>{const{width:n}=t;let r=0;n?(r=P(n)?c*w().toNumber(n)/100:w().toNumber(n),t.renderWidth=r):v.push(t),e+=r}),v.length){const t=(c-e)/v.length;v.forEach(e=>{e.renderWidth=Math.max(w().toNumber(ve(e.minWidth,h)),t)})}}p.wrapperWidth=c,p.wrapperHeight=u}),H=t=>{const{resize:n,vertical:r}=e,{itemList:o}=d;if(!n)return;t.preventDefault();const i=t.currentTarget,a=i.parentElement,s=l.value;if(!s)return;const u=a.previousElementSibling,p=a.nextElementSibling;if(!u||!p)return;const f=u.getAttribute("itemid"),h=p.getAttribute("itemid"),g=o.find(e=>e.id===f),b=o.find(e=>e.id===h);if(!g||!b)return;const x=s.getBoundingClientRect(),y=i.getBoundingClientRect(),C=c.value,k=C?C.children[0]:null,S=m.value,T=v.value,{immediate:E}=T,D=w().toNumber(S.minWidth),M=w().toNumber(S.minHeight),A=Math.ceil(y.width-(t.clientX-y.left)),I=Math.ceil(t.clientY-y.top),N=u.offsetWidth,R=p.offsetWidth,F=w().toNumber(g?ve(g.minWidth,D):D),_=w().toNumber(b?ve(b.minWidth,D):D),P=u.offsetLeft+F-A,j=p.offsetLeft+p.offsetWidth-_-A,z=t.clientX-x.left;let H=-1,W=0,q=0,U=z;const G=u.offsetHeight,Y=p.offsetHeight,K=w().toNumber(g?ve(g.minHeight,M):M),X=w().toNumber(b?ve(b.minHeight,M):M),Z=u.offsetTop+K+I,J=p.offsetTop+p.offsetHeight-X+I,Q=t.clientY-x.top;let ee=-1,te=0,ne=0,re=Q;const oe=e=>{if(!C)return;const t=k?k.children[0]:null,n=k?k.children[1]:null;if(r){let r=0;t&&(ee<0?t.style.display="none":(t.textContent=`${Math.floor(te)}px`,t.style.display="block",r=t.offsetWidth)),n&&(ee<0?(n.textContent=`${Math.floor(ne)}px`,n.style.display="block",r=n.offsetWidth):n.style.display="none");let o=Math.max(1,e.clientX-x.left-r/2);o>x.width-r-1&&(o=x.width-r-1),C.style.left="0",C.style.top=`${re}px`,k&&(k.style.left=`${o}px`)}else{let r=0;t&&(H<0?t.style.display="none":(t.textContent=`${Math.floor(W)}px`,t.style.display="block",r=t.offsetHeight)),n&&(H<0?(n.textContent=`${Math.floor(q)}px`,n.style.display="block",r=n.offsetHeight):n.style.display="none");let o=Math.max(1,e.clientY-x.top-r/2);o>x.height-r-1&&(o=x.height-r-1),C.style.top="0",C.style.left=`${U}px`,k&&(k.style.top=`${o}px`)}},ie=()=>{r?(g.resizeHeight=te,b.resizeHeight=ne):(g.resizeWidth=W,b.resizeWidth=q)},ae=e=>{r?(re=e.clientY-x.top,re<Z&&(re=Z),re>J&&(re=J),ee=re-Q,te=G+ee,ne=Y-ee):(U=e.clientX-x.left,U<P&&(U=P),U>j&&(U=j),H=U-z,W=N+H,q=R-H),E&&(r?(u.style.height=V(te),p.style.height=V(ne)):(u.style.width=V(W),p.style.width=V(q))),C&&oe(e),O("resize-drag",{prevItem:g,nextItem:b,offsetHeight:ee,offsetWidth:H},e)};document.onmousemove=e=>{e.preventDefault(),ae(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,C&&(C.style.display=""),ie(),$(s,"is--drag"),O("resize-end",{prevItem:g,nextItem:b,offsetHeight:ee,offsetWidth:H},e),B()},C&&(C.style.display="block",oe(t)),ae(t),L(s,"is--drag"),O("resize-start",{prevItem:g,nextItem:b},t)},W=(t,n,r,o)=>{const{vertical:i}=e;let a=!1,l=n;o?(l=r,a=!r.isExpand,r.isExpand=a):(a=!n.isExpand,n.isExpand=a),i?n.isExpand&&r.isExpand?(n.foldHeight=0,r.foldHeight=0):n.isExpand?(r.foldHeight=0,n.foldHeight=(n.resizeHeight||n.renderHeight)+(r.resizeHeight||r.renderHeight)):(n.foldHeight=0,r.foldHeight=(n.resizeHeight||n.renderHeight)+(r.resizeHeight||r.renderHeight)):n.isExpand&&r.isExpand?(n.foldWidth=0,r.foldWidth=0):n.isExpand?(r.foldWidth=0,n.foldWidth=(n.resizeWidth||n.renderWidth)+(r.resizeWidth||r.renderWidth)):(n.foldWidth=0,r.foldWidth=(n.resizeWidth||n.renderWidth)+(r.resizeWidth||r.renderWidth)),t&&O("toggle-expand",{prevItem:n,nextItem:r,expanded:a,item:l},t),B()},q=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"===n.trigger&&s&&p&&p.isExpand&&W(e,s,p,!1),O("action-dblclick",{prevItem:s,nextItem:p},e)},U=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"!==n.trigger&&s&&p&&p.isExpand&&W(e,s,p,!1),O("action-click",{prevItem:s,nextItem:p},e)},G=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"===n.trigger&&s&&p&&s.isExpand&&W(e,s,p,!0),O("action-dblclick",{prevItem:s,nextItem:p},e)},Y=e=>{const{itemList:t}=d,n=b.value,r=e.currentTarget,o=r.parentElement,i=o.parentElement,a=i.previousElementSibling,l=a.getAttribute("itemid"),s=t.find(e=>e.id===l),c=i.nextElementSibling,u=c.getAttribute("itemid"),p=t.find(e=>e.id===u);"dblclick"!==n.trigger&&s&&p&&s.isExpand&&W(e,s,p,!0),O("action-click",{prevItem:s,nextItem:p},e)},K=()=>{B()},X={dispatchEvent:O,setItemExpand:_,toggleItemExpand:j,getItemExpand:z,recalculate:B,reset:A,loadItem:N,reloadItem:R},Z={};Object.assign(E,X,Z);const J=(t,n)=>{const{border:r,resize:a,vertical:l}=e,{itemList:s}=d,c=C.value,u=b.value,{direction:p}=u,f=w().isBoolean(u.showPrevButton)?u.showPrevButton:s.some(e=>e.showAction),h=w().isBoolean(u.showNextButton)?u.showNextButton:"next"===p&&s.some(e=>e.showAction),m=v.value,{immediate:g}=m;return(0,i.h)("div",{class:["vxe-splitter-panel-handle",l?"is--vertical":"is--horizontal",g?"is-resize--immediate":"is-resize--lazy",{"is--resize":a,"is--border":r}]},[(0,i.h)("div",{class:"vxe-splitter-panel-handle-bar",style:c,onMousedown:H}),2===s.length?(0,i.h)("div",{class:"vxe-splitter-panel-action-btn-wrapper"},[f&&n.isExpand?(0,i.h)("div",{class:"vxe-splitter-panel-action-btn",onDblclick:q,onClick:U},[(0,i.h)("i",{class:M(t,n,!1)})]):(0,o.C1)(E),h&&t.isExpand?(0,i.h)("div",{class:"vxe-splitter-panel-action-btn",onDblclick:G,onClick:Y},[(0,i.h)("i",{class:M(t,n,!0)})]):(0,o.C1)(E)]):(0,o.C1)(E)])},Q=()=>{const{border:t,padding:n,resize:r,vertical:o}=e,{itemList:a}=d,l=u.value,s=v.value,{immediate:c}=s,p=x.value,{autoItems:f}=y.value,h=[];return a.forEach((e,s)=>{const{id:u,name:d,slots:m,renderHeight:g,resizeHeight:v,foldHeight:b,renderWidth:x,resizeWidth:y,foldWidth:w,isExpand:C}=e,k=a[s+1],S=m?m.default:null,T={};let E=C?w||y||x:0,O=C?b||v||g:0;1===f.length&&(o?e.height||(O=0):e.width||(E=0));let M=!0;o?O&&p.length>1&&(M=!1,T.height=V(O)):E&&p.length>1&&(M=!1,T.width=V(E)),h.push((0,i.h)("div",{itemid:u,class:["vxe-splitter-panel",o?"is--vertical":"is--horizontal",c?"is-resize--immediate":"is-resize--lazy",{[`size--${l}`]:l,"is--resize":r,"is--padding":n,"is--border":t,"is--height":O,"is--width":E,"is--visible":C,"is--hidden":!C,"is--fill":C&&M}],style:T},[(0,i.h)("div",{itemid:u,class:"vxe-splitter-panel--wrapper"},[(0,i.h)("div",{class:"vxe-splitter-panel--inner"},S?D(S,{name:d,isExpand:C}):[])])])),k&&h.push(J(e,k))}),(0,i.h)("div",{class:"vxe-splitter-wrapper"},h)},ee=()=>{const{vertical:t,width:n,height:o}=e,a=u.value,d=v.value,{immediate:p,showTip:f}=d,h=r.default,m={};return o&&(m.height=V(o)),n&&(m.width=V(n)),(0,i.h)("div",{ref:l,class:["vxe-splitter",t?"is--vertical":"is--horizontal",p?"is-resize--immediate":"is-resize--lazy",{[`size--${a}`]:a}],style:m},[(0,i.h)("div",{class:"vxe-splitter-slots"},h?h({}):[]),Q(),(0,i.h)("div",{ref:c,class:["vxe-splitter--resizable-splitter-tip",t?"is--vertical":"is--horizontal",p?"is-resize--immediate":"is-resize--lazy"]},f?[(0,i.h)("div",{class:"vxe-splitter--resizable-splitter-tip-number"},[(0,i.h)("div",{class:"vxe-splitter--resizable-splitter-number-prev"}),(0,i.h)("div",{class:"vxe-splitter--resizable-splitter-number-next"})])]:[]),(0,i.h)("div",{class:"vxe-splitter--render-vars"},[(0,i.h)("div",{ref:s,class:"vxe-splitter--handle-bar-info"})])])},te=(0,i.ref)(0);let ne;return(0,i.watch)(()=>e.items?e.items.length:-1,()=>{te.value++}),(0,i.watch)(()=>e.items,()=>{te.value++}),(0,i.watch)(te,()=>{N(e.items||[])}),(0,i.watch)(()=>d.staticItems,t=>{const n=b.value,{showPrevButton:r,showNextButton:o}=n;e.items&&e.items.length&&h("vxe.error.errConflicts",["<vxe-splitter-panel ...>","items"]),d.itemList=t||[],(r||o)&&d.itemList.length>2&&h("vxe.error.modelConflicts",["[splitter] action-config.showPrevButton | action-config.showNextButton","<vxe-splitter-panel ...> Only supports 2 panel"]),d.itemList.forEach(e=>{e.showAction&&f("vxe.error.removeProp",["[splitter] showAction"])}),B()}),(0,i.onMounted)(()=>{(0,i.nextTick)(()=>{B()});const e=l.value;e&&(ne=o.yD.create(()=>{B()}),ne.observe(e));const t=b.value;t.direction&&h("vxe.error.delProp",["[splitter] action-config.direction","action-config.showPrevButton | action-config.showNextButton"]),o.Nh.on(E,"resize",K)}),(0,i.onUnmounted)(()=>{ne&&ne.disconnect(),o.Nh.off(E,"resize")}),(0,i.onActivated)(()=>{B()}),e.items&&N(e.items),(0,i.provide)("$xeSplitter",E),E.renderVN=ee,E},render(){return this.renderVN()}});const ts=Object.assign({},es,{install(e){e.component(es.name,es)}});u.use(ts),o.OE.component(es);const ns=ts;var rs=ts;function os(e,t,n){const r=e.reactData.staticItems,o=t.parentNode;o&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticItems=r.slice(0))}function is(e,t){const n=e.reactData.staticItems,r=w().findIndexOf(n,e=>e.id===t.id);r>-1&&n.splice(r,1),e.reactData.staticItems=n.slice(0)}var as=a({name:"VxeSplitterPanel",props:{name:[Number,String],width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>null},minHeight:{type:[Number,String],default:()=>null},showAction:Boolean},emits:[],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeSplitter",null),s=(0,i.ref)(),c=(0,i.reactive)({id:a,name:e.name,width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,showAction:e.showAction,isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0,slots:r}),u=(0,i.reactive)({}),d={},p={},f={refElem:s},h={xID:a,props:e,context:t,reactData:u,internalData:d,getRefMaps:()=>f,getComputeMaps:()=>p},m=(e,t,r)=>{n(e,(0,o.lh)(r,{$splitterPanel:h},t))},g={dispatchEvent:m},v={};Object.assign(h,g,v);const b=()=>(0,i.h)("div",{ref:s});return(0,i.watch)(()=>e.name,e=>{c.name=e}),(0,i.watch)(()=>e.width,e=>{c.width=e}),(0,i.watch)(()=>e.height,e=>{c.height=e}),(0,i.watch)(()=>e.minWidth,e=>{c.minWidth=e}),(0,i.watch)(()=>e.minHeight,e=>{c.minHeight=e}),(0,i.watch)(()=>e.showAction,e=>{c.showAction=e}),(0,i.onMounted)(()=>{const e=s.value;l&&e&&os(l,e,c)}),(0,i.onUnmounted)(()=>{l&&is(l,c)}),(0,i.provide)("$xeSplitterItem",h),h.renderVN=b,h},render(){return this.renderVN()}});const ls=Object.assign({},as,{install(e){e.component(as.name,as)}});u.use(ls),o.OE.component(as);const ss=ls;var cs=ls;const us=Object.assign({},es,{install(e){e.component("VxeSplit",es)}});u.use(us),o.OE.component(es);const ds=us;var ps=us;const fs=Object.assign({},as,{install(e){e.component("VxeSplitPane",as),e.component("VxeSplitItem",as)}});u.use(fs),o.OE.component(as);const hs=fs;var ms=fs,gs=a({name:"VxeSlider",props:{modelValue:[String,Number,Array],vertical:Boolean,max:{type:[String,Number],default:()=>(0,o.zj)().slider.max},min:{type:[String,Number],default:()=>(0,o.zj)().slider.min},step:{type:[String,Number],default:()=>(0,o.zj)().slider.step},size:{type:String,default:()=>(0,o.zj)().slider.size||(0,o.zj)().size},range:{type:Boolean,default:()=>(0,o.zj)().slider.range},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null}},emits:["update:modelValue","change","track-dragstart","track-dragover","track-dragend"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.ref)(),f=(0,i.ref)(),h=(0,i.reactive)({startValue:0,endValue:0}),m={refElem:c},g=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&r.props.readonly:t}),v=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&r.props.disabled:t}),b=(0,i.computed)(()=>w().toNumber(e.max||0)),x=(0,i.computed)(()=>w().toNumber(e.min||0)),y={},C={xID:l,props:e,context:t,reactData:h,getRefMaps:()=>m,getComputeMaps:()=>y},k=e=>{n("update:modelValue",e)},S=(e,t,r)=>{n(e,(0,o.lh)(r,{$slider:C},t))},T={dispatchEvent:S},E=t=>{const{range:n}=e,r=b.value,o=x.value;return n?w().floor((t-o)/w().toNumber(r-o)*100):0},O=(t,n)=>{const{range:r}=e,o=b.value,i=x.value;return w().floor((n-(r?t:0)-i)/w().toNumber(o-i)*100)},D=()=>{const{modelValue:t}=e;if(w().isArray(t)){const[e,n]=w().clone(t,!0).sort();h.startValue=w().floor(w().toNumber(e||0)),h.endValue=w().floor(w().toNumber(n||0))}else h.startValue=0,h.endValue=w().floor(w().toNumber(t||0))},M=()=>{const{startValue:e,endValue:t}=h,n=d.value,r=p.value,o=f.value;let i=0,a=0;e>t?(i=E(t),a=O(t,e)):(i=E(e),a=O(e,t)),n&&(n.style.left=`${i}%`,n.style.width=`${a}%`),r&&(r.style.left=`${i}%`),o&&(o.style.left=`${w().floor(i+a)}%`)},A=t=>{const{range:n}=e,{startValue:o,endValue:i}=h,l=n?[o,i].sort():i;k(l),S("change",{value:l},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,l)},I=(e,t)=>{const n=g.value,r=v.value,o=b.value,i=x.value;n||r||(e.preventDefault(),document.onmousemove=e=>{e.preventDefault();const n=c.value,r=u.value;if(n&&r){const n=r.getBoundingClientRect(),a=(e.clientX-n.left)/n.width;t?h.endValue=w().floor(Math.max(i,Math.min(o,a*(o-i)+i))):h.startValue=w().floor(Math.max(i,Math.min(o,a*(o-i)))),S("track-dragover",{startValue:h.startValue,endValue:h.endValue},e)}M()},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,S("track-dragend",{startValue:h.startValue,endValue:h.endValue},e),A(e),M()},S("track-dragstart",{startValue:h.startValue,endValue:h.endValue},e))},N=e=>{const t=f.value,n=e.currentTarget;I(e,!!t&&t.offsetLeft<n.offsetLeft)},R=e=>{const t=p.value,n=e.currentTarget;I(e,!t||n.offsetLeft>t.offsetLeft)},F={};Object.assign(C,T,F);const _=()=>{const{vertical:t,range:n}=e,r=s.value,a=g.value,l=v.value;return(0,i.h)("div",{ref:c,class:["vxe-slider",{[`size--${r}`]:r,"is--vertical":t,"is--readonly":a,"is--disabled":l}]},[(0,i.h)("div",{class:"vxe-slider--inner"},[(0,i.h)("div",{ref:u,class:"vxe-slider--bar-wrapper"}),(0,i.h)("div",{ref:d,class:"vxe-slider--bar-track"}),a||!n?(0,o.C1)(C):(0,i.h)("div",{ref:p,class:"vxe-slider--bar-btn vxe-slider--start-btn",onMousedown:N}),a?(0,o.C1)(C):(0,i.h)("div",{ref:f,class:"vxe-slider--bar-btn vxe-slider--end-btn",onMousedown:R})])])};return(0,i.watch)(()=>e.modelValue,()=>{D()}),(0,i.onMounted)(()=>{M()}),D(),C.renderVN=_,C},render(){return this.renderVN()}});const vs=Object.assign({},gs,{install(e){e.component(gs.name,gs)}});u.use(vs),o.OE.component(gs);const bs=vs;var xs=vs,ys=a({name:"VxeSteps",props:{},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({}),s={refElem:a},c={},u={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>c},d=(e,t,r)=>{n(e,(0,o.lh)(r,{$steps:u},t))},p={dispatchEvent:d},f={};Object.assign(u,p,f);const h=()=>(0,i.h)("div",{ref:a,class:"vxe-steps"},[]);return u.renderVN=h,u},render(){return this.renderVN()}});const ws=Object.assign({},ys,{install(e){e.component(ys.name,ys)}});u.use(ws),o.OE.component(ys);const Cs=ws;var ks=ws,Ss=a({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>(0,o.zj)().switch.size||(0,o.zj)().size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({isActivated:!1,hasAnimat:!1,offsetLeft:0}),u={},d={xID:l,props:e,context:t,reactData:c,internalData:u},p=(0,i.ref)();let f={};const h=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),m=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),g=(0,i.computed)(()=>be(e.openLabel)),v=(0,i.computed)(()=>be(e.closeLabel)),b=(0,i.computed)(()=>e.modelValue===e.openValue),x=e=>{n("update:modelValue",e)},y=t=>{const n=h.value,o=m.value;if(!n&&!o){const n=b.value;clearTimeout(u.atTimeout);const o=n?e.closeValue:e.openValue;c.hasAnimat=!0,x(o),f.dispatchEvent("change",{value:o},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,o),u.atTimeout=setTimeout(()=>{c.hasAnimat=!1,u.atTimeout=void 0},400)}},C=(e,t,r)=>{n(e,(0,o.lh)(r,{$switch:d},t))},k=t=>{c.isActivated=!0,f.dispatchEvent("focus",{value:e.modelValue},t)},S=t=>{c.isActivated=!1,f.dispatchEvent("blur",{value:e.modelValue},t)};f={dispatchEvent:C,focus(){const e=p.value;return c.isActivated=!0,e&&e.focus(),(0,i.nextTick)()},blur(){const e=p.value;return e&&e.blur(),c.isActivated=!1,(0,i.nextTick)()}},Object.assign(d,f);const T=()=>{const{openIcon:t,closeIcon:n,openActiveIcon:r,closeActiveIcon:a}=e,l=s.value,u=b.value,f=g.value,x=v.value,w=h.value,C=m.value;return(0,i.h)("div",{class:["vxe-switch",u?"is--on":"is--off",{[`size--${l}`]:l,"is--disabled":w,"is--readonly":C,"is--animat":c.hasAnimat}]},[(0,i.h)("button",{ref:p,class:"vxe-switch--button",type:"button",disabled:w||C,onClick:y,onFocus:k,onBlur:S},[(0,i.h)("span",{class:"vxe-switch--label vxe-switch--label-on"},[t?(0,i.h)("i",{class:["vxe-switch--label-icon",t]}):(0,o.C1)(d),f]),(0,i.h)("span",{class:"vxe-switch--label vxe-switch--label-off"},[n?(0,i.h)("i",{class:["vxe-switch--label-icon",n]}):(0,o.C1)(d),x]),(0,i.h)("span",{class:["vxe-switch--icon"]},r||a?[(0,i.h)("i",{class:u?r:a})]:[])])])};return d.renderVN=T,d},render(){return this.renderVN()}});const Ts=Object.assign(Ss,{install:function(e){e.component(Ss.name,Ss)}});u.use(Ts),o.OE.component(Ss);const Es=Ts;var Os=Ts;function Ds(e,t,n){const r=e.reactData.staticTabs,o=t.parentNode;o&&(r.splice(w().arrayIndexOf(o.children,t),0,n),e.reactData.staticTabs=r.slice(0))}function Ms(e,t){const n=e.reactData.staticTabs,r=w().findTree(n,e=>e.id===t.id,{children:"children"});r&&r.items.splice(r.index,1),e.reactData.staticTabs=n.slice(0)}var As=a({name:"VxeTabPane",props:{title:[String,Number],name:[String,Number],icon:String,titleWidth:[String,Number],titleAlign:[String,Number],preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.ref)(),s=(0,i.inject)("$xeTabs",null),c=(0,i.reactive)({}),u=(0,i.reactive)({id:a,title:e.title,name:e.name,icon:e.icon,titleWidth:e.titleWidth,titleAlign:e.titleAlign,preload:e.preload,permissionCode:e.permissionCode,slots:n}),d={refElem:l},p={},f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$tabPane:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g),(0,i.watch)(()=>e.title,e=>{u.title=e}),(0,i.watch)(()=>e.name,e=>{u.name=e}),(0,i.watch)(()=>e.icon,e=>{u.icon=e}),(0,i.watch)(()=>e.permissionCode,e=>{u.permissionCode=e}),(0,i.onMounted)(()=>{const e=l.value;s&&e&&Ds(s,e,u)}),(0,i.onUnmounted)(()=>{s&&Ms(s,u)});const v=()=>(0,i.h)("div",{ref:l},[]);return f.renderVN=v,f},render(){return this.renderVN()}});const Is=Object.assign({},As,{install(e){e.component(As.name,As)}});u.use(Is),o.OE.component(As);const Ns=Is;var Rs=Is;function Fs(){return w().uniqueId("row_")}function _s(){return{fullRowMaps:{}}}var Ps=a({name:"VxeTableSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>w().eqNull((0,o.zj)().tableSelect.placeholder)?(0,o.TO)("vxe.base.pleaseSelect"):(0,o.zj)().tableSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],prefixIcon:String,placement:String,columns:Array,options:Array,optionProps:Object,lazyOptions:Array,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().tableSelect.size||(0,o.zj)().size},popupConfig:Object,gridConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","form-submit","form-reset","form-collapse","page-change"],setup(e,t){const{emit:n,slots:r}=t,a=o.OE.getComponent("vxe-grid"),l=(0,i.inject)("$xeModal",null),s=(0,i.inject)("$xeDrawer",null),c=(0,i.inject)("$xeTable",null),u=(0,i.inject)("$xeForm",null),d=(0,i.inject)("xeFormItemInfo",null),p=w().uniqueId(),{computeSize:f}=(0,o.XX)(e),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.reactive)({initialized:!1,tableColumns:[],fullOptionList:[],panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),k=_s(),S={refElem:m},T=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t}),E=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t}),O=(0,i.computed)(()=>{const{transfer:t}=e,n=R.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().tableSelect.transfer;if(w().isBoolean(e))return e;if(c||l||s||u)return!0}return t}),D=(0,i.computed)(()=>e.optionProps||{}),M=(0,i.computed)(()=>{const e=F.value;return Object.assign({},e.rowConfig,{isCurrent:!0})}),A=(0,i.computed)(()=>{const e=M.value;return e.keyField||"_X_ROW_KEY"}),I=(0,i.computed)(()=>{const e=D.value;return e.label||"label"}),N=(0,i.computed)(()=>{const e=D.value;return e.value||"value"}),R=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tableSelect.popupConfig,e.popupConfig)),F=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tableSelect.gridConfig,e.gridConfig,{data:void 0})),_=(0,i.computed)(()=>{const e=F.value,{pagerConfig:t,proxyConfig:n}=e;if(n){const r=n.ajax;if(r&&r.query){const o=w().clone(n,!0),i=r.query;if(i){const e=n.response||n.props||{};Object.assign(o.ajax,{query(n,...r){return Promise.resolve(i(n,...r)).then(n=>{let r=[];if(t){const t=e.result;r=(w().isFunction(t)?t({data:n,$table:null,$grid:null,$gantt:null}):w().get(n,t||"result"))||[]}else{const t=e.list;r=(t?w().isFunction(t)?t({data:n,$table:null,$grid:null,$gantt:null}):w().get(n,t):n)||[]}return Q(r||[]),n})}})}return Object.assign({},e,{proxyConfig:o})}}return e}),P=(0,i.computed)(()=>{const{modelValue:t,lazyOptions:n}=e,{fullOptionList:r}=y,{fullRowMaps:o}=k,i=N.value,a=I.value;return r?(w().isArray(t)?t:[t]).map(e=>{const t=o[e];if(t)return t.item[a];if(n){const t=n.find(t=>t[i]===e);if(t)return t[a]}return e}).join(", "):""}),j=(0,i.computed)(()=>{const e=R.value,{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t)),r}),$={},L={xID:p,props:e,context:t,reactData:y,getRefMaps:()=>S,getComputeMaps:()=>$},z=["form-submit","form-reset","form-collapse","page-change"],B={};z.forEach(e=>{B[C(w().camelCase(e))]=t=>{W(e,t,t.$event)}});const W=(e,t,r)=>{n(e,(0,o.lh)(r,{$tableSelect:L},t))},q=e=>{n("update:modelValue",e)},U={dispatchEvent:W},G={},Y=e=>{const t=A.value,n=e[t];return n?encodeURIComponent(n):""},K=e=>{const{fullRowMaps:t}=k,n=[],r=w().eqNull(e)?[]:w().isArray(e)?e:[e];return r.forEach(e=>{const r=t[e];r&&n.push(r.item)}),n},Z=t=>{const{multiple:n}=e;(0,i.nextTick)(()=>{const e=x.value;if(e){const r=K(t);r.length&&(n?e.setCheckboxRow(r,!0):e.setRadioRow(r[0]))}})},J=t=>{if(!t||!t.length)return;const{multiple:n}=e,r=[];let o=!1,i=!1;t.forEach(e=>{o||"radio"!==e.type?i||"checkbox"!==e.type||(i=!0):o=!0,r.push(e)}),n?i||r.unshift({type:"checkbox",width:70}):o||r.unshift({type:"radio",width:70}),y.tableColumns=r},Q=t=>{const{options:n}=e,r=A.value,o=N.value,i=F.value,{treeConfig:a,pagerConfig:l}=i,s={},c={};a||w().arrayEach(t||n||[],(e,t,n)=>{let i=Y(e);i||(i=Fs()),c[i]&&h("vxe.error.repeatKey",[`[table-select] ${r}`,i]),c[i]=!0;const a=e[o];s[a]&&h("vxe.error.repeatKey",[`[table-select] ${o}`,a]),s[a]={item:e,index:t,items:n,parent:null,nodes:[]}}),y.fullOptionList=t||n||[],k.fullRowMaps=l?Object.assign({},k.fullRowMaps,s):s,Z(e.modelValue)},ee=()=>{const t=R.value,n=t.zIndex||e.zIndex;n?y.panelIndex=w().toNumber(n):y.panelIndex<he()&&(y.panelIndex=fe())},te=()=>{const{placement:t}=e,{panelIndex:n}=y,r=m.value,o=b.value,a=O.value,l=R.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});y.panelStyle=i,y.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},ne=()=>{const{loading:t}=e,n=E.value;t||n||(k.vpTimeout&&clearTimeout(k.vpTimeout),k.hpTimeout&&clearTimeout(k.hpTimeout),y.initialized||(y.initialized=!0),y.isActivated=!0,y.isAniVisible=!0,k.vpTimeout=setTimeout(()=>{y.visiblePanel=!0,Z(e.modelValue),k.vpTimeout=void 0,te()},10),ee(),te())},re=()=>{y.visiblePanel=!1,k.vpTimeout&&clearTimeout(k.vpTimeout),k.hpTimeout&&clearTimeout(k.hpTimeout),k.hpTimeout=setTimeout(()=>{y.isAniVisible=!1,k.hpTimeout=void 0},350)},oe=(t,n,r)=>{q(n),n!==e.modelValue&&(W("change",{value:n,row:r,option:r},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},ie=(e,t)=>{oe(e,t,null),W("clear",{value:t},e)},ae=(e,t)=>{ie(t,null),re()},le=e=>{const{visiblePanel:t}=y,n=E.value;if(!n&&t){const t=b.value;H(e,t).flag?te():re()}},se=e=>{const{visiblePanel:t}=y,n=E.value;if(!n){const n=m.value,r=b.value;y.isActivated=H(e,n).flag||H(e,r).flag,t&&!y.isActivated&&re()}},ce=()=>{const{visiblePanel:e,isActivated:t}=y;if(e&&re(),t&&(y.isActivated=!1),e||t){const e=g.value;e&&e.blur()}},ue=()=>{const{visiblePanel:e}=y;e&&te()},de=e=>{const t=E.value;t||y.visiblePanel||(y.triggerFocusPanel=!0,ne(),setTimeout(()=>{y.triggerFocusPanel=!1},150)),W("focus",{},e)},pe=e=>{ge(e),W("click",{},e)},me=e=>{y.isActivated=!1,W("blur",{},e)},ge=e=>{const{$event:t}=e;t.preventDefault(),y.triggerFocusPanel?y.triggerFocusPanel=!1:y.visiblePanel?re():ne()},ve=e=>{const{$event:t,row:n}=e,r=N.value,o=n[r];oe(t,o,n),re()},be=e=>{const{$grid:t,$event:n,row:r}=e,o=N.value;if(t){const e=t.getCheckboxRecords(),i=e.map(e=>e[o]);oe(n,i,r)}},xe=e=>{be(e)};Object.assign(L,U,G);const ye=()=>{const{className:t,options:n,loading:l}=e,{initialized:s,isActivated:c,isAniVisible:u,visiblePanel:d,tableColumns:p}=y,h=f.value,C=E.value,k=P.value,S=O.value,D=T.value,A=R.value,I=_.value,N=M.value,F=j.value,$=r.header,z=r.footer,V=r.prefix,H=A.className;return D?(0,i.h)("div",{ref:m,class:["vxe-table-select--readonly",t]},[(0,i.h)("span",{class:"vxe-table-select-label"},k)]):(0,i.h)("div",{ref:m,class:["vxe-table-select",t?w().isFunction(t)?t({$tableSelect:L}):t:"",{[`size--${h}`]:h,"is--visible":d,"is--disabled":C,"is--loading":l,"is--active":c}]},[(0,i.h)(Lt,{ref:g,clearable:e.clearable,placeholder:l?(0,o.TO)("vxe.select.loadingText"):e.placeholder,editable:!1,disabled:C,type:"text",prefixIcon:e.prefixIcon,suffixIcon:l?(0,o.sW)().TABLE_SELECT_LOADED:d?(0,o.sW)().TABLE_SELECT_OPEN:(0,o.sW)().TABLE_SELECT_CLOSE,modelValue:l?"":k,onClear:ae,onClick:pe,onFocus:de,onBlur:me,onSuffixClick:ge},V?{prefix:()=>V({})}:{}),(0,i.h)(i.Teleport,{to:"body",disabled:!S||!s},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-table-select--panel",H?w().isFunction(H)?H({$tableSelect:L}):H:"",{[`size--${h}`]:h,"is--transfer":S,"ani--leave":!l&&u,"ani--enter":!l&&d}],placement:y.panelPlacement,style:y.panelStyle},s?[(0,i.h)("div",{class:"vxe-table-select--panel-wrapper"},[$?(0,i.h)("div",{class:"vxe-table-select--panel-header"},$({})):(0,o.C1)(L),(0,i.h)("div",{class:"vxe-table-select--panel-body"},[(0,i.h)("div",{ref:v,class:"vxe-table-select-grid--wrapper",style:F},[a?(0,i.h)(a,Object.assign(Object.assign(Object.assign({},I),B),{class:"vxe-table-select--grid",ref:x,rowConfig:N,data:n,columns:p.length?p:I.columns,height:"100%",autoResize:!0,onRadioChange:ve,onCheckboxChange:be,onCheckboxAll:xe}),Object.assign({},r,{header:void 0,footer:void 0,prefixSlot:void 0})):(0,o.C1)(L)])]),z?(0,i.h)("div",{class:"vxe-table-select--panel-footer"},z({})):(0,o.C1)(L)])]:[])])])};return(0,i.watch)(()=>e.options,()=>{Q()}),(0,i.watch)(()=>e.columns,e=>{J(e)}),(0,i.watch)(()=>e.modelValue,e=>{Z(e)}),J(e.columns),Q(),(0,i.onMounted)(()=>{const{gridConfig:t}=e;t&&t.proxyConfig&&!1!==t.proxyConfig.autoLoad&&(y.initialized=!0),o.Nh.on(L,"mousewheel",le),o.Nh.on(L,"mousedown",se),o.Nh.on(L,"blur",ce),o.Nh.on(L,"resize",ue)}),(0,i.onUnmounted)(()=>{o.Nh.off(L,"mousewheel"),o.Nh.off(L,"mousedown"),o.Nh.off(L,"blur"),o.Nh.off(L,"resize"),w().assign(k,_s())}),(0,i.nextTick)(()=>{a||h("vxe.error.reqComp",["[table-select] vxe-grid"])}),(0,i.provide)("$xeTableSelect",L),L.renderVN=ye,L},render(){return this.renderVN()}});const js=Object.assign({},Ps,{install(e){e.component(Ps.name,Ps)}});u.use(js),o.OE.component(Ps);const $s=js;var Ls=js;const zs=20;var Vs=a({name:"VxeTabs",props:{modelValue:[String,Number,Boolean],options:Array,width:[String,Number],height:[String,Number],destroyOnClose:{type:Boolean,default:()=>(0,o.zj)().tabs.destroyOnClose},titleWidth:[String,Number],titleAlign:[String,Number],type:{type:String,default:()=>(0,o.zj)().tabs.type},position:{type:String,default:()=>(0,o.zj)().tabs.position},showClose:Boolean,showBody:{type:Boolean,default:!0},padding:{type:Boolean,default:()=>(0,o.zj)().tabs.padding},trigger:String,beforeChangeMethod:Function,closeConfig:Object,refreshConfig:Object,size:{type:String,default:()=>(0,o.zj)().tabs.size||(0,o.zj)().size},beforeCloseMethod:Function},emits:["update:modelValue","change","tab-change","tab-change-fail","tab-close","tab-close-fail","tab-click","tab-load"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),l=(0,i.inject)("$xeTabs",null),{computeSize:s}=(0,o.XX)(e),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.ref)(),m=(0,i.reactive)({staticTabs:[],activeName:null,initNames:[],lintLeft:0,lintTop:0,lintWidth:0,lintHeight:0,scrollbarWidth:0,scrollbarHeight:0,isTabOver:!1,resizeFlag:1,cacheTabMaps:{}}),g={slTimeout:void 0},v={refElem:c},b=(0,i.computed)(()=>{const{type:t}=e;return t||"default"}),x=(0,i.computed)(()=>{const{position:t}=e;return t||"top"}),y=(0,i.computed)(()=>{const e=x.value;return"left"===e||"right"===e}),C=(0,i.computed)(()=>{const{lintLeft:e,lintTop:t,lintWidth:n,lintHeight:r}=m,o=y.value;return o?{top:`${t}px`,height:`${r}px`}:{left:`${e}px`,width:`${n}px`}}),k=(0,i.computed)(()=>{const{width:t}=e,n={};return t&&(n.width=V(t)),n}),S=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tabs.closeConfig,e.closeConfig)),E=(0,i.computed)(()=>Object.assign({},(0,o.zj)().tabs.refreshConfig,e.refreshConfig)),O=(0,i.computed)(()=>{const{options:t}=e;return(t||[]).filter(e=>N(e))}),D=(0,i.computed)(()=>{const{staticTabs:e}=m;return e.filter(e=>N(e))}),M=(0,i.computed)(()=>l?l.reactData.resizeFlag:null),A={},I={xID:a,props:e,context:t,reactData:m,getRefMaps:()=>v,getComputeMaps:()=>A},N=e=>{const{permissionCode:t}=e;return!(t&&!o.EK.checkVisible(t))},R=(e,t)=>e&&(w().isString(e)&&(e=n[e]||null),w().isFunction(e))?T(e(t)):[],F=()=>{const e=y.value,t=u.value,n=d.value,r=p.value;if(t){const{scrollLeft:o,scrollTop:i,clientWidth:a,clientHeight:l,scrollWidth:s,scrollHeight:c}=t;n&&((e?i:o)>0?L(n,"scrolling--middle"):$(n,"scrolling--middle")),r&&((e?l<c-Math.ceil(i):a<s-Math.ceil(o))?L(r,"scrolling--middle"):$(r,"scrolling--middle"))}},_=()=>{const e=()=>{const{activeName:e}=m,t=b.value,n=O.value,r=D.value,o=u.value,i=y.value;let a=0,l=0,s=0,c=0,d=0,p=0,f=!1;if(o){const u=w().findIndexOf(r.length?r:n,t=>t.name===e),{children:h,offsetWidth:m,scrollWidth:g,offsetHeight:v,scrollHeight:b,clientWidth:x,clientHeight:y}=o;if(d=m-x,p=v-y,i){if(f=b!==y,u>-1){const e=h[u];if(e){const n=e.clientHeight,r=e.clientWidth;"card"===t?(a=r,l=n,c=e.offsetTop):"border-card"===t?(a=r,l=n,c=e.offsetTop-1):(l=Math.max(4,Math.floor(.6*n)),c=e.offsetTop+Math.floor((n-l)/2))}}}else if(f=g!==x,u>-1){const e=h[u];if(e){const n=e.clientWidth;"card"===t?(a=n+1,s=e.offsetLeft):"border-card"===t?(a=n,s=e.offsetLeft-1):(a=Math.max(4,Math.floor(.6*n)),s=e.offsetLeft+Math.floor((n-a)/2))}}}m.scrollbarWidth=d,m.scrollbarHeight=p,m.lintLeft=s,m.lintTop=c,m.lintWidth=a,m.lintHeight=l,m.isTabOver=f,F()};e(),(0,i.nextTick)(e)},P=(e,t,n)=>{r(e,(0,o.lh)(n,{$tabs:I},t))},j=e=>{r("update:modelValue",e)},z=(e,t)=>{const{initNames:n}=m;return!(!e||n.includes(e))&&(P("tab-load",{name:e},t),n.push(e),!0)},B=t=>{let n=null;const r={};if(t&&t.length){let o=!1;n=e.modelValue,t.forEach(e=>{const{name:t,preload:i}=e||{};t&&(r[`${t}`]={loading:!1},n===t&&(o=!0),i&&z(t,null))}),o||(n=t[0].name,z(n,null),j(n))}m.activeName=n,m.cacheTabMaps=r},H=(t,n)=>{const{trigger:r}=e,i=e.beforeChangeMethod||(0,o.zj)().tabs.beforeChangeMethod,{activeName:a}=m,{name:l}=n,s=l;P("tab-click",{name:l},t),"manual"!==r&&l!==a&&Promise.resolve(!i||i({$tabs:I,name:l,oldName:a,newName:l,option:n})).then(e=>{e?(m.activeName=l,j(s),z(l,t),P("change",{value:s,name:l,oldName:a,newName:l,option:n},t),P("tab-change",{value:s,name:l,oldName:a,newName:l,option:n},t)):P("tab-change-fail",{value:s,name:l,oldName:a,newName:l,option:n},t)}).catch(()=>{P("tab-change-fail",{value:s,name:l,oldName:a,newName:l,option:n},t)})},W=(e,t)=>{e.stopPropagation();const{activeName:n,cacheTabMaps:r}=m,{name:o}=t,i=E.value,{queryMethod:a}=i,l=o?r[`${o}`]:null;if(l)if(a){if(l.loading)return;l.loading=!0,Promise.resolve(a({$tabs:I,value:n,name:o,option:t})).finally(()=>{l.loading=!1})}else h("vxe.error.notFunc",["refresh-config.queryMethod"])},q=(t,n,r,i)=>{t.stopPropagation();const{activeName:a}=m,l=S.value,s=l.beforeMethod||e.beforeCloseMethod||(0,o.zj)().tabs.beforeCloseMethod,{name:c}=n,u=a;let d=u;if(a===c){const e=r<i.length-1?i[r+1]:i[r-1];d=e?e.name:null}Promise.resolve(!s||s({$tabs:I,value:u,name:c,nextName:d,option:n})).then(e=>{P(e?"tab-close":"tab-close-fail",{value:u,name:c,nextName:d},t)}).catch(()=>{P("tab-close-fail",{value:u,name:c,nextName:d},t)})},U=(e,t)=>{const{slTimeout:n}=g,r=y.value;let o=r?0:t,i=r?t:0,a=6,l=35;n&&(clearTimeout(n),g.slTimeout=void 0);const s=()=>{const t=u.value;if(a>0&&(a--,t)){const{clientWidth:n,clientHeight:a,scrollWidth:c,scrollHeight:u,scrollLeft:d,scrollTop:p}=t;r?(i=Math.floor(i/2),e>0?a+p<u&&(t.scrollTop+=i,l-=4,g.slTimeout=setTimeout(s,l)):p>0&&(t.scrollTop-=i,l-=4,g.slTimeout=setTimeout(s,l))):(o=Math.floor(o/2),e>0?n+d<c&&(t.scrollLeft+=o,l-=4,g.slTimeout=setTimeout(s,l)):d>0&&(t.scrollLeft-=o,l-=4,g.slTimeout=setTimeout(s,l))),_()}};s()},G=e=>{const t=y.value,n=u.value;if(n){const{clientWidth:r,clientHeight:o}=n,i=Math.floor(.75*(t?o:r));U(e,i)}},Y=()=>{G(-1)},K=()=>{G(1)},X=e=>{const t=O.value,n=D.value,r=y.value;return(0,i.nextTick)().then(()=>{const o=u.value;if(o){const i=w().findIndexOf(n.length?n:t,t=>t.name===e);if(i>-1){const{scrollLeft:e,scrollTop:t,clientWidth:n,clientHeight:a,children:l}=o,s=l[i];if(s)if(r){const e=s.offsetTop,n=s.clientHeight,r=e+n-(t+a);r>0&&(o.scrollTop+=r),e<t&&(o.scrollTop=e)}else{const t=s.offsetLeft,r=s.clientWidth,i=t+r-(e+n);i>0&&(o.scrollLeft+=i),t<e&&(o.scrollLeft=t)}}_()}})},Z=e=>{const{activeName:t}=m,n=O.value,r=D.value,o=r.length?r:n,a=w().findIndexOf(o,e=>e.name===t);if(a>-1){let t=null;if(e?a<o.length-1&&(t=o[a+1]):a>0&&(t=o[a-1]),t){const e=t.name,n=e;m.activeName=e,j(n),z(e,null)}}return(0,i.nextTick)()},J={dispatchEvent:P,scrollToTab:X,prev(){return Z(!1)},next(){return Z(!0)},prevTab(){return f("vxe.error.delFunc",["[tabs] prevTab","prev"]),J.prev()},nextTab(){return f("vxe.error.delFunc",["[tabs] nextTab","next"]),J.next()}},Q={};Object.assign(I,J,Q);const ee=t=>{const{titleWidth:r,titleAlign:a,showClose:l,closeConfig:s,refreshConfig:c}=e,{activeName:f,scrollbarWidth:h,scrollbarHeight:g,isTabOver:v,cacheTabMaps:w}=m,k=b.value,T=x.value,O=y.value,D=C.value,M=n.tabPrefix||n["tab-prefix"]||n.prefix,A=n.tabSuffix||n["tab-suffix"]||n.suffix||n.extra,N=S.value,_=N.visibleMethod,P=E.value,j=P.visibleMethod;return(0,i.h)("div",{key:"th",class:["vxe-tabs-header",`type--${k}`,`pos--${T}`]},[M?(0,i.h)("div",{class:["vxe-tabs-header--prefix",`type--${k}`,`pos--${T}`]},R(M,{name:f})):(0,o.C1)(I),v?(0,i.h)("div",{ref:d,class:["vxe-tabs-header--bar vxe-tabs-header--prev-bar",`type--${k}`,`pos--${T}`],onClick:Y},[(0,i.h)("span",{class:O?(0,o.sW)().TABS_TAB_BUTTON_TOP:(0,o.sW)().TABS_TAB_BUTTON_LEFT})]):(0,o.C1)(I),(0,i.h)("div",{class:["vxe-tabs-header--wrapper",`type--${k}`,`pos--${T}`]},[(0,i.h)("div",{ref:u,class:"vxe-tabs-header--item-wrapper",style:O?{marginRight:`-${h+zs}px`,paddingRight:`${zs}px`}:{marginBottom:`-${g+zs}px`,paddingBottom:`${zs}px`},onScroll:F},t.map((e,n)=>{const{title:u,titleWidth:d,titleAlign:p,icon:h,name:m}=e,g=e.slots||{},v=g.title||g.tab,b=g.titlePrefix||g["title-prefix"],x=g.titleSuffix||g["title-suffix"],y=d||r,C=p||a,S={$tabs:I,value:f,name:m,option:e},E=f===m,O=m?w[`${m}`]:null,D=!!O&&O.loading;return(0,i.h)("div",{key:`${m}`,class:["vxe-tabs-header--item",`type--${k}`,`pos--${T}`,C?`align--${C}`:"",{"is--active":E}],style:y?{width:V(y)}:void 0,onClick(t){H(t,e)}},[(0,i.h)("div",{class:"vxe-tabs-header--item-inner"},[(0,i.h)("div",{class:"vxe-tabs-header--item-content"},[h?(0,i.h)("span",{class:"vxe-tabs-header--item-icon"},[(0,i.h)("i",{class:h})]):(0,o.C1)(I),b?(0,i.h)("span",{class:"vxe-tabs-header--item-prefix"},R(b,{name:m,title:u})):(0,o.C1)(I),(0,i.h)("span",{class:"vxe-tabs-header--item-name"},v?R(v,{name:m,title:u}):`${u}`),x?(0,i.h)("span",{class:"vxe-tabs-header--item-suffix"},R(x,{name:m,title:u})):(0,o.C1)(I)]),!pe(c)&&!P.enabled||j&&!j(S)?(0,o.C1)(I):(0,i.h)("div",{class:["vxe-tabs-header--refresh-btn",{"is--active":E,"is--loading":D,"is--disabled":D}],onClick(t){W(t,e)}},[(0,i.h)("i",{class:D?(0,o.sW)().TABS_TAB_REFRESH_LOADING:(0,o.sW)().TABS_TAB_REFRESH})]),!(l||pe(s)||N.enabled)||_&&!_(S)?(0,o.C1)(I):(0,i.h)("div",{class:["vxe-tabs-header--close-btn",{"is--active":E}],onClick(r){q(r,e,n,t)}},[(0,i.h)("i",{class:(0,o.sW)().TABS_TAB_CLOSE})])])])}).concat([(0,i.h)("span",{key:"line",class:["vxe-tabs-header--active-line",`type--${k}`,`pos--${T}`],style:D})]))]),v?(0,i.h)("div",{ref:p,class:["vxe-tabs-header--bar vxe-tabs-header--next-bar",`type--${k}`,`pos--${T}`],onClick:K},[(0,i.h)("span",{class:O?(0,o.sW)().TABS_TAB_BUTTON_BOTTOM:(0,o.sW)().TABS_TAB_BUTTON_RIGHT})]):(0,o.C1)(I),A?(0,i.h)("div",{class:["vxe-tabs-header--suffix",`type--${k}`,`pos--${T}`]},R(A,{name:f})):(0,o.C1)(I)])},te=e=>{const{initNames:t,activeName:n}=m,{name:r,slots:a}=e,l=a?a.default:null;return r&&t.includes(r)?(0,i.h)("div",{key:`${r}`,class:["vxe-tabs-pane--item",{"is--visible":n===r}]},l?R(l,{name:r}):[]):(0,o.C1)(I)},ne=t=>{const{destroyOnClose:n}=e,{activeName:r}=m;if(n){const e=t.find(e=>e.name===r);return[e?te(e):(0,o.C1)(I)]}return t.map(e=>te(e))},re=t=>{const{height:r,padding:a,showBody:l}=e,{activeName:c,cacheTabMaps:u}=m,d=s.value,p=b.value,f=x.value,h=E.value,{showLoading:g}=h,v=n.header,y=n.footer;if(!l)return(0,o.C1)(I);const w=c?u[`${c}`]:null,C=!!w&&w.loading,k={name:c};return(0,i.h)("div",{key:"tb",class:["vxe-tabs-pane--wrapper",`type--${p}`,`pos--${f}`,{"is--content":l}]},[v?(0,i.h)("div",{class:"vxe-tabs-pane--header"},R(v,k)):(0,o.C1)(I),(0,i.h)("div",{class:["vxe-tabs-pane--body",`type--${p}`,`pos--${f}`,{[`size--${d}`]:d,"is--padding":a,"is--height":r}]},ne(t)),y?(0,i.h)("div",{class:"vxe-tabs-pane--footer"},R(y,k)):(0,o.C1)(I),g&&C?(0,o.C1)(I):(0,i.h)(bt,{class:"vxe-tabs--loading",modelValue:C})])},oe=()=>{const{height:t,padding:r,trigger:o}=e,{activeName:a}=m,l=s.value,u=O.value,d=D.value,p=b.value,f=x.value,h=k.value,g=n.default,v=g?d:u,y=[(0,i.h)("div",{key:"ts",class:"vxe-tabs-slots"},g?g({name:a}):[])];return"right"===f||"bottom"===f?y.push(re(v),ee(v)):y.push(ee(v),re(v)),(0,i.h)("div",{ref:c,class:["vxe-tabs",`pos--${f}`,`vxe-tabs--${p}`,"trigger--"+("manual"===o?"trigger":"default"),{[`size--${l}`]:l,"is--padding":r,"is--height":t}],style:h},y)};(0,i.watch)(()=>e.position,()=>{m.resizeFlag++}),(0,i.watch)(()=>e.modelValue,e=>{z(e,null),m.activeName=e}),(0,i.watch)(()=>m.activeName,e=>{X(e)});const ie=(0,i.ref)(0);(0,i.watch)(()=>e.options?e.options.length:-1,()=>{ie.value++}),(0,i.watch)(()=>e.options,()=>{ie.value++}),(0,i.watch)(ie,()=>{B(e.options),m.resizeFlag++});const ae=(0,i.ref)(0);return(0,i.watch)(()=>m.staticTabs?m.staticTabs.length:-1,()=>{ae.value++}),(0,i.watch)(()=>m.staticTabs,()=>{ae.value++}),(0,i.watch)(ae,()=>{B(m.staticTabs),m.resizeFlag++}),(0,i.watch)(M,()=>{m.resizeFlag++}),(0,i.watch)(()=>m.resizeFlag,()=>{(0,i.nextTick)(()=>{_()})}),(0,i.onMounted)(()=>{_(),o.Nh.on(I,"resize",_)}),(0,i.onUnmounted)(()=>{o.Nh.off(I,"resize")}),(0,i.provide)("$xeTabs",I),z(e.modelValue,null),B(m.staticTabs.length?m.staticTabs:e.options),I.renderVN=oe,I},render(){return this.renderVN()}});const Bs=Object.assign({},Vs,{install(e){e.component(Vs.name,Vs)}});u.use(Bs),o.OE.component(Vs);const Hs=Bs;var Ws=Bs,qs=a({name:"VxeTag",props:{border:{type:Boolean,default:()=>(0,o.zj)().tag.border},visible:{type:Boolean,default:null},status:String,title:[String,Number],icon:String,closeIcon:{type:String,default:()=>(0,o.zj)().tag.closeIcon},content:[String,Number],round:Boolean,closable:{type:Boolean,default:()=>(0,o.zj)().tag.closable},color:String,loading:Boolean,size:{type:String,default:()=>(0,o.zj)().tag.size||(0,o.zj)().size}},emits:["click","dblclick","close","update:visible"],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.reactive)({showTag:!1!==e.visible}),u={refElem:s},d={},p={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,n)=>{r(e,(0,o.lh)(n,{$tag:p},t))},h={dispatchEvent:f},m={},g=()=>{c.showTag=!1!==e.visible},v=t=>{const{loading:n}=e;n||f("click",{},t)},b=t=>{const{loading:n}=e;n||f("dblclick",{},t)},x=t=>{const{loading:n}=e;if(!n){const e=!c.showTag;c.showTag=e,r("update:visible",e),f("close",{visible:e},t)}};Object.assign(p,h,m);const y=()=>{const{icon:t,content:r,closable:a,closeIcon:l,loading:s}=e,c=n.default,u=n.icon,d=n.closeIcon||n["close-icon"];return[u||t?(0,i.h)("span",{class:"vxe-tag--icon"},u?u({}):[(0,i.h)("i",{class:t})]):(0,o.C1)(p),(0,i.h)("span",{class:"vxe-tag--content"},c?c({}):w().toValueString(r)),s||a?(0,i.h)("span",{class:s?"vxe-tag--loading":"vxe-tag--close",onClick:x},!s&&d?d({}):[(0,i.h)("i",{class:s?(0,o.sW)().TAG_LOADING:l||(0,o.sW)().TAG_CLOSE})]):(0,o.C1)(p)]},C=()=>{const{status:t,color:n,title:r,round:a,border:u,loading:d}=e,{showTag:f}=c,h=l.value;return f?(0,i.h)("span",{ref:s,class:["vxe-tag",{[`size--${h}`]:h,[`theme--${t}`]:t&&!n,[`color--${n}`]:n&&!t,"is--round":a,"is--border":u,"is--loading":d}],title:r,onClick:v,onDblclick:b},y()):(0,o.C1)(p)};return(0,i.watch)(()=>e.visible,()=>{g()}),g(),p.renderVN=C,p},render(){return this.renderVN()}});const Us=Object.assign({},qs,{install(e){e.component(qs.name,qs)}});u.use(Us),o.OE.component(qs);const Gs=Us;var Ys=Us,Ks=a({name:"VxeTextEllipsis",props:{href:String,target:String,content:[String,Number],lineClamp:[String,Number],status:String,title:[String,Number],loading:Boolean,offsetLength:[String,Number],routerLink:Object,underline:{type:Boolean,default:()=>(0,o.zj)().textEllipsis.underline},permissionCode:[String,Number],size:{type:String,default:()=>(0,o.zj)().textEllipsis.size||(0,o.zj)().size}},emits:["click"],setup(e,t){const{emit:n}=t,r=w().uniqueId(),{computeSize:a}=(0,o.XX)(e),{computePermissionInfo:l}=(0,o.JT)(e),s=(0,i.ref)(),c=(0,i.ref)(),u=(0,i.reactive)({resizeObserver:null,visibleLen:0}),d={refElem:s},p=(0,i.computed)(()=>w().toNumber(e.lineClamp)),f=(0,i.computed)(()=>w().toValueString(e.content)),h=(0,i.computed)(()=>e.offsetLength?w().toNumber(e.offsetLength):0),m=(0,i.computed)(()=>{const{visibleLen:e}=u,t=p.value,n=f.value,r=h.value;return t>1&&n.length>e?`${n.slice(0,Math.max(1,e-3+r))}...`:n}),g={},v={xID:r,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>g},b=(e,t,r)=>{n(e,(0,o.lh)(r,{$textEllipsis:v},t))},x=e=>{const t=s.value,n=c.value;if(t&&n){let t=12;try{t=Math.max(10,w().toNumber(getComputedStyle(n).fontSize))}catch(r){}const o=f.value;let i=Math.floor(e/t),a=o.slice(0,i);n.textContent=a,u.visibleLen=a.length;let l=0;while(e>n.clientWidth&&l<30){l++;const r=Math.floor((e-n.clientWidth)/t);if(!r)break;i+=r,a=o.slice(0,i),n.textContent=a,u.visibleLen=a.length}n.textContent="",n.style.display="",n.style.position="",n.style.top="",n.style.left=""}},y=()=>{const e=s.value,t=c.value,n=f.value,r=p.value;if(e&&t){const o=e.clientWidth;t.style.display="block",t.style.position="absolute",t.style.top="-3000px",t.style.left="-3000px",t.textContent=n;const i=t.offsetWidth,a=Math.floor(o*r);a>i?u.visibleLen=n.length:x(a)}else u.visibleLen=n.length},C={dispatchEvent:b},k=()=>{n("click",{})},S=()=>{const{resizeObserver:e}=u,t=p.value;if(!e){const e=s.value;if(e&&t>1&&window.ResizeObserver){const t=new window.ResizeObserver(w().throttle(()=>{y()},300,{leading:!0,trailing:!0}));t.observe(e),u.resizeObserver=t}}},T={};Object.assign(v,C,T);const E=()=>{const{routerLink:t,href:n,target:r,title:o}=e,a=m.value;return t?(0,i.h)((0,i.resolveComponent)("router-link"),{class:"vxe-text-ellipsis--link",title:o,target:r,to:t},{default(){return E()}}):n?(0,i.h)("a",{class:"vxe-text-ellipsis--link",href:n,target:r,title:o},a):(0,i.h)("span",{class:"vxe-text-ellipsis--content"},a)},O=()=>{const{loading:t,status:n,title:r,underline:u}=e,d=l.value,f=a.value,h=p.value;return d.visible?(0,i.h)("div",{ref:s,class:["vxe-text-ellipsis",h>1?"is--multi":"is--single",{[`size--${f}`]:f,[`theme--${n}`]:n,"is--underline":u,"is--loading":t}],title:r,onClick:k},[(0,i.h)("span",{ref:c,class:"vxe-text-ellipsis--reality"}),E()]):(0,o.C1)(v)};return(0,i.watch)(()=>e.content,()=>{y()}),(0,i.watch)(()=>e.lineClamp,()=>{S(),y()}),(0,i.onMounted)(()=>{S(),y()}),(0,i.onBeforeUnmount)(()=>{const{resizeObserver:e}=u,t=s.value,n=c.value;n&&(n.textContent=""),e&&(t&&e.unobserve(t),e.disconnect(),u.resizeObserver=null)}),v.renderVN=O,v},render(){return this.renderVN()}});const Xs=Object.assign({},Ks,{install(e){e.component(Ks.name,Ks)}});u.use(Xs),o.OE.component(Ks);const Zs=Xs;var Js=Xs;const Qs=Object.assign({},qn,{install(e){e.component(qn.name,qn)}});u.use(Qs),o.OE.component(qn);const ec=Qs;var tc=Qs;let nc;var rc=a({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:{type:Boolean,default:null},editable:{type:Boolean,default:!0},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],trim:{type:Boolean,default:()=>(0,o.zj)().textarea.trim},rows:{type:[String,Number],default:null},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>(0,o.zj)().textarea.resize},size:{type:String,default:()=>(0,o.zj)().textarea.size||(0,o.zj)().size},maxlength:[String,Number]},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur","lazy-change"],setup(e,t){const{emit:n}=t,r=(0,i.inject)("$xeForm",null),a=(0,i.inject)("xeFormItemInfo",null),l=w().uniqueId(),{computeSize:s}=(0,o.XX)(e),c=(0,i.reactive)({inputValue:e.modelValue}),u=(0,i.ref)(),d=(0,i.ref)(),p={refElem:u,refTextarea:d},f={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>p};let h={};const m=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!r&&r.props.readonly:t}),g=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!r&&r.props.disabled:t}),v=(0,i.computed)(()=>{const{editable:t,readonly:n}=e;return n||!t}),b=(0,i.computed)(()=>{const{placeholder:t}=e;if(t)return be(t);const n=(0,o.zj)().textarea.placeholder;return n?be(n):(0,o.TO)("vxe.base.pleaseInput")}),x=(0,i.computed)(()=>{const{maxLength:t,maxlength:n}=e;return t||n}),y=(0,i.computed)(()=>w().getSize(c.inputValue)),C=(0,i.computed)(()=>{const e=y.value,t=x.value;return t&&e>w().toNumber(t)}),k=(0,i.computed)(()=>Object.assign({minRows:1,maxRows:10},(0,o.zj)().textarea.autosize,e.autosize)),S=()=>{const{size:t,autosize:n}=e,{inputValue:r}=c;if(n){nc||(nc=document.createElement("div")),nc.parentNode||document.body.appendChild(nc);const e=d.value;if(!e)return;const n=getComputedStyle(e);nc.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),nc.style.width=`${e.clientWidth}px`,nc.style.padding=n.padding,nc.innerText=(""+(r||"　")).replace(/\n$/,"\n　")}},T=()=>{e.autosize&&(0,i.nextTick)(()=>{const e=k.value,{minRows:t,maxRows:n}=e,r=d.value;if(!r)return;const o=nc.clientHeight,i=getComputedStyle(r),a=w().toNumber(i.lineHeight),l=w().toNumber(i.paddingTop),s=w().toNumber(i.paddingBottom),c=w().toNumber(i.borderTopWidth),u=w().toNumber(i.borderBottomWidth),p=l+s+c+u,f=(o-p)/a,h=f&&/[0-9]/.test(""+f)?f:Math.floor(f)+1;let m=h;h<t?m=t:h>n&&(m=n),r.style.height=`${m*a+p}px`})},E=e=>{const t=c.inputValue;f.dispatchEvent(e.type,{value:t},e)},O=(t,o)=>{e.trim&&(t=`${t||""}`.trim()),c.inputValue=t,n("update:modelValue",t),w().toValueString(e.modelValue)!==t&&(h.dispatchEvent("change",{value:t},o),r&&a&&r.triggerItemEvent(o,a.itemConfig.field,t))},D=t=>{const{immediate:n}=e,r=t.target,o=r.value;c.inputValue=o,n&&O(o,t),f.dispatchEvent("input",{value:o},t),T()},M=t=>{const{immediate:n}=e;n?E(t):O(c.inputValue,t),f.dispatchEvent("lazy-change",{value:c.inputValue},t)},A=t=>{const{immediate:n}=e,{inputValue:r}=c;n||O(r,t),f.dispatchEvent("blur",{value:r},t)};h={dispatchEvent(e,t,r){n(e,(0,o.lh)(r,{$textarea:f},t))},focus(){const e=d.value;return e.focus(),(0,i.nextTick)()},blur(){const e=d.value;return e.blur(),(0,i.nextTick)()}},Object.assign(f,h),(0,i.watch)(()=>e.modelValue,e=>{c.inputValue=e,S()}),(0,i.watch)(k,()=>{S(),T()}),(0,i.nextTick)(()=>{const{autosize:t}=e;t&&(S(),T())});const I=()=>{const{className:t,resize:n,autosize:r,showWordCount:o,countMethod:a,rows:l,cols:p}=e,{inputValue:f}=c,h=s.value,k=g.value,S=C.value,T=y.value,O=v.value,I=m.value,N=b.value,R=x.value;return I?(0,i.h)("div",{ref:u,class:["vxe-textarea--readonly",t]},f):(0,i.h)("div",{ref:u,class:["vxe-textarea",t,{[`size--${h}`]:h,"is--autosize":r,"is--count":o,"is--disabled":k,"is--rows":!w().eqNull(l),"is--cols":!w().eqNull(p)}],spellcheck:!1},[(0,i.h)("textarea",{ref:d,class:"vxe-textarea--inner",value:f,name:e.name,placeholder:N,maxlength:R,readonly:O,disabled:k,rows:l,cols:p,style:n?{resize:n}:null,onInput:D,onChange:M,onKeydown:E,onKeyup:E,onClick:E,onFocus:E,onBlur:A}),o?(0,i.h)("span",{class:["vxe-textarea--count",{"is--error":S}]},a?`${a({value:f})}`:`${T}${R?`/${R}`:""}`):null])};return f.renderVN=I,f},render(){return this.renderVN()}});const oc=Object.assign(rc,{install:function(e){e.component(rc.name,rc)}});u.use(oc),o.OE.component(rc);const ic=oc;var ac=oc,lc=a({name:"VxeTimeline",props:{size:{type:String,default:()=>(0,o.zj)().timeline.size||(0,o.zj)().size}},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({}),s={refElem:a},c={},u={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>c},d=(e,t,r)=>{n(e,(0,o.lh)(r,{$timeline:u},t))},p={dispatchEvent:d},f={};Object.assign(u,p,f);const h=()=>(0,i.h)("div",{ref:a,class:"vxe-timeline"});return u.renderVN=h,u},render(){return this.renderVN()}});const sc=Object.assign({},lc,{install(e){e.component(lc.name,lc)}});u.use(sc),o.OE.component(lc);const cc=sc;var uc=sc,dc=a({name:"VxeTimelineItem",props:{},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({}),s={refElem:a},c={},u={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>c},d=(e,t,r)=>{n(e,(0,o.lh)(r,{$timelineItem:u},t))},p={dispatchEvent:d},f={};Object.assign(u,p,f);const h=()=>(0,i.h)("div",{ref:a,class:"vxe-timeline-item"});return u.renderVN=h,u},render(){return this.renderVN()}});const pc=Object.assign({},dc,{install(e){e.component(dc.name,dc)}});u.use(pc),o.OE.component(dc);const fc=pc;var hc=pc,mc=a({name:"VxeTip",props:{title:{type:[String,Number],default:()=>(0,o.zj)().tip.title},content:[String,Number],status:String,icon:{type:String,default:()=>(0,o.zj)().tip.icon},permissionCode:[String,Number],size:{type:String,default:()=>(0,o.zj)().tip.size||(0,o.zj)().size}},emits:[],setup(e,t){const{slots:n,emit:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),{computePermissionInfo:s}=(0,o.JT)(e),c=(0,i.ref)(),u=(0,i.reactive)({}),d={refElem:c},p={},f={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>p},h=(e,t,n)=>{r(e,(0,o.lh)(n,{$tip:f},t))},m={dispatchEvent:h},g={};Object.assign(f,m,g);const v=()=>{const{status:t,content:r,icon:a,title:u}=e,d=n.default,p=n.title,h=n.icon,m=s.value,g=l.value;return m.visible?(0,i.h)("div",{ref:c,class:["vxe-tip",{[`size--${g}`]:g,[`theme--${t}`]:t,"has--title":!(!p&&!u)}]},[h||a?(0,i.h)("div",{class:"vxe-tip--icon"},h?T(h({})):[(0,i.h)("i",{class:a})]):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-tip--body"},[p||u?(0,i.h)("div",{class:"vxe-tip--title"},p?T(p({})):w().toValueString(u)):(0,o.C1)(f),(0,i.h)("div",{class:"vxe-tip--content"},d?T(d({})):w().toValueString(r))])]):(0,o.C1)(f)};return f.renderVN=v,f},render(){return this.renderVN()}});const gc=Object.assign({},mc,{install(e){e.component(mc.name,mc),e.component("VxeTipsComponent",mc)}});u.use(gc),o.OE.component(mc);const vc=gc,bc=gc;var xc=gc,yc=a({name:"VxeTour",props:{size:{type:String,default:()=>(0,o.zj)().tour.size||(0,o.zj)().size}},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({}),s={refElem:a},c={},u={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>c},d=(e,t,r)=>{n(e,(0,o.lh)(r,{$tour:u},t))},p={dispatchEvent:d},f={};Object.assign(u,p,f);const h=()=>(0,i.h)("div",{ref:a,class:"vxe-tour"});return u.renderVN=h,u},render(){return this.renderVN()}});const wc=Object.assign({},yc,{install(e){e.component(yc.name,yc)}});u.use(wc),o.OE.component(yc);const Cc=wc;var kc=wc;const Sc=(0,i.reactive)({node:null});function Tc(){return Sc}const Ec="row--drag-move";function Oc(e,t){w().arrayEach(e,e=>{e.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{w().arrayEach(e,e=>{L(e,Ec),e.style.transform=""})})}function Dc(e,t){setTimeout(()=>{e&&w().arrayEach(e.querySelectorAll(t.map(e=>`${e}.${Ec}`).join(",")),e=>$(e,Ec))},500)}const{menus:Mc,getConfig:Ac,getI18n:Ic,getIcon:Nc}=o.OE;function Rc(){return w().uniqueId("node_")}function Fc(){return{treeFullData:[],afterTreeList:[],afterVisibleList:[],nodeMaps:{},selectCheckboxMaps:{},indeterminateRowMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0}}function _c(){return{parentHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,currentNode:null,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,selectRadioKey:null,treeList:[],updateExpandedFlag:1,updateCheckboxFlag:1,dragNode:null,dragTipText:""}}var Pc=a({name:"VxeTree",props:{data:Array,autoResize:{type:Boolean,default:()=>Ac().tree.autoResize},height:[String,Number],maxHeight:{type:[String,Number],default:()=>Ac().tree.maxHeight},minHeight:{type:[String,Number],default:()=>Ac().tree.minHeight},loading:Boolean,loadingConfig:Object,accordion:{type:Boolean,default:()=>Ac().tree.accordion},childrenField:{type:String,default:()=>Ac().tree.childrenField},valueField:{type:String,default:()=>Ac().tree.valueField},keyField:{type:String,default:()=>Ac().tree.keyField},parentField:{type:String,default:()=>Ac().tree.parentField},titleField:{type:String,default:()=>Ac().tree.titleField},hasChildField:{type:String,default:()=>Ac().tree.hasChildField},mapChildrenField:{type:String,default:()=>Ac().tree.mapChildrenField},transform:Boolean,isCurrent:Boolean,isHover:Boolean,expandAll:Boolean,expandNodeKeys:Array,showLine:{type:Boolean,default:()=>Ac().tree.showLine},trigger:String,indent:{type:Number,default:()=>Ac().tree.indent},showRadio:{type:Boolean,default:()=>Ac().tree.showRadio},checkNodeKey:{type:[String,Number],default:()=>Ac().tree.checkNodeKey},radioConfig:Object,showCheckbox:{type:Boolean,default:()=>Ac().tree.showCheckbox},checkNodeKeys:{type:Array,default:()=>Ac().tree.checkNodeKeys},checkboxConfig:Object,nodeConfig:Object,lazy:Boolean,toggleMethod:Function,loadMethod:Function,drag:{type:Boolean,default:()=>Ac().tree.drag},dragConfig:Object,menuConfig:Object,showIcon:{type:Boolean,default:!0},iconOpen:{type:String,default:()=>Ac().tree.iconOpen},iconClose:{type:String,default:()=>Ac().tree.iconClose},iconLoaded:{type:String,default:()=>Ac().tree.iconLoaded},filterValue:[String,Number],filterConfig:Object,size:{type:String,default:()=>Ac().tree.size||Ac().size},virtualYConfig:Object},emits:["update:modelValue","update:checkNodeKey","update:checkNodeKeys","node-click","node-dblclick","current-change","radio-change","checkbox-change","load-success","load-error","scroll","node-dragstart","node-dragover","node-dragend","node-expand","node-menu","menu-click"],setup(e,t){const{emit:n,slots:r}=t,a=w().uniqueId(),{computeSize:l}=(0,o.XX)(e),s=(0,i.ref)(),c=(0,i.ref)(),u=(0,i.ref)(),d=(0,i.ref)(),p=(0,i.ref)(),f=(0,i.ref)(),m=(0,i.ref)(),g=Tc(),v=Fc(),b=(0,i.reactive)(_c()),x={refElem:s},y=(0,i.computed)(()=>e.titleField||"title"),C=(0,i.computed)(()=>e.keyField||"id"),k=(0,i.computed)(()=>{const t=C.value;return e.valueField||t}),S=(0,i.computed)(()=>e.parentField||"parentId"),E=(0,i.computed)(()=>e.childrenField||"children"),O=(0,i.computed)(()=>e.mapChildrenField||"mapChildren"),D=(0,i.computed)(()=>e.hasChildField||"hasChild"),M=(0,i.computed)(()=>Object.assign({},Ac().tree.virtualYConfig,e.virtualYConfig)),A=(0,i.computed)(()=>{const t=_.value,{isCurrent:n}=t;return w().isBoolean(n)?n:e.isCurrent}),I=(0,i.computed)(()=>{const t=_.value,{isHover:n}=t;return w().isBoolean(n)?n:e.isHover}),R=(0,i.computed)(()=>Object.assign({showIcon:!0},Ac().tree.radioConfig,e.radioConfig)),F=(0,i.computed)(()=>Object.assign({showIcon:!0},Ac().tree.checkboxConfig,e.checkboxConfig)),_=(0,i.computed)(()=>Object.assign({},Ac().tree.nodeConfig,e.nodeConfig)),j=(0,i.computed)(()=>Object.assign({},Ac().tree.loadingConfig,e.loadingConfig)),B=(0,i.computed)(()=>Object.assign({},Ac().tree.dragConfig,e.dragConfig)),W=(0,i.computed)(()=>Object.assign({},Ac().tree.menuConfig,e.menuConfig)),q=(0,i.computed)(()=>{const{customHeight:e,customMinHeight:t,customMaxHeight:n}=b,r={};return e&&(r.height=V(e)),t&&(r.minHeight=V(t)),n&&(r.maxHeight=V(n)),r}),G=(0,i.computed)(()=>Object.assign({},Ac().tree.filterConfig,e.filterConfig)),Y={computeKeyField:C,computeParentField:S,computeChildrenField:E,computeMapChildrenField:O,computeRadioOpts:R,computeCheckboxOpts:F,computeNodeOpts:_,computeDragOpts:B},K={xID:a,props:e,context:t,internalData:v,reactData:b,getRefMaps:()=>x,getComputeMaps:()=>Y},X=e=>{const t=k.value,n=w().get(e,t);return Rt(n)},Z=e=>{const{updateExpandedFlag:t}=b,{treeExpandedMaps:n}=v,r=X(e);return!(!t||!n[r])},J=e=>{const{selectRadioKey:t}=b;return t===e},Q=e=>J(X(e)),ee=e=>{const{updateCheckboxFlag:t}=b,{selectCheckboxMaps:n}=v;return!(!t||!n[e])},te=e=>ee(X(e)),ne=e=>{const{updateCheckboxFlag:t}=b,{indeterminateRowMaps:n}=v;return!(!t||!n[e])},re=e=>ne(X(e)),oe=e=>{n("update:checkNodeKeys",e)},ie=e=>{n("update:checkNodeKey",e)},ae=(e,t)=>{const{nodeMaps:n}=v;if(e){w().isArray(e)||(e=[e]);const r=[];e.forEach(e=>{const t=Rt(e),o=n[t];o&&r.push(o.item)}),le(r,t)}return(0,i.nextTick)()},le=(t,n)=>{const{transform:r}=e,{selectCheckboxMaps:o}=v,i=O.value,a=E.value,l=F.value,{checkStrictly:s}=l,c=e=>{const t=X(e);n?o[t]||(o[t]=e):o[t]&&delete o[t]};s?t.forEach(c):w().eachTree(t,c,{children:r?i:a}),b.updateCheckboxFlag++,ze()},se=e=>{v.selectCheckboxMaps={},ae(e,!0)},ce=(e,t,n)=>{t?n[e]||(n[e]=!0):n[e]&&delete n[e]},ue=(e,t,r)=>{n(e,(0,o.lh)(r,{$tree:K},t))},de=()=>{const e=s.value;return e?e.parentElement:null},fe=t=>{const{parentHeight:n}=b,r=e[t];let o=0;return r&&("100%"===r||"auto"===r?o=n:(o=P(r)?Math.floor((w().toInteger(r)||1)/100*n):w().toNumber(r),o=Math.max(40,o))),o},he=()=>{b.customHeight=fe("height"),b.customMinHeight=fe("minHeight"),b.customMaxHeight=fe("maxHeight"),!b.scrollYLoad||b.customHeight||b.customMinHeight||(b.customHeight=300)},me=e=>{const t=k.value;return Promise.resolve(e.map(e=>{const n=Object.assign({},e);let r=X(n);return r||(r=Rc(),w().set(n,t,r)),n}))},ge=()=>{const{treeFullData:e}=v,t=k.value,n=E.value,r={};w().eachTree(e,(e,n,o,i,a,l)=>{let s=X(e);s||(s=Rc(),w().set(e,t,s)),r[s]={item:e,index:n,$index:-1,_index:-1,items:o,parent:a,nodes:l,level:l.length-1,treeIndex:n,lineCount:0,treeLoaded:!1}},{children:n}),v.nodeMaps=r},ve=()=>{const{transform:t}=e,{afterTreeList:n,nodeMaps:r}=v,o=E.value,i=O.value;let a=0;w().eachTree(n,(e,t,n)=>{const o=X(e),i=r[o];if(i)i.items=n,i.treeIndex=t,i._index=a;else{const i={item:e,index:t,$index:-1,_index:a,items:n,parent:parent,nodes:[],level:0,treeIndex:t,lineCount:0,treeLoaded:!1};r[o]=i}a++},{children:t?i:o})},be=()=>{const{transform:t,filterValue:n}=e,{treeFullData:r,lastFilterValue:o}=v,a=y.value,l=E.value,s=O.value,c=G.value,{autoExpandAll:u,beforeFilterMethod:d,filterMethod:p,afterFilterMethod:f}=c;let h=r,m=h,g="";if(n||0===n){g=`${n}`;const e=p?e=>p({$tree:K,node:e,filterValue:g}):e=>String(e[a]).toLowerCase().indexOf(g.toLowerCase())>-1,o={$tree:K,filterValue:g};d&&d(o),t?(m=w().searchTree(r,e,{original:!0,isEvery:!0,children:l,mapChildren:s}),h=m):h=r.filter(e),v.lastFilterValue=g,(0,i.nextTick)(()=>{u?K.setAllExpandNode(!0).then(()=>{f&&f(o)}):f&&f(o)})}else{if(t&&(m=w().searchTree(r,()=>!0,{original:!0,isEvery:!0,children:l,mapChildren:s}),h=m,o)){const e={$tree:K,filterValue:g};d&&d(e),(0,i.nextTick)(()=>{u?K.clearAllExpandNode().then(()=>{f&&f(e)}):f&&f(e)})}v.lastFilterValue=""}v.afterVisibleList=h,v.afterTreeList=m,ve()},xe=()=>{const{transform:t}=e,{afterTreeList:n,treeExpandedMaps:r}=v,o=O.value,i={};if(t){const e=[];return w().eachTree(n,(t,n,o,a,l)=>{const s=X(t),c=X(l);(!l||i[c]&&r[c])&&(i[s]=1,e.push(t))},{children:o}),ke(e),v.afterVisibleList=e,e}return v.afterVisibleList},ye=e=>{const{scrollYLoad:t}=b,{scrollYStore:n,nodeMaps:r}=v;let o=v.afterVisibleList;e&&(be(),o=xe());const i=t?o.slice(n.startIndex,n.endIndex):o.slice(0);i.forEach((e,t)=>{const n=X(e),o=r[n];o&&(o.$index=t)}),b.treeList=i},we=w().debounce(()=>ye(!0),350,{trailing:!0}),Ce=t=>{const{expandAll:n,expandNodeKeys:r,transform:o}=e,{initialized:i,scrollYStore:a}=v,l=C.value,s=S.value,c=E.value,u=o?w().toArrayTree(t,{key:l,parentKey:s,mapChildren:c}):t?t.slice(0):[];v.treeFullData=u,Object.assign(a,{startIndex:0,endIndex:1,visibleSize:0});const d=ke(u);return ge(),ye(!0),d&&(e.height||e.maxHeight||h("vxe.error.reqProp",["[tree] height | max-height | virtual-y-config.enabled=false"])),Ee().then(()=>{i||t&&t.length&&(v.initialized=!0,n?K.setAllExpandNode(!0):r&&r.length&&K.setExpandByNodeId(r,!0),ae(e.checkNodeKeys||[],!0)),he(),De()})},ke=t=>{const{transform:n}=e,r=M.value,o=t||v.treeFullData,i=!!n&&!!r.enabled&&r.gt>-1&&(0===r.gt||r.gt<o.length);return b.scrollYLoad=i,i},Se=()=>{const{scrollYLoad:e}=b,{scrollYStore:t,afterVisibleList:n}=v;b.bodyHeight=e?n.length*t.rowHeight:0,b.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},Te=()=>{ye(),Se()},Ee=()=>(0,i.nextTick)().then(()=>{const{scrollYLoad:e}=b,{scrollYStore:t}=v,n=p.value,r=M.value;let o,i=0;if(n&&(o||(o=n.children[0])),o&&(i=o.offsetHeight),i=Math.max(20,i),t.rowHeight=i,e){const e=d.value,n=Math.max(8,e?Math.ceil(e.clientHeight/i):0),o=Math.max(0,Math.min(2,w().toNumber(r.oSize)));t.offsetSize=o,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+o,t.endIndex),Te()}else Se()}),Oe=(e,t)=>{const n=d.value;return e&&(w().isNumber(e)||(t=e.top,e=e.left)),n&&(w().isNumber(e)&&(n.scrollLeft=e),w().isNumber(t)&&(n.scrollTop=t)),b.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,i.nextTick)(()=>{e()})},50)}):(0,i.nextTick)()},De=()=>{const{lastScrollLeft:e,lastScrollTop:t}=v;return Ne().then(()=>{if(e||t)return v.lastScrollLeft=0,v.lastScrollTop=0,scrollTo(e,t)})},Me=()=>{const{scrollYStore:e}=v,{rowHeight:t}=e,n=s.value;if(n&&n.clientWidth&&n.clientHeight){const e=de(),n=c.value,r=u.value,o=n?n.clientHeight:0,i=r?r.clientHeight:0;if(e){const n=U(e);b.parentHeight=Math.max(o+i+t,e.clientHeight-n-o-i)}return he(),Ee().then(()=>{he(),Se()})}return(0,i.nextTick)()},Ae=()=>{const{scrollYStore:e}=v,{startIndex:t,endIndex:n,visibleSize:r,offsetSize:o,rowHeight:i}=e,a=d.value;if(!a)return;const l=a.scrollTop,s=Math.floor(l/i),c=Math.max(0,s-1-o),u=s+r+o;(s<=t||s>=n-r-1)&&(t===c&&n===u||(e.startIndex=c,e.endIndex=u,Te()))},Ie=e=>{const t=e.target,n=t.scrollTop,r=t.scrollLeft,o=r!==v.lastScrollLeft,i=n!==v.lastScrollTop;v.lastScrollTop=n,v.lastScrollLeft=r,b.scrollYLoad&&Ae(),v.lastScrollTime=Date.now(),ue("scroll",{scrollLeft:r,scrollTop:n,isX:o,isY:i},e)},Ne=()=>{const e=d.value;return e&&(e.scrollTop=0,e.scrollLeft=0),v.lastScrollTop=0,v.lastScrollLeft=0,(0,i.nextTick)()},Re=(t,n)=>{const{drag:r}=e,{nodeMaps:o}=v,i=t.currentTarget,a=B.value,{trigger:l,isCrossDrag:s,isPeerDrag:c,disabledMethod:u}=a,d=X(n),p=H(t,i,"vxe-tree--node-item-switcher").flag;let f=!1;if(r&&(f="node"===l),!p){const e={node:n,$tree:K},r=o[d];!f||!(s||c||r&&!r.level)||u&&u(e)||Je(t,{node:n})}},Fe=(t,n)=>{const{showRadio:r,showCheckbox:o,trigger:i}=e,a=R.value,l=F.value,s=A.value;let c=!1,u=!1,d=!1,p=!1;s?(c=!0,Be(t,n)):b.currentNode&&(b.currentNode=null),"node"===i&&(p=!0,Le(t,n)),r&&"node"===a.trigger&&(u=!0,He(t,n)),o&&"node"===l.trigger&&(d=!0,Ve(t,n)),ue("node-click",{node:n,triggerCurrent:c,triggerRadio:u,triggerCheckbox:d,triggerExpand:p},t)},_e=(e,t)=>{ue("node-dblclick",{node:t},e)},Pe=(t,n)=>{const{menuConfig:r}=e,i=A.value,a=W.value;if(r?pe(a):a.enabled){const{options:e,visibleMethod:r}=a;r&&!r({$tree:K,options:e,node:n})||(i?Be(t,n):b.currentNode&&(b.currentNode=null),o.OE.contextMenu&&o.OE.contextMenu.openByEvent(t,{options:e,events:{optionClick(e){const{option:r}=e,o=Mc.get(r.code),i=o?o.treeMenuMethod:null,a={menu:r,node:n,$event:t,$tree:K,option:r};i&&i(a,t),ue("menu-click",a,e.$event)}}}))}ue("node-menu",{node:n},t)},je=t=>{const n=F.value,{loadMethod:r}=e,{checkStrictly:o}=n;return new Promise(e=>{if(r){const{nodeMaps:e}=v,n=X(t),a=e[n];v.treeExpandLazyLoadedMaps[n]=!0,Promise.resolve(r({$tree:K,node:t})).then(e=>{const{treeExpandLazyLoadedMaps:r}=v;if(a.treeLoaded=!0,r[n]&&(r[n]=!1),w().isArray(e)||(e=[]),e)return K.loadChildrenNode(t,e).then(r=>{const{treeExpandedMaps:a}=v;return r.length&&!a[n]&&(a[n]=!0),b.updateExpandedFlag++,!o&&K.isCheckedByCheckboxNodeId(n)&&le(r,!0),ue("load-success",{node:t,data:e},new Event("load-success")),(0,i.nextTick)()});ue("load-success",{node:t,data:e},new Event("load-success"))}).catch(e=>{const{treeExpandLazyLoadedMaps:r}=v;a.treeLoaded=!1,r[n]&&(r[n]=!1),ue("load-error",{node:t,data:e},new Event("load-error"))}).finally(()=>(xe(),ye(),Me()))}else e()})},$e=(t,n)=>{const{lazy:r,accordion:o,toggleMethod:i}=e,{treeExpandLazyLoadedMaps:a,treeExpandedMaps:l}=v,{nodeMaps:s}=v,c=E.value,u=D.value,d=[];let p=i?t.filter(e=>i({$tree:K,expanded:n,node:e})):t;if(o){p=p.length?[p[p.length-1]]:[];const e=X(p[0]),t=s[e];t&&t.items.forEach(e=>{const t=X(e);l[t]&&delete l[t]})}const f=[];return n?p.forEach(e=>{const t=X(e);if(!l[t]){const n=s[t],o=r&&e[u]&&!n.treeLoaded&&!a[t];o?d.push(je(e)):e[c]&&e[c].length&&(l[t]=!0,f.push(e))}}):p.forEach(e=>{const t=X(e);l[t]&&(delete l[t],f.push(e))}),b.updateExpandedFlag++,xe(),ye(),Promise.all(d).then(()=>Me())},Le=(t,n)=>{const{lazy:r}=e,{treeExpandedMaps:o,treeExpandLazyLoadedMaps:i}=v,a=X(n),l=!o[a];t.stopPropagation(),r&&i[a]||$e([n],l),ue("node-expand",{node:n,expanded:l},t)},ze=()=>{const{transform:t}=e,{selectCheckboxMaps:n,indeterminateRowMaps:r,afterTreeList:o}=v,i=E.value,a=O.value,l=F.value,{checkStrictly:s,checkMethod:c}=l;if(!s){const e={},l=[];w().eachTree(o,t=>{const n=X(t),r=t[i];r&&r.length&&!e[n]&&(e[n]=1,l.unshift([t,n,r]))},{children:t?a:i}),l.forEach(e=>{const t=e[0],o=e[1],i=e[2];let a=0,l=0,s=0;const u=i.length;i.forEach(c?e=>{const t=X(e),o=n[t];c({$tree:K,node:e})?(o?a++:r[t]&&l++,s++):o?a++:r[t]&&l++}:e=>{const t=X(e),o=n[t];o?a++:r[t]&&l++,s++});let d=!1;d=u>0?s>0?(a>0||l>0)&&a>=s:a>0&&a>=s||!!n[o]:n[o];const p=!d&&(a>0||l>0);d?(n[o]=t,r[o]&&delete r[o]):(n[o]&&delete n[o],p?r[o]=t:r[o]&&delete r[o])}),b.updateCheckboxFlag++}},Ve=(t,n)=>{t.preventDefault(),t.stopPropagation();const{transform:r}=e,{selectCheckboxMaps:o}=v,i=E.value,a=O.value,l=F.value,{checkStrictly:s,checkMethod:c}=l;let u=!!c;if(c&&(u=!c({$tree:K,node:n})),u)return;const d=X(n);let p=!1;o[d]?delete o[d]:(p=!0,o[d]=n),s||w().eachTree(w().get(n,r?a:i),e=>{const t=X(e);p?o[t]||(o[t]=!0):o[t]&&delete o[t]},{children:r?a:i}),b.updateCheckboxFlag++,ze();const f=w().keys(o),h=f.map(Ft);oe(h),ue("checkbox-change",{node:n,value:h,checked:p},t)},Be=(e,t)=>{e.preventDefault();const n=_.value,{currentMethod:r,trigger:o}=n,i=E.value,a=w().get(t,i),l=a&&a.length;let s=!!r;if("child"===o){if(l)return}else if("parent"===o&&!l)return;if(r&&(s=!r({node:t})),s)return;const c=!0;b.currentNode=t,ue("current-change",{node:t,checked:c},e)},He=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=R.value,{checkMethod:r}=n;let o=!!r;if(r&&(o=!r({$tree:K,node:t})),o)return;const i=!0,a=X(t),l=Ft(a);b.selectRadioKey=a,ie(l),ue("radio-change",{node:t,value:l,checked:i},e)},We=()=>{const e=s.value;e&&e.clientWidth&&Me()},qe={dispatchEvent:ue,getNodeId:X,getNodeById(e){const{nodeMaps:t}=v;if(e){const n=t[e];if(n)return n.item}return null},loadData(e){return Ce(e||[])},reloadData(e){return Ce(e||[])},clearCurrentNode(){return b.currentNode=null,(0,i.nextTick)()},getCurrentNodeId(){const{currentNode:e}=b;return e?Ft(X(e)):null},getCurrentNode(){const{currentNode:e}=b,{nodeMaps:t}=v;if(e){const n=t[X(e)];if(n)return n.item}return null},setCurrentNodeId(e){const{nodeMaps:t}=v,n=t[Rt(e)];return b.currentNode=n?n.item:null,(0,i.nextTick)()},setCurrentNode(e){return b.currentNode=e,(0,i.nextTick)()},clearRadioNode(){return b.selectRadioKey=null,ie(null),(0,i.nextTick)()},getRadioNodeId(){return b.selectRadioKey||null},getRadioNode(){const{selectRadioKey:e}=b,{nodeMaps:t}=v;if(e){const n=t[e];if(n)return n.item}return null},setRadioNodeId(e){return b.selectRadioKey=Rt(e),ie(e),(0,i.nextTick)()},setRadioNode(e){if(e){const t=X(e);b.selectRadioKey=t,ie(Ft(t))}else ie(null);return(0,i.nextTick)()},setCheckboxNode(e,t){return e&&(w().isArray(e)||(e=[e]),le(e,t)),oe(K.getCheckboxNodeIds()),(0,i.nextTick)()},setCheckboxByNodeId(e,t){return ae(e,t),oe(K.getCheckboxNodeIds()),(0,i.nextTick)()},getCheckboxNodeIds(){const{selectCheckboxMaps:e}=v,t=[];return w().each(e,(e,n)=>{t.push(Ft(n))}),t},getCheckboxNodes(){const{nodeMaps:e,selectCheckboxMaps:t}=v,n=[];return w().each(t,(t,r)=>{const o=e[r];o&&n.push(o.item)}),n},clearCheckboxNode(){return v.indeterminateRowMaps={},v.selectCheckboxMaps={},b.updateCheckboxFlag++,oe([]),ze(),(0,i.nextTick)().then(()=>({checkNodeKeys:[],checkNodes:[]}))},setAllCheckboxNode(t){const{transform:n}=e,r={},o=E.value,a=O.value,l=[],s=[];return t&&w().eachTree(v.afterTreeList,e=>{const t=X(e);l.push(t),s.push(e),r[t]=!0},{children:n?a:o}),v.indeterminateRowMaps={},v.selectCheckboxMaps=r,b.updateCheckboxFlag++,ze(),(0,i.nextTick)().then(()=>({checkNodeKeys:l,checkNodes:s}))},clearExpandNode(){return qe.clearAllExpandNode()},clearAllExpandNode(){const{nodeMaps:e,scrollYStore:t}=v;return w().each(e,e=>{e.treeLoaded=!1}),v.treeExpandedMaps={},b.updateExpandedFlag++,b.topSpaceHeight=0,t.startIndex=0,t.endIndex=1,xe(),ye(),Me()},setExpandByNodeId(e,t){const{treeExpandedMaps:n}=v;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const r=Rt(e);ce(r,t,n)}),b.updateExpandedFlag++),xe(),ye(),Me()},getExpandNodeIds(){const{treeExpandedMaps:e}=v,t=[];return w().each(e,(e,n)=>{t.push(Ft(n))}),t},getExpandNodes(){const{nodeMaps:e,treeExpandedMaps:t}=v,n=[];return w().each(t,(t,r)=>{const o=e[r];o&&n.push(o.item)}),n},setExpandNode(e,t){const{treeExpandedMaps:n}=v;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const r=X(e);ce(r,t,n)}),b.updateExpandedFlag++),xe(),ye(),Me()},toggleExpandByNodeId(e){const{treeExpandedMaps:t}=v;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const n=Rt(e);ce(n,!t[`${n}`],t)}),b.updateExpandedFlag++),xe(),ye(),Me()},toggleExpandNode(e){const{treeExpandedMaps:t}=v;return e&&(w().isArray(e)||(e=[e]),e.forEach(e=>{const n=X(e);ce(n,!t[n],t)}),b.updateExpandedFlag++),xe(),ye(),Me()},setAllExpandNode(t){const{transform:n}=e,{scrollYLoad:r}=b,{scrollYStore:o,treeExpandedMaps:i}=v,a=E.value,l=O.value;return t?w().eachTree(v.afterTreeList,e=>{const t=w().get(e,a),n=t&&t.length;if(n){const t=X(e);i[t]=!0}},{children:n?l:a}):v.treeExpandedMaps={},b.updateExpandedFlag++,b.topSpaceHeight=0,o.startIndex=0,o.endIndex=1,xe(),ye(),Me().then(()=>(r&&Ae(),Me()))},reloadExpandNode(t){const{lazy:n}=e;return n?(qe.clearExpandLoaded(t),je(t)):Me()},clearExpandLoaded(t){const{lazy:n}=e,{nodeMaps:r}=v;if(n){const e=r[X(t)];e&&(e.treeLoaded=!1)}return Me()},loadChildrenNode(t,n){const{lazy:r,transform:o}=e,{nodeMaps:i}=v;if(!r)return Promise.resolve([]);const a=E.value,l=O.value,s=i[X(t)],c=s?s.level:0,u=s?s.nodes:[];return me(n).then(e=>(w().eachTree(e,(e,t,n,r,o,a)=>{const l=X(e);i[l]={item:e,index:-1,$index:-1,_index:-1,items:n,parent:o||s.item,nodes:u.concat(a),level:c+a.length,treeIndex:-1,lineCount:0,treeLoaded:!1}},{children:a}),t[a]=e,o&&(t[l]=e),ve(),e))},isExpandByNode:Z,isCheckedByRadioNodeId:J,isCheckedByRadioNode:Q,isCheckedByCheckboxNodeId:ee,isIndeterminateByCheckboxNode:re,isCheckedByCheckboxNode:te,getCheckboxIndeterminateNodes(){const{nodeMaps:e,indeterminateRowMaps:t}=v,n=[];return w().each(t,(t,r)=>{const o=e[r];o&&n.push(o.item)}),n},recalculate:Me,getFullData(){const{treeFullData:e}=v;return e.slice(0)},scrollTo:Oe,scrollToNode(e){return K.scrollToNodeId(X(e))},scrollToNodeId(t){const{transform:n}=e,{scrollYStore:r,afterTreeList:o}=v,i=E.value,a=O.value,l=d.value;if(t&&l)if(n){const e=w().findTree(o,e=>X(e)===t,{children:n?a:i});if(e)return K.setExpandNode(e.nodes,!0).then(()=>{const e=w().findIndexOf(v.afterVisibleList,e=>X(e)===t);if(e>-1){const t=Math.max(0,(e-1)*r.rowHeight);return Oe(l.scrollLeft,t)}})}else{const e=l.querySelector(`.vxe-tree--node-wrapper[nodeid="${t}"]`);if(e)return Oe(l.scrollLeft,e.offsetTop)}return Me()},clearScroll:Ne},Ue=()=>{const e=s.value;if(e){const t="node--drag-origin";w().arrayEach(e.querySelectorAll(`.${t}`),e=>{e.draggable=!1,$(e,t)})}},Ge=e=>{const t=s.value;if(t){const n="node--drag-origin",r=X(e);w().arrayEach(t.querySelectorAll(`.vxe-tree--node-wrapper[nodeid="${r}"]`),e=>{L(e,n)})}},Ye=e=>{const{dragNode:t}=b,n=B.value,{tooltipMethod:r}=n,o=r;let i="";if(o){const e={$tree:K,node:t};i=`${o(e)||""}`}else i=Ic("vxe.tree.dragTip",[e.textContent||""]);b.dragTipText=i},Ke=()=>{const e=m.value,t=f.value;e&&(e.style.display=""),t&&(t.style.display="")},Xe=()=>{g.node=null},Ze=()=>{const{dragNode:e}=b;e&&(Ke(),Ue(),Xe(),b.dragNode=null)},Je=(e,t)=>{e.stopPropagation();const{node:n}=t,r=B.value,{trigger:o,dragStartMethod:i}=r,a=e.currentTarget,l="node"===o?a:a.parentElement.parentElement;if(Ue(),i&&!i(t))return l.draggable=!1,b.dragNode=null,void Ke();b.dragNode=n,l.draggable=!0,Ge(n),Ye(l),ue("node-dragstart",t,e)},Qe=()=>{Ze()},et=(e,t,n,r)=>{const o=s.value;if(!o)return;const{prevDragToChild:i}=v,a=o.getBoundingClientRect(),l=o.clientHeight;if(t){const e=f.value;if(e)if(n){const n=t.getBoundingClientRect();let o=t.clientHeight;const s=Math.max(1,n.y-a.y);s+o>l&&(o=l-s),e.style.display="block",e.style.top=`${s}px`,e.style.height=`${o}px`,e.setAttribute("drag-pos",r),e.setAttribute("drag-to-child",i?"y":"n")}else e.style.display=""}const c=m.value;c&&(c.style.display="block",c.style.top=`${Math.min(o.clientHeight-o.scrollTop-c.clientHeight,e.clientY-a.y)}px`,c.style.left=`${Math.min(o.clientWidth-o.scrollLeft-c.clientWidth-1,e.clientX-a.x)}px`,c.setAttribute("drag-status",n?i?"sub":"normal":"disabled"))},tt=()=>{const e=s.value,t=[".vxe-tree--node-wrapper"];Ke(),Ue(),Dc(e,t),v.prevDragToChild=!1,b.dragNode=null},nt=(t,n,r,a,l)=>{const{transform:c}=e,{nodeMaps:u,treeFullData:d,afterVisibleList:p}=v,f=B.value,{animation:h,isCrossDrag:m,isPeerDrag:g,isSelfToChildDrag:x,dragEndMethod:y,dragToChildMethod:k}=f,T=y||(f?f.dragEndMethod:null),D=C.value,M=S.value,A=E.value,I=O.value,N="bottom"===a?1:0,R=s.value,F={status:!1};if(!(R&&r&&n))return Promise.resolve(F);if(r!==n){const e={oldNode:n,newNode:r,dragNode:n,dragPos:a,dragToChild:!!l,offsetIndex:N},s=X(n),f=u[s]||{},y=f._index;let C=0,S=-1;if(h){const e=R.querySelector(`.vxe-tree--node-wrapper[nodeid="${r}"]`),t=R.querySelector(`.vxe-tree--node-wrapper[nodeid="${s}"]`),n=e||t;n&&(C=n.offsetHeight),t&&(S=t.offsetTop)}let E=-1,O=-1;const _={};let P=!1;const j=f,$=X(r),L=u[$];if(c&&j&&L){const{level:e}=j,{level:t}=L;if(w().eachTree([n],e=>{_[X(e)]=e},{children:I}),e&&t)if(g&&!m){if(j.item[M]!==L.item[M])return tt(),Xe(),F}else{if(!m)return tt(),Xe(),F;if(_[$]&&(P=!0,!m||!x))return o.OE.modal&&o.OE.modal.message({status:"error",content:Ic("vxe.error.treeDragChild")}),tt(),Xe(),F}else if(e){if(!m)return tt(),Xe(),F}else if(t){if(!m)return tt(),Xe(),F;if(_[$]&&(P=!0,!m||!x))return o.OE.modal&&o.OE.modal.message({status:"error",content:Ic("vxe.error.treeDragChild")}),tt(),Xe(),F}}const z=x&&k?k(e):l;return Promise.resolve(!T||T(e)).then(e=>{if(!e)return F;if(c){if(j&&L){const e=w().toTreeArray(v.afterTreeList,{updated:!1,key:D,parentKey:M,children:I}),t=K.findNodeIndexOf(e,n);e.splice(t,1);const o=K.findNodeIndexOf(e,r),i=o+N;e.splice(i,0,n),P&&m&&x&&w().each(n[A],e=>{e[M]=n[M]}),n[M]=z?r[D]:r[M],v.treeFullData=w().toArrayTree(e,{key:D,parentKey:M,children:A,mapChildren:I})}}else{E=K.findNodeIndexOf(p,n);const e=K.findNodeIndexOf(d,n);p.splice(E,1),d.splice(e,1);const t=K.findNodeIndexOf(p,r),o=K.findNodeIndexOf(d,r);O=t+N;const i=o+N;p.splice(O,0,n),d.splice(i,0,n)}return ge(),ye(c),c||ve(),ze(),b.scrollYLoad&&Se(),t&&ue("node-dragend",{oldNode:n,newNode:r,dragNode:n,dragPos:a,dragToChild:z,offsetIndex:N,_index:{newIndex:O,oldIndex:E}},t),(0,i.nextTick)().then(()=>{if(h){const{treeList:e}=b,{nodeMaps:t}=v,n=t[s],r=n._index,o=e[0],i=t[X(o)],a=R;if(i){const t=i._index,o=t+e.length;let l=-1,s=-1,c=1;if(y<t)l=0,s=r-t;else if(y>o){const t=n.$index;l=t+1,s=e.length,c=-1}else r>y?(l=y-t,s=l+r-y):(l=r-t,s=l+y-r+1,c=-1);const u=e.slice(l,s);if(u.length){const e=[];u.forEach(t=>{const n=X(t);e.push(`.vxe-tree--node-wrapper[nodeid="${n}"]`)});const t=a.querySelectorAll(e.join(","));Oc(t,c*C)}}const l=[`.vxe-tree--node-wrapper[nodeid="${s}"]`],c=a.querySelectorAll(l.join(",")),u=c[0];S>-1&&u&&Oc(c,S-u.offsetTop)}Me()}).then(()=>({status:!0}))}).catch(()=>F).then(e=>(tt(),Xe(),e))}return tt(),Xe(),Promise.resolve(F)},rt=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(N(),0,0)},ot=t=>{const{lazy:n}=e,{dragNode:r}=b,{nodeMaps:o,prevDragNode:i,prevDragPos:a,prevDragToChild:l}=v,s=D.value;if(n&&l){const e=X(i),n=o[e];i[s]?n&&n.treeLoaded&&nt(t,r,i,a,l):nt(t,r,i,a,l)}else nt(t,r,i,a,l)},it=t=>{const{lazy:n,transform:r}=e,{dragNode:o}=b,{nodeMaps:i}=v,a=B.value,l=S.value,s=D.value,{isCrossDrag:c,isPeerDrag:u,isToChildDrag:d}=a;o||c||t.preventDefault();const p=z(t),f=t.currentTarget,h=f.getAttribute("nodeid")||"",m=i[h];if(m){t.preventDefault();const e=m.item,i=t.clientY-f.getBoundingClientRect().y,a=i<f.clientHeight/2?"top":"bottom";if(v.prevDragToChild=!!(r&&c&&d&&p),v.prevDragNode=e,v.prevDragPos=a,o&&X(o)===h||p&&n&&e[s]&&m&&!m.treeLoaded||!c&&r&&(u?o[l]!==e[l]:m.level))return void et(t,f,!1,a);et(t,f,!0,a),ue("node-dragover",{oldRNode:o,targetNode:e,dragPos:a},t)}},at={handleData:ye,cacheNodeMap:ge,updateAfterDataIndex:ve,updateCheckboxStatus:ze,updateYSpace:Se,findNodeIndexOf(e,t){return t?w().findIndexOf(e,e=>K.eqNode(e,t)):-1},eqNode(e,t){return!(!e||!t)&&(e===t||X(e)===X(t))},handleCrossTreeNodeDragCancelEvent(){tt(),Xe()},handleCrossTreeNodeDragFinishEvent(){},handleCrossTreeNodeDragInsertEvent(){},handleCrossTreeNodeDragoverEmptyEvent(){},hideCrossTreeNodeDropClearStatus(){Ke()}};Object.assign(K,qe,at);const lt=(t,n)=>{const{drag:r,transform:a}=e,{nodeMaps:l}=v,s=B.value,{showIcon:c,isPeerDrag:u,isCrossDrag:d,visibleMethod:p}=s,f={node:t,$tree:K};if(r&&c&&a&&(!p||p(f))){const e=l[n];if(e&&(u||d||!e.level)){const e=B.value,{icon:t,trigger:n,disabledMethod:r}=e,o=r&&r(f),a={};return"node"!==n&&(a.onMousedown=e=>{o||Je(e,f)},a.onMouseup=Qe),(0,i.h)("div",Object.assign({class:["vxe-tree--drag-handle",{"is--disabled":o}]},a),[(0,i.h)("i",{class:t||Nc().TREE_DRAG})])}}return(0,o.C1)(K)},st=(t,n,r)=>{const{showRadio:a}=e,l=R.value,{showIcon:s,checkMethod:c,visibleMethod:u}=l,d=!u||u({$tree:K,node:t});let p=!!c;return a&&s&&d?(c&&(p=!c({$tree:K,node:t})),(0,i.h)("div",{class:["vxe-tree--radio-option",{"is--checked":r,"is--disabled":p}],onClick:e=>{p||He(e,t)}},[(0,i.h)("span",{class:["vxe-radio--icon",r?Nc().RADIO_CHECKED:Nc().RADIO_UNCHECKED]})])):(0,o.C1)(K)},ct=(t,n,r)=>{const{showCheckbox:a}=e,l=F.value,{showIcon:s,checkMethod:c,visibleMethod:u}=l,d=ne(n),p=!u||u({$tree:K,node:t});let f=!!c;return a&&s&&p?(c&&(f=!c({$tree:K,node:t})),(0,i.h)("div",{class:["vxe-tree--checkbox-option",{"is--checked":r,"is--indeterminate":d,"is--disabled":f}],onClick:e=>{f||Ve(e,t)}},[(0,i.h)("span",{class:["vxe-checkbox--icon",d?Nc().CHECKBOX_INDETERMINATE:r?Nc().CHECKBOX_CHECKED:Nc().CHECKBOX_UNCHECKED]})])):(0,o.C1)(K)},ut=(t,n)=>{const{lazy:a,drag:l,transform:s,showRadio:c,showCheckbox:u,showLine:d,indent:p,iconOpen:f,iconClose:h,iconLoaded:m,showIcon:g}=e,{currentNode:x,selectRadioKey:C,updateExpandedFlag:k}=b,{afterTreeList:S,nodeMaps:O,treeExpandedMaps:M,treeExpandLazyLoadedMaps:A}=v,I=E.value,N=y.value,R=D.value,F=w().get(t,I),_=F&&F.length,P=r.icon,j=r.title,$=r.extra,L=k&&M[n],z=O[n],V=w().get(t,N),B=z.level;let H=!1;c&&(H=n===String(C));let W=!1;u&&(W=ee(n));let q=!1,U=!1,G=!1;a&&(U=!!A[n],q=t[R],G=!!z.treeLoaded);const Y=z.items[z.treeIndex-1],Z={node:t,isExpand:L},J={onMousedown(e){Re(e,t)},onMouseup:Qe,onClick(e){Fe(e,t)},onDblclick(e){_e(e,t)},onContextmenu(e){Pe(e,t)}};return l&&s&&(J.onDragstart=rt,J.onDragend=ot,J.onDragover=it),(0,i.h)("div",Object.assign({key:n,class:["vxe-tree--node-wrapper",`node--level-${B}`],nodeid:n},J),[(0,i.h)("div",{class:["vxe-tree--node-item",{"is--current":x&&n===X(x),"is-radio--checked":H,"is-checkbox--checked":W}],style:{paddingLeft:B*(p||1)+"px"}},[d?(0,i.h)("div",{class:"vxe-tree--node-line-wrapper"},[(0,i.h)("div",{class:"vxe-tree--node-line",style:{height:`${X(S[0])===n?1:Pt(K,t,Y)}px`}})]):(0,o.C1)(K),(0,i.h)("div",{class:"vxe-tree--node-item-switcher"},g&&(a?G?_:q:_)?[(0,i.h)("div",{class:"vxe-tree--node-item-icon",onClick(e){Le(e,t)}},P?T(P(Z)):[(0,i.h)("i",{class:U?m||Nc().TREE_NODE_LOADED:L?f||Nc().TREE_NODE_OPEN:h||Nc().TREE_NODE_CLOSE})])]:[]),lt(t,n),st(t,n,H),ct(t,n,W),(0,i.h)("div",{class:"vxe-tree--node-item-inner"},[(0,i.h)("div",{class:"vxe-tree--node-item-title"},j?T(j(Z)):`${V}`),$?(0,i.h)("div",{class:"vxe-tree--node-item-extra"},T($(Z))):(0,o.C1)(K)])])])},dt=t=>{const{transform:n}=e,{treeExpandedMaps:r}=v,o=E.value;if(!t.length)return[(0,i.h)("div",{class:"vxe-tree--empty-placeholder"},Ic("vxe.tree.searchEmpty"))];const a=[];return t.forEach(n?e=>{const t=X(e);a.push(ut(e,t))}:e=>{const t=X(e);a.push(ut(e,t));const n=w().get(e,o),i=n&&n.length;i&&r[t]&&a.push(...dt(n))}),a},pt=()=>{const{drag:t}=e,{dragNode:n,dragTipText:r}=b,a=B.value,l=n;return t?(0,i.h)("div",{class:"vxe-tree--drag-wrapper"},[(0,i.h)("div",{ref:f,class:["vxe-tree--drag-node-line",{"is--guides":a.showGuidesStatus}]}),l&&a.showDragTip?(0,i.h)("div",{ref:m,class:"vxe-tree--drag-sort-tip"},[(0,i.h)("div",{class:"vxe-tree--drag-sort-tip-wrapper"},[(0,i.h)("div",{class:"vxe-tree--drag-sort-tip-status"},[(0,i.h)("span",{class:["vxe-tree--drag-sort-tip-normal-status",Nc().TREE_DRAG_STATUS_NODE]}),(0,i.h)("span",{class:["vxe-tree--drag-sort-tip-sub-status",Nc().TREE_DRAG_STATUS_SUB_NODE]}),(0,i.h)("span",{class:["vxe-tree--drag-sort-tip-disabled-status",Nc().TREE_DRAG_DISABLED]})]),(0,i.h)("div",{class:"vxe-tree--drag-sort-tip-content"},r)])]):(0,o.C1)(K)]):(0,o.C1)(K)},ft=()=>{const{loading:t,trigger:n,showLine:a}=e,{bodyHeight:f,topSpaceHeight:h,treeList:m}=b,g=l.value,v=R.value,x=F.value,y=j.value,w=I.value,C=q.value,k=r.loading,S=r.header,T=r.footer;return(0,i.h)("div",{ref:s,class:["vxe-tree",{[`size--${g}`]:g,"show--line":a,"checkbox--highlight":x.highlight,"radio--highlight":v.highlight,"node--hover":w,"node--trigger":"node"===n,"is--loading":t}]},[S?(0,i.h)("div",{ref:c,class:"vxe-tree--header-wrapper"},S({$tree:K})):(0,o.C1)(K),(0,i.h)("div",{ref:d,class:"vxe-tree--node-list-wrapper",style:C,onScroll:Ie},[(0,i.h)("div",{class:"vxe-tree--y-space",style:{height:f?`${f}px`:""}}),(0,i.h)("div",{ref:p,class:"vxe-tree--node-list-body",style:{transform:`translateY(${h}px)`}},dt(m))]),T?(0,i.h)("div",{ref:u,class:"vxe-tree--footer-wrapper"},T({$tree:K})):(0,o.C1)(K),pt(),(0,i.h)(dr,{class:"vxe-tree--loading",modelValue:t,icon:y.icon,text:y.text},k?{default:()=>k({$tree:K})}:{})])},ht=(0,i.ref)(0);(0,i.watch)(()=>e.data?e.data.length:0,()=>{ht.value++}),(0,i.watch)(()=>e.data,()=>{ht.value++}),(0,i.watch)(ht,()=>{Ce(e.data||[])}),(0,i.watch)(()=>e.checkNodeKey,e=>{b.selectRadioKey=Rt(e)});const mt=(0,i.ref)(0);(0,i.watch)(()=>e.checkNodeKeys?e.checkNodeKeys.length:0,()=>{mt.value++}),(0,i.watch)(()=>e.checkNodeKeys,()=>{mt.value++}),(0,i.watch)(mt,()=>{se(e.checkNodeKeys||[])}),(0,i.watch)(()=>e.filterValue,()=>{we(new Event("filter"))});const gt=(0,i.ref)(0);return(0,i.watch)(()=>e.height,()=>{gt.value++}),(0,i.watch)(()=>e.minHeight,()=>{gt.value++}),(0,i.watch)(()=>e.maxHeight,()=>{gt.value++}),(0,i.watch)(gt,()=>{Me()}),(0,i.onMounted)(()=>{const{transform:t,drag:n,menuConfig:r}=e,i=B.value;n&&!t&&h("vxe.error.notSupportProp",["drag","transform=false","transform=true"]),i.isCrossTreeDrag&&h("vxe.error.notProp",["drag-config.isCrossTreeDrag"]);const a=o.OE.getComponent("VxeContextMenu");if(r&&!a&&h("vxe.error.reqComp",["vxe-context-menu"]),e.autoResize){const t=s.value,n=de(),r=o.yD.create(()=>{e.autoResize&&Me()});t&&r.observe(t),n&&r.observe(n),v.resizeObserver=r}o.Nh.on(K,"resize",We)}),(0,i.onBeforeUnmount)(()=>{const{resizeObserver:e}=v;e&&e.disconnect(),o.Nh.off(K,"resize"),w().assign(b,_c()),w().assign(v,Fc())}),b.selectRadioKey=Rt(e.checkNodeKey),Ce(e.data||[]),K.renderVN=ft,(0,i.provide)("$xeTree",K),K},render(){return this.renderVN()}});const jc=Object.assign({},Pc,{install(e){e.component(Pc.name,Pc)}});u.use(jc),o.OE.component(Pc);const $c=jc;var Lc=jc;function zc(){return w().uniqueId("node_")}function Vc(){return{initialized:!1,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}}function Bc(){return{fullOptionList:[],fullNodeMaps:{}}}var Hc=a({name:"VxeTreeSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>w().eqNull((0,o.zj)().treeSelect.placeholder)?(0,o.TO)("vxe.base.pleaseSelect"):(0,o.zj)().treeSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},filterable:Boolean,filterConfig:Object,multiple:Boolean,className:[String,Function],popupClassName:[String,Function],prefixIcon:String,placement:String,lazyOptions:Array,options:Array,optionProps:Object,zIndex:Number,size:{type:String,default:()=>(0,o.zj)().treeSelect.size||(0,o.zj)().size},remote:Boolean,remoteConfig:Function,popupConfig:Object,treeConfig:Object,menuConfig:Object,virtualYConfig:Object,autoClose:{type:Boolean,default:()=>(0,o.zj)().treeSelect.autoClose},showTotalButoon:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showCheckedButoon},showClearButton:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showClearButton},showExpandButton:{type:Boolean,default:()=>(0,o.zj)().treeSelect.showExpandButton},transfer:{type:Boolean,default:null},remoteMethod:Function},emits:["update:modelValue","change","all-change","clear","blur","focus","click","node-click"],setup(e,t){const{emit:n,slots:r}=t,a=(0,i.inject)("$xeModal",null),l=(0,i.inject)("$xeDrawer",null),s=(0,i.inject)("$xeTable",null),c=(0,i.inject)("$xeForm",null),u=(0,i.inject)("xeFormItemInfo",null),d=w().uniqueId(),{computeSize:p}=(0,o.XX)(e),f=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.ref)(),b=(0,i.ref)(),x=(0,i.ref)(),y=(0,i.reactive)(Vc()),C=Bc(),k={refElem:f},S=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),E=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),O=(0,i.computed)(()=>{const{transfer:t}=e,n=D.value;if(w().isBoolean(n.transfer))return n.transfer;if(null===t){const e=(0,o.zj)().treeSelect.transfer;if(w().isBoolean(e))return e;if(s||a||l||c)return!0}return t}),D=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.popupConfig,e.popupConfig)),M=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.treeConfig,e.treeConfig,{data:void 0})),A=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.menuConfig,e.menuConfig)),I=(0,i.computed)(()=>{const e=M.value;return Object.assign({isHover:!0},e.nodeConfig)}),N=(0,i.computed)(()=>{const e=M.value;return Object.assign({showIcon:!!e.showCheckbox},e.checkboxConfig,{trigger:"node"})}),R=(0,i.computed)(()=>{const e=M.value;return Object.assign({showIcon:!!e.showRadio},e.radioConfig,{trigger:"node"})}),F=(0,i.computed)(()=>e.optionProps||{}),_=(0,i.computed)(()=>{const e=M.value;return e.keyField||"id"}),P=(0,i.computed)(()=>{const e=F.value;return e.label||"label"}),j=(0,i.computed)(()=>{const e=F.value;return e.value||"value"}),$=(0,i.computed)(()=>{const e=F.value;return e.children||"children"}),L=(0,i.computed)(()=>{const e=F.value;return e.parent||"parentField"}),z=(0,i.computed)(()=>{const e=F.value;return e.hasChild||"hasChild"}),B=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.virtualYConfig,e.virtualYConfig)),W=(0,i.computed)(()=>Object.assign({},(0,o.zj)().treeSelect.remoteConfig,e.remoteConfig)),q=(0,i.computed)(()=>{const t=M.value;return Object.assign({},t.filterConfig,e.filterConfig)}),U=(0,i.computed)(()=>{const{modelValue:t,lazyOptions:n}=e,{fullNodeMaps:r}=C,o=j.value,i=P.value,a=w().eqNull(t)?[]:w().isArray(t)?t:[t];return a.map(e=>{const t=r[e];if(t)return t.item[i];if(n){const t=n.find(t=>t[o]===e);if(t)return t[i]}return e}).join(", ")}),G=(0,i.computed)(()=>{const e=D.value,{height:t,width:n}=e,r={};return n&&(r.width=V(n)),t&&(r.height=V(t),r.maxHeight=V(t)),r}),Y={},K={xID:d,props:e,context:t,reactData:y,internalData:C,getRefMaps:()=>k,getComputeMaps:()=>Y},Z=(e,t,r)=>{n(e,(0,o.lh)(r,{$treeSelect:K},t))},J=e=>{n("update:modelValue",e)},Q=(e,t)=>e&&(w().isString(e)&&(e=r[e]||null),w().isFunction(e))?T(e(t)):[],ee={dispatchEvent:Z},te=e=>{const t=_.value,n=e[t];return n?encodeURIComponent(n):""},ne=()=>{const{options:t}=e,n=M.value,r=_.value,o=$.value,i=j.value,{transform:a}=n,l={},s={},c=(e,t,n,o,a,c)=>{let u=te(e);u||(u=zc()),s[u]&&h("vxe.error.repeatKey",[`[tree-select] ${r}`,u]),s[u]=!0;const d=e[i];l[d]&&h("vxe.error.repeatKey",[`[tree-select] ${i}`,d]),l[d]={item:e,index:t,items:n,parent:a,nodes:c}};t&&(a?t.forEach((e,t,n)=>{c(e,t,n,[],null,[])}):w().eachTree(t,c,{children:o})),C.fullOptionList=t||[],C.fullNodeMaps=l},re=()=>{const t=D.value,n=t.zIndex||e.zIndex;n?y.panelIndex=w().toNumber(n):y.panelIndex<he()&&(y.panelIndex=fe())},oe=()=>{const{placement:t}=e,{panelIndex:n}=y,r=f.value,o=b.value,a=O.value,l=D.value,s=()=>{const e=X(r,o,{placement:l.placement||t,teleportTo:a}),i=Object.assign(e.style,{zIndex:n});y.panelStyle=i,y.panelPlacement=e.placement};return s(),(0,i.nextTick)().then(s)},ie=()=>{const{loading:t,remote:n,filterable:r}=e,{fullOptionList:o}=C,i=E.value,a=W.value;t||i||(clearTimeout(C.hpTimeout),y.initialized||(y.initialized=!0),y.isActivated=!0,y.isAniVisible=!0,r&&n&&a.enabled&&a.autoLoad&&!o.length&&Te(),setTimeout(()=>{y.visiblePanel=!0,ye(),oe()},10),re(),oe())},ae=()=>{y.visiblePanel=!1,C.hpTimeout=setTimeout(()=>{y.isAniVisible=!1},350)},le=(t,n,r)=>{const o=w().isArray(n)?n.map(Ft):Ft(n);J(o),o!==e.modelValue&&(Z("change",{value:o,node:r,option:r},t),c&&u&&c.triggerItemEvent(t,u.itemConfig.field,o))},se=(e,t)=>{le(e,t,null),Z("clear",{value:t},e)},ce=(e,t)=>{se(t,null),ae()},ue=t=>{const{$event:n}=t,{multiple:r,autoClose:o}=e,i=x.value;r&&i&&i.setAllCheckboxNode(!0).then(({checkNodeKeys:e,checkNodes:t})=>{le(n,e,t[0]),Z("all-change",{value:e},n),o&&ae()})},de=t=>{const{$event:n}=t,{multiple:r,autoClose:o}=e,i=x.value;if(i){const e=r?[]:null;i.clearCheckboxNode().then(()=>{o&&ae()}),le(n,e,null),Z("clear",{value:e},n)}},pe=()=>{const e=x.value;e&&e.setAllExpandNode(!0)},me=()=>{const e=x.value;e&&e.clearAllExpandNode()},ge=e=>{const{visiblePanel:t}=y,n=E.value;if(!n&&t){const t=b.value;H(e,t).flag?oe():ae()}},ve=e=>{const{visiblePanel:t}=y,n=E.value;if(!n){const n=f.value,r=b.value;y.isActivated=H(e,n).flag||H(e,r).flag,t&&!y.isActivated&&ae()}},be=()=>{const{visiblePanel:e,isActivated:t}=y;if(e&&ae(),t&&(y.isActivated=!1),e||t){const e=m.value;e&&e.blur()}},xe=()=>{const{visiblePanel:e}=y;e&&oe()},ye=()=>{e.filterable&&(0,i.nextTick)(()=>{const e=g.value;e&&e.focus()})},we=e=>{const t=E.value;t||y.visiblePanel||(y.triggerFocusPanel=!0,ie(),setTimeout(()=>{y.triggerFocusPanel=!1},150)),Z("focus",{},e)},Ce=e=>{Ee(e),Z("click",{},e)},ke=e=>{y.isActivated=!1,Z("blur",{},e)},Se=e=>{y.searchValue=e},Te=()=>{const{modelValue:t,remote:n,remoteMethod:r}=e,{searchValue:o}=y,a=W.value,l=a.queryMethod||r;n&&l&&a.enabled&&(y.searchLoading=!0,Promise.resolve(l({$treeSelect:K,searchValue:o,value:t})).then(()=>(0,i.nextTick)()).catch(()=>(0,i.nextTick)()).finally(()=>{y.searchLoading=!1}))},Ee=e=>{const{$event:t}=e;t.preventDefault(),y.triggerFocusPanel?y.triggerFocusPanel=!1:y.visiblePanel?ae():ie()},Oe=()=>{oe()},De=e=>{const{$event:t}=e;Z("node-click",e,t)},Ae=e=>{const{value:t,$event:n,node:r}=e;le(n,t,r),ae()},Ie=e=>{const{value:t,$event:n,node:r}=e;le(n,t,r)},Ne=()=>{ne()},Re={};Object.assign(K,ee,Re);const Fe=()=>{const{className:t,modelValue:n,multiple:a,options:l,loading:s,menuConfig:c,filterable:u,showTotalButoon:d,showCheckedButoon:h,showClearButton:C,showExpandButton:k}=e,{initialized:T,isActivated:F,isAniVisible:V,visiblePanel:H,searchValue:W}=y,Y=p.value,X=E.value,Z=U.value,J=O.value,ee=S.value,te=G.value,ne=r.header,re=r.footer,oe=r.prefix,ie=D.value,ae=ie.className||e.popupClassName;if(ee)return(0,i.h)("div",{ref:f,class:["vxe-tree-select--readonly",t]},[(0,i.h)("span",{class:"vxe-tree-select-label"},Z)]);const le=M.value,se=A.value,fe=I.value,he=N.value,ge=R.value,ve=_.value,be=P.value,xe=j.value,ye=$.value,Te=L.value,Re=z.value,Fe=B.value,_e=q.value,{slots:Pe}=le,je=w().eqNull(n)?[]:w().isArray(n)?n:[n],$e={};if(Pe){const{icon:e,title:t,extra:n}=Pe;e&&($e.icon=t=>Q(e,t)),t&&($e.title=e=>Q(t,e)),n&&($e.extra=e=>Q(n,e))}return(0,i.h)("div",{ref:f,class:["vxe-tree-select",t?w().isFunction(t)?t({$treeSelect:K}):t:"",{[`size--${Y}`]:Y,"is--filterable":u,"is--visible":H,"is--disabled":X,"is--loading":s,"is--active":F}]},[(0,i.h)(ai,{ref:m,clearable:e.clearable,placeholder:s?(0,o.TO)("vxe.select.loadingText"):e.placeholder,editable:!1,disabled:X,type:"text",prefixIcon:e.prefixIcon,suffixIcon:s?(0,o.sW)().TREE_SELECT_LOADED:H?(0,o.sW)().TREE_SELECT_OPEN:(0,o.sW)().TREE_SELECT_CLOSE,modelValue:s?"":Z,title:Z,onClear:ce,onClick:Ce,onFocus:we,onBlur:ke,onSuffixClick:Ee},oe?{prefix:()=>oe({})}:{}),(0,i.h)(i.Teleport,{to:"body",disabled:!J||!T},[(0,i.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-tree-select--panel",ae?w().isFunction(ae)?ae({$treeSelect:K}):ae:"",{[`size--${Y}`]:Y,"is--transfer":J,"ani--leave":!s&&V,"ani--enter":!s&&H}],placement:y.panelPlacement,style:y.panelStyle},T?[(0,i.h)("div",{class:"vxe-tree-select--panel-wrapper"},[u?(0,i.h)("div",{class:"vxe-tree-select--panel-search"},[(0,i.h)(ai,{ref:g,class:"vxe-tree-select-search--input",modelValue:W,clearable:!0,disabled:!1,readonly:!1,placeholder:(0,o.TO)("vxe.treeSelect.search"),prefixIcon:(0,o.sW)().INPUT_SEARCH,"onUpdate:modelValue":Se})]):(0,o.C1)(K),d||h&&a||C||k||ne?(0,i.h)("div",{class:"vxe-tree-select--panel-header"},ne?ne({}):[(0,i.h)("div",{class:"vxe-tree-select--header-button"},[d?(0,i.h)("div",{class:"vxe-tree-select--header-total"},(0,o.TO)("vxe.treeSelect.total",[je.length])):(0,o.C1)(K),(0,i.h)("div",{class:"vxe-tree-select--header-btns"},[h&&a?(0,i.h)(Me,{content:(0,o.TO)("vxe.treeSelect.allChecked"),mode:"text",onClick:ue}):(0,o.C1)(K),C?(0,i.h)(Me,{content:(0,o.TO)("vxe.treeSelect.clearChecked"),mode:"text",onClick:de}):(0,o.C1)(K),k?(0,i.h)(Me,{content:(0,o.TO)("vxe.treeSelect.allExpand"),mode:"text",onClick:pe}):(0,o.C1)(K),k?(0,i.h)(Me,{content:(0,o.TO)("vxe.treeSelect.clearExpand"),mode:"text",onClick:me}):(0,o.C1)(K)])])]):(0,o.C1)(K),(0,i.h)("div",{class:"vxe-tree-select--panel-body"},[(0,i.h)("div",{ref:v,class:"vxe-tree-select-tree--wrapper",style:te},[(0,i.h)(Lc,{ref:x,class:"vxe-tree-select--tree",height:ie.height?"100%":le.height,minHeight:le.minHeight,maxHeight:ie.height?"":le.maxHeight,autoResize:!0,data:l,indent:le.indent,showRadio:!a,radioConfig:ge,checkNodeKey:a?null:n,showCheckbox:!!a,checkNodeKeys:a?n:null,checkboxConfig:he,titleField:be,valueField:xe,keyField:ve,childrenField:le.childrenField||ye,parentField:le.parentField||Te,hasChildField:le.hasChildField||Re,accordion:le.accordion,expandAll:le.expandAll,expandNodeKeys:le.expandNodeKeys,nodeConfig:fe,lazy:le.lazy,loadMethod:le.loadMethod,toggleMethod:le.toggleMethod,transform:le.transform,trigger:le.trigger,showIcon:le.showIcon,showLine:le.showLine,iconOpen:le.iconOpen,iconLoaded:le.iconLoaded,iconClose:le.iconClose,filterValue:W,filterConfig:_e,menuConfig:c?se:void 0,virtualYConfig:Fe,onNodeExpand:Oe,onNodeClick:De,onRadioChange:Ae,onCheckboxChange:Ie,onLoadSuccess:Ne},$e)])]),re?(0,i.h)("div",{class:"vxe-tree-select--panel-footer"},re({})):(0,o.C1)(K)])]:[])])])};return(0,i.watch)(()=>e.options,()=>{ne()}),ne(),(0,i.onMounted)(()=>{o.Nh.on(K,"mousewheel",ge),o.Nh.on(K,"mousedown",ve),o.Nh.on(K,"blur",be),o.Nh.on(K,"resize",xe)}),(0,i.onBeforeUnmount)(()=>{o.Nh.off(K,"mousewheel"),o.Nh.off(K,"mousedown"),o.Nh.off(K,"blur"),o.Nh.off(K,"resize"),w().assign(y,Vc()),w().assign(C,Bc())}),(0,i.provide)("$xeTreeSelect",K),K.renderVN=Fe,K},render(){return this.renderVN()}});const Wc=Object.assign({},Hc,{install(e){e.component(Hc.name,Hc)}});u.use(Wc),o.OE.component(Hc);const qc=Wc;var Uc=Wc;let Gc=null,Yc=null;function Kc(e){const t=e.name,n=w().lastIndexOf(t,"."),r=t.substring(n+1,t.length).toLowerCase(),o=t.substring(0,n);return{filename:o,type:r}}const Xc=e=>{const t=Object.assign({},e);return new Promise((e,n)=>{Yc||(Yc=document.createElement("input"),Yc.name="file",Yc.type="file"),Gc||(Gc=document.createElement("form"),Gc.style.display="none",Gc.appendChild(Yc),document.body.appendChild(Gc));const r=t.types||[],i=!r.length||r.some(e=>"*"===e);Yc.multiple=!!t.multiple,Yc.accept=i?"":`.${r.join(", .")}`,Yc.onchange=a=>{const l=a.target,s=Array.from(l.files||[]),c=s[0];let u="";if(!i)for(let e=0;e<s.length;e++){const{type:t}=Kc(s[e]);if(!w().includes(r,t)){u=t;break}}if(u){!1!==t.message&&o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.error.notType",[u]),status:"error"});const e={status:!1,files:s,file:c};n(e)}else e({status:!0,files:s,file:c})},Gc.reset(),Yc.click()})};function Zc(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}const Jc=e=>{const t=Object.assign({type:""},e),{filename:n,type:r,content:i}=t,a=r?`${n}.${r}`:`${n}`;if(window.Blob){const e=i instanceof Blob?i:Zc(w().toValueString(i),t),n=window.navigator;if(n.msSaveBlob)n.msSaveBlob(e,a);else{const t=URL.createObjectURL(e),n=document.createElement("a");n.target="_blank",n.download=a,n.href=t,document.body.appendChild(n),n.click(),requestAnimationFrame(()=>{n.parentNode&&n.parentNode.removeChild(n),URL.revokeObjectURL(t)})}return Promise.resolve()}return Promise.reject(new Error((0,o.TO)("vxe.error.notExp")))};function Qc(){return{isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}}function eu(){return{moreId:w().uniqueId("upload"),imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1}}var tu=a({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>(0,o.zj)().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},autoSubmit:{type:Boolean,default:()=>(0,o.zj)().upload.autoSubmit},mode:{type:String,default:()=>(0,o.zj)().upload.mode},imageTypes:{type:Array,default:()=>w().clone((0,o.zj)().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>w().clone((0,o.zj)().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>w().clone((0,o.zj)().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>w().clone((0,o.zj)().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>w().clone((0,o.zj)().upload.dragToUpload,!0)},dragPlaceholder:{type:String,default:()=>(0,o.zj)().upload.dragPlaceholder},pasteToUpload:{type:Boolean,default:()=>w().clone((0,o.zj)().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,urlArgs:{type:Boolean,default:()=>(0,o.zj)().upload.urlArgs},multiple:Boolean,limitSize:{type:[String,Number],default:()=>(0,o.zj)().upload.limitSize},showLimitSize:{type:Boolean,default:()=>(0,o.zj)().upload.showLimitSize},limitSizeText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.limitSizeText},limitCount:{type:[String,Number],default:()=>(0,o.zj)().upload.limitCount},showLimitCount:{type:Boolean,default:()=>(0,o.zj)().upload.showLimitCount},limitCountText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.limitCountText},nameField:{type:String,default:()=>(0,o.zj)().upload.nameField},typeField:{type:String,default:()=>(0,o.zj)().upload.typeField},urlField:{type:String,default:()=>(0,o.zj)().upload.urlField},sizeField:{type:String,default:()=>(0,o.zj)().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>(0,o.zj)().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>(0,o.zj)().upload.showProgress},progressText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.progressText},showSubmitButton:Boolean,autoHiddenButton:{type:Boolean,default:()=>(0,o.zj)().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>(0,o.zj)().upload.showUploadButton},buttonText:{type:[String,Number,Function],default:()=>(0,o.zj)().upload.buttonText},buttonIcon:{type:String,default:()=>(0,o.zj)().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>(0,o.zj)().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>(0,o.zj)().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>(0,o.zj)().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>(0,o.zj)().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>(0,o.zj)().upload.showPreview},showTip:{type:Boolean,default:()=>null},maxSimultaneousUploads:{type:Number,default:()=>(0,o.zj)().upload.maxSimultaneousUploads},tipText:[String,Number,Function],hintText:String,previewMethod:Function,beforeSelectMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>(0,o.zj)().upload.size||(0,o.zj)().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend","more-visible"],setup(e,t){const{emit:n,slots:r}=t,a=(0,i.inject)("$xeForm",null),l=(0,i.inject)("xeFormItemInfo",null),s=(0,i.inject)("$xeTable",null),c=w().uniqueId(),{computeSize:u}=(0,o.XX)(e),d=(0,i.ref)(),p=(0,i.ref)(),m=(0,i.ref)(),g=(0,i.ref)(),v=(0,i.reactive)(Qc()),b=eu(),x={refElem:d},y=(0,i.computed)(()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t}),C=(0,i.computed)(()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t}),k=(0,i.computed)(()=>e.keyField||"_X_KEY"),S=(0,i.computed)(()=>"image"===e.mode),E=(0,i.computed)(()=>e.nameField||"name"),O=(0,i.computed)(()=>e.typeField||"type"),D=(0,i.computed)(()=>e.urlField||"url"),M=(0,i.computed)(()=>e.sizeField||"size"),A=(0,i.computed)(()=>1024*w().toNumber(e.limitSize)*1024),R=(0,i.computed)(()=>e.multiple?w().toNumber(e.limitCount):1),F=(0,i.computed)(()=>{const{multiple:t}=e,{fileList:n}=v,r=R.value;return t?!r||n.length>=r:n.length>=1}),_=(0,i.computed)(()=>{const t=w().toNumber(e.limitSize);return t?t>1048576?t/1048576+"T":t>1024?t/1024+"G":`${t}M`:""}),P=(0,i.computed)(()=>{const{showTip:t,tipText:n}=e;if(w().isBoolean(t))return t;const r=(0,o.zj)().upload.showTip;return w().isBoolean(r)?r:!!n}),j=(0,i.computed)(()=>{const{limitSize:t,fileTypes:n,multiple:r,limitCount:i}=e,a=e.tipText||e.hintText,l=S.value,s=_.value;if(w().isString(a))return a;if(w().isFunction(a))return`${a({})}`;const c=[];return l?(r&&i&&c.push((0,o.TO)("vxe.upload.imgCountHint",[i])),t&&s&&c.push((0,o.TO)("vxe.upload.imgSizeHint",[s]))):(n&&n.length&&c.push((0,o.TO)("vxe.upload.fileTypeHint",[n.join("/")])),t&&s&&c.push((0,o.TO)("vxe.upload.fileSizeHint",[s])),r&&i&&c.push((0,o.TO)("vxe.upload.fileCountHint",[i]))),c.join((0,o.TO)("vxe.base.comma"))}),$=(0,i.computed)(()=>Object.assign({},e.imageConfig||e.imageStyle)),L=(0,i.computed)(()=>{const e=$.value,{width:t,height:n}=e,r={};return t&&(r.width=V(t)),n&&(r.height=V(n)),r}),z=(0,i.computed)(()=>Object.assign({showMoreButton:!0},e.moreConfig)),B={},W={xID:c,props:e,context:t,reactData:v,internalData:b,getRefMaps:()=>x,getComputeMaps:()=>B},q=()=>w().uniqueId(),U=e=>{const t=k.value;return e[t]},G=()=>{const{modelValue:t,multiple:n}=e,r=y.value,o=k.value,i=E.value,a=O.value,l=D.value,s=M.value,c=t?(t?w().isArray(t)?t:[t]:[]).map(e=>{if(!e||w().isString(e)){const t=`${e||""}`,n=w().parseUrl(e),r=(n?n.searchQuery[i]:"")||Y(t);return{[i]:r,[a]:(n?n.searchQuery[a]:"")||K(r),[l]:t,[s]:w().toNumber(n?n.searchQuery[s]:0)||0,[o]:q()}}const t=e[i]||"";return e[i]=t,e[a]=e[a]||K(t),e[l]=e[l]||"",e[s]=e[s]||0,e[o]=e[o]||q(),e}):[];v.fileList=r||n?c:c.slice(0,1)},Y=e=>decodeURIComponent(`${e||""}`).split("/").pop()||"",K=e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1).toLowerCase():""},X=(e,t,r)=>{n(e,(0,o.lh)(r,{$upload:W},t))},Z=e=>{n("update:modelValue",e)},J=t=>{const{singleMode:n,urlMode:r,urlArgs:o}=e,i=D.value,a=E.value;let l=t?t.slice(0):[];r&&(l=l.map(e=>{const t=e[i];if(t&&o){const n=w().parseUrl(t);if(!n.searchQuery[a]&&-1===t.indexOf("blob:"))return`${t}${-1===t.indexOf("?")?"?":"&"}${a}=${encodeURIComponent(e[a]||"")}`}return t})),Z(n?l[0]||null:l)},Q=t=>{const n=e.getThumbnailUrlMethod||(0,o.zj)().upload.getThumbnailUrlMethod;return n?n({$upload:W,option:t}):ee(t)},ee=t=>{const n=e.getUrlMethod||(0,o.zj)().upload.getUrlMethod,r=D.value;return n?n({$upload:W,option:t}):t[r]},te=t=>{const{imageTypes:n,showDownloadButton:r}=e,i=O.value,a=e.beforeDownloadMethod||(0,o.zj)().upload.beforeDownloadMethod,{imagePreviewTypes:l}=b;l.concat(n||[]).some(e=>`${e}`.toLowerCase()===`${t[i]}`.toLowerCase())&&o.OE.previewImage&&o.OE.previewImage({urlList:[ee(t)],showDownloadButton:r,beforeDownloadMethod:a?()=>a({$upload:W,option:t}):void 0})},ne=(t,n)=>{const r=e.previewMethod||(0,o.zj)().upload.previewMethod;e.showPreview&&(r?r({$upload:W,option:n}):te(n))},re=(t,n,r)=>{const{showDownloadButton:i}=e,{fileList:a}=v,l=e.previewMethod||(0,o.zj)().upload.previewMethod,s=e.beforeDownloadMethod||(0,o.zj)().upload.beforeDownloadMethod;e.showPreview&&(l?l({$upload:W,option:n}):o.OE.previewImage&&o.OE.previewImage({urlList:a.map(e=>ee(e)),activeIndex:r,showDownloadButton:i,beforeDownloadMethod:s?({index:e})=>s({$upload:W,option:a[e]}):void 0}))},oe=(t,n)=>{const{showErrorStatus:r}=e,i=U(t),a=e.uploadMethod||(0,o.zj)().upload.uploadMethod;if(a)return Promise.resolve(a({$upload:W,file:n,option:t,updateProgress(e){const{fileCacheMaps:n}=v,r=n[U(t)];r&&(r.percent=Math.max(0,Math.min(99,w().toNumber(e))))}})).then(e=>{const{fileCacheMaps:n}=v,r=n[i];r&&(r.percent=100,r.status="success"),Object.assign(t,e),X("upload-success",{option:t,data:e},null)}).catch(e=>{const{fileCacheMaps:n}=v,o=n[i];o&&(o.status="error"),r?Object.assign(t,e):v.fileList=v.fileList.filter(e=>U(e)!==i),X("upload-error",{option:t,data:e},null)}).finally(()=>{const{fileCacheMaps:e}=v,t=e[i];t&&(t.loading=!1)});{const{fileCacheMaps:e}=v,t=e[i];t&&(t.loading=!1)}return Promise.resolve()},ie=t=>{const{uploadMethod:n,urlMode:r}=e,{fileCacheMaps:i}=v,a=U(t),l=i[a],s=n||(0,o.zj)().upload.uploadMethod;if(s&&l){const e=l.file;l.loading=!0,l.status="pending",l.percent=0,oe(t,e).then(()=>{r&&J(v.fileList)})}},ae=(t,n)=>{const{multiple:r,urlMode:s,showLimitSize:c,limitSizeText:u,showLimitCount:d,limitCountText:p,autoSubmit:f}=e,{fileList:h}=v,m=e.beforeSelectMethod||(0,o.zj)().upload.beforeSelectMethod,g=e.uploadMethod||(0,o.zj)().upload.uploadMethod,b=k.value,x=E.value,y=O.value,C=D.value,S=M.value,T=A.value,I=R.value,N=_.value;let F=t;if(r&&I){if(d&&h.length>=I)return void(o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:p?`${w().isFunction(p)?p({maxCount:I}):p}`:(0,o.TO)("vxe.upload.overCountErr",[I])}));const e=F.length-(I-h.length);if(d&&e>0){const t=F.slice(I-h.length);p?o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:`${w().isFunction(p)?p({maxCount:I}):p}`}):o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",width:null,slots:{default(){return(0,i.h)("div",{class:"vxe-upload--file-message-over-error"},[(0,i.h)("div",{},(0,o.TO)("vxe.upload.overCountExtraErr",[I,e])),(0,i.h)("div",{class:"vxe-upload--file-message-over-extra"},t.map((e,t)=>(0,i.h)("div",{key:t,class:"vxe-upload--file-message-over-extra-item"},e.name)))])}}})}F=F.slice(0,I-h.length)}if(c&&T)for(let e=0;e<t.length;e++){const e=t[0];if(e.size>T)return void(o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:u?`${w().isFunction(u)?u({maxSize:T}):u}`:(0,o.TO)("vxe.upload.overSizeErr",[N])}))}const P=Object.assign({},v.fileCacheMaps),j=r?h:[],$=[];F.forEach(e=>{const{name:t}=e,n=q(),r={[x]:t,[y]:K(t),[S]:e.size,[C]:URL.createObjectURL(e),[b]:n};g&&(P[n]={file:e,loading:!!f,status:"pending",percent:0});const o=(0,i.reactive)(r);m&&!m({$upload:W,file:e})||(g&&f&&$.push(oe(o,e)),j.push(o))}),v.fileList=j,v.fileCacheMaps=P,j.forEach(e=>{X("add",{option:e},n)}),Promise.all(s?$:[]).then(()=>{J(j),a&&l&&a.triggerItemEvent(n,l.itemConfig.field,j)})},le=t=>{const{multiple:n,imageTypes:r,fileTypes:o}=e,i=C.value,a=S.value;return i?Promise.resolve({status:!1,files:[],file:null}):Xc({multiple:n,types:a?r:o}).then(e=>(ae(e.files,t),e))},se=e=>{le(e).catch(()=>{})},ce=(e,t,n)=>{const{fileList:r}=v;r.splice(n,1),J(r),a&&l&&a.triggerItemEvent(e,l.itemConfig.field,r),X("remove",{option:t},e)},ue=(t,n,r)=>{const i=e.beforeRemoveMethod||(0,o.zj)().upload.beforeRemoveMethod,a=e.removeMethod||(0,o.zj)().upload.removeMethod;Promise.resolve(!i||i({$upload:W,option:n})).then(e=>{e?a?Promise.resolve(a({$upload:W,option:n})).then(()=>{ce(t,n,r)}).catch(e=>e):ce(t,n,r):X("remove-fail",{option:n},t)})},de=(e,t)=>{X("download",{option:t},e)},pe=(t,n)=>{const r=e.beforeDownloadMethod||(0,o.zj)().upload.beforeDownloadMethod,i=e.downloadMethod||(0,o.zj)().upload.downloadMethod;Promise.resolve(!r||r({$upload:W,option:n})).then(e=>{e?i?Promise.resolve(i({$upload:W,option:n})).then(()=>{de(t,n)}).catch(e=>e):de(t,n):X("download-fail",{option:n},t)})},fe=e=>{const t=e.currentTarget,{clientX:n,clientY:r}=e;if(t){const{x:e,y:o,height:i,width:a}=t.getBoundingClientRect();(n<e||n>e+a||r<o||r>o+i)&&(v.isDragUploadStatus=!1)}},he=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;n&&n.length&&(e.preventDefault(),v.isDragUploadStatus=!0)}},me=(t,n)=>{const{imageTypes:r,fileTypes:i}=e,{imagePreviewTypes:a}=b,l=S.value;if(l){const e=a.concat(r&&r.length?r:[]);n=n.filter(t=>{const n=`${t.type.split("/")[1]||""}`.toLowerCase();return!!e.some(e=>`${e}`.toLowerCase()===n)})}else if(i&&i.length){const e=[];if(n.forEach(t=>{const n=K(t.name);i.some(e=>`${e}`.toLowerCase()===n)||e.push(n)}),e.length)return void(o.OE.modal&&o.OE.modal.message({content:(0,o.TO)("vxe.error.notType",[e.join(", ")]),status:"error"}))}n.length?ae(n,t):o.OE.modal&&o.OE.modal.notification({title:(0,o.TO)("vxe.modal.errTitle"),status:"error",content:(0,o.TO)("vxe.upload.uploadTypeErr")})},ge=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;if(n&&n.length){e.preventDefault();const t=ve(n);t.length&&me(e,t)}}v.isDragUploadStatus=!1},ve=e=>{const t=[];return w().arrayEach(e,e=>{const n=e.getAsFile();n&&t.push(n)}),t},be=t=>{const n=y.value,a=S.value,l=t.$event;o.OE.modal&&(o.OE.modal.open({id:b.moreId,title:n?(0,o.TO)("vxe.upload.morePopup.readTitle"):(0,o.TO)("vxe.upload.morePopup."+(a?"imageTitle":"fileTitle")),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:t,dragToUpload:l,dragSort:s,dragPlaceholder:c}=e,{isActivated:u,isDragMove:d,isDragUploadStatus:f,dragIndex:h}=v,{fileList:m}=v,b=C.value,x=r.moreContent||r["more-content"],y={};return l&&-1===h&&(y.onDragover=he,y.onDragleave=fe,y.onDrop=ge),(0,i.h)("div",Object.assign({ref:p,class:["vxe-upload--more-popup",{"is--readonly":n,"is--disabled":b,"is--active":u,"show--error":t,"is--drag":f}]},y),x?T(x({options:m})):[a?s?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(d?"":"-disabled"),tag:"div",class:"vxe-upload--image-more-list"},{default:()=>Fe(m,!0).concat(_e(!0))}):(0,i.h)("div",{class:"vxe-upload--image-more-list"},Fe(m,!0).concat(_e(!0))):(0,i.h)("div",{class:"vxe-upload--file-more-list"},[Ne(!0),s?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(d?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Ie(m,!1)}):(0,i.h)("div",{class:"vxe-upload--file-list"},Ie(m,!0))]),s?(0,i.h)("div",{ref:g,class:"vxe-upload--drag-line"}):(0,o.C1)(W),f?(0,i.h)("div",{class:"vxe-upload--drag-placeholder"},c||(0,o.TO)("vxe.upload.dragPlaceholder")):(0,o.C1)(W)])}},onShow(){v.showMorePopup=!0},onHide({$event:e}){v.showMorePopup=!1,e&&X("more-visible",{visible:!1},e)}}),l&&X("more-visible",{visible:!0},l))},xe=(e,t,n)=>{const{showMorePopup:r}=v,o=d.value,i=p.value,a=r?i:o;if(!a)return;const l=a.getBoundingClientRect(),s=m.value,c=g.value,u=r?c:s;if(u){const e=t.getBoundingClientRect();u.style.display="block",u.style.top=`${Math.max(1,e.y-l.y)}px`,u.style.left=`${Math.max(1,e.x-l.x)}px`,u.style.height=`${e.height}px`,u.style.width=e.width-1+"px",u.setAttribute("drag-pos",n)}},ye=()=>{const e=m.value,t=g.value;e&&(e.style.display=""),t&&(t.style.display="")},we=e=>{e.stopPropagation(),e.dataTransfer&&e.dataTransfer.setDragImage(N(),0,0);const t=e.currentTarget,n=t.parentElement,r=w().findIndexOf(Array.from(n.children),e=>t===e);v.isDragMove=!0,v.dragIndex=r,setTimeout(()=>{v.isDragMove=!1},500)},Ce=e=>{e.stopPropagation(),e.preventDefault();const{dragIndex:t}=v;if(-1===t)return;const n=S.value,r=e.currentTarget,o=r.parentElement,i=w().findIndexOf(Array.from(o.children),e=>r===e);let a="";if(n){const t=e.clientX-r.getBoundingClientRect().x;a=t<r.clientWidth/2?"left":"right"}else{const t=e.clientY-r.getBoundingClientRect().y;a=t<r.clientHeight/2?"top":"bottom"}t!==i?(xe(e,r,a),b.prevDragIndex=i,b.prevDragPos=a):xe(e,r,a)},ke=e=>{const{fileList:t,dragIndex:n}=v,{prevDragIndex:r,prevDragPos:o}=b,i=n,a=r,l="bottom"===o||"right"===o?1:0,s=t[i],c=t[a];if(s&&c){t.splice(i,1);const n=w().findIndexOf(t,e=>c===e),r=n+l;t.splice(r,0,s),X("sort-dragend",{oldItem:s,newItem:c,dragPos:o,offsetIndex:l,_index:{newIndex:r,oldIndex:i}},e)}ye(),v.dragIndex=-1},Se=e=>{s&&e.stopPropagation(),v.isActivated=!0},Te=t=>{const{pasteToUpload:n}=e,{isActivated:r}=v;if(!r||!n)return;const o=t.clipboardData||t.originalEvent.clipboardData;if(!o)return;const{items:i}=o;if(!i)return;const a=ve(i);a.length&&(t.preventDefault(),me(t,a))},Oe=e=>{const t=d.value,n=p.value;let r=H(e,t).flag;if(!r&&n){const t=n.parentElement||n,o=t?t.parentElement:t;r=H(e,o).flag}v.isActivated=r},De=()=>{v.isActivated=!1},Me={dispatchEvent:X,choose(){return le(null)},submit(t){const{maxSimultaneousUploads:n}=e,r=w().toNumber(n||1)||1,{fileList:o,fileCacheMaps:i}=v,a=o.filter(e=>{const n=U(e),r=i[n];return r&&("pending"===r.status||t&&"error"===r.status)}),l=e=>{const n=U(e),r=i[n];if(r){const n=r.file;if(n&&("pending"===r.status||t&&"error"===r.status))return r.loading=!0,r.percent=0,oe(e,n).then(s)}return s()},s=()=>{if(a.length){const e=a[0];return a.splice(0,1),l(e).then(s)}return Promise.resolve()};return Promise.all(a.splice(0,r).map(l)).then(()=>{})},getMoreVisible(){return v.showMorePopup},openMore(){return be({$event:new Event("click")}),(0,i.nextTick)()},openMoreByEvent(e){return be({$event:e}),(0,i.nextTick)()},closeMore(){return o.OE.modal&&o.OE.modal.close(b.moreId),(0,i.nextTick)()}},Ae={};Object.assign(W,Me,Ae);const Ie=(t,n)=>{const{showRemoveButton:a,showDownloadButton:l,showProgress:s,progressText:c,showPreview:u,showErrorStatus:d,dragSort:p,autoSubmit:f,showSubmitButton:h}=e,{fileList:m,fileCacheMaps:g}=v,b=C.value,x=y.value,k=E.value,S=O.value,D=r.option,M=r.action,A=r.corner,I=r.name,N={};return p&&t.length>1&&(N.onDragstart=we,N.onDragover=Ce,N.onDragend=ke),t.map((e,t)=>{const r=U(e),v=g[r];let y=!1,C=!1,E=!1;const O=`${e[k]||""}`;return v&&(y=v.loading,C="error"===v.status,E="pending"===v.status),(0,i.h)("div",Object.assign({key:p?r:t,class:["vxe-upload--file-item",{"is--preview":u,"is--loading":y,"is--pending":E,"is--error":C}],fileid:r,draggable:!!p||null},N),D?T(D({option:e,isMoreView:n,options:m})):[(0,i.h)("div",{class:"vxe-upload--file-item-icon"},[(0,i.h)("i",{class:(0,o.sW)()[`UPLOAD_FILE_TYPE_${`${e[S]}`.toLocaleUpperCase()}`]||(0,o.sW)().UPLOAD_FILE_TYPE_DEFAULT})]),(0,i.h)("div",{class:"vxe-upload--file-item-name",title:O,onClick(t){y||C||ne(t,e)}},I?T(I({option:e,isMoreView:n,options:m})):O),y?(0,i.h)("div",{class:"vxe-upload--file-item-loading-icon"},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_LOADING})]):(0,o.C1)(W),s&&y&&v?(0,i.h)("div",{class:"vxe-upload--file-item-loading-text"},c?w().toFormatString(`${w().isFunction(c)?c({}):c}`,{percent:v.percent}):(0,o.TO)("vxe.upload.uploadProgress",[v.percent])):(0,o.C1)(W),!y&&(C&&d||E&&h&&!f)?(0,i.h)("div",{class:"vxe-upload--file-item-rebtn"},[(0,i.h)(Ee,{icon:C?(0,o.sW)().UPLOAD_IMAGE_RE_UPLOAD:(0,o.sW)().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:C?(0,o.TO)("vxe.upload.reUpload"):(0,o.TO)("vxe.upload.manualUpload"),onClick(){ie(e)}})]):(0,o.C1)(W),(0,i.h)("div",{class:"vxe-upload--file-item-btn-wrapper"},M?T(M({option:e,isMoreView:n,options:m,readonly:x})):[A?(0,i.h)("div",{class:"vxe-upload--file-item-action"},T(A({option:e,isMoreView:n,options:m,readonly:x}))):(0,o.C1)(W),!l||y||E?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-item-download-btn",onClick(t){pe(t,e)}},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_FILE_DOWNLOAD})]),!a||x||b||y?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-item-remove-btn",onClick(n){ue(n,e,t)}},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_FILE_REMOVE})])])])})},Ne=t=>{const{showUploadButton:n,buttonText:a,buttonIcon:l,showButtonText:s,showButtonIcon:c,autoHiddenButton:u}=e,{fileList:d}=v,p=C.value,f=y.value,h=P.value,m=j.value,g=F.value,b=r.default,x=r.tip||r.hint;return f||!n?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-action"},[u&&g?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--file-action-btn",onClick:se},b?T(b({isMoreView:t,options:d,$upload:W})):[(0,i.h)(Ee,{class:"vxe-upload--file-action-button",content:t||s?a?`${w().isFunction(a)?a({}):a}`:(0,o.TO)("vxe.upload.fileBtnText"):"",icon:c?l||(0,o.sW)().UPLOAD_FILE_ADD:"",disabled:p})]),h&&(m||x)?(0,i.h)("div",{class:"vxe-upload--file-action-tip"},x?T(x({isMoreView:t,options:d,$upload:W})):`${m}`):(0,o.C1)(W)])},Re=()=>{const{showList:t,moreConfig:n,dragSort:a}=e,{fileList:l,isDragMove:s}=v,c=z.value,{maxCount:u,showMoreButton:d,layout:p,moreButtonText:f}=c,h="horizontal"===p,m=r.moreButton||r["more-button"];let g=l,b=0,x=!1,y=!1;return w().isNumber(u)&&l.length>u&&(x=!0,y=0===u,b=l.length-u,g=l.slice(0,u)),(0,i.h)("div",{key:"all",class:"vxe-upload--file-wrapper"},t?[d&&n&&h?(0,o.C1)(W):Ne(!0),(0,i.h)("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":h}]},[g.length?a?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(s?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Ie(g,!1)}):(0,i.h)("div",{class:"vxe-upload--file-list"},Ie(g,!1)):(0,o.C1)(W),d&&b?(0,i.h)("div",{class:"vxe-upload--file-over-more"},m?T(m({options:l})):[(0,i.h)(Ee,{mode:"text",content:f?w().isFunction(f)?f({$upload:W,options:l}):w().toFormatString(f,[l.length]):(0,o.TO)(x&&y?"vxe.upload.moreFileBtnText":"vxe.upload.moreBtnText",[l.length]),status:"primary",onClick:be})]):(0,o.C1)(W),d&&n&&h?Ne(!1):(0,o.C1)(W)])]:[Ne(!1)])},Fe=(t,n)=>{const{showRemoveButton:a,showProgress:l,progressText:s,showPreview:c,showErrorStatus:u,dragSort:d,autoSubmit:p,showSubmitButton:f}=e,{fileList:h,fileCacheMaps:m}=v,g=C.value,b=y.value,x=$.value,k=L.value,S=r.option,E=r.action,O=r.corner,D={onMousedown:Se};return d&&t.length>1&&(D.onDragstart=we,D.onDragover=Ce,D.onDragend=ke),t.map((e,t)=>{const r=U(e),v=m[r];let y=!1,C=!1,M=!1;return v&&(y=v.loading,C="error"===v.status,M="pending"===v.status),(0,i.h)("div",Object.assign({key:d?r:t,class:["vxe-upload--image-item",{"is--preview":c,"is--circle":x.circle,"is--loading":y,"is--pending":M,"is--error":C}],fileid:r,draggable:!!d||null},D),S?T(S({option:e,isMoreView:n,options:h})):[(0,i.h)("div",{class:"vxe-upload--image-item-box",style:n?null:k,onClick(n){y||C||re(n,e,t)}},[y&&v?(0,i.h)("div",{class:"vxe-upload--image-item-loading"},[(0,i.h)("div",{class:"vxe-upload--image-item-loading-icon"},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_LOADING})]),l?(0,i.h)("div",{class:"vxe-upload--image-item-loading-text"},s?w().toFormatString(`${w().isFunction(s)?s({}):s}`,{percent:v.percent}):(0,o.TO)("vxe.upload.uploadProgress",[v.percent])):(0,o.C1)(W)]):(0,o.C1)(W),(0,i.h)("div",{class:"vxe-upload--image-item-img-wrapper",title:(0,o.TO)("vxe.upload.viewItemTitle")},[(0,i.h)("img",{class:"vxe-upload--image-item-img",src:Q(e)})]),!y&&(C&&u||M&&f&&!p)?(0,i.h)("div",{class:"vxe-upload--image-item-rebtn"},[(0,i.h)(Ee,{icon:C?(0,o.sW)().UPLOAD_IMAGE_RE_UPLOAD:(0,o.sW)().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:C?(0,o.TO)("vxe.upload.reUpload"):(0,o.TO)("vxe.upload.manualUpload"),onClick(){ie(e)}})]):(0,o.C1)(W),(0,i.h)("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(e){e.stopPropagation()}},E?T(E({option:e,isMoreView:n,options:h,readonly:b})):[O?(0,i.h)("div",{class:"vxe-upload--file-item-action"},T(O({option:e,isMoreView:n,options:h,readonly:b}))):(0,o.C1)(W),!a||b||g||y?(0,o.C1)(W):(0,i.h)("div",{class:"vxe-upload--image-item-remove-btn",onClick(n){n.stopPropagation(),ue(n,e,t)}},[(0,i.h)("i",{class:(0,o.sW)().UPLOAD_IMAGE_REMOVE})])])])])})},_e=t=>{const{showUploadButton:n,buttonText:a,buttonIcon:l,showButtonText:s,showButtonIcon:c,autoHiddenButton:u}=e,{fileList:d}=v,p=y.value,f=P.value,h=j.value,m=F.value,g=L.value,b=r.default,x=r.tip||r.hint;return p||!n||u&&m?(0,o.C1)(W):(0,i.h)("div",{key:"action",class:"vxe-upload--image-action"},[(0,i.h)("div",{class:"vxe-upload--image-action-btn",onClick:se},b?b({isMoreView:t,options:d,$upload:W}):[(0,i.h)("div",{class:"vxe-upload--image-action-box",style:t?null:g},[c?(0,i.h)("div",{class:"vxe-upload--image-action-icon"},[(0,i.h)("i",{class:l||(0,o.sW)().UPLOAD_IMAGE_ADD})]):(0,o.C1)(W),t||s?(0,i.h)("div",{class:"vxe-upload--image-action-content"},a?`${w().isFunction(a)?a({}):a}`:(0,o.TO)("vxe.upload.imgBtnText")):(0,o.C1)(W),f&&(h||x)?(0,i.h)("div",{class:"vxe-upload--image-action-hint"},x?T(x({isMoreView:t,options:d,$upload:W})):`${h}`):(0,o.C1)(W)])])])},Pe=()=>{const{showList:t,dragSort:n}=e,{fileList:a,isDragMove:l}=v,s=z.value,c=r.moreButton||r["more-button"],{maxCount:u,showMoreButton:d,moreButtonText:p}=s;let f=a,h=0,m=!1,g=!1;return w().isNumber(u)&&a.length>u&&(m=!0,g=0===u,h=a.length-u,f=a.slice(0,u)),(0,i.h)("div",{key:"image",class:"vxe-upload--image-wrapper"},t?[n?(0,i.h)(i.TransitionGroup,{name:"vxe-upload--drag-list"+(l?"":"-disabled"),tag:"div",class:"vxe-upload--image-list"},{default:()=>Fe(f,!1).concat([d&&h?(0,i.h)("div",{key:"om",class:"vxe-upload--image-over-more"},c?T(c({options:a})):[(0,i.h)(Ee,{mode:"text",content:p?w().isFunction(p)?p({$upload:W,options:a}):w().toFormatString(p,[a.length]):(0,o.TO)(m&&g?"vxe.upload.moreImgBtnText":"vxe.upload.moreBtnText",[a.length]),status:"primary",onClick:be})]):(0,o.C1)(W),_e(!1)])}):(0,i.h)("div",{class:"vxe-upload--image-list"},Fe(f,!1).concat([d&&h?(0,i.h)("div",{class:"vxe-upload--image-over-more"},c?T(c({options:a})):[(0,i.h)(Ee,{mode:"text",content:p?w().isFunction(p)?p({$upload:W,options:a}):w().toFormatString(p,[a.length]):(0,o.TO)(m&&g?"vxe.upload.moreImgBtnText":"vxe.upload.moreBtnText",[a.length]),status:"primary",onClick:be})]):(0,o.C1)(W),_e(!1)]))]:[(0,i.h)("div",{class:"vxe-upload--image-list"},[_e(!1)])])},je=()=>{const{showErrorStatus:t,dragToUpload:n,pasteToUpload:r,dragSort:a,dragPlaceholder:l}=e,{isDragUploadStatus:s,showMorePopup:c,isActivated:p,dragIndex:f}=v,h=u.value,g=C.value,b=y.value,x=S.value,w={onMousedown:Se};return n&&-1===f&&(w.onDragover=he,w.onDragleave=fe,w.onDrop=ge),(0,i.h)("div",Object.assign({ref:d,class:["vxe-upload",{[`size--${h}`]:h,"is--active":p,"is--readonly":b,"is--disabled":g,"is--paste":r,"show--error":t,"is--drag":s}]},w),[x?Pe():Re(),a?(0,i.h)("div",{ref:m,class:"vxe-upload--drag-line"}):(0,o.C1)(W),s&&!c?(0,i.h)("div",{class:"vxe-upload--drag-placeholder"},l||(0,o.TO)("vxe.upload.dragPlaceholder")):(0,o.C1)(W)])},$e=(0,i.ref)(0);return(0,i.watch)(()=>e.modelValue?e.modelValue.length:0,()=>{$e.value++}),(0,i.watch)(()=>e.modelValue,()=>{$e.value++}),(0,i.watch)($e,()=>{G()}),(0,i.onMounted)(()=>{e.multiple&&e.singleMode&&h("vxe.error.errConflicts",["[upload] multiple","single-mode"]),e.imageStyle&&f("vxe.error.delProp",["[upload] image-style","image-config"]),e.dragSort&&I(),o.Nh.on(W,"paste",Te),o.Nh.on(W,"mousedown",Oe),o.Nh.on(W,"blur",De)}),(0,i.onBeforeUnmount)(()=>{v.isDragUploadStatus=!1,o.Nh.off(W,"paste"),o.Nh.off(W,"mousedown"),o.Nh.off(W,"blur"),w().assign(v,Qc()),w().assign(b,eu())}),G(),W.renderVN=je,W},render(){return this.renderVN()}});const nu=Object.assign({},tu,{install(e){e.component(tu.name,tu)}});u.use(nu),o.OE.component(tu),o.OE.saveFile=Jc,o.OE.readFile=Xc;const ru=nu;var ou=nu;let iu=null,au=null;const lu={};function su(){return iu||(iu=document.createElement("canvas"),iu.style.position="absolute",iu.style.top="0",iu.style.left="0"),iu}function cu(e){if(e){const t=e.parentNode;t&&t.removeChild(e)}}function uu(e,t){const n=`${t}_${e}`;if(!lu[n]){au||(au=document.createElement("span")),au.parentNode||document.body.append(au),au.textContent=e,au.style.fontSize=V(t);const r=au.offsetWidth,o=au.offsetHeight;lu[n]={width:r,height:o}}return lu[n]}function du(e){let t=0,n=0;return e.forEach(e=>{t=Math.max(e.width,t),n=Math.max(e.height,n)}),{contentWidth:t,contentHeight:n}}function pu(e,t){const{gap:n}=t,[r=0,o=0]=n?w().isArray(n)?n:[n,n]:[],i=e+w().toNumber(r),a=e+w().toNumber(o);return{canvasWidth:i,canvasHeight:a}}function fu(e,t,n){return(e.font?e.font[t]:"")||(n.font?n.font[t]:"")}function hu(e,t,n){const{offset:r}=n,o=w().toValueString(e.textContent),i=w().toNumber(fu(e,"fontSize",n)||t)||14,[a=0,l=0]=r?w().isArray(r)?r:[r,r]:[],{width:s,height:c}=uu(o,i);return{text:o,fontSize:i,font:e.font,width:s+w().toNumber(a),height:c+w().toNumber(l)}}function mu(e,t,n){const r=fu(t,"fontWeight",n);e.fillStyle=`${fu(t,"color",n)||"rgba(0, 0, 0, 0.15)"}`,e.font=[fu(t,"fontStyle",n)||"normal","bold"===r||"bolder"===r?"bold":"",V(t.fontSize),fu(t,"fontFamily",n)||"sans-serif"].join(" ")}function gu(e,t,n){const r=Object.assign({},n),{rotate:o}=r,i=w().toNumber(o),a=(w().isArray(e)?e:[e]).map(e=>e?e.textContent?hu(e,t,r):hu({textContent:`${e}`},t,r):hu({textContent:""},t,r));return cu(au),new Promise(e=>{const t=su();t.parentNode||document.body.append(t);const n=t.getContext("2d");if(n&&a.length){const{contentWidth:o,contentHeight:l}=du(a),{canvasWidth:s,canvasHeight:c}=pu(o,r);t.width=s,t.height=c;const u=(s-o)/2,d=(c-l)/2,p=u+o/2,f=d+l/2;n.save(),n.translate(p,f),n.rotate(i*Math.PI/180),n.translate(-p,-f);let h=0;a.forEach(e=>{const t=fu(e,"align",r);mu(n,e,r),n.fillText(e.text,u+("center"===t?(o-e.width)/2:0),d+(l+l)/2+h,o),h+=e.height}),n.restore(),e(t.toDataURL()),cu(t)}else e(""),cu(t)})}var vu=a({name:"VxeWatermark",props:{width:String,height:String,imageUrl:String,rotate:{type:[Number,String],default:()=>(0,o.zj)().watermark.rotate},gap:{type:[Array,Number,String],default:()=>w().clone((0,o.zj)().watermark.gap,!0)},content:[String,Array],font:Object,offset:Object,zIndex:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,r=w().uniqueId(),a=(0,i.ref)(),l=(0,i.reactive)({markUrl:""}),s={refElem:a},c=(0,i.computed)(()=>w().assign({},w().clone((0,o.zj)().watermark.font,!0),e.font)),u=(0,i.computed)(()=>{const{width:t,height:n,zIndex:r}=e,{markUrl:o}=l,i={};return t&&(i.width=V(t)),n&&(i.height=V(n)),o&&(i.backgroundImage=`url(${o})`),r&&(i.zIndex=r),i}),d={},p={xID:r,props:e,context:t,reactData:l,getRefMaps:()=>s,getComputeMaps:()=>d},f=(e,t,r)=>{n(e,(0,o.lh)(r,{$watermark:p},t))},h={dispatchEvent:f},m=()=>{const{content:t,gap:n,rotate:r,offset:o}=e,i=a.value,s=c.value;i&&t&&gu(t,getComputedStyle(i).fontSize,{font:s,rotate:r,gap:n,offset:o}).then(e=>{l.markUrl=e})},g={};Object.assign(p,h,g);const v=()=>{const e=u.value;return(0,i.h)("div",{ref:a,class:"vxe-watermark",style:e})};return(0,i.watch)(()=>e.imageUrl,()=>{m()}),(0,i.watch)(()=>e.content,()=>{m()}),(0,i.watch)(()=>e.gap,()=>{m()}),(0,i.watch)(()=>e.rotate,()=>{m()}),(0,i.watch)(()=>e.width,()=>{m()}),(0,i.watch)(()=>e.height,()=>{m()}),(0,i.watch)(()=>e.font,()=>{m()}),(0,i.onMounted)(()=>{m(),o.Nh.on(p,"resize",w().throttle(()=>{m()},300,{trailing:!0,leading:!0}))}),(0,i.onUnmounted)(()=>{o.Nh.off(p,"resize")}),p.renderVN=v,p},render(){return this.renderVN()}});const bu=Object.assign({},vu,{install(e){e.component(vu.name,vu)}});u.use(bu),o.OE.component(vu);const xu={load(e){return d(),s.globalWatermark=Object.assign({},e),Promise.resolve()},clear(){return s.globalWatermark=null,Promise.resolve()}};o.OE.watermark=xu;const yu=bu;var wu=bu;const{setI18n:Cu,setLanguage:ku,setTheme:Su,setConfig:Tu}=o.OE,Eu=[M,re,ae,ue,_e,Le,We,Ge,Me,Ze,vt,Ct,Et,Nt,qt,Kt,Qt,on,cn,fn,xn,Pn,Wn,Kn,Qn,rr,lr,wr,Tr,Co,Mo,No,_o,$o,Bo,Xo,ei,ri,ai,ui,gi,yi,Si,Di,Ni,$i,dr,qi,ua,ha,va,Oa,Ia,La,Ha,pl,gl,yl,Sl,Dl,Rl,jl,Vl,ql,Xl,Ql,rs,cs,ps,ms,xs,ks,Os,Rs,Ls,Ws,Ys,Js,tc,ac,uc,hc,xc,Se,kc,Lc,Uc,ou,wu];function Ou(e,t){Tu(t),Eu.forEach(t=>e.use(t))}const Du="zh-CN";Cu(Du,x),ku(Du),Su("light");const Mu=cr,Au=la,Iu=br,Nu=xu,Ru=al,Fu=Jc,_u=Xc;var Pu=r},306:function(e,t,n){"use strict";var r=n(3342);e.exports=function(e,t,n){var o,i,a=n?e:e.iterator,l=e.next;while(!(o=r(l,a)).done)if(i=t(o.value),void 0!==i)return i}},324:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(43),a=n(3636),l=n(8848),s=n(8637),c=n(926),u=n(4388),d=n(2846),p=n(2633),f=n(7716),h=!u&&!p("filter",function(){}),m=!u&&!h&&f("filter",TypeError),g=u||h||m,v=s(function(){var e,t,n,r=this.iterator,i=this.predicate,l=this.next;while(1){if(e=a(o(l,r)),t=this.done=!!e.done,t)return;if(n=e.value,c(r,i,[n,this.counter++],!0))return n}});r({target:"Iterator",proto:!0,real:!0,forced:g},{filter:function(e){a(this);try{i(e)}catch(t){d(this,"throw",t)}return m?o(m,this,e):new v(l(this),{predicate:e})}})},374:function(e,t,n){"use strict";var r=n(8115),o=n(1789),i=TypeError,a=Object.getOwnPropertyDescriptor,l=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=l?function(e,t){if(o(e)&&!a(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},389:function(e,t,n){n(4645),n(4564),n(2635),n(324),n(4329),n(7578),n(2532),n(9858),function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=86)}([function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&!(e>=64976&&e<=65007)&&65535!=(65535&e)&&65534!=(65535&e)&&!(e>=0&&e<=8)&&11!==e&&!(e>=14&&e<=31)&&!(e>=127&&e<=159)&&!(e>1114111)}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var l=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(l.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,u=n(7),d=/[&<>"]/,p=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return f[e]}var m=/[.?*+^$[\]\\(){}|-]/g,g=n(3);t.lib={},t.lib.mdurl=n(8),t.lib.ucmicro=n(26),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(l,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(s,function(e,t,n){return t||function(e,t){var n=0;return o(u,t)?u[t]:35===t.charCodeAt(0)&&c.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)})},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(p,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(16),o=n.n(r),i=n(0);function a(e){var t=e.codeHighlightExtensionMap,n=void 0===t?{}:t,r=e.hasLang,o=void 0===r?function(){return!0}:r,a=e.highlight,l=void 0===a?function(e){return e}:a,s=e.codeBlockClass;return function(e,t){var r=Object(i.escapeHtml)(e);return(t=n[t]||t)&&o(t)&&(r=l(e,t)),'<pre class="'+function(e){return s?s(e):"language-"+e}(t)+'"><code>'+r+"</code></pre>"}}t.b=function(){var e=new o.a;return e.set({html:!0,breaks:!0,linkify:!1,typographer:!0}),e}},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},function(e,t,n){"use strict";const r=/[\u0000-\u001f]/g,o=/[\s~`!@#$%^&*()\-_+=[\]{}|\\;:"'“”‘’–—<>,.?/]+/g,i=/[\u0300-\u036F]/g;e.exports=function(e){return e.normalize("NFKD").replace(i,"").replace(r,"").replace(o,"-").replace(/\-{2,}/g,"-").replace(/^\-+|\-+$/g,"").replace(/^(\d)/,"_$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=n(21)},function(e,t,n){"use strict";e.exports.encode=n(22),e.exports.decode=n(23),e.exports.format=n(24),e.exports.parse=n(25)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,l=[],s=t.length;for(n=0;n<s;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(a=e.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&l.push(i.token-1));for(;l.length;){for(r=(n=l.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}e.exports.tokenize=function(e,t){var n,r,o,i,a=e.pos,l=e.src.charCodeAt(a);if(t)return!1;if(126!==l)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(l),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:l,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,l;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],l=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=l?"strong_open":"em_open",i.tag=l?"strong":"em",i.nesting=1,i.markup=l?a+a:a,i.content="",(i=e.tokens[o.token]).type=l?"strong_close":"em_close",i.tag=l?"strong":"em",i.nesting=-1,i.markup=l?a+a:a,i.content="",l&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";const r=n(18),o={leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:[]};function i(e,t,n){let r={match:!1,j:null},o=void 0!==n.shift?t+n.shift:n.position,c=(u=e,(d=o)>=0?u[d]:u[u.length+d]);var u,d;if(void 0===c)return r;for(let p in n)if("shift"!==p&&"position"!==p){if(void 0===c[p])return r;if("children"===p&&a(n.children)){if(0===c.children.length)return r;let e,t=n.children,o=c.children;if(t.every(e=>void 0!==e.position)){if(e=t.every(e=>i(o,e.position,e).match),e){let e=s(t).position;r.j=e>=0?e:o.length+e}}else for(let n=0;n<o.length;n++)if(e=t.every(e=>i(o,n,e).match),e){r.j=n;break}if(!1===e)return r}else switch(typeof n[p]){case"boolean":case"number":case"string":if(c[p]!==n[p])return r;break;case"function":if(!n[p](c[p]))return r;break;case"object":if(l(n[p])){if(!1===n[p].every(e=>e(c[p])))return r;break}default:throw new Error(`Unknown type of pattern test (key: ${p}). Test should be of type boolean, number, string, function or array of functions.`)}}return r.match=!0,r}function a(e){return Array.isArray(e)&&e.length&&e.every(e=>"object"==typeof e)}function l(e){return Array.isArray(e)&&e.length&&e.every(e=>"function"==typeof e)}function s(e){return e.slice(-1)[0]||{}}e.exports=function(e,t){let n=Object.assign({},o);n=Object.assign(n,t);const a=r(n);e.core.ruler.before("linkify","curly_attributes",function(e){let t=e.tokens;for(let n=0;n<t.length;n++)for(let e=0;e<a.length;e++){let r=a[e],o=null;r.tests.every(e=>{let r=i(t,n,e);return null!==r.j&&(o=r.j),r.match})&&(r.transform(t,n,o),"inline attributes"!==r.name&&"inline nesting 0"!==r.name||e--)}})}},function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var r=n(1),o=n(15),i=n.n(o),a=function(e,t){var n=(void 0===t?{}:t).lineMarkup,r=void 0===n?"data-line":n,o=function(e,t,n,r,o){return o.renderToken(e,t,n)};function i(e){return function(t,n,o,i,a){var l=t[n];return l.attrPush([r,l.map[0]+1]),e(t,n,o,i,a)}}function a(e){return function(t,n,o,i,a){var l=e(t,n,o,i,a),s=t[n].map[0]+1;return"<div "+r+'="'+s+'">'+l+"</div>"}}var l={table_open:i,blockquote_open:i,bullet_list_open:i,ordered_list_open:i,reference_open:i,heading_open:i,lheading_open:i,paragraph_open:i,hr:i,html_block:a,code_block:a,fence:a};Object.keys(l).forEach(function(t){var n=e.renderer.rules[t]||o;e.renderer.rules[t]=l[t](n)})},l=function(e,t){void 0===t&&(t={});var n=t.getMarks;n&&e.core.ruler.push("anchor",function(e){var t={},r=e.tokens;r.filter(function(e){return"heading_open"===e.type}).forEach(function(e){var o=r[r.indexOf(e)+1].content,i=Number(e.tag.substr(1));t[o]=o in t?Number(t[o])+1:"";var a=n(o,i,t[o]);a&&a.forEach(function(t){var n=t.attr,r=t.value;e.attrPush([n,r])})})})},s={includeLevel:[2,3],containerClass:"table-of-contents",listClass:"table-of-content-list",listItemClass:"table-of-content-list-item",markerPattern:/^\[\[toc\]\]/im,listType:"ul",getAnchorAttrs:function(){return[]},format:void 0,forceFullToc:!1,containerHeaderHtml:void 0,containerFooterHtml:void 0,transformLink:void 0},c=function(e,t){var n,o=Object(r.a)({},s,t),i=o.markerPattern;function a(e,t,n){for(var r,i,l=[],s="",c=t.length,u=e;u<c;){var d=t[u],p=t[u-1],f=d.tag&&parseInt(d.tag.substr(1,1));if("heading_close"===d.type&&-1!=o.includeLevel.indexOf(f)&&"inline"===p.type){if(r){if(f>r){s+=(i=a(u,t,n))[1],u=i[0];continue}if(f<r)return s+="</li>",l.push(s),[u,"<"+o.listType+' class="'+o.listClass+'">'+l.join("")+"</"+o.listType+">"];f==r&&(s+="</li>",l.push(s))}else r=f;var h=p.children.reduce(function(e,t){return e+t.content},""),m=p.content,g=n[m]=m in n?Number(n[m])+1:"",v=o.getAnchorAttrs(m,f,g);s='<li class="'+o.listItemClass+'">\n      <a '+v.map(function(e){return e.attr+'="'+e.value+'"'}).join(" ")+">",s+=h,s+="</a>",u++}else u++}return s+=""===s?"":"</li>",l.push(s),[u,"<"+o.listType+' class="'+o.listClass+'">'+l.join("")+"</"+o.listType+">"]}e.renderer.rules.toc_open=function(e,t){var n='<div class="'+o.containerClass+'">';return o.containerHeaderHtml&&(n+=o.containerHeaderHtml),n},e.renderer.rules.toc_close=function(e,t){var n="";return o.containerFooterHtml&&(n=o.containerFooterHtml),n+"</div>"},e.renderer.rules.toc_body=function(e,t){var r={};if(o.forceFullToc){for(var i="",l=0,s=n&&n.tokens&&n.tokens.length;l<s;){var c=a(l,n.tokens,r);l=c[0],i+=c[1]}return i}return a(0,n.tokens,r)[1]},e.core.ruler.push("grab_state",function(e){n=e}),e.inline.ruler.after("emphasis","toc",function(e,t){var n;if(91!==e.src.charCodeAt(e.pos))return!1;if(t)return!1;if((n=(n=i.exec(e.src.substr(e.pos)))?n.filter(function(e){return e}):[]).length<1)return!1;e.push("toc_open","toc",1).markup="[[toc]]",e.push("toc_body","",0),e.push("toc_close","toc",-1);var r=e.src.indexOf("\n",e.pos);return e.pos=-1!==r?r:e.pos+e.posMax+1,!0})},u=function(e,t){void 0===t&&(t={});var n=t.getWrapperClass,r=void 0===n?function(e){return"language-"+e}:n,o=function(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=n[0],a=n[1],l=i[a],s=e.apply(void 0,n);return'\x3c!--beforebegin--\x3e<div class="'+r(l.info.trim())+' extra-class" extra-attr>\x3c!--afterbegin--\x3e'+s+"\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e"}},i=e.renderer.rules,a=i.fence,l=i.code_block;e.renderer.rules.fence=o(a),e.renderer.rules.code_block=o(l)},d=function(e,t){var n=t.externalAttrs,r=t.openLinkIcon,o=t.openLinkIconClass,i=!1;e.renderer.rules.link_open=function(e,t,r,o,a){var l=e[t],s=l.attrIndex("href");if(s>=0){var c=l.attrs[s][1];/^https?:/.test(c)&&(Object.keys(n).forEach(function(e){l.attrSet(e,n[e])}),/_blank/i.test(n.target)&&(i=!0))}return a.renderToken(e,t,r)},e.renderer.rules.link_close=function(e,t,n,a,l){return i&&(i=!1,r)?o?'<i class="'+o+'"></i>'+l.renderToken(e,t,n):'<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="v-md-svg-outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>'+l.renderToken(e,t,n):l.renderToken(e,t,n)}},p=n(6),f=n.n(p),h=n(2);function m(e){var t=void 0===e?{}:e,n=t.toc,o=t.link,s=t.attrs,p=Object(h.b)();return p.use(d,Object(r.a)({externalAttrs:{target:"_blank"}},o)).use(u,{getWrapperClass:function(e){return"v-md-pre-wrapper v-md-pre-wrapper-"+e}}).use(i.a,Object(r.a)({leftDelimiter:"{{{",rightDelimiter:"}}}"},s,{allowedAttributes:["width","height"].concat(null==s?void 0:s.allowedAttributes)})).use(l,{getMarks:function(e,t,n){return[{attr:"data-v-md-heading",value:f()(e)+(n?"-"+n:"")}]}}).use(c,Object(r.a)({listClass:"v-md-toc",listItemClass:"v-md-toc-item",getAnchorAttrs:function(e,t,n){return[{attr:"data-v-md-anchor",value:f()(e)+(n?"-"+n:"")}]}},n)).use(a,{lineMarkup:"data-v-md-line"}),{previewClass:"markdown-body",extend:function(e){e(p)},markdownParser:p}}},function(e,t,n){"use strict";const r=n(19);function o(e){return e.slice(-1)[0]}e.exports=e=>{const t=new RegExp("^ {0,3}[-*_]{3,} ?"+r.escapeRegExp(e.leftDelimiter)+"[^"+r.escapeRegExp(e.rightDelimiter)+"]");return[{name:"fenced code blocks",tests:[{shift:0,block:!0,info:r.hasDelimiters("end",e)}],transform:(t,n)=>{let o=t[n],i=o.info.lastIndexOf(e.leftDelimiter),a=r.getAttrs(o.info,i,e);r.addAttrs(a,o),o.info=r.removeDelimiter(o.info,e)}},{name:"inline nesting 0",tests:[{shift:0,type:"inline",children:[{shift:-1,type:e=>"image"===e||"code_inline"===e},{shift:0,type:"text",content:r.hasDelimiters("start",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o],a=i.content.indexOf(e.rightDelimiter),l=t[n].children[o-1],s=r.getAttrs(i.content,0,e);r.addAttrs(s,l),i.content.length===a+e.rightDelimiter.length?t[n].children.splice(o,1):i.content=i.content.slice(a+e.rightDelimiter.length)}},{name:"tables",tests:[{shift:0,type:"table_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:r.hasDelimiters("only",e)}],transform:(t,n)=>{let o=t[n+2],i=r.getMatchingOpeningToken(t,n),a=r.getAttrs(o.content,0,e);r.addAttrs(a,i),t.splice(n+1,3)}},{name:"inline attributes",tests:[{shift:0,type:"inline",children:[{shift:-1,nesting:-1},{shift:0,type:"text",content:r.hasDelimiters("start",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o],a=i.content,l=r.getAttrs(a,0,e),s=r.getMatchingOpeningToken(t[n].children,o-1);r.addAttrs(l,s),i.content=a.slice(a.indexOf(e.rightDelimiter)+e.rightDelimiter.length)}},{name:"list softbreak",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:r.hasDelimiters("only",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o].content,a=r.getAttrs(i,0,e),l=n-2;for(;t[l-1]&&"ordered_list_open"!==t[l-1].type&&"bullet_list_open"!==t[l-1].type;)l--;r.addAttrs(a,t[l-1]),t[n].children=t[n].children.slice(0,-2)}},{name:"list double softbreak",tests:[{shift:0,type:e=>"bullet_list_close"===e||"ordered_list_close"===e},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:r.hasDelimiters("only",e),children:e=>1===e.length},{shift:3,type:"paragraph_close"}],transform:(t,n)=>{let o=t[n+2].content,i=r.getAttrs(o,0,e),a=r.getMatchingOpeningToken(t,n);r.addAttrs(i,a),t.splice(n+1,3)}},{name:"list item end",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-1,type:"text",content:r.hasDelimiters("end",e)}]}],transform:(t,n,i)=>{let a=t[n].children[i],l=a.content,s=r.getAttrs(l,l.lastIndexOf(e.leftDelimiter),e);r.addAttrs(s,t[n-2]);let c=l.slice(0,l.lastIndexOf(e.leftDelimiter));a.content=" "!==o(c)?c:c.slice(0,-1)}},{name:"\n{.a} softbreak then curly in start",tests:[{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:r.hasDelimiters("only",e)}]}],transform:(t,n,o)=>{let i=t[n].children[o],a=r.getAttrs(i.content,0,e),l=n+1;for(;t[l+1]&&-1===t[l+1].nesting;)l++;let s=r.getMatchingOpeningToken(t,l);r.addAttrs(a,s),t[n].children=t[n].children.slice(0,-2)}},{name:"horizontal rule",tests:[{shift:0,type:"paragraph_open"},{shift:1,type:"inline",children:e=>1===e.length,content:e=>null!==e.match(t)},{shift:2,type:"paragraph_close"}],transform:(t,n)=>{let o=t[n];o.type="hr",o.tag="hr",o.nesting=0;let i=t[n+1].content,a=i.lastIndexOf(e.leftDelimiter);o.attrs=r.getAttrs(i,a,e),o.markup=i,t.splice(n+1,2)}},{name:"end of block",tests:[{shift:0,type:"inline",children:[{position:-1,content:r.hasDelimiters("end",e),type:e=>"code_inline"!==e}]}],transform:(t,n,i)=>{let a=t[n].children[i],l=a.content,s=r.getAttrs(l,l.lastIndexOf(e.leftDelimiter),e),c=n+1;for(;t[c+1]&&-1===t[c+1].nesting;)c++;let u=r.getMatchingOpeningToken(t,c);r.addAttrs(s,u);let d=l.slice(0,l.lastIndexOf(e.leftDelimiter));a.content=" "!==o(d)?d:d.slice(0,-1)}}]}},function(e,t,n){"use strict";function r(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}t.getAttrs=function(e,t,n){const r=/[^\t\n\f />"'=]/,o=[];let i="",a="",l=!0,s=!1;for(let c=t+n.leftDelimiter.length;c<e.length;c++){if(e.slice(c,c+n.rightDelimiter.length)===n.rightDelimiter){""!==i&&o.push([i,a]);break}let t=e.charAt(c);if("="===t&&l)l=!1;else if("."!==t||""!==i)if("#"!==t||""!==i)if('"'!==t||""!==a)if('"'===t&&s)s=!1;else if(" "!==t||s)l&&-1===t.search(r)||(l?i+=t:a+=t);else{if(""===i)continue;o.push([i,a]),i="",a="",l=!0}else s=!0;else i="id",l=!1;else"."===e.charAt(c+1)?(i="css-module",c+=1):i="class",l=!1}if(n.allowedAttributes&&n.allowedAttributes.length){let e=n.allowedAttributes;return o.filter(function(t){let n=t[0];return e.some(function(e){return n===e||e instanceof RegExp&&e.test(n)})})}return o},t.addAttrs=function(e,t){for(let n=0,r=e.length;n<r;++n){let r=e[n][0];"class"===r?t.attrJoin("class",e[n][1]):"css-module"===r?t.attrJoin("css-module",e[n][1]):t.attrPush(e[n])}return t},t.hasDelimiters=function(e,t){if(!e)throw new Error('Parameter `where` not passed. Should be "start", "middle", "end" or "only".');return function(n){let r,o,i,a,l=t.leftDelimiter.length+1+t.rightDelimiter.length;if(!n||"string"!=typeof n||n.length<l)return!1;let s=l-t.rightDelimiter.length;switch(e){case"start":i=n.slice(0,t.leftDelimiter.length),r=i===t.leftDelimiter?0:-1,o=-1===r?-1:n.indexOf(t.rightDelimiter,s),a=n.charAt(o+t.rightDelimiter.length),a&&-1!==t.rightDelimiter.indexOf(a)&&(o=-1);break;case"end":r=n.lastIndexOf(t.leftDelimiter),o=-1===r?-1:n.indexOf(t.rightDelimiter,r+s),o=o===n.length-t.rightDelimiter.length?o:-1;break;case"only":i=n.slice(0,t.leftDelimiter.length),r=i===t.leftDelimiter?0:-1,i=n.slice(n.length-t.rightDelimiter.length),o=i===t.rightDelimiter?n.length-t.rightDelimiter.length:-1}return-1!==r&&-1!==o&&function(e){let n="."===e.charAt(t.leftDelimiter.length),r="#"===e.charAt(t.leftDelimiter.length);return n||r?e.length>=l+1:e.length>=l}(n.substring(r,o+t.rightDelimiter.length))}},t.removeDelimiter=function(e,t){const n=r(t.leftDelimiter),o=r(t.rightDelimiter);let i=new RegExp("[ \\n]?"+n+"[^"+n+o+"]+"+o+"$"),a=e.search(i);return-1!==a?e.slice(0,a):e},t.escapeRegExp=r,t.getMatchingOpeningToken=function(e,t){if("softbreak"===e[t].type)return!1;if(0===e[t].nesting)return e[t];let n=e[t].level,r=e[t].type.replace("_close","_open");for(;t>=0;--t)if(e[t].type===r&&e[t].level===n)return e[t]};let o=/[&<>"]/,i=/[&<>"]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function l(e){return a[e]}t.escapeHtml=function(e){return o.test(e)?e.replace(i,l):e}},function(e,t,n){"use strict";var r=n(0),o=n(28),i=n(32),a=n(33),l=n(41),s=n(55),c=n(68),u=n(8),d=n(70),p={default:n(73),zero:n(74),commonmark:n(75)},f=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!f.test(t)||!!h.test(t)}var g=["http:","https:","mailto:"];function v(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return u.encode(u.format(t))}function b(e){var t=u.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return u.decode(u.format(t),u.decode.defaultChars+"%")}function x(e,t){if(!(this instanceof x))return new x(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new s,this.block=new l,this.core=new a,this.renderer=new i,this.linkify=new c,this.validateLink=m,this.normalizeLink=v,this.normalizeLinkText=b,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}x.prototype.set=function(e){return r.assign(this.options,e),this},x.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)}),this},x.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},x.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},x.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},x.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},x.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},x.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},x.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=x},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(e,t,n){"use strict";var r={};function o(e,t,n){var i,a,l,s,c,u="";for("string"!=typeof t&&(n=t,t=o.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(l=e.charCodeAt(i),n&&37===l&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))u+=e.slice(i,i+3),i+=2;else if(l<128)u+=c[l];else if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<a&&(s=e.charCodeAt(i+1))>=56320&&s<=57343){u+=encodeURIComponent(e[i]+e[i+1]),i++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[i]);return u}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},function(e,t,n){"use strict";var r={};function o(e,t){var n;return"string"!=typeof t&&(t=o.defaultChars),n=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)o[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,r,o,i,a,l,s,c="";for(t=0,r=e.length;t<r;t+=3)(o=parseInt(e.slice(t+1,t+3),16))<128?c+=n[o]:192==(224&o)&&t+3<r&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(c+=(s=o<<6&1984|63&i)<128?"��":String.fromCharCode(s),t+=3):224==(240&o)&&t+6<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(c+=(s=o<<12&61440|i<<6&4032|63&a)<2048||s>=55296&&s<=57343?"���":String.fromCharCode(s),t+=6):240==(248&o)&&t+9<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),l=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&l))?((s=o<<18&1835008|i<<12&258048|a<<6&4032|63&l)<65536||s>1114111?c+="����":(s-=65536,c+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),t+=9):c+="�";return c})}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+(e.hash||"")}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(l),c=["%","/","?",";","#"].concat(s),u=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,i,l,s,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var g=a.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=o.exec(m);if(v&&(i=(v=v[0]).toLowerCase(),this.protocol=v,m=m.substr(v.length)),(t||v||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(s="//"===m.substr(0,2))||v&&f[v]||(m=m.substr(2),this.slashes=!0)),!f[v]&&(s||v&&!h[v])){var b,x,y=-1;for(n=0;n<u.length;n++)-1!==(l=m.indexOf(u[n]))&&(-1===y||l<y)&&(y=l);for(-1!==(x=-1===y?m.lastIndexOf("@"):m.lastIndexOf("@",y))&&(b=m.slice(0,x),m=m.slice(x+1),this.auth=b),y=-1,n=0;n<c.length;n++)-1!==(l=m.indexOf(c[n]))&&(-1===y||l<y)&&(y=l);-1===y&&(y=m.length),":"===m[y-1]&&y--;var w=m.slice(0,y);m=m.slice(y),this.parseHost(w),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C){var k=this.hostname.split(/\./);for(n=0,r=k.length;n<r;n++){var S=k[n];if(S&&!S.match(d)){for(var T="",E=0,O=S.length;E<O;E++)S.charCodeAt(E)>127?T+="x":T+=S[E];if(!T.match(d)){var D=k.slice(0,n),M=k.slice(n+1),A=S.match(p);A&&(D.push(A[1]),M.unshift(A[2])),M.length&&(m=M.join(".")+m),this.hostname=D.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var I=m.indexOf("#");-1!==I&&(this.hash=m.substr(I),m=m.slice(0,I));var N=m.indexOf("?");return-1!==N&&(this.search=m.substr(N),m=m.slice(0,N)),m&&(this.pathname=m),h[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}},function(e,t,n){"use strict";t.Any=n(9),t.Cc=n(10),t.Cf=n(27),t.P=n(3),t.Z=n(11)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(29),t.parseLinkDestination=n(30),t.parseLinkTitle=n(31)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,l=-1,s=e.posMax,c=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=c,-1}return o&&(l=e.pos),e.pos=c,l}},function(e,t,n){"use strict";var r=n(0).unescapeAll;e.exports=function(e,t,n){var o,i,a=t,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return l;if(60===o)return l;if(62===o)return l.pos=t+1,l.str=r(e.slice(a+1,t)),l.ok=!0,l;92===o&&t+1<n?t+=2:t++}return l}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===o&&++i>32)return l;if(41===o){if(0===i)break;i--}t++}return a===t||0!==i||(l.str=r(e.slice(a,t)),l.lines=0,l.pos=t,l.ok=!0),l}},function(e,t,n){"use strict";var r=n(0).unescapeAll;e.exports=function(e,t,n){var o,i,a=0,l=t,s={ok:!1,pos:0,lines:0,str:""};if(t>=n)return s;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return s;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return s.pos=t+1,s.lines=a,s.str=r(e.slice(l+1,t)),s.ok=!0,s;if(40===o&&41===i)return s;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return s}},function(e,t,n){"use strict";var r=n(0).assign,o=n(0).unescapeAll,i=n(0).escapeHtml,a={};function l(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var l,s,c,u,d,p=e[t],f=p.info?o(p.info).trim():"",h="",m="";return f&&(h=(c=f.split(/(\s+)/g))[0],m=c.slice(2).join("")),0===(l=n.highlight&&n.highlight(p.content,h,m)||i(p.content)).indexOf("<pre")?l+"\n":f?(s=p.attrIndex("class"),u=p.attrs?p.attrs.slice():[],s<0?u.push(["class",n.langPrefix+h]):(u[s]=u[s].slice(),u[s][1]+=" "+n.langPrefix+h),d={attrs:u},"<pre><code"+a.renderAttrs(d)+">"+l+"</code></pre>\n"):"<pre><code"+a.renderAttrs(p)+">"+l+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},l.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},l.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},l.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,l=e.length;a<l;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},l.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type?r+=this.renderInlineAsText(e[o].children,t,n):"softbreak"===e[o].type&&(r+="\n");return r},l.prototype.render=function(e,t,n){var r,o,i,a="",l=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==l[i]?a+=l[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=l},function(e,t,n){"use strict";var r=n(4),o=[["normalize",n(34)],["block",n(35)],["inline",n(36)],["linkify",n(37)],["replacements",n(38)],["smartquotes",n(39)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(40),e.exports=i},function(e,t,n){"use strict";var r=/\r\n?|\n/g,o=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,"�"),e.src=t}},function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";var r=n(0).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w=e.tokens;if(e.md.options.linkify)for(n=0,i=w.length;n<i;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(m=0,t=(a=w[n].children).length-1;t>=0;t--)if("link_close"!==(s=a[t]).type){if("html_inline"===s.type&&(y=s.content,/^<a[>\s]/i.test(y)&&m>0&&m--,o(s.content)&&m++),!(m>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(d=s.content,x=e.md.linkify.match(d),c=[],h=s.level,f=0,u=0;u<x.length;u++)g=x[u].url,v=e.md.normalizeLink(g),e.md.validateLink(v)&&(b=x[u].text,b=x[u].schema?"mailto:"!==x[u].schema||/^mailto:/i.test(b)?e.md.normalizeLinkText(b):e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),(p=x[u].index)>f&&((l=new e.Token("text","",0)).content=d.slice(f,p),l.level=h,c.push(l)),(l=new e.Token("link_open","a",1)).attrs=[["href",v]],l.level=h++,l.markup="linkify",l.info="auto",c.push(l),(l=new e.Token("text","",0)).content=b,l.level=h,c.push(l),(l=new e.Token("link_close","a",-1)).level=--h,l.markup="linkify",l.info="auto",c.push(l),f=x[u].lastIndex);f<d.length&&((l=new e.Token("text","",0)).content=d.slice(f),l.level=h,c.push(l)),w[n].children=a=r(a,t,c)}}else for(t--;a[t].level!==s.level&&"link_open"!==a[t].type;)t--}},function(e,t,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"©",r:"®",p:"§",tm:"™"};function l(e,t){return a[t.toLowerCase()]}function s(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,l)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function c(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&s(e.tokens[t].children),r.test(e.tokens[t].content)&&c(e.tokens[t].children))}},function(e,t,n){"use strict";var r=n(0).isWhiteSpace,o=n(0).isPunctChar,i=n(0).isMdAsciiPunct,a=/['"]/,l=/['"]/g;function s(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function c(e,t){var n,a,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S,T,E,O;for(T=[],n=0;n<e.length;n++){for(a=e[n],f=e[n].level,k=T.length-1;k>=0&&!(T[k].level<=f);k--);if(T.length=k+1,"text"===a.type){d=0,p=(c=a.content).length;e:for(;d<p&&(l.lastIndex=d,u=l.exec(c));){if(w=C=!0,d=u.index+1,S="'"===u[0],m=32,u.index-1>=0)m=c.charCodeAt(u.index-1);else for(k=n-1;k>=0&&"softbreak"!==e[k].type&&"hardbreak"!==e[k].type;k--)if(e[k].content){m=e[k].content.charCodeAt(e[k].content.length-1);break}if(g=32,d<p)g=c.charCodeAt(d);else for(k=n+1;k<e.length&&"softbreak"!==e[k].type&&"hardbreak"!==e[k].type;k++)if(e[k].content){g=e[k].content.charCodeAt(0);break}if(v=i(m)||o(String.fromCharCode(m)),b=i(g)||o(String.fromCharCode(g)),x=r(m),(y=r(g))?w=!1:b&&(x||v||(w=!1)),x?C=!1:v&&(y||b||(C=!1)),34===g&&'"'===u[0]&&m>=48&&m<=57&&(C=w=!1),w&&C&&(w=v,C=b),w||C){if(C)for(k=T.length-1;k>=0&&(h=T[k],!(T[k].level<f));k--)if(h.single===S&&T[k].level===f){h=T[k],S?(E=t.md.options.quotes[2],O=t.md.options.quotes[3]):(E=t.md.options.quotes[0],O=t.md.options.quotes[1]),a.content=s(a.content,u.index,O),e[h.token].content=s(e[h.token].content,h.pos,E),d+=O.length-1,h.token===n&&(d+=E.length-1),p=(c=a.content).length,T.length=k;continue e}w?T.push({token:n,pos:u.index,single:S,level:f}):C&&S&&(a.content=s(a.content,u.index,"’"))}else S&&(a.content=s(a.content,u.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&c(e.tokens[t].children,e)}},function(e,t,n){"use strict";var r=n(5);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},function(e,t,n){"use strict";var r=n(4),o=[["table",n(42),["paragraph","reference"]],["code",n(43)],["fence",n(44),["paragraph","reference","blockquote","list"]],["blockquote",n(45),["paragraph","reference","blockquote","list"]],["hr",n(46),["paragraph","reference","blockquote","list"]],["list",n(47),["paragraph","reference","blockquote"]],["reference",n(48)],["html_block",n(49),["paragraph","reference","blockquote"]],["heading",n(51),["paragraph","reference","blockquote"]],["lheading",n(52)],["paragraph",n(53)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,l=!1,s=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=s){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),(a=e.line)<n&&e.isEmpty(a)&&(l=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(54),e.exports=i},function(e,t,n){"use strict";var r=n(0).isSpace;function o(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,o=e.length,i=!1,a=0,l="";for(t=e.charCodeAt(r);r<o;)124===t&&(i?(l+=e.substring(a,r-1),a=r):(n.push(l+e.substring(a,r)),l="",a=r+1)),i=92===t,r++,t=e.charCodeAt(r);return n.push(l+e.substring(a)),n}e.exports=function(e,t,n,a){var l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S;if(t+2>n)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((c=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(k=e.src.charCodeAt(c++))&&45!==k&&58!==k)return!1;if(c>=e.eMarks[p])return!1;if(124!==(S=e.src.charCodeAt(c++))&&45!==S&&58!==S&&!r(S))return!1;if(45===k&&r(S))return!1;for(;c<e.eMarks[p];){if(124!==(l=e.src.charCodeAt(c))&&45!==l&&58!==l&&!r(l))return!1;c++}for(f=(s=o(e,t+1)).split("|"),g=[],u=0;u<f.length;u++){if(!(v=f[u].trim())){if(0===u||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?g.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(s=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),0===(h=f.length)||h!==g.length)return!1;if(a)return!0;for(y=e.parentType,e.parentType="table",C=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=b=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<f.length;u++)m=e.push("th_open","th",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=f[u].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),p=t+2;p<n&&!(e.sCount[p]<e.blkIndent);p++){for(w=!1,u=0,d=C.length;u<d;u++)if(C[u](e,p,n,!0)){w=!0;break}if(w)break;if(!(s=o(e,p).trim()))break;if(e.sCount[p]-e.blkIndent>=4)break;for((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),p===t+2&&((m=e.push("tbody_open","tbody",1)).map=x=[t+2,0]),(m=e.push("tr_open","tr",1)).map=[p,p+1],u=0;u<h;u++)m=e.push("td_open","td",1),g[u]&&(m.attrs=[["style","text-align:"+g[u]]]),(m=e.push("inline","",0)).content=f[u]?f[u].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return x&&(m=e.push("tbody_close","tbody",-1),x[1]=p),m=e.push("table_close","table",-1),b[1]=p,e.parentType=y,e.line=p,!0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,i,a,l,s,c,u,d=!1,p=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>f)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(s=p,(i=(p=e.skipChars(p,o))-s)<3)return!1;if(u=e.src.slice(s,p),a=e.src.slice(p,f),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(l=t;!(++l>=n)&&!((p=s=e.bMarks[l]+e.tShift[l])<(f=e.eMarks[l])&&e.sCount[l]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.sCount[l]-e.blkIndent>=4||(p=e.skipChars(p,o))-s<i||(p=e.skipSpaces(p))<f)){d=!0;break}return i=e.sCount[t],e.line=l+(d?1:0),(c=e.push("fence","code",0)).info=a,c.content=e.getLines(t+1,l,i,!0),c.markup=u,c.map=[t,e.line],!0}},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t,n,o){var i,a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S,T=e.lineMax,E=e.bMarks[t]+e.tShift[t],O=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(E++))return!1;if(o)return!0;for(s=f=e.sCount[t]+1,32===e.src.charCodeAt(E)?(E++,s++,f++,i=!1,y=!0):9===e.src.charCodeAt(E)?(y=!0,(e.bsCount[t]+f)%4==3?(E++,s++,f++,i=!1):i=!0):y=!1,h=[e.bMarks[t]],e.bMarks[t]=E;E<O&&(a=e.src.charCodeAt(E),r(a));)9===a?f+=4-(f+e.bsCount[t]+(i?1:0))%4:f++,E++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(y?1:0),u=E>=O,b=[e.sCount[t]],e.sCount[t]=f-s,x=[e.tShift[t]],e.tShift[t]=E-e.bMarks[t],C=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",p=t+1;p<n&&(S=e.sCount[p]<e.blkIndent,!((E=e.bMarks[p]+e.tShift[p])>=(O=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(E++)||S){if(u)break;for(w=!1,l=0,c=C.length;l<c;l++)if(C[l](e,p,n,!0)){w=!0;break}if(w){e.lineMax=p,0!==e.blkIndent&&(h.push(e.bMarks[p]),m.push(e.bsCount[p]),x.push(e.tShift[p]),b.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}h.push(e.bMarks[p]),m.push(e.bsCount[p]),x.push(e.tShift[p]),b.push(e.sCount[p]),e.sCount[p]=-1}else{for(s=f=e.sCount[p]+1,32===e.src.charCodeAt(E)?(E++,s++,f++,i=!1,y=!0):9===e.src.charCodeAt(E)?(y=!0,(e.bsCount[p]+f)%4==3?(E++,s++,f++,i=!1):i=!0):y=!1,h.push(e.bMarks[p]),e.bMarks[p]=E;E<O&&(a=e.src.charCodeAt(E),r(a));)9===a?f+=4-(f+e.bsCount[p]+(i?1:0))%4:f++,E++;u=E>=O,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(y?1:0),b.push(e.sCount[p]),e.sCount[p]=f-s,x.push(e.tShift[p]),e.tShift[p]=E-e.bMarks[p]}for(g=e.blkIndent,e.blkIndent=0,(k=e.push("blockquote_open","blockquote",1)).markup=">",k.map=d=[t,0],e.md.block.tokenize(e,t,p),(k=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=T,e.parentType=v,d[1]=e.line,l=0;l<x.length;l++)e.bMarks[l+t]=h[l],e.tShift[l+t]=x[l],e.sCount[l+t]=b[l],e.bsCount[l+t]=m[l];return e.blkIndent=g,!0}},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t,n,o){var i,a,l,s,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(c++))&&45!==i&&95!==i)return!1;for(a=1;c<u;){if((l=e.src.charCodeAt(c++))!==i&&!r(l))return!1;l===i&&a++}return!(a<3)&&(o||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},function(e,t,n){"use strict";var r=n(0).isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C,k,S,T,E,O,D,M,A,I,N,R,F=!1,_=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(F=!0),(D=i(e,t))>=0){if(p=!0,A=e.bMarks[t]+e.tShift[t],b=Number(e.src.slice(A,D-1)),F&&1!==b)return!1}else{if(!((D=o(e,t))>=0))return!1;p=!1}if(F&&e.skipSpaces(D)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(D-1),r)return!0;for(g=e.tokens.length,p?(R=e.push("ordered_list_open","ol",1),1!==b&&(R.attrs=[["start",b]])):R=e.push("bullet_list_open","ul",1),R.map=m=[t,0],R.markup=String.fromCharCode(v),y=t,M=!1,N=e.md.block.ruler.getRules("list"),k=e.parentType,e.parentType="list";y<n;){for(O=D,x=e.eMarks[y],d=w=e.sCount[y]+D-(e.bMarks[t]+e.tShift[t]);O<x;){if(9===(a=e.src.charCodeAt(O)))w+=4-(w+e.bsCount[y])%4;else{if(32!==a)break;w++}O++}if((u=(l=O)>=x?1:w-d)>4&&(u=1),c=d+u,(R=e.push("list_item_open","li",1)).markup=String.fromCharCode(v),R.map=f=[t,0],p&&(R.info=e.src.slice(A,D-1)),E=e.tight,T=e.tShift[t],S=e.sCount[t],C=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[t]=l-e.bMarks[t],e.sCount[t]=w,l>=x&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!M||(_=!1),M=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=C,e.tShift[t]=T,e.sCount[t]=S,e.tight=E,(R=e.push("list_item_close","li",-1)).markup=String.fromCharCode(v),y=t=e.line,f[1]=y,l=e.bMarks[t],y>=n)break;if(e.sCount[y]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(I=!1,s=0,h=N.length;s<h;s++)if(N[s](e,y,n,!0)){I=!0;break}if(I)break;if(p){if((D=i(e,y))<0)break;A=e.bMarks[y]+e.tShift[y]}else if((D=o(e,y))<0)break;if(v!==e.src.charCodeAt(D-1))break}return(R=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(v),m[1]=y,e.line=y,e.parentType=k,_&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,g),!0}},function(e,t,n){"use strict";var r=n(0).normalizeReference,o=n(0).isSpace;e.exports=function(e,t,n,i){var a,l,s,c,u,d,p,f,h,m,g,v,b,x,y,w,C=0,k=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],T=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<S;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===S)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(c=e.lineMax,y=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";T<c&&!e.isEmpty(T);T++)if(!(e.sCount[T]-e.blkIndent>3||e.sCount[T]<0)){for(x=!1,d=0,p=y.length;d<p;d++)if(y[d](e,T,c,!0)){x=!0;break}if(x)break}for(S=(b=e.getLines(t,T,e.blkIndent,!1).trim()).length,k=1;k<S;k++){if(91===(a=b.charCodeAt(k)))return!1;if(93===a){h=k;break}(10===a||92===a&&++k<S&&10===b.charCodeAt(k))&&C++}if(h<0||58!==b.charCodeAt(h+1))return!1;for(k=h+2;k<S;k++)if(10===(a=b.charCodeAt(k)))C++;else if(!o(a))break;if(!(g=e.md.helpers.parseLinkDestination(b,k,S)).ok)return!1;if(u=e.md.normalizeLink(g.str),!e.md.validateLink(u))return!1;for(l=k=g.pos,s=C+=g.lines,v=k;k<S;k++)if(10===(a=b.charCodeAt(k)))C++;else if(!o(a))break;for(g=e.md.helpers.parseLinkTitle(b,k,S),k<S&&v!==k&&g.ok?(w=g.str,k=g.pos,C+=g.lines):(w="",k=l,C=s);k<S&&(a=b.charCodeAt(k),o(a));)k++;if(k<S&&10!==b.charCodeAt(k)&&w)for(w="",k=l,C=s;k<S&&(a=b.charCodeAt(k),o(a));)k++;return!(k<S&&10!==b.charCodeAt(k))&&!!(f=r(b.slice(1,h)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:w,href:u}),e.parentType=m,e.line=t+C+1),!0)}},function(e,t,n){"use strict";var r=n(50),o=n(12).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,l,s,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(s=e.src.slice(c,u),o=0;o<i.length&&!i[o][0].test(s);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(c=e.bMarks[a]+e.tShift[a],u=e.eMarks[a],s=e.src.slice(c,u),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,(l=e.push("html_block","",0)).map=[t,a],l.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t,n,o){var i,a,l,s,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(c))||c>=u)return!1;for(a=1,i=e.src.charCodeAt(++c);35===i&&c<u&&a<=6;)a++,i=e.src.charCodeAt(++c);return!(a>6||c<u&&!r(i))&&(o||(u=e.skipSpacesBack(u,c),(l=e.skipCharsBack(u,35,c))>c&&r(e.src.charCodeAt(l-1))&&(u=l),e.line=t+1,(s=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(c,u).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,l,s,c,u,d,p,f=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";f<n&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(s=e.bMarks[f]+e.tShift[f])<(c=e.eMarks[f])&&(45===(d=e.src.charCodeAt(s))||61===d)&&(s=e.skipChars(s,d),(s=e.skipSpaces(s))>=c)){u=61===d?1:2;break}if(!(e.sCount[f]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,f,n,!0)){o=!0;break}if(o)break}}return!!u&&(r=e.getLines(t,f,e.blkIndent,!1).trim(),e.line=f+1,(l=e.push("heading_open","h"+String(u),1)).markup=String.fromCharCode(d),l.map=[t,e.line],(l=e.push("inline","",0)).content=r,l.map=[t,e.line-1],l.children=[],(l=e.push("heading_close","h"+String(u),-1)).markup=String.fromCharCode(d),e.parentType=p,!0)}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,l,s=t+1,c=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;for(l=e.parentType,e.parentType="paragraph";s<u&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=c.length;o<i;o++)if(c[o](e,s,u,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=l,!0}},function(e,t,n){"use strict";var r=n(5),o=n(0).isSpace;function i(e,t,n,r){var i,a,l,s,c,u,d,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,l=s=u=d=0,c=(a=this.src).length;s<c;s++){if(i=a.charCodeAt(s),!p){if(o(i)){u++,9===i?d+=4-d%4:d++;continue}p=!0}10!==i&&s!==c-1||(10!==i&&s++,this.bMarks.push(l),this.eMarks.push(s),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),p=!1,u=0,d=0,l=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,l,s,c,u,d,p=e;if(e>=t)return"";for(u=new Array(t-e),i=0;p<t;p++,i++){for(a=0,d=s=this.bMarks[p],c=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];s<c&&a<n;){if(l=this.src.charCodeAt(s),o(l))9===l?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(s-d<this.tShift[p]))break;a++}s++}u[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(s,c):this.src.slice(s,c)}return u.join("")},i.prototype.Token=r,e.exports=i},function(e,t,n){"use strict";var r=n(4),o=[["text",n(56)],["newline",n(57)],["escape",n(58)],["backticks",n(59)],["strikethrough",n(13).tokenize],["emphasis",n(14).tokenize],["link",n(60)],["image",n(61)],["autolink",n(62)],["html_inline",n(63)],["entity",n(64)]],i=[["balance_pairs",n(65)],["strikethrough",n(13).postProcess],["emphasis",n(14).postProcess],["text_collapse",n(66)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,l=e.cache;if(void 0===l[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,l[r]=e.pos}else e.pos=l[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,l=new this.State(e,t,n,r);for(this.tokenize(l),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](l)},a.prototype.State=n(67),e.exports=a},function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var r=n(0).isSpace;e.exports=function(e,t){var n,o,i,a=e.pos;if(10!==e.src.charCodeAt(a))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(i=n-1;i>=1&&32===e.pending.charCodeAt(i-1);)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(a++;a<o&&r(e.src.charCodeAt(a));)a++;return e.pos=a,!0}},function(e,t,n){"use strict";for(var r=n(0).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){o[e.charCodeAt(0)]=1}),e.exports=function(e,t){var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==o[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<a&&(n=e.src.charCodeAt(i),r(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,l,s,c,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(n=u,u++,r=e.posMax;u<r&&96===e.src.charCodeAt(u);)u++;if(s=(o=e.src.slice(n,u)).length,e.backticksScanned&&(e.backticks[s]||0)<=n)return t||(e.pending+=o),e.pos+=s,!0;for(a=l=u;-1!==(a=e.src.indexOf("`",l));){for(l=a+1;l<r&&96===e.src.charCodeAt(l);)l++;if((c=l-a)===s)return t||((i=e.push("code_inline","code",0)).markup=o,i.content=e.src.slice(u,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=l,!0;e.backticks[c]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}},function(e,t,n){"use strict";var r=n(0).normalizeReference,o=n(0).isSpace;e.exports=function(e,t){var n,i,a,l,s,c,u,d,p="",f="",h=e.pos,m=e.posMax,g=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(s=e.pos+1,(l=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((c=l+1)<m&&40===e.src.charCodeAt(c)){for(v=!1,c++;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(c>=m)return!1;if(g=c,(u=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok){for(p=e.md.normalizeLink(u.str),e.md.validateLink(p)?c=u.pos:p="",g=c;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(u=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&u.ok)for(f=u.str,c=u.pos;c<m&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);}(c>=m||41!==e.src.charCodeAt(c))&&(v=!0),c++}if(v){if(void 0===e.env.references)return!1;if(c<m&&91===e.src.charCodeAt(c)?(g=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?a=e.src.slice(g,c++):c=l+1):c=l+1,a||(a=e.src.slice(s,l)),!(d=e.env.references[r(a)]))return e.pos=h,!1;p=d.href,f=d.title}return t||(e.pos=s,e.posMax=l,e.push("link_open","a",1).attrs=n=[["href",p]],f&&n.push(["title",f]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}},function(e,t,n){"use strict";var r=n(0).normalizeReference,o=n(0).isSpace;e.exports=function(e,t){var n,i,a,l,s,c,u,d,p,f,h,m,g,v="",b=e.pos,x=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(c=e.pos+2,(s=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=s+1)<x&&40===e.src.charCodeAt(u)){for(u++;u<x&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=x)return!1;for(g=u,(p=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(v=e.md.normalizeLink(p.str),e.md.validateLink(v)?u=p.pos:v=""),g=u;u<x&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(p=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<x&&g!==u&&p.ok)for(f=p.str,u=p.pos;u<x&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);else f="";if(u>=x||41!==e.src.charCodeAt(u))return e.pos=b,!1;u++}else{if(void 0===e.env.references)return!1;if(u<x&&91===e.src.charCodeAt(u)?(g=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?l=e.src.slice(g,u++):u=s+1):u=s+1,l||(l=e.src.slice(c,s)),!(d=e.env.references[r(l)]))return e.pos=b,!1;v=d.href,f=d.title}return t||(a=e.src.slice(c,s),e.md.inline.parse(a,e.md,e.env,m=[]),(h=e.push("image","img",0)).attrs=n=[["src",v],["alt",""]],h.children=m,h.content=a,f&&n.push(["title",f])),e.pos=u,e.posMax=x,!0}},function(e,t,n){"use strict";var r=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,o=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var n,i,a,l,s,c,u=e.pos;if(60!==e.src.charCodeAt(u))return!1;for(s=e.pos,c=e.posMax;;){if(++u>=c)return!1;if(60===(l=e.src.charCodeAt(u)))return!1;if(62===l)break}return n=e.src.slice(s+1,u),o.test(n)?(i=e.md.normalizeLink(n),!!e.md.validateLink(i)&&(t||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(n),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n.length+2,!0)):!!r.test(n)&&(i=e.md.normalizeLink("mailto:"+n),!!e.md.validateLink(i)&&(t||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(n),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n.length+2,!0))}},function(e,t,n){"use strict";var r=n(12).HTML_TAG_RE;e.exports=function(e,t){var n,o,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&!(33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&!!(o=e.src.slice(a).match(r))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+o[0].length)),e.pos+=o[0].length,!0))}},function(e,t,n){"use strict";var r=n(7),o=n(0).has,i=n(0).isValidEntityCode,a=n(0).fromCodePoint,l=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,c,u=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(u))return!1;if(u+1<d)if(35===e.src.charCodeAt(u+1)){if(c=e.src.slice(u).match(l))return t||(n="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),e.pending+=i(n)?a(n):a(65533)),e.pos+=c[0].length,!0}else if((c=e.src.slice(u).match(s))&&o(r,c[1]))return t||(e.pending+=r[c[1]]),e.pos+=c[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,l,s,c,u={},d=t.length;if(d){var p=0,f=-2,h=[];for(n=0;n<d;n++)if(o=t[n],h.push(0),t[p].marker===o.marker&&f===o.token-1||(p=n),f=o.token,o.length=o.length||0,o.close){for(u.hasOwnProperty(o.marker)||(u[o.marker]=[-1,-1,-1,-1,-1,-1]),a=u[o.marker][(o.open?3:0)+o.length%3],l=r=p-h[p]-1;r>a;r-=h[r]+1)if((i=t[r]).marker===o.marker&&i.open&&i.end<0&&(s=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(s=!0)),!s)){c=r>0&&!t[r-1].open?h[r-1]+1:0,h[n]=n-r+c,h[r]=c,o.open=!1,i.end=n,i.close=!1,l=-1,f=-2;break}-1!==l&&(u[o.marker][(o.open?3:0)+(o.length||0)%3]=l)}}}e.exports=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(0,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(0,n[t].delimiters)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},function(e,t,n){"use strict";var r=n(5),o=n(0).isWhiteSpace,i=n(0).isPunctChar,a=n(0).isMdAsciiPunct;function l(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}l.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},l.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},l.prototype.scanDelims=function(e,t){var n,r,l,s,c,u,d,p,f,h=e,m=!0,g=!0,v=this.posMax,b=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<v&&this.src.charCodeAt(h)===b;)h++;return l=h-e,r=h<v?this.src.charCodeAt(h):32,d=a(n)||i(String.fromCharCode(n)),f=a(r)||i(String.fromCharCode(r)),u=o(n),(p=o(r))?m=!1:f&&(u||d||(m=!1)),u?g=!1:d&&(p||f||(g=!1)),t?(s=m,c=g):(s=m&&(!g||d),c=g&&(!m||f)),{can_open:s,can_close:c,length:l}},l.prototype.Token=r,e.exports=l},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(e){var t=e.re=n(69)(e.__opts__),r=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var s=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return function(e){return"[object RegExp]"===o(e)}(n.validate)?r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate):i(n.validate)?r.validate=n.validate:c(t,n),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?c(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?c(t,n):s.push(t)}}),s.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function p(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||l.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=r({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},f.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,l,s;if(this.re.schema_test.test(e))for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(o=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(p(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(p(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},function(e,t,n){"use strict";e.exports=function(e){var t={};return t.src_Any=n(9).source,t.src_Cc=n(10).source,t.src_Z=n(11).source,t.src_P=n(3).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r&&r;i.global!==i&&i.window!==i&&i.self;var a,l=2147483647,s=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function h(e){throw new RangeError(d[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(u,".")).split("."),t).join(".")}function v(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return m(e,function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+f(e)}).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function y(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function w(e){var t,n,r,o,i,a,s,c,u,d,f,m=[],g=e.length,v=0,x=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&h("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=v,a=1,s=36;o>=g&&h("invalid-input"),((c=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>p((l-v)/a))&&h("overflow"),v+=c*a,!(c<(u=s<=w?1:s>=w+26?26:s-w));s+=36)a>p(l/(d=36-u))&&h("overflow"),a*=d;w=y(v-i,t=m.length+1,0==i),p(v/t)>l-x&&h("overflow"),x+=p(v/t),v%=t,m.splice(v++,0,x)}return b(m)}function C(e){var t,n,r,o,i,a,s,c,u,d,m,g,b,w,C,k=[];for(g=(e=v(e)).length,t=128,n=0,i=72,a=0;a<g;++a)(m=e[a])<128&&k.push(f(m));for(r=o=k.length,o&&k.push("-");r<g;){for(s=l,a=0;a<g;++a)(m=e[a])>=t&&m<s&&(s=m);for(s-t>p((l-n)/(b=r+1))&&h("overflow"),n+=(s-t)*b,t=s,a=0;a<g;++a)if((m=e[a])<t&&++n>l&&h("overflow"),m==t){for(c=n,u=36;!(c<(d=u<=i?1:u>=i+26?26:u-i));u+=36)C=c-d,w=36-d,k.push(f(x(d+C%w,0))),c=p(C/w);k.push(f(x(c,0))),i=y(n,b,r==o),n=0,++r}++n,++t}return k.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:b},decode:w,encode:C,toASCII:function(e){return g(e,function(e){return c.test(e)?"xn--"+C(e):e})},toUnicode:function(e){return g(e,function(e){return s.test(e)?w(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return a}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(71)(e),n(72))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var r=n(17),o=n(2);function i(e){var t=void 0===e?{}:e,n=t.Prism,i=t.baseConfig,a=t.codeBlockClass,l=t.codeHighlightExtensionMap,s=void 0===l?{}:l,c=Object(r.default)(i);return c.extend(function(e){e.set({highlight:Object(o.a)({codeHighlightExtensionMap:s,hasLang:function(e){return n.languages[e]},codeBlockClass:a,highlight:function(e,t){return n.highlight(e,n.languages[t],t)}})})}),{previewClass:"markdown-body",extend:function(e){c.extend(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e.apply(void 0,r.concat([n]))})},markdownParser:c.markdownParser}}},,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(77);t.default=function(e,t){void 0===t&&(t={});var n=t,i=n.extend,a=n.config,l=n.codeHighlightExtensionMap,s=function(e){var t=Object(o.default)({Prism:e.Prism,codeHighlightExtensionMap:e.codeHighlightExtensionMap||{},codeBlockClass:e.codeBlockClass||function(e){return"v-md-prism-"+e},baseConfig:Object(r.a)({link:{openLinkIcon:!0}},e.baseConfig)});return{previewClass:"vuepress-markdown-body",extend:function(e){t.extend(e)},markdownParser:t.markdownParser}}({Prism:n.Prism,baseConfig:a,codeHighlightExtensionMap:l});i&&s.extend(i),e.theme(s)}},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=(n=n||{}).marker||":",o=r.charCodeAt(0),i=r.length,a=n.validate||function(e){return e.trim().split(" ",2)[0]===t},l=n.render||function(e,n,r,o,i){return 1===e[n].nesting&&e[n].attrJoin("class",t),i.renderToken(e,n,r,o,i)};e.block.ruler.before("fence","container_"+t,function(e,n,l,s){var c,u,d,p,f,h,m,g,v=!1,b=e.bMarks[n]+e.tShift[n],x=e.eMarks[n];if(o!==e.src.charCodeAt(b))return!1;for(c=b+1;c<=x&&r[(c-b)%i]===e.src[c];c++);if((d=Math.floor((c-b)/i))<3)return!1;if(c-=(c-b)%i,p=e.src.slice(b,c),f=e.src.slice(c,x),!a(f,p))return!1;if(s)return!0;for(u=n;!(++u>=l)&&!((b=e.bMarks[u]+e.tShift[u])<(x=e.eMarks[u])&&e.sCount[u]<e.blkIndent);)if(o===e.src.charCodeAt(b)&&!(e.sCount[u]-e.blkIndent>=4)){for(c=b+1;c<=x&&r[(c-b)%i]===e.src[c];c++);if(!(Math.floor((c-b)/i)<d||(c-=(c-b)%i,(c=e.skipSpaces(c))<x))){v=!0;break}}return m=e.parentType,g=e.lineMax,e.parentType="container",e.lineMax=u,(h=e.push("container_"+t+"_open","div",1)).markup=p,h.block=!0,h.info=f,h.map=[n,u],e.md.block.tokenize(e,n+1,u),(h=e.push("container_"+t+"_close","div",-1)).markup=e.src.slice(b,c),h.block=!0,e.parentType=m,e.lineMax=g,e.line=u+(v?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules["container_"+t+"_open"]=l,e.renderer.rules["container_"+t+"_close"]=l}},,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(79),o=n(81),i=n.n(o);function a(e){return"string"==typeof e?function(){return e}:e}var l=function(e,t){var n,r,o=t.validate,l=t.marker,s=t.render,c=t.type,u=t.before,d=t.after,p=t.defaultTitle,f=void 0===p?c.toUpperCase():p,h=t.blockClass,m=void 0===h?"custom-block":h;c&&(s||(void 0!==u&&void 0!==d?(n=a(u),r=a(d)):(n=function(e){return'<div class="'+m+" "+c+'">'+(e?'<p class="'+m+'-title">'+e+"</p>":"")+"\n"},r=function(){return"</div>\n"}),s=function(e,t){var o=e[t],i=o.info.trim().slice(c.length).trim();return!i&&f&&(i="function"==typeof f?f():f),1===o.nesting?n(i):r(i)}),e.use(i.a,c,{render:s,validate:o,marker:l}))},s=function(e){e.extendMarkdown(function(t){var n=function(){var t=e.lang.config;return t.langConfig[t.lang]};l(t,{type:"tip",defaultTitle:function(){return n().tip.tip.defaultTitle},blockClass:"v-md-plugin-tip"}),l(t,{type:"warning",defaultTitle:function(){return n().tip.warning.defaultTitle},blockClass:"v-md-plugin-tip"}),l(t,{type:"danger",defaultTitle:function(){return n().tip.danger.defaultTitle},blockClass:"v-md-plugin-tip"}),l(t,{type:"details",defaultTitle:function(){return n().tip.details.defaultTitle},before:function(e){return'<details class="v-md-plugin-tip details">'+(e?"<summary>"+e+"</summary>":"")+"\n"},after:function(){return"</details>\n"}})}),e.lang.add({"zh-CN":{tip:{tip:{defaultTitle:"提示"},warning:{defaultTitle:"注意"},danger:{defaultTitle:"警告"},details:{defaultTitle:"详细信息"}}},"en-US":{tip:{tip:{defaultTitle:"TIP"},warning:{defaultTitle:"WARNING"},danger:{defaultTitle:"DANGER"},details:{defaultTitle:"DETAILS"}}}})};n(80),n(84),n(85),t.default={install:function(e,t){var n,o,i,a,l,c,u,d,p,f=(i=(o=void 0===n?{}:n).name,a=void 0===i?"tip":i,l=o.icon,c=void 0===l?"v-md-icon-tip":l,u=o.text,d=function(e,t){void 0===t&&(t="tip"),e.insert(function(n){var r=n||e.langConfig.tip[t].placeholder;return{text:"::: "+t+"\n  "+r+"\n:::",selected:r}})},p={title:function(e){return e.langConfig.tip.toolbar},icon:c,text:u,menus:[{name:"tip",text:function(e){return e.langConfig.tip.tip.toolbar},action:function(e){e.execCommand(a)}},{name:"warning",text:function(e){return e.langConfig.tip.warning.toolbar},action:function(e){e.execCommand(a,"warning")}},{name:"danger",text:function(e){return e.langConfig.tip.danger.toolbar},action:function(e){e.execCommand(a,"danger")}},{name:"details",text:function(e){return e.langConfig.tip.details.toolbar},action:function(e){e.execCommand(a,"details")}}]},{install:function(e){"v-md-editor"===e.name&&(e.command(a,d),e.toolbar(a,p),e.lang.add({"zh-CN":{tip:{toolbar:"插入提示",tip:{toolbar:"提示",placeholder:"在此输入内容"},warning:{toolbar:"注意",placeholder:"在此输入内容"},danger:{toolbar:"警告",placeholder:"在此输入内容"},details:{toolbar:"详细信息",placeholder:"内容"}}},"en-US":{tip:{toolbar:"Insert tip",tip:{toolbar:"Tip",placeholder:"Insert content"},warning:{toolbar:"Warning",placeholder:"Insert content"},danger:{toolbar:"Danger",placeholder:"Insert content"},details:{toolbar:"Details",placeholder:"Content"}}}})),e.vMdParser.use(s)}});e.vMdParser.use(r.default,t),e.use(f)}}}]).default})},393:function(e,t,n){"use strict";var r=n(6031),o=n(3515),i=n(9082),a=n(9441),l=!a("union")||!i("union");r({target:"Set",proto:!0,real:!0,forced:l},{union:o})},419:function(e,t,n){"use strict";var r=n(8621);e.exports=function(e){return r(e.length)}},480:function(e,t,n){"use strict";var r=n(2846);e.exports=function(e,t,n){for(var o=e.length-1;o>=0;o--)if(void 0!==e[o])try{n=r(e[o].iterator,t,n)}catch(i){t="throw",n=i}if("throw"===t)throw n;return n}},488:function(e,t,n){"use strict";var r=n(6031),o=n(1208),i=n(9441),a=!i("isDisjointFrom",function(e){return!e});r({target:"Set",proto:!0,real:!0,forced:a},{isDisjointFrom:o})},544:function(e,t,n){"use strict";var r=n(8115),o=n(4849),i=n(3560),a=n(3636),l=n(2634),s=n(943);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);var n,r=l(t),o=s(t),c=o.length,u=0;while(c>u)i.f(e,n=o[u++],r[n]);return e}},588:function(e,t,n){"use strict";var r=n(4875),o=n(8031),i=n(1833),a=n(6934),l=n(9792),s=n(4561),c=n(2351),u=n(9926),d=s.c2i,p=s.c2iUrl,f=r.SyntaxError,h=r.TypeError,m=o("".charAt),g=function(e,t){for(var n=e.length;t<n;t++){var r=m(e,t);if(" "!==r&&"\t"!==r&&"\n"!==r&&"\f"!==r&&"\r"!==r)break}return t},v=function(e,t,n){var r=e.length;r<4&&(e+=2===r?"AA":"A");var o=(t[m(e,0)]<<18)+(t[m(e,1)]<<12)+(t[m(e,2)]<<6)+t[m(e,3)],i=[o>>16&255,o>>8&255,255&o];if(2===r){if(n&&0!==i[1])throw new f("Extra bits");return[i[0]]}if(3===r){if(n&&0!==i[2])throw new f("Extra bits");return[i[0],i[1]]}return i},b=function(e,t,n){for(var r=t.length,o=0;o<r;o++)e[n+o]=t[o];return n+r};e.exports=function(e,t,n,r){a(e),i(t);var o="base64"===c(t)?d:p,s=t?t.lastChunkHandling:void 0;if(void 0===s&&(s="loose"),"loose"!==s&&"strict"!==s&&"stop-before-partial"!==s)throw new h("Incorrect `lastChunkHandling` option");n&&u(n.buffer);var x=e.length,y=n||[],w=0,C=0,k="",S=0;if(r)while(1){if(S=g(e,S),S===x){if(k.length>0){if("stop-before-partial"===s)break;if("loose"!==s)throw new f("Missing padding");if(1===k.length)throw new f("Malformed padding: exactly one additional character");w=b(y,v(k,o,!1),w)}C=x;break}var T=m(e,S);if(++S,"="===T){if(k.length<2)throw new f("Padding is too early");if(S=g(e,S),2===k.length){if(S===x){if("stop-before-partial"===s)break;throw new f("Malformed padding: only one =")}"="===m(e,S)&&(++S,S=g(e,S))}if(S<x)throw new f("Unexpected character after padding");w=b(y,v(k,o,"strict"===s),w),C=x;break}if(!l(o,T))throw new f("Unexpected character");var E=r-w;if(1===E&&2===k.length||2===E&&3===k.length)break;if(k+=T,4===k.length&&(w=b(y,v(k,o,!1),w),k="",C=S,w===r))break}return{bytes:y,read:C,written:w}}},668:function(e,t,n){"use strict";var r=n(1595),o=n(9241),i=n(8083),a=n(1135);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(l){}return function(n,r){return i(n),a(r),o(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},672:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(var o in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==r||!0!==a.enumerable)return!1}return!0}},689:function(e,t,n){(function(e){e(n(2276))})(function(e){"use strict";e.defineMode("javascript",function(t,n){var r,o,i=t.indentUnit,a=n.statementIndent,l=n.jsonld,s=n.json||l,c=!1!==n.trackScope,u=n.typescript,d=n.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),o=e("keyword d"),i=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:o,break:o,continue:o,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),f=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e){var t,n=!1,r=!1;while(null!=(t=e.next())){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function g(e,t,n){return r=e,o=n,t}function v(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=b(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return g("number","number");if("."==n&&e.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return g(n);if("="==n&&e.eat(">"))return g("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return g("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),g("number","number");if("/"==n)return e.eat("*")?(t.tokenize=x,x(e,t)):e.eat("/")?(e.skipToEnd(),g("comment","comment")):ot(e,t,1)?(m(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),g("regexp","string-2")):(e.eat("="),g("operator","operator",e.current()));if("`"==n)return t.tokenize=y,y(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),g("meta","meta");if("#"==n&&e.eatWhile(d))return g("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),g("comment","comment");if(f.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?g("."):g("operator","operator",e.current());if(d.test(n)){e.eatWhile(d);var r=e.current();if("."!=t.lastType){if(p.propertyIsEnumerable(r)){var o=p[r];return g(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return g("async","keyword",r)}return g("variable","variable",r)}}function b(e){return function(t,n){var r,o=!1;if(l&&"@"==t.peek()&&t.match(h))return n.tokenize=v,g("jsonld-keyword","meta");while(null!=(r=t.next())){if(r==e&&!o)break;o=!o&&"\\"==r}return o||(n.tokenize=v),g("string","string")}}function x(e,t){var n,r=!1;while(n=e.next()){if("/"==n&&r){t.tokenize=v;break}r="*"==n}return g("comment","comment")}function y(e,t){var n,r=!1;while(null!=(n=e.next())){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=v;break}r=!r&&"\\"==n}return g("quasi","string-2",e.current())}var w="([{}])";function C(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,i=!1,a=n-1;a>=0;--a){var l=e.string.charAt(a),s=w.indexOf(l);if(s>=0&&s<3){if(!o){++a;break}if(0==--o){"("==l&&(i=!0);break}}else if(s>=3&&s<6)++o;else if(d.test(l))i=!0;else if(/["'\/`]/.test(l))for(;;--a){if(0==a)return;var c=e.string.charAt(a-1);if(c==l&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(i&&!o){++a;break}}i&&!o&&(t.fatArrowAt=a)}}var k={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function S(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function T(e,t){if(!c)return!1;for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function E(e,t,n,r,o){var i=e.cc;O.state=e,O.stream=o,O.marked=null,O.cc=i,O.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);while(1){var a=i.length?i.pop():s?q:H;if(a(n,r)){while(i.length&&i[i.length-1].lex)i.pop()();return O.marked?O.marked:"variable"==n&&T(e,r)?"variable-2":t}}}var O={state:null,column:null,marked:null,cc:null};function D(){for(var e=arguments.length-1;e>=0;e--)O.cc.push(arguments[e])}function M(){return D.apply(null,arguments),!0}function A(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function I(e){var t=O.state;if(O.marked="def",c){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=N(e,t.context);if(null!=r)return void(t.context=r)}else if(!A(e,t.localVars))return void(t.localVars=new _(e,t.localVars));n.globalVars&&!A(e,t.globalVars)&&(t.globalVars=new _(e,t.globalVars))}}function N(e,t){if(t){if(t.block){var n=N(e,t.prev);return n?n==t.prev?t:new F(n,t.vars,!0):null}return A(e,t.vars)?t:new F(t.prev,new _(e,t.vars),!1)}return null}function R(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function F(e,t,n){this.prev=e,this.vars=t,this.block=n}function _(e,t){this.name=e,this.next=t}var P=new _("this",new _("arguments",null));function j(){O.state.context=new F(O.state.context,O.state.localVars,!1),O.state.localVars=P}function $(){O.state.context=new F(O.state.context,O.state.localVars,!0),O.state.localVars=null}function L(){O.state.localVars=O.state.context.vars,O.state.context=O.state.context.prev}function z(e,t){var n=function(){var n=O.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new S(r,O.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function V(){var e=O.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function B(e){function t(n){return n==e?M():";"==e||"}"==n||")"==n||"]"==n?D():M(t)}return t}function H(e,t){return"var"==e?M(z("vardef",t),De,B(";"),V):"keyword a"==e?M(z("form"),G,H,V):"keyword b"==e?M(z("form"),H,V):"keyword d"==e?O.stream.match(/^\s*$/,!1)?M():M(z("stat"),K,B(";"),V):"debugger"==e?M(B(";")):"{"==e?M(z("}"),$,pe,V,L):";"==e?M():"if"==e?("else"==O.state.lexical.info&&O.state.cc[O.state.cc.length-1]==V&&O.state.cc.pop()(),M(z("form"),G,H,V,Fe)):"function"==e?M($e):"for"==e?M(z("form"),$,_e,H,L,V):"class"==e||u&&"interface"==t?(O.marked="keyword",M(z("form","class"==e?e:t),He,V)):"variable"==e?u&&"declare"==t?(O.marked="keyword",M(H)):u&&("module"==t||"enum"==t||"type"==t)&&O.stream.match(/^\s*\w/,!1)?(O.marked="keyword","enum"==t?M(tt):"type"==t?M(ze,B("operator"),ve,B(";")):M(z("form"),Me,B("{"),z("}"),pe,V,V)):u&&"namespace"==t?(O.marked="keyword",M(z("form"),q,H,V)):u&&"abstract"==t?(O.marked="keyword",M(H)):M(z("stat"),ie):"switch"==e?M(z("form"),G,B("{"),z("}","switch"),$,pe,V,V,L):"case"==e?M(q,B(":")):"default"==e?M(B(":")):"catch"==e?M(z("form"),j,W,H,V,L):"export"==e?M(z("stat"),Ge,V):"import"==e?M(z("stat"),Ke,V):"async"==e?M(H):"@"==t?M(q,H):D(z("stat"),q,B(";"),V)}function W(e){if("("==e)return M(Ve,B(")"))}function q(e,t){return Y(e,t,!1)}function U(e,t){return Y(e,t,!0)}function G(e){return"("!=e?D():M(z(")"),K,B(")"),V)}function Y(e,t,n){if(O.state.fatArrowAt==O.stream.start){var r=n?te:ee;if("("==e)return M(j,z(")"),ue(Ve,")"),V,B("=>"),r,L);if("variable"==e)return D(j,Me,B("=>"),r,L)}var o=n?Z:X;return k.hasOwnProperty(e)?M(o):"function"==e?M($e,o):"class"==e||u&&"interface"==t?(O.marked="keyword",M(z("form"),Be,V)):"keyword c"==e||"async"==e?M(n?U:q):"("==e?M(z(")"),K,B(")"),V,o):"operator"==e||"spread"==e?M(n?U:q):"["==e?M(z("]"),et,V,o):"{"==e?de(le,"}",null,o):"quasi"==e?D(J,o):"new"==e?M(ne(n)):M()}function K(e){return e.match(/[;\}\)\],]/)?D():D(q)}function X(e,t){return","==e?M(K):Z(e,t,!1)}function Z(e,t,n){var r=0==n?X:Z,o=0==n?q:U;return"=>"==e?M(j,n?te:ee,L):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?M(r):u&&"<"==t&&O.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(z(">"),ue(ve,">"),V,r):"?"==t?M(q,B(":"),o):M(o):"quasi"==e?D(J,r):";"!=e?"("==e?de(U,")","call",r):"."==e?M(ae,r):"["==e?M(z("]"),K,B("]"),V,r):u&&"as"==t?(O.marked="keyword",M(ve,r)):"regexp"==e?(O.state.lastType=O.marked="operator",O.stream.backUp(O.stream.pos-O.stream.start-1),M(o)):void 0:void 0}function J(e,t){return"quasi"!=e?D():"${"!=t.slice(t.length-2)?M(J):M(K,Q)}function Q(e){if("}"==e)return O.marked="string-2",O.state.tokenize=y,M(J)}function ee(e){return C(O.stream,O.state),D("{"==e?H:q)}function te(e){return C(O.stream,O.state),D("{"==e?H:U)}function ne(e){return function(t){return"."==t?M(e?oe:re):"variable"==t&&u?M(Te,e?Z:X):D(e?U:q)}}function re(e,t){if("target"==t)return O.marked="keyword",M(X)}function oe(e,t){if("target"==t)return O.marked="keyword",M(Z)}function ie(e){return":"==e?M(V,H):D(X,B(";"),V)}function ae(e){if("variable"==e)return O.marked="property",M()}function le(e,t){return"async"==e?(O.marked="property",M(le)):"variable"==e||"keyword"==O.style?(O.marked="property","get"==t||"set"==t?M(se):(u&&O.state.fatArrowAt==O.stream.start&&(n=O.stream.match(/^\s*:\s*/,!1))&&(O.state.fatArrowAt=O.stream.pos+n[0].length),M(ce))):"number"==e||"string"==e?(O.marked=l?"property":O.style+" property",M(ce)):"jsonld-keyword"==e?M(ce):u&&R(t)?(O.marked="keyword",M(le)):"["==e?M(q,fe,B("]"),ce):"spread"==e?M(U,ce):"*"==t?(O.marked="keyword",M(le)):":"==e?D(ce):void 0;var n}function se(e){return"variable"!=e?D(ce):(O.marked="property",M($e))}function ce(e){return":"==e?M(U):"("==e?D($e):void 0}function ue(e,t,n){function r(o,i){if(n?n.indexOf(o)>-1:","==o){var a=O.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),M(function(n,r){return n==t||r==t?D():D(e)},r)}return o==t||i==t?M():n&&n.indexOf(";")>-1?D(e):M(B(t))}return function(n,o){return n==t||o==t?M():D(e,r)}}function de(e,t,n){for(var r=3;r<arguments.length;r++)O.cc.push(arguments[r]);return M(z(t,n),ue(e,t),V)}function pe(e){return"}"==e?M():D(H,pe)}function fe(e,t){if(u){if(":"==e)return M(ve);if("?"==t)return M(fe)}}function he(e,t){if(u&&(":"==e||"in"==t))return M(ve)}function me(e){if(u&&":"==e)return O.stream.match(/^\s*\w+\s+is\b/,!1)?M(q,ge,ve):M(ve)}function ge(e,t){if("is"==t)return O.marked="keyword",M()}function ve(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(O.marked="keyword",M("typeof"==t?U:ve)):"variable"==e||"void"==t?(O.marked="type",M(Se)):"|"==t||"&"==t?M(ve):"string"==e||"number"==e||"atom"==e?M(Se):"["==e?M(z("]"),ue(ve,"]",","),V,Se):"{"==e?M(z("}"),xe,V,Se):"("==e?M(ue(ke,")"),be,Se):"<"==e?M(ue(ve,">"),ve):"quasi"==e?D(we,Se):void 0}function be(e){if("=>"==e)return M(ve)}function xe(e){return e.match(/[\}\)\]]/)?M():","==e||";"==e?M(xe):D(ye,xe)}function ye(e,t){return"variable"==e||"keyword"==O.style?(O.marked="property",M(ye)):"?"==t||"number"==e||"string"==e?M(ye):":"==e?M(ve):"["==e?M(B("variable"),he,B("]"),ye):"("==e?D(Le,ye):e.match(/[;\}\)\],]/)?void 0:M()}function we(e,t){return"quasi"!=e?D():"${"!=t.slice(t.length-2)?M(we):M(ve,Ce)}function Ce(e){if("}"==e)return O.marked="string-2",O.state.tokenize=y,M(we)}function ke(e,t){return"variable"==e&&O.stream.match(/^\s*[?:]/,!1)||"?"==t?M(ke):":"==e?M(ve):"spread"==e?M(ke):D(ve)}function Se(e,t){return"<"==t?M(z(">"),ue(ve,">"),V,Se):"|"==t||"."==e||"&"==t?M(ve):"["==e?M(ve,B("]"),Se):"extends"==t||"implements"==t?(O.marked="keyword",M(ve)):"?"==t?M(ve,B(":"),ve):void 0}function Te(e,t){if("<"==t)return M(z(">"),ue(ve,">"),V,Se)}function Ee(){return D(ve,Oe)}function Oe(e,t){if("="==t)return M(ve)}function De(e,t){return"enum"==t?(O.marked="keyword",M(tt)):D(Me,fe,Ne,Re)}function Me(e,t){return u&&R(t)?(O.marked="keyword",M(Me)):"variable"==e?(I(t),M()):"spread"==e?M(Me):"["==e?de(Ie,"]"):"{"==e?de(Ae,"}"):void 0}function Ae(e,t){return"variable"!=e||O.stream.match(/^\s*:/,!1)?("variable"==e&&(O.marked="property"),"spread"==e?M(Me):"}"==e?D():"["==e?M(q,B("]"),B(":"),Ae):M(B(":"),Me,Ne)):(I(t),M(Ne))}function Ie(){return D(Me,Ne)}function Ne(e,t){if("="==t)return M(U)}function Re(e){if(","==e)return M(De)}function Fe(e,t){if("keyword b"==e&&"else"==t)return M(z("form","else"),H,V)}function _e(e,t){return"await"==t?M(_e):"("==e?M(z(")"),Pe,V):void 0}function Pe(e){return"var"==e?M(De,je):"variable"==e?M(je):D(je)}function je(e,t){return")"==e?M():";"==e?M(je):"in"==t||"of"==t?(O.marked="keyword",M(q,je)):D(q,je)}function $e(e,t){return"*"==t?(O.marked="keyword",M($e)):"variable"==e?(I(t),M($e)):"("==e?M(j,z(")"),ue(Ve,")"),V,me,H,L):u&&"<"==t?M(z(">"),ue(Ee,">"),V,$e):void 0}function Le(e,t){return"*"==t?(O.marked="keyword",M(Le)):"variable"==e?(I(t),M(Le)):"("==e?M(j,z(")"),ue(Ve,")"),V,me,L):u&&"<"==t?M(z(">"),ue(Ee,">"),V,Le):void 0}function ze(e,t){return"keyword"==e||"variable"==e?(O.marked="type",M(ze)):"<"==t?M(z(">"),ue(Ee,">"),V):void 0}function Ve(e,t){return"@"==t&&M(q,Ve),"spread"==e?M(Ve):u&&R(t)?(O.marked="keyword",M(Ve)):u&&"this"==e?M(fe,Ne):D(Me,fe,Ne)}function Be(e,t){return"variable"==e?He(e,t):We(e,t)}function He(e,t){if("variable"==e)return I(t),M(We)}function We(e,t){return"<"==t?M(z(">"),ue(Ee,">"),V,We):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(O.marked="keyword"),M(u?ve:q,We)):"{"==e?M(z("}"),qe,V):void 0}function qe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&R(t))&&O.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(O.marked="keyword",M(qe)):"variable"==e||"keyword"==O.style?(O.marked="property",M(Ue,qe)):"number"==e||"string"==e?M(Ue,qe):"["==e?M(q,fe,B("]"),Ue,qe):"*"==t?(O.marked="keyword",M(qe)):u&&"("==e?D(Le,qe):";"==e||","==e?M(qe):"}"==e?M():"@"==t?M(q,qe):void 0}function Ue(e,t){if("!"==t)return M(Ue);if("?"==t)return M(Ue);if(":"==e)return M(ve,Ne);if("="==t)return M(U);var n=O.state.lexical.prev,r=n&&"interface"==n.info;return D(r?Le:$e)}function Ge(e,t){return"*"==t?(O.marked="keyword",M(Qe,B(";"))):"default"==t?(O.marked="keyword",M(q,B(";"))):"{"==e?M(ue(Ye,"}"),Qe,B(";")):D(H)}function Ye(e,t){return"as"==t?(O.marked="keyword",M(B("variable"))):"variable"==e?D(U,Ye):void 0}function Ke(e){return"string"==e?M():"("==e?D(q):"."==e?D(X):D(Xe,Ze,Qe)}function Xe(e,t){return"{"==e?de(Xe,"}"):("variable"==e&&I(t),"*"==t&&(O.marked="keyword"),M(Je))}function Ze(e){if(","==e)return M(Xe,Ze)}function Je(e,t){if("as"==t)return O.marked="keyword",M(Xe)}function Qe(e,t){if("from"==t)return O.marked="keyword",M(q)}function et(e){return"]"==e?M():D(ue(U,"]"))}function tt(){return D(z("form"),Me,B("{"),z("}"),ue(nt,"}"),V,V)}function nt(){return D(Me,Ne)}function rt(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function ot(e,t,n){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return j.lex=$.lex=!0,L.lex=!0,V.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new S((e||0)-i,0,"block",!1),localVars:n.localVars,context:n.localVars&&new F(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),C(e,t)),t.tokenize!=x&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=o&&"--"!=o?r:"incdec",E(t,n,r,o,e))},indent:function(t,r){if(t.tokenize==x||t.tokenize==y)return e.Pass;if(t.tokenize!=v)return 0;var o,l=r&&r.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==V)s=s.prev;else if(u!=Fe&&u!=L)break}while(("stat"==s.type||"form"==s.type)&&("}"==l||(o=t.cc[t.cc.length-1])&&(o==X||o==Z)&&!/^[,\.=+\-*:?[\(]/.test(r)))s=s.prev;a&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var d=s.type,p=l==d;return"vardef"==d?s.indented+("operator"==t.lastType||","==t.lastType?s.info.length+1:0):"form"==d&&"{"==l?s.indented:"form"==d?s.indented+i:"stat"==d?s.indented+(rt(t,r)?a||i:0):"switch"!=s.info||p||0==n.doubleIndentSwitch?s.align?s.column+(p?0:1):s.indented+(p?0:i):s.indented+(/^(?:case|default)\b/.test(r)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",blockCommentContinue:s?null:" * ",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:l,jsonMode:s,expressionAllowed:ot,skipExpression:function(t){E(t,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},766:function(e,t,n){"use strict";var r=n(2774);e.exports=Function.prototype.bind||r},856:function(e,t,n){"use strict";var r=n(6676),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new o("Incorrect invocation")}},876:function(e,t,n){"use strict";var r,o=n(5049),i=n(8802),a=n(6738),l=n(6631),s=n(3275),c=n(5143),u=n(3040),d=n(992),p=n(3435),f=n(6509),h=n(3749),m=n(9439),g=n(5781),v=n(8883),b=n(1590),x=Function,y=function(e){try{return x('"use strict"; return ('+e+").constructor;")()}catch(t){}},w=n(4396),C=n(7536),k=function(){throw new u},S=w?function(){try{return k}catch(e){try{return w(arguments,"callee").get}catch(t){return k}}}():k,T=n(1018)(),E=n(8125),O=n(2277),D=n(2815),M=n(9963),A=n(3599),I={},N="undefined"!==typeof Uint8Array&&E?E(Uint8Array):r,R={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":T&&E?E([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"===typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":I,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&E?E(E([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&T&&E?E((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":l,"%ReferenceError%":s,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&T&&E?E((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&E?E(""[Symbol.iterator]()):r,"%Symbol%":T?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":S,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet,"%Function.prototype.call%":A,"%Function.prototype.apply%":M,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":O,"%Math.abs%":p,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":v,"%Math.sign%":b,"%Reflect.getPrototypeOf%":D};if(E)try{null.error}catch(Y){var F=E(E(Y));R["%Error.prototype%"]=F}var _=function e(t){var n;if("%AsyncFunction%"===t)n=y("async function () {}");else if("%GeneratorFunction%"===t)n=y("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=y("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&E&&(n=E(o.prototype))}return R[t]=n,n},P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j=n(766),$=n(5038),L=j.call(A,Array.prototype.concat),z=j.call(M,Array.prototype.splice),V=j.call(A,String.prototype.replace),B=j.call(A,String.prototype.slice),H=j.call(A,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,U=function(e){var t=B(e,0,1),n=B(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return V(e,W,function(e,t,n,o){r[r.length]=n?V(o,q,"$1"):t||e}),r},G=function(e,t){var n,r=e;if($(P,r)&&(n=P[r],r="%"+n[0]+"%"),$(R,r)){var o=R[r];if(o===I&&(o=_(r)),"undefined"===typeof o&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=U(e),r=n.length>0?n[0]:"",o=G("%"+r+"%",t),i=o.name,a=o.value,l=!1,s=o.alias;s&&(r=s[0],z(n,L([0,1],s)));for(var d=1,p=!0;d<n.length;d+=1){var f=n[d],h=B(f,0,1),m=B(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&p||(l=!0),r+="."+f,i="%"+r+"%",$(R,i))a=R[i];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(w&&d+1>=n.length){var g=w(a,f);p=!!g,a=p&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=$(a,f),a=a[f];p&&!l&&(R[i]=a)}}return a}},887:function(e,t,n){"use strict";var r=n(8072),o=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new o("Can't convert number to bigint");return BigInt(t)}},888:function(e,t,n){"use strict";var r=n(4875),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},926:function(e,t,n){"use strict";var r=n(3636),o=n(2846);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){o(e,"throw",a)}}},943:function(e,t,n){"use strict";var r=n(3985),o=n(5788);e.exports=Object.keys||function(e){return r(e,o)}},992:function(e){"use strict";e.exports=URIError},1018:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,o=n(672);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},1135:function(e,t,n){"use strict";var r=n(7534),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i("Can't set "+o(e)+" as a prototype")}},1156:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},1208:function(e,t,n){"use strict";var r=n(9283),o=n(8965).has,i=n(8371),a=n(2368),l=n(7993),s=n(306),c=n(2846);e.exports=function(e){var t=r(this),n=a(e);if(i(t)<=n.size)return!1!==l(t,function(e){if(n.includes(e))return!1},!0);var u=n.getIterator();return!1!==s(u,function(e){if(o(t,e))return c(u,"normal",!1)})}},1317:function(e,t){"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},1395:function(e,t,n){"use strict";var r=n(4875),o=n(5326),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},1425:function(e,t,n){(function(e){e(n(2276))})(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var o,i,a=t.indentUnit,l=n.tokenHooks,s=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},d=n.mediaValueKeywords||{},p=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},h=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},b=n.allowNested,x=n.lineComment,y=!0===n.supportsAtComponent,w=!1!==t.highlightNonStandardPropertyKeywords;function C(e,t){return o=t,e}function k(e,t){var n=e.next();if(l[n]){var r=l[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),C("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?C(null,"compare"):'"'==n||"'"==n?(t.tokenize=S(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),C("atom","hash")):"!"==n?(e.match(/^\s*\w*/),C("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),C("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?C(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?C("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?C(null,n):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=T),C("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),C("property","word")):C(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),C("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?C("variable-2","variable-definition"):C("variable-2","variable")):e.match(/^\w+-/)?C("meta","meta"):void 0}function S(e){return function(t,n){var r,o=!1;while(null!=(r=t.next())){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),C("string","string")}}function T(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=S(")"),C(null,"(")}function E(e,t,n){this.type=e,this.indent=t,this.prev=n}function O(e,t,n,r){return e.context=new E(n,t.indentation()+(!1===r?0:a),e.context),n}function D(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function M(e,t,n){return N[n.context.type](e,t,n)}function A(e,t,n,r){for(var o=r||1;o>0;o--)n.context=n.context.prev;return M(e,t,n)}function I(e){var t=e.current().toLowerCase();i=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var N={top:function(e,t,n){if("{"==e)return O(n,t,"block");if("}"==e&&n.context.prev)return D(n);if(y&&/@component/i.test(e))return O(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return O(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return O(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return O(n,t,"at");if("hash"==e)i="builtin";else if("word"==e)i="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return O(n,t,"interpolation");if(":"==e)return"pseudo";if(b&&"("==e)return O(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return p.hasOwnProperty(r)?(i="property","maybeprop"):f.hasOwnProperty(r)?(i=w?"string-2":"property","maybeprop"):b?(i=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(i+=" error","maybeprop")}return"meta"==e?"block":b||"hash"!=e&&"qualifier"!=e?N.top(e,t,n):(i="error","block")},maybeprop:function(e,t,n){return":"==e?O(n,t,"prop"):M(e,t,n)},prop:function(e,t,n){if(";"==e)return D(n);if("{"==e&&b)return O(n,t,"propBlock");if("}"==e||"{"==e)return A(e,t,n);if("("==e)return O(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t.current())){if("word"==e)I(t);else if("interpolation"==e)return O(n,t,"interpolation")}else i+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?D(n):"word"==e?(i="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?A(e,t,n):")"==e?D(n):"("==e?O(n,t,"parens"):"interpolation"==e?O(n,t,"interpolation"):("word"==e&&I(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(i="variable-3",n.context.type):M(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&s.hasOwnProperty(t.current())?(i="tag",n.context.type):N.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return O(n,t,"atBlock_parens");if("}"==e||";"==e)return A(e,t,n);if("{"==e)return D(n)&&O(n,t,b?"block":"top");if("interpolation"==e)return O(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();i="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":p.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?w?"string-2":"property":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?A(e,t,n):"{"==e?D(n)&&O(n,t,b?"block":"top",!1):("word"==e&&(i="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?D(n):"{"==e||"}"==e?A(e,t,n,2):N.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?O(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(i="variable","restricted_atBlock_before"):M(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,D(n)):"word"==e?(i="@font-face"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(i="variable","keyframes"):"{"==e?O(n,t,"top"):M(e,t,n)},at:function(e,t,n){return";"==e?D(n):"{"==e||"}"==e?A(e,t,n):("word"==e?i="tag":"hash"==e&&(i="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?D(n):"{"==e||";"==e?A(e,t,n):("word"==e?i="variable":"variable"!=e&&"("!=e&&")"!=e&&(i="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new E(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||k)(e,t);return n&&"object"==typeof n&&(o=n[1],n=n[0]),i=n,"comment"!=o&&(t.state=N[t.state](o,e,t)),i},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),o=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(o=Math.max(0,n.indent-a)):(n=n.prev,o=n.indent)),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:x,fold:"brace"}});var n=["domain","regexp","url","url-prefix"],r=t(n),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],l=t(a),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],c=t(s),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(u),p=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],f=t(p),h=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],m=t(h),g=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],v=t(g),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=t(b),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=t(y),C=n.concat(o).concat(a).concat(s).concat(u).concat(p).concat(b).concat(y);function k(e,t){var n,r=!1;while(null!=(n=e.next())){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",C),e.defineMIME("text/css",{documentTypes:r,mediaTypes:i,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:m,counterDescriptors:v,colorKeywords:x,valueKeywords:w,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:x,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:x,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=k,k(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:i,mediaFeatures:l,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:m,counterDescriptors:v,colorKeywords:x,valueKeywords:w,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k,k(e,t))}},name:"css",helperType:"gss"})})},1491:function(e,t,n){"use strict";var r=n(2699),o=n(7375),i=n(6378),a=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,s(t)?t:[t])},d=Date.prototype.toISOString,p=i["default"],f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:i.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},m={},g=function e(t,n,i,a,l,c,d,p,g,v,b,x,y,w,C,k,S,T){var E=t,O=T,D=0,M=!1;while(void 0!==(O=O.get(m))&&!M){var A=O.get(t);if(D+=1,"undefined"!==typeof A){if(A===D)throw new RangeError("Cyclic object value");M=!0}"undefined"===typeof O.get(m)&&(D=0)}if("function"===typeof v?E=v(n,E):E instanceof Date?E=y(E):"comma"===i&&s(E)&&(E=o.maybeMap(E,function(e){return e instanceof Date?y(e):e})),null===E){if(c)return g&&!k?g(n,f.encoder,S,"key",w):n;E=""}if(h(E)||o.isBuffer(E)){if(g){var I=k?n:g(n,f.encoder,S,"key",w);return[C(I)+"="+C(g(E,f.encoder,S,"value",w))]}return[C(n)+"="+C(String(E))]}var N,R=[];if("undefined"===typeof E)return R;if("comma"===i&&s(E))k&&g&&(E=o.maybeMap(E,g)),N=[{value:E.length>0?E.join(",")||null:void 0}];else if(s(v))N=v;else{var F=Object.keys(E);N=b?F.sort(b):F}var _=p?n.replace(/\./g,"%2E"):n,P=a&&s(E)&&1===E.length?_+"[]":_;if(l&&s(E)&&0===E.length)return P+"[]";for(var j=0;j<N.length;++j){var $=N[j],L="object"===typeof $&&"undefined"!==typeof $.value?$.value:E[$];if(!d||null!==L){var z=x&&p?$.replace(/\./g,"%2E"):$,V=s(E)?"function"===typeof i?i(P,z):P:P+(x?"."+z:"["+z+"]");T.set(t,D);var B=r();B.set(m,T),u(R,e(L,V,i,a,l,c,d,p,"comma"===i&&k&&s(E)?null:g,v,b,x,y,w,C,k,S,B))}}return R},v=function(e){if(!e)return f;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i["default"];if("undefined"!==typeof e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,o=i.formatters[n],c=f.filter;if(("function"===typeof e.filter||s(e.filter))&&(c=e.filter),r=e.arrayFormat in l?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u="undefined"===typeof e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?f.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:c,format:n,formatter:o,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};e.exports=function(e,t){var n,o,i=e,a=v(t);"function"===typeof a.filter?(o=a.filter,i=o("",i)):s(a.filter)&&(o=a.filter,n=o);var c=[];if("object"!==typeof i||null===i)return"";var d=l[a.arrayFormat],p="comma"===d&&a.commaRoundTrip;n||(n=Object.keys(i)),a.sort&&n.sort(a.sort);for(var f=r(),h=0;h<n.length;++h){var m=n[h];a.skipNulls&&null===i[m]||u(c,g(i[m],m,d,p,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,f))}var b=c.join(a.delimiter),x=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},1590:function(e,t,n){"use strict";var r=n(4914);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},1595:function(e,t,n){"use strict";var r=n(8031),o=n(43);e.exports=function(e,t,n){try{return r(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},1600:function(e,t,n){"use strict";var r=n(876),o=n(6467),i=n(1624),a=n(3040),l=r("%Map%",!0),s=o("Map.prototype.get",!0),c=o("Map.prototype.set",!0),u=o("Map.prototype.has",!0),d=o("Map.prototype.delete",!0),p=o("Map.prototype.size",!0);e.exports=!!l&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+i(e))},delete:function(t){if(e){var n=d(e,t);return 0===p(e)&&(e=void 0),n}return!1},get:function(t){if(e)return s(e,t)},has:function(t){return!!e&&u(e,t)},set:function(t,n){e||(e=new l),c(e,t,n)}};return t}},1624:function(e,t,n){var r="function"===typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"===typeof o.get?o.get:null,a=r&&Map.prototype.forEach,l="function"===typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&s&&"function"===typeof s.get?s.get:null,u=l&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype,p=d?WeakMap.prototype.has:null,f="function"===typeof WeakSet&&WeakSet.prototype,h=f?WeakSet.prototype.has:null,m="function"===typeof WeakRef&&WeakRef.prototype,g=m?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,b=Object.prototype.toString,x=Function.prototype.toString,y=String.prototype.match,w=String.prototype.slice,C=String.prototype.replace,k=String.prototype.toUpperCase,S=String.prototype.toLowerCase,T=RegExp.prototype.test,E=Array.prototype.concat,O=Array.prototype.join,D=Array.prototype.slice,M=Math.floor,A="function"===typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"===typeof Symbol&&"object"===typeof Symbol.iterator,F="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R||"symbol")?Symbol.toStringTag:null,_=Object.prototype.propertyIsEnumerable,P=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function j(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||T.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-M(-e):M(e);if(r!==e){var o=String(r),i=w.call(t,o.length+1);return C.call(o,n,"$&_")+"."+C.call(C.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C.call(t,n,"$&_")}var $=n(253),L=$.custom,z=Q(L)?L:null,V={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function H(e,t,n){var r=n.quoteStyle||t,o=V[r];return o+e+o}function W(e){return C.call(String(e),/"/g,"&quot;")}function q(e){return!F||!("object"===typeof e&&(F in e||"undefined"!==typeof e[F]))}function U(e){return"[object Array]"===re(e)&&q(e)}function G(e){return"[object Date]"===re(e)&&q(e)}function Y(e){return"[object RegExp]"===re(e)&&q(e)}function K(e){return"[object Error]"===re(e)&&q(e)}function X(e){return"[object String]"===re(e)&&q(e)}function Z(e){return"[object Number]"===re(e)&&q(e)}function J(e){return"[object Boolean]"===re(e)&&q(e)}function Q(e){if(R)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!N)return!1;try{return N.call(e),!0}catch(t){}return!1}function ee(e){if(!e||"object"!==typeof e||!A)return!1;try{return A.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,o,l){var s=r||{};if(ne(s,"quoteStyle")&&!ne(V,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ne(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!ne(s,"customInspect")||s.customInspect;if("boolean"!==typeof d&&"symbol"!==d)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ne(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ne(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return pe(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var f=String(t);return p?j(t,f):f}if("bigint"===typeof t){var h=String(t)+"n";return p?j(t,h):h}var m="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof o&&(o=0),o>=m&&m>0&&"object"===typeof t)return U(t)?"[Array]":"[Object]";var g=be(s,o);if("undefined"===typeof l)l=[];else if(ie(l,t)>=0)return"[Circular]";function b(t,n,r){if(n&&(l=D.call(l),l.push(n)),r){var i={depth:s.depth};return ne(s,"quoteStyle")&&(i.quoteStyle=s.quoteStyle),e(t,i,o+1,l)}return e(t,s,o+1,l)}if("function"===typeof t&&!Y(t)){var x=oe(t),y=ye(t,b);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(y.length>0?" { "+O.call(y,", ")+" }":"")}if(Q(t)){var k=R?C.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(t);return"object"!==typeof t||R?k:he(k)}if(de(t)){for(var T="<"+S.call(String(t.nodeName)),M=t.attributes||[],I=0;I<M.length;I++)T+=" "+M[I].name+"="+H(W(M[I].value),"double",s);return T+=">",t.childNodes&&t.childNodes.length&&(T+="..."),T+="</"+S.call(String(t.nodeName))+">",T}if(U(t)){if(0===t.length)return"[]";var L=ye(t,b);return g&&!ve(L)?"["+xe(L,g)+"]":"[ "+O.call(L,", ")+" ]"}if(K(t)){var B=ye(t,b);return"cause"in Error.prototype||!("cause"in t)||_.call(t,"cause")?0===B.length?"["+String(t)+"]":"{ ["+String(t)+"] "+O.call(B,", ")+" }":"{ ["+String(t)+"] "+O.call(E.call("[cause]: "+b(t.cause),B),", ")+" }"}if("object"===typeof t&&d){if(z&&"function"===typeof t[z]&&$)return $(t,{depth:m-o});if("symbol"!==d&&"function"===typeof t.inspect)return t.inspect()}if(ae(t)){var q=[];return a&&a.call(t,function(e,n){q.push(b(n,t,!0)+" => "+b(e,t))}),ge("Map",i.call(t),q,g)}if(ce(t)){var te=[];return u&&u.call(t,function(e){te.push(b(e,t))}),ge("Set",c.call(t),te,g)}if(le(t))return me("WeakMap");if(ue(t))return me("WeakSet");if(se(t))return me("WeakRef");if(Z(t))return he(b(Number(t)));if(ee(t))return he(b(A.call(t)));if(J(t))return he(v.call(t));if(X(t))return he(b(String(t)));if("undefined"!==typeof window&&t===window)return"{ [object Window] }";if("undefined"!==typeof globalThis&&t===globalThis||"undefined"!==typeof n.g&&t===n.g)return"{ [object globalThis] }";if(!G(t)&&!Y(t)){var fe=ye(t,b),we=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,Ce=t instanceof Object?"":"null prototype",ke=!we&&F&&Object(t)===t&&F in t?w.call(re(t),8,-1):Ce?"Object":"",Se=we||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"",Te=Se+(ke||Ce?"["+O.call(E.call([],ke||[],Ce||[]),": ")+"] ":"");return 0===fe.length?Te+"{}":g?Te+"{"+xe(fe,g)+"}":Te+"{ "+O.call(fe,", ")+" }"}return String(t)};var te=Object.prototype.hasOwnProperty||function(e){return e in this};function ne(e,t){return te.call(e,t)}function re(e){return b.call(e)}function oe(e){if(e.name)return e.name;var t=y.call(x.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function ie(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ae(e){if(!i||!e||"object"!==typeof e)return!1;try{i.call(e);try{c.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function le(e){if(!p||!e||"object"!==typeof e)return!1;try{p.call(e,p);try{h.call(e,h)}catch(t){return!0}return e instanceof WeakMap}catch(n){}return!1}function se(e){if(!g||!e||"object"!==typeof e)return!1;try{return g.call(e),!0}catch(t){}return!1}function ce(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function ue(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{p.call(e,p)}catch(t){return!0}return e instanceof WeakSet}catch(n){}return!1}function de(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof HTMLElement&&e instanceof HTMLElement||"string"===typeof e.nodeName&&"function"===typeof e.getAttribute)}function pe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return pe(w.call(e,0,t.maxStringLength),t)+r}var o=B[t.quoteStyle||"single"];o.lastIndex=0;var i=C.call(C.call(e,o,"\\$1"),/[\x00-\x1f]/g,fe);return H(i,"single",t)}function fe(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+k.call(t.toString(16))}function he(e){return"Object("+e+")"}function me(e){return e+" { ? }"}function ge(e,t,n,r){var o=r?xe(n,r):O.call(n,", ");return e+" ("+t+") {"+o+"}"}function ve(e){for(var t=0;t<e.length;t++)if(ie(e[t],"\n")>=0)return!1;return!0}function be(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=O.call(Array(e.indent+1)," ")}return{base:n,prev:O.call(Array(t+1),n)}}function xe(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+O.call(e,","+n)+"\n"+t.prev}function ye(e,t){var n=U(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=ne(e,o)?t(e[o],e):""}var i,a="function"===typeof I?I(e):[];if(R){i={};for(var l=0;l<a.length;l++)i["$"+a[l]]=a[l]}for(var s in e)ne(e,s)&&(n&&String(Number(s))===s&&s<e.length||R&&i["$"+s]instanceof Symbol||(T.call(/[^\w$]/,s)?r.push(t(s,e)+": "+t(e[s],e)):r.push(s+": "+t(e[s],e))));if("function"===typeof I)for(var c=0;c<a.length;c++)_.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},1678:function(e,t,n){"use strict";var r=n(7434),o=n(8031),i=n(79),a=n(9542),l=n(3636),s=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(l(e)),n=a.f;return n?s(t,n(e)):t}},1752:function(e,t,n){"use strict";var r=n(2634),o=n(4605),i=n(419),a=function(e){return function(t,n,a){var l=r(t),s=i(l);if(0===s)return!e&&-1;var c,u=o(a,s);if(e&&n!==n){while(s>u)if(c=l[u++],c!==c)return!0}else for(;s>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},1786:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},1789:function(e,t,n){"use strict";var r=n(6387);e.exports=Array.isArray||function(e){return"Array"===r(e)}},1833:function(e,t,n){"use strict";var r=n(9241),o=String,i=TypeError;e.exports=function(e){if(void 0===e||r(e))return e;throw new i(o(e)+" is not an object or undefined")}},1940:function(e,t,n){"use strict";var r=n(8031),o=n(5336),i=n(5326),a=n(9792),l=n(8115),s=n(9485).CONFIGURABLE,c=n(9347),u=n(7328),d=u.enforce,p=u.get,f=String,h=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),b=l&&!o(function(){return 8!==h(function(){},"length",{value:8}).length}),x=String(String).split("String"),y=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(l?h(e,"name",{value:t,configurable:!0}):e.name=t),b&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?l&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=d(e);return a(r,"source")||(r.source=v(x,"string"==typeof t?t:"")),e};Function.prototype.toString=y(function(){return i(this)&&p(this).source||c(this)},"toString")},1944:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},2094:function(e,t,n){"use strict";var r=n(2940),o=n(8287),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},2106:function(e,t,n){"use strict";var r=n(242),o=n(5336),i=n(4875),a=i.String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},2110:function(e){e.exports=function(e,t,n){const r=void 0!==e.__vccOpts?e.__vccOpts:e,o=r[t];if(void 0===o)r[t]=n;else for(var i in n)void 0===o[i]&&(o[i]=n[i])}},2211:function(e,t,n){"use strict";var r=n(8171),o=n(3342),i=n(3636),a=n(9868),l=n(5816),s=n(419),c=n(6676),u=n(9024),d=n(6356),p=n(2846),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var g,v,b,x,y,w,C,k=n&&n.that,S=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),D=r(t,k),M=function(e){return g&&p(g,"normal"),new h(!0,e)},A=function(e){return S?(i(e),O?D(e[0],e[1],M):D(e[0],e[1])):O?D(e,M):D(e)};if(T)g=e.iterator;else if(E)g=e;else{if(v=d(e),!v)throw new f(a(e)+" is not iterable");if(l(v)){for(b=0,x=s(e);x>b;b++)if(y=A(e[b]),y&&c(m,y))return y;return new h(!1)}g=u(e,v)}w=T?e.next:g.next;while(!(C=o(w,g)).done){try{y=A(C.value)}catch(I){p(g,"throw",I)}if("object"==typeof y&&y&&c(m,y))return y}return new h(!1)}},2276:function(e){(function(t,n){e.exports=n()})(0,function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=r||o||i,l=a&&(r?document.documentMode||6:+(i||o)[1]),s=!i&&/WebKit\//.test(e),c=s&&/Qt\/\d+\.\d+/.test(e),u=!i&&/Chrome\/(\d+)/.exec(e),d=u&&+u[1],p=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),m=/PhantomJS/.test(e),g=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),b=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),x=g||/Mac/.test(t),y=/\bCrOS\b/.test(e),w=/win/i.test(t),C=p&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(p=!1,s=!0);var k=x&&(c||p&&(null==C||C<12.11)),S=n||a&&l>=9;function T(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var E,O=function(e,t){var n=e.className,r=T(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function M(e,t){return D(e).appendChild(t)}function A(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function I(e,t,n,r){var o=A(e,t,n,r);return o.setAttribute("role","presentation"),o}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function R(e){var t;try{t=e.activeElement}catch(n){t=e.body||null}while(t&&t.shadowRoot&&t.shadowRoot.activeElement)t=t.shadowRoot.activeElement;return t}function F(e,t){var n=e.className;T(t).test(n)||(e.className+=(n?" ":"")+t)}function _(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!T(n[r]).test(t)&&(t+=" "+n[r]);return t}E=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(o){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var P=function(e){e.select()};function j(e){return e.display.wrapper.ownerDocument}function $(e){return j(e).defaultView}function L(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function z(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function V(e,t,n,r,o){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var i=r||0,a=o||0;;){var l=e.indexOf("\t",i);if(l<0||l>=t)return a+(t-i);a+=l-i,a+=n-a%n,i=l+1}}g?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(P=function(e){try{e.select()}catch(t){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=L(this.onTimeout,this)};function H(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var W=50,q={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},G={origin:"*mouse"},Y={origin:"+move"};function K(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,o+=n-o%n,r=i+1,o>=t)return r}}var X=[""];function Z(e){while(X.length<=e)X.push(J(X)+" ");return X[e]}function J(e){return e[e.length-1]}function Q(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function ee(e,t,n){var r=0,o=n(t);while(r<e.length&&n(e[r])<=o)r++;e.splice(r,0,t)}function te(){}function ne(e,t){var n;return Object.create?n=Object.create(e):(te.prototype=e,n=new te),t&&z(t,n),n}var re=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function oe(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||re.test(e))}function ie(e,t){return t?!!(t.source.indexOf("\\w")>-1&&oe(e))||t.test(e):oe(e)}function ae(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var le=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function se(e){return e.charCodeAt(0)>=768&&le.test(e)}function ce(e,t,n){while((n<0?t>0:t<e.length)&&se(e.charAt(t)))t+=n;return t}function ue(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}function de(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}var pe=null;function fe(e,t,n){var r;pe=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:pe=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:pe=o)}return null!=r?r:pe}var he=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,i=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,d=[],p=0;p<u;++p)d.push(n(e.charCodeAt(p)));for(var f=0,h=c;f<u;++f){var m=d[f];"m"==m?d[f]=h:h=m}for(var g=0,v=c;g<u;++g){var b=d[g];"1"==b&&"r"==v?d[g]="n":i.test(b)&&(v=b,"r"==b&&(d[g]="R"))}for(var x=1,y=d[0];x<u-1;++x){var w=d[x];"+"==w&&"1"==y&&"1"==d[x+1]?d[x]="1":","!=w||y!=d[x+1]||"1"!=y&&"n"!=y||(d[x]=y),y=w}for(var C=0;C<u;++C){var k=d[C];if(","==k)d[C]="N";else if("%"==k){var S=void 0;for(S=C+1;S<u&&"%"==d[S];++S);for(var T=C&&"!"==d[C-1]||S<u&&"1"==d[S]?"1":"N",E=C;E<S;++E)d[E]=T;C=S-1}}for(var O=0,D=c;O<u;++O){var M=d[O];"L"==D&&"1"==M?d[O]="L":i.test(M)&&(D=M)}for(var A=0;A<u;++A)if(o.test(d[A])){var I=void 0;for(I=A+1;I<u&&o.test(d[I]);++I);for(var N="L"==(A?d[A-1]:c),R="L"==(I<u?d[I]:c),F=N==R?N?"L":"R":c,_=A;_<I;++_)d[_]=F;A=I-1}for(var P,j=[],$=0;$<u;)if(a.test(d[$])){var L=$;for(++$;$<u&&a.test(d[$]);++$);j.push(new s(0,L,$))}else{var z=$,V=j.length,B="rtl"==t?1:0;for(++$;$<u&&"L"!=d[$];++$);for(var H=z;H<$;)if(l.test(d[H])){z<H&&(j.splice(V,0,new s(1,z,H)),V+=B);var W=H;for(++H;H<$&&l.test(d[H]);++H);j.splice(V,0,new s(2,W,H)),V+=B,z=H}else++H;z<$&&j.splice(V,0,new s(1,z,$))}return"ltr"==t&&(1==j[0].level&&(P=e.match(/^\s+/))&&(j[0].from=P[0].length,j.unshift(new s(0,0,P[0].length))),1==J(j).level&&(P=e.match(/\s+$/))&&(J(j).to-=P[0].length,j.push(new s(0,u-P[0].length,u)))),"rtl"==t?j.reverse():j}}();function me(e,t){var n=e.order;return null==n&&(n=e.order=he(e.text,t)),n}var ge=[],ve=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ge).concat(n)}};function be(e,t){return e._handlers&&e._handlers[t]||ge}function xe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=H(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function ye(e,t){var n=be(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function we(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ye(e,n||t.type,e,t),Oe(t)||t.codemirrorIgnore}function Ce(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==H(n,t[r])&&n.push(t[r])}function ke(e,t){return be(e,t).length>0}function Se(e){e.prototype.on=function(e,t){ve(this,e,t)},e.prototype.off=function(e,t){xe(this,e,t)}}function Te(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ee(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Oe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function De(e){Te(e),Ee(e)}function Me(e){return e.target||e.srcElement}function Ae(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),x&&e.ctrlKey&&1==t&&(t=3),t}var Ie,Ne,Re=function(){if(a&&l<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function Fe(e){if(null==Ie){var t=A("span","​");M(e,A("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ie=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&l<8))}var n=Ie?A("span","​"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function _e(e){if(null!=Ne)return Ne;var t=M(e,document.createTextNode("AخA")),n=E(t,0,1).getBoundingClientRect(),r=E(t,1,2).getBoundingClientRect();return D(e),!(!n||n.left==n.right)&&(Ne=r.right-n.right<3)}var Pe=3!="\n\nb".split(/\n/).length?function(e){var t=0,n=[],r=e.length;while(t<=r){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},je=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},$e=function(){var e=A("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Le=null;function ze(e){if(null!=Le)return Le;var t=M(e,A("span","x")),n=t.getBoundingClientRect(),r=E(t,0,1).getBoundingClientRect();return Le=Math.abs(n.left-r.left)>1}var Ve={},Be={};function He(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ve[e]=t}function We(e,t){Be[e]=t}function qe(e){if("string"==typeof e&&Be.hasOwnProperty(e))e=Be[e];else if(e&&"string"==typeof e.name&&Be.hasOwnProperty(e.name)){var t=Be[e.name];"string"==typeof t&&(t={name:t}),e=ne(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return qe("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return qe("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=qe(t);var n=Ve[t.name];if(!n)return Ue(e,"text/plain");var r=n(e,t);if(Ge.hasOwnProperty(t.name)){var o=Ge[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Ge={};function Ye(e,t){var n=Ge.hasOwnProperty(e)?Ge[e]:Ge[e]={};z(t,n)}function Ke(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function Xe(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Ze(e,t,n){return!e.startState||e.startState(t,n)}var Je=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Qe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function et(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o}),r}function tt(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function nt(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function rt(e){if(null==e.parent)return null;for(var t=e.parent,n=H(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;;++o){if(r.children[o]==t)break;n+=r.children[o].chunkSize()}return n+t.first}function ot(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a],s=l.height;if(t<s)break;t-=s}return n+a}function it(e,t){return t>=e.first&&t<e.first+e.size}function at(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function lt(e,t,n){if(void 0===n&&(n=null),!(this instanceof lt))return new lt(e,t,n);this.line=e,this.ch=t,this.sticky=n}function st(e,t){return e.line-t.line||e.ch-t.ch}function ct(e,t){return e.sticky==t.sticky&&0==st(e,t)}function ut(e){return lt(e.line,e.ch)}function dt(e,t){return st(e,t)<0?t:e}function pt(e,t){return st(e,t)<0?e:t}function ft(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return lt(e.first,0);var n=e.first+e.size-1;return t.line>n?lt(n,Qe(e,n).text.length):mt(t,Qe(e,t.line).text.length)}function mt(e,t){var n=e.ch;return null==n||n>t?lt(e.line,t):n<0?lt(e.line,0):e}function gt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ht(e,t[r]);return n}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},Je.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},Je.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=V(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return V(this.string,null,this.tabSize)-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e},i=this.string.substr(this.pos,e.length);if(o(i)==o(e))return!1!==t&&(this.pos+=e.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var vt=function(e,t){this.state=e,this.lookAhead=t},bt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function xt(e,t,n,r){var o=[e.state.modeGen],i={};Dt(e,t.text,e.doc.mode,n,function(e,t){return o.push(e,t)},i,r);for(var a=n.state,l=function(r){n.baseTokens=o;var l=e.state.overlays[r],s=1,c=0;n.state=!0,Dt(e,t.text,l.mode,n,function(e,t){var n=s;while(c<e){var r=o[s];r>e&&o.splice(s,1,e,o[s+1],r),s+=2,c=Math.min(e,r)}if(t)if(l.opaque)o.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}},i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},s=0;s<e.state.overlays.length;++s)l(s);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function yt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=wt(e,rt(t)),o=t.text.length>e.options.maxHighlightLength&&Ke(e.doc.mode,r.state),i=xt(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function wt(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new bt(r,!0,t);var i=Mt(e,t,n),a=i>r.first&&Qe(r,i-1).stateAfter,l=a?bt.fromSaved(r,a,i):new bt(r,Ze(r.mode),i);return r.iter(i,t,function(n){Ct(e,n.text,l);var r=l.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?l.save():null,l.nextLine()}),n&&(r.modeFrontier=l.line),l}function Ct(e,t,n,r){var o=e.doc.mode,i=new Je(t,e.options.tabSize,n);i.start=i.pos=r||0,""==t&&kt(o,n.state);while(!i.eol())St(o,i,n.state),i.start=i.pos}function kt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Xe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function St(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=Xe(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}bt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},bt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},bt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},bt.fromSaved=function(e,t,n){return t instanceof vt?new bt(e,Ke(e.mode,t.state),n,t.lookAhead):new bt(e,Ke(e.mode,t),n)},bt.prototype.save=function(e){var t=!1!==e?Ke(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new vt(t,this.maxLookAhead):t};var Tt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Et(e,t,n,r){var o,i=e.doc,a=i.mode;t=ht(i,t);var l,s=Qe(i,t.line),c=wt(e,t.line,n),u=new Je(s.text,e.options.tabSize,c);r&&(l=[]);while((r||u.pos<t.ch)&&!u.eol())u.start=u.pos,o=St(a,u,c.state),r&&l.push(new Tt(u,o,Ke(i.mode,c.state)));return r?l:new Tt(u,o,c.state)}function Ot(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Dt(e,t,n,r,o,i,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,c=0,u=null,d=new Je(t,e.options.tabSize,r),p=e.options.addModeClass&&[null];""==t&&Ot(kt(n,r.state),i);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&Ct(e,t,r,d.pos),d.pos=t.length,s=null):s=Ot(St(n,d,r.state,p),i),p){var f=p[0].name;f&&(s="m-"+(s?f+" "+s:f))}if(!l||u!=s){while(c<d.start)c=Math.min(d.start,c+5e3),o(c,u);u=s}d.start=d.pos}while(c<d.pos){var h=Math.min(d.pos,c+5e3);o(h,u),c=h}}function Mt(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=i.first)return i.first;var s=Qe(i,l-1),c=s.stateAfter;if(c&&(!n||l+(c instanceof vt?c.lookAhead:0)<=i.modeFrontier))return l;var u=V(s.text,null,e.options.tabSize);(null==o||r>u)&&(o=l-1,r=u)}return o}function At(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Qe(e,r).stateAfter;if(o&&(!(o instanceof vt)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var It=!1,Nt=!1;function Rt(){It=!0}function Ft(){Nt=!0}function _t(e,t,n){this.marker=e,this.from=t,this.to=n}function Pt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function jt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function $t(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Lt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,l=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);if(l||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new _t(a,i.from,s?null:i.to))}}return r}function zt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,l=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);if(l||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new _t(a,s?null:i.from-t,null==i.to?null:i.to-t))}}return r}function Vt(e,t){if(t.full)return null;var n=it(e,t.from.line)&&Qe(e,t.from.line).markedSpans,r=it(e,t.to.line)&&Qe(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==st(t.from,t.to),l=Lt(n,o,a),s=zt(r,i,a),c=1==t.text.length,u=J(t.text).length+(c?o:0);if(l)for(var d=0;d<l.length;++d){var p=l[d];if(null==p.to){var f=Pt(s,p.marker);f?c&&(p.to=null==f.to?null:f.to+u):p.to=o}}if(s)for(var h=0;h<s.length;++h){var m=s[h];if(null!=m.to&&(m.to+=u),null==m.from){var g=Pt(l,m.marker);g||(m.from=u,c&&(l||(l=[])).push(m))}else m.from+=u,c&&(l||(l=[])).push(m)}l&&(l=Bt(l)),s&&s!=l&&(s=Bt(s));var v=[l];if(!c){var b,x=t.text.length-2;if(x>0&&l)for(var y=0;y<l.length;++y)null==l[y].to&&(b||(b=[])).push(new _t(l[y].marker,null,null));for(var w=0;w<x;++w)v.push(b);v.push(s)}return v}function Bt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ht(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=H(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],l=a.find(0),s=0;s<o.length;++s){var c=o[s];if(!(st(c.to,l.from)<0||st(c.from,l.to)>0)){var u=[s,1],d=st(c.from,l.from),p=st(c.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:l.from}),(p>0||!a.inclusiveRight&&!p)&&u.push({from:l.to,to:c.to}),o.splice.apply(o,u),s+=u.length-3}}return o}function Wt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function qt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Ut(e){return e.inclusiveLeft?-1:0}function Gt(e){return e.inclusiveRight?1:0}function Yt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=st(r.from,o.from)||Ut(e)-Ut(t);if(i)return-i;var a=st(r.to,o.to)||Gt(e)-Gt(t);return a||t.id-e.id}function Kt(e,t){var n,r=Nt&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)o=r[i],o.marker.collapsed&&null==(t?o.from:o.to)&&(!n||Yt(n,o.marker)<0)&&(n=o.marker);return n}function Xt(e){return Kt(e,!0)}function Zt(e){return Kt(e,!1)}function Jt(e,t){var n,r=Nt&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||Yt(n,i.marker)<0)&&(n=i.marker)}return n}function Qt(e,t,n,r,o){var i=Qe(e,t),a=Nt&&i.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var c=s.marker.find(0),u=st(c.from,n)||Ut(s.marker)-Ut(o),d=st(c.to,r)||Gt(s.marker)-Gt(o);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(s.marker.inclusiveRight&&o.inclusiveLeft?st(c.to,n)>=0:st(c.to,n)>0)||u>=0&&(s.marker.inclusiveRight&&o.inclusiveLeft?st(c.from,r)<=0:st(c.from,r)<0)))return!0}}}function en(e){var t;while(t=Xt(e))e=t.find(-1,!0).line;return e}function tn(e){var t;while(t=Zt(e))e=t.find(1,!0).line;return e}function nn(e){var t,n;while(t=Zt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function rn(e,t){var n=Qe(e,t),r=en(n);return n==r?t:rt(r)}function on(e,t){if(t>e.lastLine())return t;var n,r=Qe(e,t);if(!an(e,r))return t;while(n=Zt(r))r=n.find(1,!0).line;return rt(r)+1}function an(e,t){var n=Nt&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if(r=n[o],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ln(e,t,r))return!0}}function ln(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ln(e,r.line,Pt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if(o=t.markedSpans[i],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&ln(e,t,o))return!0}function sn(e){e=en(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;n=i,i=n.parent)for(var a=0;a<i.children.length;++a){var l=i.children[a];if(l==n)break;t+=l.height}return t}function cn(e){if(0==e.height)return 0;var t,n=e.text.length,r=e;while(t=Xt(r)){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}r=e;while(t=Zt(r)){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function un(e){var t=e.display,n=e.doc;t.maxLine=Qe(n,n.first),t.maxLineLength=cn(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=cn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var dn=function(e,t,n){this.text=e,qt(this,t),this.height=n?n(this):1};function pn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Wt(e),qt(e,n);var o=r?r(e):1;o!=e.height&&nt(e,o)}function fn(e){e.parent=null,Wt(e)}dn.prototype.lineNo=function(){return rt(this)},Se(dn);var hn={},mn={};function gn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?mn:hn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function vn(e,t){var n=I("span",null,null,s?"padding-right: .1px":null),r={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=xn,_e(e.display.measure)&&(a=me(i,e.doc.direction))&&(r.addToken=wn(r.addToken,a)),r.map=[];var l=t!=e.display.externalMeasured&&rt(i);kn(i,r,yt(e,i,l)),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=_(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=_(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Fe(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(s){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ye(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=_(r.pre.className,r.textClass||"")),r}function bn(e){var t=A("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function xn(e,t,n,r,o,i,s){if(t){var c,u=e.splitSpaces?yn(t,e.trailingSpace):t,d=e.cm.state.specialChars,p=!1;if(d.test(t)){c=document.createDocumentFragment();var f=0;while(1){d.lastIndex=f;var h=d.exec(t),m=h?h.index-f:t.length-f;if(m){var g=document.createTextNode(u.slice(f,f+m));a&&l<9?c.appendChild(A("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;f+=m+1;var v=void 0;if("\t"==h[0]){var b=e.cm.options.tabSize,x=b-e.col%b;v=c.appendChild(A("span",Z(x),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=x}else"\r"==h[0]||"\n"==h[0]?(v=c.appendChild(A("span","\r"==h[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",h[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(h[0]),v.setAttribute("cm-text",h[0]),a&&l<9?c.appendChild(A("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&l<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||o||p||i||s){var y=n||"";r&&(y+=r),o&&(y+=o);var w=A("span",[c],y,i);if(s)for(var C in s)s.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,s[C]);return e.content.appendChild(w)}e.content.appendChild(c)}}function yn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),r+=i,n=" "==i}return r}function wn(e,t){return function(n,r,o,i,a,l,s){o=o?o+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,p=0;p<t.length;p++)if(d=t[p],d.to>c&&d.from<=c)break;if(d.to>=u)return e(n,r,o,i,a,l,s);e(n,r.slice(0,d.to-c),o,i,null,l,s),i=null,r=r.slice(d.to-c),c=d.to}}}function Cn(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function kn(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,l,s,c,u,d,p,f=o.length,h=0,m=1,g="",v=0;;){if(v==h){s=c=u=l="",p=null,d=null,v=1/0;for(var b=[],x=void 0,y=0;y<r.length;++y){var w=r[y],C=w.marker;if("bookmark"==C.type&&w.from==h&&C.widgetNode)b.push(C);else if(w.from<=h&&(null==w.to||w.to>h||C.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,c=""),C.className&&(s+=" "+C.className),C.css&&(l=(l?l+";":"")+C.css),C.startStyle&&w.from==h&&(u+=" "+C.startStyle),C.endStyle&&w.to==v&&(x||(x=[])).push(C.endStyle,w.to),C.title&&((p||(p={})).title=C.title),C.attributes)for(var k in C.attributes)(p||(p={}))[k]=C.attributes[k];C.collapsed&&(!d||Yt(d.marker,C)<0)&&(d=w)}else w.from>h&&v>w.from&&(v=w.from)}if(x)for(var S=0;S<x.length;S+=2)x[S+1]==v&&(c+=" "+x[S]);if(!d||d.from==h)for(var T=0;T<b.length;++T)Cn(t,0,b[T]);if(d&&(d.from||0)==h){if(Cn(t,(null==d.to?f+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=f)break;var E=Math.min(f,v);while(1){if(g){var O=h+g.length;if(!d){var D=O>E?g.slice(0,E-h):g;t.addToken(t,D,a?a+s:s,u,h+D.length==v?c:"",l,p)}if(O>=E){g=g.slice(E-h),h=E;break}h=O,u=""}g=o.slice(i,i=n[m++]),a=gn(n[m++],t.cm.options)}}else for(var M=1;M<n.length;M+=2)t.addToken(t,o.slice(i,i=n[M]),gn(n[M+1],t.cm.options))}function Sn(e,t,n){this.line=t,this.rest=nn(t),this.size=this.rest?rt(J(this.rest))-n+1:1,this.node=this.text=null,this.hidden=an(e,t)}function Tn(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new Sn(e.doc,Qe(e.doc,i),i);r=i+a.size,o.push(a)}return o}var En=null;function On(e){En?En.ops.push(e):e.ownsGroup=En={ops:[e],delayedCallbacks:[]}}function Dn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)while(o.cursorActivityCalled<o.cursorActivityHandlers.length)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function Mn(e,t){var n=e.ownsGroup;if(n)try{Dn(n)}finally{En=null,t(n)}}var An=null;function In(e,t){var n=be(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);En?r=En.delayedCallbacks:An?r=An:(r=An=[],setTimeout(Nn,0));for(var i=function(e){r.push(function(){return n[e].apply(null,o)})},a=0;a<n.length;++a)i(a)}}function Nn(){var e=An;An=null;for(var t=0;t<e.length;++t)e[t]()}function Rn(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?jn(e,t):"gutter"==i?Ln(e,t,n,r):"class"==i?$n(e,t):"widget"==i&&zn(e,t,r)}t.changes=null}function Fn(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&l<8&&(e.node.style.zIndex=2)),e.node}function _n(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Fn(t);t.background=r.insertBefore(A("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Pn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):vn(e,t)}function jn(e,t){var n=t.text.className,r=Pn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,$n(e,t)):n&&(t.text.className=n)}function $n(e,t){_n(e,t),t.line.wrapClass?Fn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Ln(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Fn(t);t.gutterBackground=A("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=Fn(t),l=t.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(l.setAttribute("aria-hidden","true"),e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(A("div",at(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.display.gutterSpecs.length;++s){var c=e.display.gutterSpecs[s].className,u=i.hasOwnProperty(c)&&i[c];u&&l.appendChild(A("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function zn(e,t,n){t.alignable&&(t.alignable=null);for(var r=T("CodeMirror-linewidget"),o=t.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Bn(e,t,n)}function Vn(e,t,n,r){var o=Pn(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),$n(e,t),Ln(e,t,n,r),Bn(e,t,r),t.node}function Bn(e,t,n){if(Hn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Hn(e,t.rest[r],t,n,!1)}function Hn(e,t,n,r,o){if(t.widgets)for(var i=Fn(n),a=0,l=t.widgets;a<l.length;++a){var s=l[a],c=A("div",[s.node],"CodeMirror-linewidget"+(s.className?" "+s.className:""));s.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Wn(s,c,n,r),e.display.input.setUneditable(c),o&&s.above?i.insertBefore(c,n.gutter||n.text):i.appendChild(c),In(s,"redraw")}}function Wn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function qn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),M(t.display.measure,A("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Un(e,t){for(var n=Me(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Gn(e){return e.lineSpace.offsetTop}function Yn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Kn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=M(e.measure,A("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Xn(e){return W-e.display.nativeBarWidth}function Zn(e){return e.display.scroller.clientWidth-Xn(e)-e.display.barWidth}function Jn(e){return e.display.scroller.clientHeight-Xn(e)-e.display.barHeight}function Qn(e,t,n){var r=e.options.lineWrapping,o=r&&Zn(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],c=a[l+1];Math.abs(s.bottom-c.bottom)>2&&i.push((s.bottom+c.top)/2-n.top)}}i.push(n.bottom-n.top)}}function er(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(rt(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}}function tr(e,t){t=en(t);var n=rt(t),r=e.display.externalMeasured=new Sn(e.doc,t,n);r.lineN=n;var o=r.built=vn(e,r);return r.text=o.pre,M(e.display.lineMeasure,o.pre),r}function nr(e,t,n,r){return ir(e,or(e,t),n,r)}function rr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[$r(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function or(e,t){var n=rt(t),r=rr(e,n);r&&!r.text?r=null:r&&r.changes&&(Rn(e,r,n,Rr(e)),e.curOp.forceUpdate=!0),r||(r=tr(e,t));var o=er(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function ir(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Qn(e,t.view,t.rect),t.hasHeights=!0),i=ur(e,t,n,r),i.bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var ar,lr={left:0,right:0,top:0,bottom:0};function sr(e,t,n){for(var r,o,i,a,l,s,c=0;c<e.length;c+=3)if(l=e[c],s=e[c+1],t<l?(o=0,i=1,a="left"):t<s?(o=t-l,i=o+1):(c==e.length-3||t==s&&e[c+3]>t)&&(i=s-l,o=i-1,t>=s&&(a="right")),null!=o){if(r=e[c+2],l==s&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)while(c&&e[c-2]==e[c-3]&&e[c-1].insertLeft)r=e[2+(c-=3)],a="left";if("right"==n&&o==s-l)while(c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft)r=e[(c+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:l,coverEnd:s}}function cr(e,t){var n=lr;if("left"==t){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var o=e.length-1;o>=0;o--)if((n=e[o]).left!=n.right)break;return n}function ur(e,t,n,r){var o,i=sr(t.map,n,r),s=i.node,c=i.start,u=i.end,d=i.collapse;if(3==s.nodeType){for(var p=0;p<4;p++){while(c&&se(t.line.text.charAt(i.coverStart+c)))--c;while(i.coverStart+u<i.coverEnd&&se(t.line.text.charAt(i.coverStart+u)))++u;if(o=a&&l<9&&0==c&&u==i.coverEnd-i.coverStart?s.parentNode.getBoundingClientRect():cr(E(s,c,u).getClientRects(),r),o.left||o.right||0==c)break;u=c,c-=1,d="right"}a&&l<11&&(o=dr(e.display.measure,o))}else{var f;c>0&&(d=r="right"),o=e.options.lineWrapping&&(f=s.getClientRects()).length>1?f["right"==r?f.length-1:0]:s.getBoundingClientRect()}if(a&&l<9&&!c&&(!o||!o.left&&!o.right)){var h=s.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Nr(e.display),top:h.top,bottom:h.bottom}:lr}for(var m=o.top-t.rect.top,g=o.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,x=0;x<b.length-1;x++)if(v<b[x])break;var y=x?b[x-1]:0,w=b[x],C={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:y,bottom:w};return o.left||o.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}function dr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!ze(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function pr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function fr(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)pr(e.display.view[t])}function hr(e){fr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function mr(e){return u&&v?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function gr(e){return u&&v?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function vr(e){var t=en(e),n=t.widgets,r=0;if(n)for(var o=0;o<n.length;++o)n[o].above&&(r+=qn(n[o]));return r}function br(e,t,n,r,o){if(!o){var i=vr(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=sn(t);if("local"==r?a+=Gn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:gr(j(e)));var s=l.left+("window"==r?0:mr(j(e)));n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function xr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=mr(j(e)),o-=gr(j(e));else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function yr(e,t,n,r,o){return r||(r=Qe(e.doc,t.line)),br(e,r,nr(e,r,t.ch,o),n)}function wr(e,t,n,r,o,i){function a(t,a){var l=ir(e,o,t,a?"right":"left",i);return a?l.left=l.right:l.right=l.left,br(e,r,l,n)}r=r||Qe(e.doc,t.line),o||(o=or(e,r));var l=me(r,e.doc.direction),s=t.ch,c=t.sticky;if(s>=r.text.length?(s=r.text.length,c="before"):s<=0&&(s=0,c="after"),!l)return a("before"==c?s-1:s,"before"==c);function u(e,t,n){var r=l[t],o=1==r.level;return a(n?e-1:e,o!=n)}var d=fe(l,s,c),p=pe,f=u(s,d,"before"==c);return null!=p&&(f.other=u(s,p,"before"!=c)),f}function Cr(e,t){var n=0;t=ht(e.doc,t),e.options.lineWrapping||(n=Nr(e.display)*t.ch);var r=Qe(e.doc,t.line),o=sn(r)+Gn(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function kr(e,t,n,r,o){var i=lt(e,t,n);return i.xRel=o,r&&(i.outside=r),i}function Sr(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return kr(r.first,0,null,-1,-1);var o=ot(r,n),i=r.first+r.size-1;if(o>i)return kr(r.first+r.size-1,Qe(r,i).text.length,null,1,1);t<0&&(t=0);for(var a=Qe(r,o);;){var l=Dr(e,a,o,t,n),s=Jt(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!s)return l;var c=s.find(1);if(c.line==o)return c;a=Qe(r,o=c.line)}}function Tr(e,t,n,r){r-=vr(t);var o=t.text.length,i=ue(function(t){return ir(e,n,t-1).bottom<=r},o,0);return o=ue(function(t){return ir(e,n,t).top>r},i,o),{begin:i,end:o}}function Er(e,t,n,r){n||(n=or(e,t));var o=br(e,t,ir(e,n,r),"line").top;return Tr(e,t,n,o)}function Or(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Dr(e,t,n,r,o){o-=sn(t);var i=or(e,t),a=vr(t),l=0,s=t.text.length,c=!0,u=me(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?Ar:Mr)(e,t,n,i,u,r,o);c=1!=d.level,l=c?d.from:d.to-1,s=c?d.to:d.from-1}var p,f,h=null,m=null,g=ue(function(t){var n=ir(e,i,t);return n.top+=a,n.bottom+=a,!!Or(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(h=t,m=n),!0)},l,s),v=!1;if(m){var b=r-m.left<m.right-r,x=b==c;g=h+(x?0:1),f=x?"after":"before",p=b?m.left:m.right}else{c||g!=s&&g!=l||g++,f=0==g?"after":g==t.text.length?"before":ir(e,i,g-(c?1:0)).bottom+a<=o==c?"after":"before";var y=wr(e,lt(n,g,f),"line",t,i);p=y.left,v=o<y.top?-1:o>=y.bottom?1:0}return g=ce(t.text,g,1),kr(n,g,f,v,r-p)}function Mr(e,t,n,r,o,i,a){var l=ue(function(l){var s=o[l],c=1!=s.level;return Or(wr(e,lt(n,c?s.to:s.from,c?"before":"after"),"line",t,r),i,a,!0)},0,o.length-1),s=o[l];if(l>0){var c=1!=s.level,u=wr(e,lt(n,c?s.from:s.to,c?"after":"before"),"line",t,r);Or(u,i,a,!0)&&u.top>a&&(s=o[l-1])}return s}function Ar(e,t,n,r,o,i,a){var l=Tr(e,t,r,a),s=l.begin,c=l.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,p=0;p<o.length;p++){var f=o[p];if(!(f.from>=c||f.to<=s)){var h=1!=f.level,m=ir(e,r,h?Math.min(c,f.to)-1:Math.max(s,f.from)).right,g=m<i?i-m+1e9:m-i;(!u||d>g)&&(u=f,d=g)}}return u||(u=o[o.length-1]),u.from<s&&(u={from:s,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Ir(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ar){ar=A("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)ar.appendChild(document.createTextNode("x")),ar.appendChild(A("br"));ar.appendChild(document.createTextNode("x"))}M(e.measure,ar);var n=ar.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),D(e.measure),n||1}function Nr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=A("span","xxxxxxxxxx"),n=A("pre",[t],"CodeMirror-line-like");M(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function Rr(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var l=e.display.gutterSpecs[a].className;n[l]=i.offsetLeft+i.clientLeft+o,r[l]=i.clientWidth}return{fixedPos:Fr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Fr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function _r(e){var t=Ir(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Nr(e.display)-3);return function(o){if(an(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function Pr(e){var t=e.doc,n=_r(e);t.iter(function(e){var t=n(e);t!=e.height&&nt(e,t)})}function jr(e,t,n,r){var o=e.display;if(!n&&"true"==Me(t).getAttribute("cm-not-content"))return null;var i,a,l=o.lineSpace.getBoundingClientRect();try{i=t.clientX-l.left,a=t.clientY-l.top}catch(d){return null}var s,c=Sr(e,i,a);if(r&&c.xRel>0&&(s=Qe(e.doc,c.line).text).length==c.ch){var u=V(s,s.length,e.options.tabSize)-s.length;c=lt(c.line,Math.max(0,Math.round((i-Kn(e.display).left)/Nr(e.display))-u))}return c}function $r(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Lr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Nt&&rn(e.doc,t)<o.viewTo&&Vr(e);else if(n<=o.viewFrom)Nt&&on(e.doc,n+r)>o.viewFrom?Vr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)Vr(e);else if(t<=o.viewFrom){var i=Br(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):Vr(e)}else if(n>=o.viewTo){var a=Br(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):Vr(e)}else{var l=Br(e,t,t,-1),s=Br(e,n,n+r,1);l&&s?(o.view=o.view.slice(0,l.index).concat(Tn(e,l.lineN,s.lineN)).concat(o.view.slice(s.index)),o.viewTo+=r):Vr(e)}var c=o.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(o.externalMeasured=null))}function zr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[$r(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==H(a,n)&&a.push(n)}}}function Vr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Br(e,t,n,r){var o,i=$r(e,t),a=e.display.view;if(!Nt||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var l=e.display.viewFrom,s=0;s<i;s++)l+=a[s].size;if(l!=t){if(r>0){if(i==a.length-1)return null;o=l+a[i].size-t,i++}else o=l-t;t+=o,n+=o}while(rn(e.doc,n)!=n){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Hr(e,t,n){var r=e.display,o=r.view;0==o.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Tn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Tn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice($r(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Tn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,$r(e,n)))),r.viewTo=n}function Wr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function qr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ur(e,t){void 0===t&&(t=!0);var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var l=0;l<n.sel.ranges.length;l++)if(t||l!=n.sel.primIndex){var s=n.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var c=s.empty();if(a){var u=a(e,s);u&&Gr(e,u,o)}else(c||e.options.showCursorWhenSelecting)&&Gr(e,s.head,o);c||Kr(e,s,i)}}return r}function Gr(e,t,n){var r=wr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(A("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var i=yr(e,t,"div",null,null),a=i.right-i.left;o.style.width=(a>0?a:e.defaultCharWidth())+"px"}if(r.other){var l=n.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=r.other.left+"px",l.style.top=r.other.top+"px",l.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Yr(e,t){return e.top-t.top||e.left-t.left}function Kr(e,t,n){var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=Kn(e.display),l=a.left,s=Math.max(r.sizerWidth,Zn(e)-r.sizer.offsetLeft)-a.right,c="ltr"==o.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?s-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var i,a,d=Qe(o,t),p=d.text.length;function f(n,r){return yr(e,lt(t,n),"div",d,r)}function h(t,n,r){var o=Er(e,d,null,t),i="ltr"==n==("after"==r)?"left":"right",a="after"==r?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1);return f(a,i)[i]}var m=me(d,o.direction);return de(m,n||0,null==r?p:r,function(e,t,o,d){var g="ltr"==o,v=f(e,g?"left":"right"),b=f(t-1,g?"right":"left"),x=null==n&&0==e,y=null==r&&t==p,w=0==d,C=!m||d==m.length-1;if(b.top-v.top<=3){var k=(c?x:y)&&w,S=(c?y:x)&&C,T=k?l:(g?v:b).left,E=S?s:(g?b:v).right;u(T,v.top,E-T,v.bottom)}else{var O,D,M,A;g?(O=c&&x&&w?l:v.left,D=c?s:h(e,o,"before"),M=c?l:h(t,o,"after"),A=c&&y&&C?s:b.right):(O=c?h(e,o,"before"):l,D=!c&&x&&w?s:v.right,M=!c&&y&&C?l:b.left,A=c?h(t,o,"after"):s),u(O,v.top,D-O,v.bottom),v.bottom<b.top&&u(l,v.bottom,null,b.top),u(M,b.top,A-M,b.bottom)}(!i||Yr(v,i)<0)&&(i=v),Yr(b,i)<0&&(i=b),(!a||Yr(v,a)<0)&&(a=v),Yr(b,a)<0&&(a=b)}),{start:i,end:a}}var p=t.from(),f=t.to();if(p.line==f.line)d(p.line,p.ch,f.ch);else{var h=Qe(o,p.line),m=Qe(o,f.line),g=en(h)==en(m),v=d(p.line,p.ch,g?h.text.length+1:null).end,b=d(f.line,g?0:null,f.ch).start;g&&(v.top<b.top-2?(u(v.right,v.top,null,v.bottom),u(l,b.top,b.left,b.bottom)):u(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&u(l,v.bottom,null,b.top)}n.appendChild(i)}function Xr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||eo(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Zr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qr(e))}function Jr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&eo(e))},100)}function Qr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ye(e,"focus",e,t),e.state.focused=!0,F(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),s&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Xr(e))}function eo(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ye(e,"blur",e,t),e.state.focused=!1,O(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function to(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,i=0,s=0;s<t.view.length;s++){var c=t.view[s],u=e.options.lineWrapping,d=void 0,p=0;if(!c.hidden){if(o+=c.line.height,a&&l<8){var f=c.node.offsetTop+c.node.offsetHeight;d=f-n,n=f}else{var h=c.node.getBoundingClientRect();d=h.bottom-h.top,!u&&c.text.firstChild&&(p=c.text.firstChild.getBoundingClientRect().right-h.left-1)}var m=c.line.height-d;if((m>.005||m<-.005)&&(o<r&&(i-=m),nt(c.line,d),no(c.line),c.rest))for(var g=0;g<c.rest.length;g++)no(c.rest[g]);if(p>e.display.sizerWidth){var v=Math.ceil(p/Nr(e.display));v>e.display.maxLineLength&&(e.display.maxLineLength=v,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(i)>2&&(t.scroller.scrollTop+=i)}function no(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ro(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Gn(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=ot(t,r),a=ot(t,o);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<i?(i=l,a=ot(t,sn(Qe(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(i=ot(t,sn(Qe(t,s))-e.wrapper.clientHeight),a=s)}return{from:i,to:Math.max(a,i+1)}}function oo(e,t){if(!we(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null,i=n.wrapper.ownerDocument;if(t.top+r.top<0?o=!0:t.bottom+r.top>(i.defaultView.innerHeight||i.documentElement.clientHeight)&&(o=!1),null!=o&&!m){var a=A("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Gn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Xn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function io(e,t,n,r){var o;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?lt(t.line,t.ch+1,"before"):t,t=t.ch?lt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var i=0;i<5;i++){var a=!1,l=wr(e,t),s=n&&n!=t?wr(e,n):l;o={left:Math.min(l.left,s.left),top:Math.min(l.top,s.top)-r,right:Math.max(l.left,s.left),bottom:Math.max(l.bottom,s.bottom)+r};var c=lo(e,o),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(mo(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(vo(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return o}function ao(e,t){var n=lo(e,t);null!=n.scrollTop&&mo(e,n.scrollTop),null!=n.scrollLeft&&vo(e,n.scrollLeft)}function lo(e,t){var n=e.display,r=Ir(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=Jn(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var l=e.doc.height+Yn(n),s=t.top<r,c=t.bottom>l-r;if(t.top<o)a.scrollTop=s?0:t.top;else if(t.bottom>o+i){var u=Math.min(t.top,(c?l:t.bottom)-i);u!=o&&(a.scrollTop=u)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,f=Zn(e)-n.gutters.offsetWidth,h=t.right-t.left>f;return h&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<p?a.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>f+p-3&&(a.scrollLeft=t.right+(h?0:10)-f),a}function so(e,t){null!=t&&(fo(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function co(e){fo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function uo(e,t,n){null==t&&null==n||fo(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function po(e,t){fo(e),e.curOp.scrollToPos=t}function fo(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Cr(e,t.from),r=Cr(e,t.to);ho(e,n,r,t.margin)}}function ho(e,t,n,r){var o=lo(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});uo(e,o.scrollLeft,o.scrollTop)}function mo(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Uo(e,{top:t}),go(e,t,!0),n&&Uo(e),$o(e,100))}function go(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function vo(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Xo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function bo(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Yn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Xn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var xo=function(e,t,n){this.cm=n;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),ve(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ve(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};xo.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},xo.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},xo.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},xo.prototype.zeroWidthHack=function(){var e=x&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new B,this.disableVert=new B},xo.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect(),i="vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);i!=e?e.style.visibility="hidden":t.set(1e3,r)}e.style.visibility="",t.set(1e3,r)},xo.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var yo=function(){};function wo(e,t){t||(t=bo(e));var n=e.display.barWidth,r=e.display.barHeight;Co(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&to(e),Co(e,bo(e)),n=e.display.barWidth,r=e.display.barHeight}function Co(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}yo.prototype.update=function(){return{bottom:0,right:0}},yo.prototype.setScrollLeft=function(){},yo.prototype.setScrollTop=function(){},yo.prototype.clear=function(){};var ko={native:xo,null:yo};function So(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ko[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ve(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?vo(e,t):mo(e,t)},e),e.display.scrollbars.addClass&&F(e.display.wrapper,e.display.scrollbars.addClass)}var To=0;function Eo(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++To,markArrays:null},On(e.curOp)}function Oo(e){var t=e.curOp;t&&Mn(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Do(e)})}function Do(e){for(var t=e.ops,n=0;n<t.length;n++)Mo(t[n]);for(var r=0;r<t.length;r++)Ao(t[r]);for(var o=0;o<t.length;o++)Io(t[o]);for(var i=0;i<t.length;i++)No(t[i]);for(var a=0;a<t.length;a++)Ro(t[a])}function Mo(e){var t=e.cm,n=t.display;Vo(t),e.updateMaxLine&&un(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new zo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ao(e){e.updatedDisplay=e.mustUpdate&&Wo(e.cm,e.update)}function Io(e){var t=e.cm,n=t.display;e.updatedDisplay&&to(t),e.barMeasure=bo(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=nr(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Xn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Zn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function No(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&vo(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==R(j(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&wo(t,e.barMeasure),e.updatedDisplay&&Ko(t,e.barMeasure),e.selectionChanged&&Xr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Zr(e.cm)}function Ro(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&qo(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&go(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&vo(t,e.scrollLeft,!0,!0),e.scrollToPos){var o=io(t,ht(r,e.scrollToPos.from),ht(r,e.scrollToPos.to),e.scrollToPos.margin);oo(t,o)}var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||ye(i[l],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&ye(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ye(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Fo(e,t){if(e.curOp)return t();Eo(e);try{return t()}finally{Oo(e)}}function _o(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Eo(e);try{return t.apply(e,arguments)}finally{Oo(e)}}}function Po(e){return function(){if(this.curOp)return e.apply(this,arguments);Eo(this);try{return e.apply(this,arguments)}finally{Oo(this)}}}function jo(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Eo(t);try{return e.apply(this,arguments)}finally{Oo(t)}}}function $o(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,L(Lo,e))}function Lo(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=wt(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(i){if(r.line>=e.display.viewFrom){var a=i.styles,l=i.text.length>e.options.maxHighlightLength?Ke(t.mode,r.state):null,s=xt(e,i,r,!0);l&&(r.state=l),i.styles=s.styles;var c=i.styleClasses,u=s.classes;u?i.styleClasses=u:c&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!d&&p<a.length;++p)d=a[p]!=i.styles[p];d&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&Ct(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return $o(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Fo(e,function(){for(var t=0;t<o.length;t++)zr(e,o[t],"text")})}}var zo=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ro(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Zn(e),this.force=n,this.dims=Rr(e),this.events=[]};function Vo(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Xn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Xn(e)+"px",t.scrollbarsClipped=!0)}function Bo(e){if(e.hasFocus())return null;var t=R(j(e));if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=$(e).getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Ho(e){if(e&&e.activeElt&&e.activeElt!=R(e.activeElt.ownerDocument)&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function Wo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Vr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Wr(e))return!1;Zo(e)&&(Vr(e),t.dims=Rr(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Nt&&(i=rn(e.doc,i),a=on(e.doc,a));var l=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Hr(e,i,a),n.viewOffset=sn(Qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var s=Wr(e);if(!l&&0==s&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Bo(e);return s>4&&(n.lineDiv.style.display="none"),Go(e,n.updateLineNumbers,t.dims),s>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Ho(c),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,$o(e,400)),n.updateLineNumbers=null,!0}function qo(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Zn(e))r&&(t.visible=ro(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Yn(e.display)-Jn(e),n.top)}),t.visible=ro(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Wo(e,t))break;to(e);var o=bo(e);qr(e),wo(e,o),Ko(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Uo(e,t){var n=new zo(e,t);if(Wo(e,n)){to(e),qo(e,n);var r=bo(e);qr(e),wo(e,r),Ko(e,r),n.finish()}}function Go(e,t,n){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function l(t){var n=t.nextSibling;return s&&x&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var p=c[d];if(p.hidden);else if(p.node&&p.node.parentNode==i){while(a!=p.node)a=l(a);var f=o&&null!=t&&t<=u&&p.lineNumber;p.changes&&(H(p.changes,"gutter")>-1&&(f=!1),Rn(e,p,u,n)),f&&(D(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(at(e.options,u)))),a=p.node.nextSibling}else{var h=Vn(e,p,u,n);i.insertBefore(h,a)}u+=p.size}while(a)a=l(a)}function Yo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",In(e,"gutterChanged",e)}function Ko(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Xn(e)+"px"}function Xo(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Fr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function Zo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=at(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Yo(e.display),!0}return!1}function Jo(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Qo(e){var t=e.gutters,n=e.gutterSpecs;D(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,a=o.style,l=t.appendChild(A("div",null,"CodeMirror-gutter "+i));a&&(l.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Yo(e)}function ei(e){Qo(e.display),Lr(e),Xo(e)}function ti(e,t,r,o){var i=this;this.input=r,i.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=I("div",null,"CodeMirror-code"),i.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=A("div",null,"CodeMirror-cursors"),i.measure=A("div",null,"CodeMirror-measure"),i.lineMeasure=A("div",null,"CodeMirror-measure"),i.lineSpace=I("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var c=I("div",[i.lineSpace],"CodeMirror-lines");i.mover=A("div",[c],null,"position: relative"),i.sizer=A("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=A("div",null,null,"position: absolute; height: "+W+"px; width: 1px;"),i.gutters=A("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=A("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=A("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),i.wrapper.setAttribute("translate","no"),a&&l<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),s||n&&b||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Jo(o.gutters,o.lineNumbers),Qo(i),r.init(i)}zo.prototype.signal=function(e,t){ke(e,t)&&this.events.push(arguments)},zo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ye.apply(null,this.events[e])};var ni=0,ri=null;function oi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ii(e){var t=oi(e);return t.x*=ri,t.y*=ri,t}function ai(e,t){u&&102==d&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var r=oi(t),o=r.x,i=r.y,a=ri;0===t.deltaMode&&(o=t.deltaX,i=t.deltaY,a=1);var l=e.display,c=l.scroller,f=c.scrollWidth>c.clientWidth,h=c.scrollHeight>c.clientHeight;if(o&&f||i&&h){if(i&&x&&s)e:for(var m=t.target,g=l.view;m!=c;m=m.parentNode)for(var v=0;v<g.length;v++)if(g[v].node==m){e.display.currentWheelTarget=m;break e}if(o&&!n&&!p&&null!=a)return i&&h&&mo(e,Math.max(0,c.scrollTop+i*a)),vo(e,Math.max(0,c.scrollLeft+o*a)),(!i||i&&h)&&Te(t),void(l.wheelStartX=null);if(i&&null!=a){var b=i*a,y=e.doc.scrollTop,w=y+l.wrapper.clientHeight;b<0?y=Math.max(0,y+b-50):w=Math.min(e.doc.height,w+b+50),Uo(e,{top:y,bottom:w})}ni<20&&0!==t.deltaMode&&(null==l.wheelStartX?(l.wheelStartX=c.scrollLeft,l.wheelStartY=c.scrollTop,l.wheelDX=o,l.wheelDY=i,setTimeout(function(){if(null!=l.wheelStartX){var e=c.scrollLeft-l.wheelStartX,t=c.scrollTop-l.wheelStartY,n=t&&l.wheelDY&&t/l.wheelDY||e&&l.wheelDX&&e/l.wheelDX;l.wheelStartX=l.wheelStartY=null,n&&(ri=(ri*ni+n)/(ni+1),++ni)}},200)):(l.wheelDX+=o,l.wheelDY+=i))}}a?ri=-.53:n?ri=15:u?ri=-.7:f&&(ri=-1/3);var li=function(e,t){this.ranges=e,this.primIndex=t};li.prototype.primary=function(){return this.ranges[this.primIndex]},li.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ct(n.anchor,r.anchor)||!ct(n.head,r.head))return!1}return!0},li.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new si(ut(this.ranges[t].anchor),ut(this.ranges[t].head));return new li(e,this.primIndex)},li.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},li.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(st(t,r.from())>=0&&st(e,r.to())<=0)return n}return-1};var si=function(e,t){this.anchor=e,this.head=t};function ci(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort(function(e,t){return st(e.from(),t.from())}),n=H(t,o);for(var i=1;i<t.length;i++){var a=t[i],l=t[i-1],s=st(l.to(),a.from());if(r&&!a.empty()?s>0:s>=0){var c=pt(l.from(),a.from()),u=dt(l.to(),a.to()),d=l.empty()?a.from()==a.head:l.from()==l.head;i<=n&&--n,t.splice(--i,2,new si(d?u:c,d?c:u))}}return new li(t,n)}function ui(e,t){return new li([new si(e,t||e)],0)}function di(e){return e.text?lt(e.from.line+e.text.length-1,J(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function pi(e,t){if(st(e,t.from)<0)return e;if(st(e,t.to)<=0)return di(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=di(t).ch-t.to.ch),lt(n,r)}function fi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new si(pi(o.anchor,t),pi(o.head,t)))}return ci(e.cm,n,e.sel.primIndex)}function hi(e,t,n){return e.line==t.line?lt(n.line,e.ch-t.ch+n.ch):lt(n.line+(e.line-t.line),e.ch)}function mi(e,t,n){for(var r=[],o=lt(e.first,0),i=o,a=0;a<t.length;a++){var l=t[a],s=hi(l.from,o,i),c=hi(di(l),o,i);if(o=l.to,i=c,"around"==n){var u=e.sel.ranges[a],d=st(u.head,u.anchor)<0;r[a]=new si(d?c:s,d?s:c)}else r[a]=new si(s,s)}return new li(r,e.sel.primIndex)}function gi(e){e.doc.mode=Ue(e.options,e.doc.modeOption),vi(e)}function vi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,$o(e,100),e.state.modeGen++,e.curOp&&Lr(e)}function bi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==J(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function xi(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){pn(e,n,o,r),In(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new dn(c[i],o(i),r));return n}var l=t.from,s=t.to,c=t.text,u=Qe(e,l.line),d=Qe(e,s.line),p=J(c),f=o(c.length-1),h=s.line-l.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(bi(e,t)){var m=a(0,c.length-1);i(d,d.text,f),h&&e.remove(l.line,h),m.length&&e.insert(l.line,m)}else if(u==d)if(1==c.length)i(u,u.text.slice(0,l.ch)+p+u.text.slice(s.ch),f);else{var g=a(1,c.length-1);g.push(new dn(p+u.text.slice(s.ch),f,r)),i(u,u.text.slice(0,l.ch)+c[0],o(0)),e.insert(l.line+1,g)}else if(1==c.length)i(u,u.text.slice(0,l.ch)+c[0]+d.text.slice(s.ch),o(0)),e.remove(l.line+1,h);else{i(u,u.text.slice(0,l.ch)+c[0],o(0)),i(d,p+d.text.slice(s.ch),f);var v=a(1,c.length-1);h>1&&e.remove(l.line+1,h-1),e.insert(l.line+1,v)}In(e,"change",e,t)}function yi(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc!=o){var s=i&&l.sharedHist;n&&!s||(t(l.doc,s),r(l.doc,e,s))}}}r(e,null,!0)}function wi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Pr(e),gi(e),Ci(e),e.options.direction=t.direction,e.options.lineWrapping||un(e),e.options.mode=t.modeOption,Lr(e)}function Ci(e){("rtl"==e.doc.direction?F:O)(e.display.lineDiv,"CodeMirror-rtl")}function ki(e){Fo(e,function(){Ci(e),Lr(e)})}function Si(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Ti(e,t){var n={from:ut(t.from),to:di(t),text:et(e,t.from,t.to)};return Ni(e,n,t.from.line,t.to.line+1),yi(e,function(e){return Ni(e,n,t.from.line,t.to.line+1)},!0),n}function Ei(e){while(e.length){var t=J(e);if(!t.ranges)break;e.pop()}}function Oi(e,t){return t?(Ei(e.done),J(e.done)):e.done.length&&!J(e.done).ranges?J(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),J(e.done)):void 0}function Di(e,t,n,r){var o=e.history;o.undone.length=0;var i,a,l=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=Oi(o,o.lastOp==r)))a=J(i.changes),0==st(t.from,t.to)&&0==st(t.from,a.to)?a.to=di(t):i.changes.push(Ti(e,t));else{var s=J(o.done);s&&s.ranges||Ii(e.sel,o.done),i={changes:[Ti(e,t)],generation:o.generation},o.done.push(i);while(o.done.length>o.undoDepth)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=l,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,a||ye(e,"historyAdded")}function Mi(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ai(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||Mi(e,i,J(o.done),t))?o.done[o.done.length-1]=t:Ii(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&Ei(o.undone)}function Ii(e,t){var n=J(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ni(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i})}function Ri(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Fi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(Ri(n[o]));return r}function _i(e,t){var n=Fi(e,t),r=Vt(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],c=0;c<i.length;++c)if(i[c].marker==s.marker)continue e;i.push(s)}else a&&(n[o]=a)}return n}function Pi(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?li.prototype.deepCopy.call(i):i);else{var a=i.changes,l=[];r.push({changes:l});for(var s=0;s<a.length;++s){var c=a[s],u=void 0;if(l.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&H(t,Number(u[1]))>-1&&(J(l)[d]=c[d],delete c[d])}}}return r}function ji(e,t,n,r){if(r){var o=e.anchor;if(n){var i=st(t,o)<0;i!=st(n,o)<0?(o=t,t=n):i!=st(t,n)<0&&(t=n)}return new si(o,t)}return new si(n||t,t)}function $i(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Wi(e,new li([ji(e.sel.primary(),t,n,o)],0),r)}function Li(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=ji(e.sel.ranges[i],t[i],null,o);var a=ci(e.cm,r,e.sel.primIndex);Wi(e,a,n)}function zi(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,Wi(e,ci(e.cm,o,e.sel.primIndex),r)}function Vi(e,t,n,r){Wi(e,ui(t,n),r)}function Bi(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new si(ht(e,t[n].anchor),ht(e,t[n].head))},origin:n&&n.origin};return ye(e,"beforeSelectionChange",e,r),e.cm&&ye(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ci(e.cm,r.ranges,r.ranges.length-1):t}function Hi(e,t,n){var r=e.history.done,o=J(r);o&&o.ranges?(r[r.length-1]=t,qi(e,t,n)):Wi(e,t,n)}function Wi(e,t,n){qi(e,t,n),Ai(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function qi(e,t,n){(ke(e,"beforeSelectionChange")||e.cm&&ke(e.cm,"beforeSelectionChange"))&&(t=Bi(e,t,n));var r=n&&n.bias||(st(t.primary().head,e.sel.primary().head)<0?-1:1);Ui(e,Yi(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||co(e.cm)}function Ui(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Ce(e.cm)),In(e,"cursorActivity",e))}function Gi(e){Ui(e,Yi(e,e.sel,null,!1))}function Yi(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],s=Xi(e,a.anchor,l&&l.anchor,n,r),c=a.head==a.anchor?s:Xi(e,a.head,l&&l.head,n,r);(o||s!=a.anchor||c!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new si(s,c))}return o?ci(e.cm,o,t.primIndex):t}function Ki(e,t,n,r,o){var i=Qe(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var l=i.markedSpans[a],s=l.marker,c="selectLeft"in s?!s.selectLeft:s.inclusiveLeft,u="selectRight"in s?!s.selectRight:s.inclusiveRight;if((null==l.from||(c?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(u?l.to>=t.ch:l.to>t.ch))){if(o&&(ye(s,"beforeCursorEnter"),s.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var d=s.find(r<0?1:-1),p=void 0;if((r<0?u:c)&&(d=Zi(e,d,-r,d&&d.line==t.line?i:null)),d&&d.line==t.line&&(p=st(d,n))&&(r<0?p<0:p>0))return Ki(e,d,t,r,o)}var f=s.find(r<0?-1:1);return(r<0?c:u)&&(f=Zi(e,f,r,f.line==t.line?i:null)),f?Ki(e,f,t,r,o):null}}return t}function Xi(e,t,n,r,o){var i=r||1,a=Ki(e,t,n,i,o)||!o&&Ki(e,t,n,i,!0)||Ki(e,t,n,-i,o)||!o&&Ki(e,t,n,-i,!0);return a||(e.cantEdit=!0,lt(e.first,0))}function Zi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ht(e,lt(t.line-1)):null:n>0&&t.ch==(r||Qe(e,t.line)).text.length?t.line<e.first+e.size-1?lt(t.line+1,0):null:new lt(t.line,t.ch+n)}function Ji(e){e.setSelection(lt(e.firstLine(),0),lt(e.lastLine()),U)}function Qi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=ht(e,t)),n&&(r.to=ht(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),ye(e,"beforeChange",e,r),e.cm&&ye(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ea(e,t,n){if(e.cm){if(!e.cm.curOp)return _o(e.cm,ea)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ke(e,"beforeChange")||e.cm&&ke(e.cm,"beforeChange"))||(t=Qi(e,t,!0),t)){var r=It&&!n&&Ht(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)ta(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else ta(e,t)}}function ta(e,t){if(1!=t.text.length||""!=t.text[0]||0!=st(t.from,t.to)){var n=fi(e,t);Di(e,t,n,e.cm?e.cm.curOp.id:NaN),oa(e,t,n,Vt(e,t));var r=[];yi(e,function(e,n){n||-1!=H(r,e.history)||(ca(e.history,t),r.push(e.history)),oa(e,t,null,Vt(e,t))})}}function na(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,a=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,c=0;c<l.length;c++)if(o=l[c],n?o.ranges&&!o.equals(e.sel):!o.ranges)break;if(c!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(o=l.pop(),!o.ranges){if(r)return void l.push(o);break}if(Ii(o,s),n&&!o.equals(e.sel))return void Wi(e,o,{clearRedo:!1});a=o}var u=[];Ii(a,s),s.push({changes:u,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=ke(e,"beforeChange")||e.cm&&ke(e.cm,"beforeChange"),p=function(n){var r=o.changes[n];if(r.origin=t,d&&!Qi(e,r,!1))return l.length=0,{};u.push(Ti(e,r));var i=n?fi(e,r):J(l);oa(e,r,i,_i(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:di(r)});var a=[];yi(e,function(e,t){t||-1!=H(a,e.history)||(ca(e.history,r),a.push(e.history)),oa(e,r,null,_i(e,r))})},f=o.changes.length-1;f>=0;--f){var h=p(f);if(h)return h.v}}}}function ra(e,t){if(0!=t&&(e.first+=t,e.sel=new li(Q(e.sel.ranges,function(e){return new si(lt(e.anchor.line+t,e.anchor.ch),lt(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Lr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)zr(e.cm,r,"gutter")}}function oa(e,t,n,r){if(e.cm&&!e.cm.curOp)return _o(e.cm,oa)(e,t,n,r);if(t.to.line<e.first)ra(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);ra(e,o),t={from:lt(e.first,0),to:lt(t.to.line+o,t.to.ch),text:[J(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:lt(i,Qe(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=et(e,t.from,t.to),n||(n=fi(e,t)),e.cm?ia(e.cm,t,r):xi(e,t,r),qi(e,n,U),e.cantEdit&&Xi(e,lt(e.firstLine(),0))&&(e.cantEdit=!1)}}function ia(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,l=!1,s=i.line;e.options.lineWrapping||(s=rt(en(Qe(r,i.line))),r.iter(s,a.line+1,function(e){if(e==o.maxLine)return l=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Ce(e),xi(r,t,n,_r(e)),e.options.lineWrapping||(r.iter(s,i.line+t.text.length,function(e){var t=cn(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),At(r,i.line),$o(e,400);var c=t.text.length-(a.line-i.line)-1;t.full?Lr(e):i.line!=a.line||1!=t.text.length||bi(e.doc,t)?Lr(e,i.line,a.line+1,c):zr(e,i.line,"text");var u=ke(e,"changes"),d=ke(e,"change");if(d||u){var p={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&In(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function aa(e,t,n,r,o){var i;r||(r=n),st(r,n)<0&&(i=[r,n],n=i[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),ea(e,{from:n,to:r,text:t,origin:o})}function la(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function sa(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||(i=e[o]=i.deepCopy(),i.copied=!0);for(var l=0;l<i.ranges.length;l++)la(i.ranges[l].anchor,t,n,r),la(i.ranges[l].head,t,n,r)}else{for(var s=0;s<i.changes.length;++s){var c=i.changes[s];if(n<c.from.line)c.from=lt(c.from.line+r,c.from.ch),c.to=lt(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function ca(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;sa(e.done,n,r,o),sa(e.undone,n,r,o)}function ua(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=Qe(e,ft(e,t)):o=rt(t),null==o?null:(r(i,o)&&e.cm&&zr(e.cm,o,n),i)}function da(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function pa(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}si.prototype.from=function(){return pt(this.anchor,this.head)},si.prototype.to=function(){return dt(this.anchor,this.head)},si.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},da.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,fn(o),In(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},pa.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof da))){var l=[];this.collapse(l),this.children=[new da(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var s=new da(o.lines.slice(l,l+=25));o.height-=s.height,this.children.splice(++r,0,s),s.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new pa(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=H(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var o=new pa(e.children);o.parent=e,e.children=[o,n],e=o}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var fa=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function ha(e,t,n){sn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&so(e,n)}function ma(e,t,n,r){var o=new fa(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),ua(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!an(e,t)){var r=sn(t)<e.scrollTop;nt(t,t.height+qn(o)),r&&so(i,o.height),i.curOp.forceUpdate=!0}return!0}),i&&In(i,"lineWidgetAdded",i,o,"number"==typeof t?t:rt(t)),o}fa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=rt(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=qn(this);nt(n,Math.max(0,n.height-i)),e&&(Fo(e,function(){ha(e,n,-i),zr(e,r,"widget")}),In(e,"lineWidgetCleared",e,this,r))}},fa.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=qn(this)-t;o&&(an(this.doc,r)||nt(r,r.height+o),n&&Fo(n,function(){n.curOp.forceUpdate=!0,ha(n,r,o),In(n,"lineWidgetChanged",n,e,rt(r))}))},Se(fa);var ga=0,va=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ga};function ba(e,t,n,r,o){if(r&&r.shared)return ya(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return _o(e.cm,ba)(e,t,n,r,o);var i=new va(e,o),a=st(t,n);if(r&&z(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=I("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Qt(e,t.line,t,n,i)||t.line!=n.line&&Qt(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ft()}i.addToHistory&&Di(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,s=t.line,c=e.cm;if(e.iter(s,n.line+1,function(r){c&&i.collapsed&&!c.options.lineWrapping&&en(r)==c.display.maxLine&&(l=!0),i.collapsed&&s!=t.line&&nt(r,0),$t(r,new _t(i,s==t.line?t.ch:null,s==n.line?n.ch:null),e.cm&&e.cm.curOp),++s}),i.collapsed&&e.iter(t.line,n.line+1,function(t){an(e,t)&&nt(t,0)}),i.clearOnEnter&&ve(i,"beforeCursorEnter",function(){return i.clear()}),i.readOnly&&(Rt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++ga,i.atomic=!0),c){if(l&&(c.curOp.updateMaxLine=!0),i.collapsed)Lr(c,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var u=t.line;u<=n.line;u++)zr(c,u,"text");i.atomic&&Gi(c.doc),In(c,"markerAdded",c,i)}return i}va.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Eo(e),ke(this,"clear")){var n=this.find();n&&In(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],l=Pt(a.markedSpans,this);e&&!this.collapsed?zr(e,rt(a),"text"):e&&(null!=l.to&&(o=rt(a)),null!=l.from&&(r=rt(a))),a.markedSpans=jt(a.markedSpans,l),null==l.from&&this.collapsed&&!an(this.doc,a)&&e&&nt(a,Ir(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var c=en(this.lines[s]),u=cn(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Lr(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Gi(e.doc)),e&&In(e,"markerCleared",e,this,r,o),t&&Oo(e),this.parent&&this.parent.clear()}},va.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=Pt(i.markedSpans,this);if(null!=a.from&&(n=lt(t?i:rt(i),a.from),-1==e))return n;if(null!=a.to&&(r=lt(t?i:rt(i),a.to),1==e))return r}return n&&{from:n,to:r}},va.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Fo(r,function(){var o=t.line,i=rt(t.line),a=rr(r,i);if(a&&(pr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!an(n.doc,o)&&null!=n.height){var l=n.height;n.height=null;var s=qn(n)-l;s&&nt(o,o.height+s)}In(r,"markerChanged",r,e)})},va.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=H(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},va.prototype.detachLine=function(e){if(this.lines.splice(H(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Se(va);var xa=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ya(e,t,n,r,o){r=z(r),r.shared=!1;var i=[ba(e,t,n,r,o)],a=i[0],l=r.widgetNode;return yi(e,function(e){l&&(r.widgetNode=l.cloneNode(!0)),i.push(ba(e,ht(e,t),ht(e,n),r,o));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=J(i)}),new xa(i,a)}function wa(e){return e.findMarks(lt(e.first,0),e.clipPos(lt(e.lastLine())),function(e){return e.parent})}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(st(i,a)){var l=ba(e,i,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}function ka(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];yi(n.primary.doc,function(e){return r.push(e)});for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==H(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}xa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();In(this,"clear")}},xa.prototype.find=function(e,t){return this.primary.find(e,t)},Se(xa);var Sa=0,Ta=function(e,t,n,r,o){if(!(this instanceof Ta))return new Ta(e,t,n,r,o);null==n&&(n=0),pa.call(this,[new da([new dn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=lt(n,0);this.sel=ui(i),this.history=new Si(null),this.id=++Sa,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),xi(this,{from:i,to:i,text:e}),Wi(this,ui(i),U)};Ta.prototype=ne(pa.prototype,{constructor:Ta,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=tt(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:jo(function(e){var t=lt(this.first,0),n=this.first+this.size-1;ea(this,{from:t,to:lt(n,Qe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&uo(this.cm,0,0),Wi(this,ui(t),U)}),replaceRange:function(e,t,n,r){t=ht(this,t),n=n?ht(this,n):t,aa(this,e,t,n,r)},getRange:function(e,t,n){var r=et(this,ht(this,e),ht(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(it(this,e))return Qe(this,e)},getLineNumber:function(e){return rt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qe(this,e)),en(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:jo(function(e,t,n){Vi(this,ht(this,"number"==typeof e?lt(e,t||0):e),null,n)}),setSelection:jo(function(e,t,n){Vi(this,ht(this,e),ht(this,t||e),n)}),extendSelection:jo(function(e,t,n){$i(this,ht(this,e),t&&ht(this,t),n)}),extendSelections:jo(function(e,t){Li(this,gt(this,e),t)}),extendSelectionsBy:jo(function(e,t){var n=Q(this.sel.ranges,e);Li(this,gt(this,n),t)}),setSelections:jo(function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new si(ht(this,e[o].anchor),ht(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Wi(this,ci(this.cm,r,t),n)}}),addSelection:jo(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new si(ht(this,e),ht(this,t||e))),Wi(this,ci(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=et(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=et(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:jo(function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}for(var l=t&&"end"!=t&&mi(this,r,t),s=r.length-1;s>=0;s--)ea(this,r[s]);l?Hi(this,l):this.cm&&co(this.cm)}),undo:jo(function(){na(this,"undo")}),redo:jo(function(){na(this,"redo")}),undoSelection:jo(function(){na(this,"undo",!0)}),redoSelection:jo(function(){na(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Si(this.history),yi(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Pi(this.history.done),undone:Pi(this.history.undone)}},setHistory:function(e){var t=this.history=new Si(this.history);t.done=Pi(e.done.slice(0),null,!0),t.undone=Pi(e.undone.slice(0),null,!0)},setGutterMarker:jo(function(e,t,n){return ua(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ae(r)&&(e.gutterMarkers=null),!0})}),clearGutter:jo(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&ua(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ae(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!it(this,e))return null;if(t=e,e=Qe(this,e),!e)return null}else if(t=rt(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:jo(function(e,t,n){return ua(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(T(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:jo(function(e,t,n){return ua(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(T(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:jo(function(e,t,n){return ma(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ba(this,ht(this,e),ht(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=ht(this,e),ba(this,e,e,n,"bookmark")},findMarksAt:function(e){e=ht(this,e);var t=[],n=Qe(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=ht(this,e),t=ht(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(i){var a=i.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&o==e.line&&e.ch>=s.to||null==s.from&&o!=e.line||null!=s.from&&o==t.line&&s.from>=t.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n}),ht(this,lt(n,t))},indexFromPos:function(e){e=ht(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ta(tt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ta(tt(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ca(r,wa(this)),r},unlinkDoc:function(e){if(e instanceof Ll&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ka(wa(this));break}}if(e.history==this.history){var r=[e.id];yi(e,function(e){return r.push(e.id)},!0),e.history=new Si(null),e.history.done=Pi(this.history.done,r),e.history.undone=Pi(this.history.undone,r)}},iterLinkedDocs:function(e){yi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:jo(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ki(this.cm))})}),Ta.prototype.eachLine=Ta.prototype.iter;var Ea=0;function Oa(e){var t=this;if(Aa(t),!we(t,e)&&!Un(t.display,e)){Te(e),a&&(Ea=+new Date);var n=jr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),l=0,s=function(){++l==o&&_o(t,function(){n=ht(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(i.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};ea(t.doc,e),Hi(t.doc,ui(ht(t.doc,n),ht(t.doc,di(e))))})()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==H(t.options.allowDropFileTypes,e.type))s();else{var r=new FileReader;r.onerror=function(){return s()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[n]=e),s()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var d=e.dataTransfer.getData("Text");if(d){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),qi(t.doc,ui(n,n)),p)for(var f=0;f<p.length;++f)aa(t.doc,"",p[f].anchor,p[f].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Da(e,t){if(a&&(!e.state.draggingText||+new Date-Ea<100))De(t);else if(!we(e,t)&&!Un(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),p&&n.parentNode.removeChild(n)}}function Ma(e,t){var n=jr(e,t);if(n){var r=document.createDocumentFragment();Gr(e,n,r),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),M(e.display.dragCursor,r)}}function Aa(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ia(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var Na=!1;function Ra(){Na||(Fa(),Na=!0)}function Fa(){var e;ve(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ia(_a)},100))}),ve(window,"blur",function(){return Ia(eo)})}function _a(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Pa={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ja=0;ja<10;ja++)Pa[ja+48]=Pa[ja+96]=String(ja);for(var $a=65;$a<=90;$a++)Pa[$a]=String.fromCharCode($a);for(var La=1;La<=12;La++)Pa[La+111]=Pa[La+63235]="F"+La;var za={};function Va(e){var t,n,r,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var l=i[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Ba(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=Q(n.split(" "),Va),i=0;i<o.length;i++){var a=void 0,l=void 0;i==o.length-1?(l=o.join(" "),a=r):(l=o.slice(0,i+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Ha(e,t,n,r){t=Ga(t);var o=t.call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ha(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=Ha(e,t.fallthrough[i],n,r);if(a)return a}}}function Wa(e){var t="string"==typeof e?e:Pa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function qa(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Ua(e,t){if(p&&34==e.keyCode&&e["char"])return!1;var n=Pa[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),qa(n,e,t))}function Ga(e){return"string"==typeof e?za[e]:e}function Ya(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){var i=t(n[o]);while(r.length&&st(i.from,J(r).to)<=0){var a=r.pop();if(st(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Fo(e,function(){for(var t=r.length-1;t>=0;t--)aa(e.doc,"",r[t].from,r[t].to,"+delete");co(e)})}function Ka(e,t,n){var r=ce(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Xa(e,t,n){var r=Ka(e,t.ch,n);return null==r?null:new lt(t.line,r,n<0?"after":"before")}function Za(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var i=me(n,t.doc.direction);if(i){var a,l=o<0?J(i):i[0],s=o<0==(1==l.level),c=s?"after":"before";if(l.level>0||"rtl"==t.doc.direction){var u=or(t,n);a=o<0?n.text.length-1:0;var d=ir(t,u,a).top;a=ue(function(e){return ir(t,u,e).top==d},o<0==(1==l.level)?l.from:l.to-1,a),"before"==c&&(a=Ka(n,a,1))}else a=o<0?l.to:l.from;return new lt(r,a,c)}}return new lt(r,o<0?n.text.length:0,o<0?"before":"after")}function Ja(e,t,n,r){var o=me(t,e.doc.direction);if(!o)return Xa(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=fe(o,n.ch,n.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Xa(t,n,r);var l,s=function(e,n){return Ka(t,e instanceof lt?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(l=l||or(e,t),Er(e,t,l,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,p=s(n,d?1:-1);if(null!=p&&(d?p<=a.to&&p<=u.end:p>=a.from&&p>=u.begin)){var f=d?"before":"after";return new lt(n.line,p,f)}}var h=function(e,t,r){for(var i=function(e,t){return t?new lt(n.line,s(e,1),"before"):new lt(n.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],l=t>0==(1!=a.level),c=l?r.begin:s(r.end,-1);if(a.from<=c&&c<a.to)return i(c,l);if(c=l?a.from:s(a.to,-1),r.begin<=c&&c<r.end)return i(c,l)}},m=h(i+r,r,u);if(m)return m;var g=r>0?u.end:s(u.begin,-1);return null==g||r>0&&g==t.text.length||(m=h(r>0?0:o.length-1,r,c(g)),!m)?null:m}za.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},za.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},za.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},za.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},za["default"]=x?za.macDefault:za.pcDefault;var Qa={selectAll:Ji,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),U)},killLine:function(e){return Ya(e,function(t){if(t.empty()){var n=Qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:lt(t.head.line+1,0)}:{from:t.head,to:lt(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Ya(e,function(t){return{from:lt(t.from().line,0),to:ht(e.doc,lt(t.to().line+1,0))}})},delLineLeft:function(e){return Ya(e,function(e){return{from:lt(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Ya(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return Ya(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(lt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(lt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return el(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return nl(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return tl(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Y)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Y)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?nl(e,t.head):r},Y)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=V(e.getLine(i.line),i.ch,r);t.push(Z(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Fo(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=Qe(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new lt(o.line,o.ch-1)),o.ch>0)o=new lt(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),lt(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Qe(e.doc,o.line-1).text;a&&(o=new lt(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),lt(o.line-1,a.length-1),o,"+transpose"))}n.push(new si(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){return Fo(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);co(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function el(e,t){var n=Qe(e.doc,t),r=en(n);return r!=n&&(t=rt(r)),Za(!0,e,r,t,1)}function tl(e,t){var n=Qe(e.doc,t),r=tn(n);return r!=n&&(t=rt(r)),Za(!0,e,n,t,-1)}function nl(e,t){var n=el(e,t.line),r=Qe(e.doc,n.line),o=me(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return lt(n.line,a?0:i,n.sticky)}return n}function rl(e,t,n){if("string"==typeof t&&(t=Qa[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=q}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function ol(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=Ha(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&Ha(t,e.options.extraKeys,n,e)||Ha(t,e.options.keyMap,n,e)}var il=new B;function al(e,t,n,r){var o=e.state.keySeq;if(o){if(Wa(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:il.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),ll(e,o+" "+t,n,r))return!0}return ll(e,t,n,r)}function ll(e,t,n,r){var o=ol(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&In(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Te(n),Xr(e)),!!o}function sl(e,t){var n=Ua(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?al(e,"Shift-"+n,t,function(t){return rl(e,t,!0)})||al(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return rl(e,t)}):al(e,n,t,function(t){return rl(e,t)}))}function cl(e,t,n){return al(e,"'"+n+"'",t,function(t){return rl(e,t,!0)})}var ul=null;function dl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=R(j(t)),!we(t,e))){a&&l<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var o=sl(t,e);p&&(ul=o?r:null,o||88!=r||$e||!(x?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!x&&!o&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||pl(t)}}function pl(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(O(t,"CodeMirror-crosshair"),xe(document,"keyup",n),xe(document,"mouseover",n))}F(t,"CodeMirror-crosshair"),ve(document,"keyup",n),ve(document,"mouseover",n)}function fl(e){16==e.keyCode&&(this.doc.sel.shift=!1),we(this,e)}function hl(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Un(t.display,e)||we(t,e)||e.ctrlKey&&!e.altKey||x&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(p&&n==ul)return ul=null,void Te(e);if(!p||e.which&&!(e.which<10)||!sl(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(cl(t,e,o)||t.display.input.onKeyPress(e))}}}var ml,gl,vl=400,bl=function(e,t,n){this.time=e,this.pos=t,this.button=n};function xl(e,t){var n=+new Date;return gl&&gl.compare(n,e,t)?(ml=gl=null,"triple"):ml&&ml.compare(n,e,t)?(gl=new bl(n,e,t),ml=null,"double"):(ml=new bl(n,e,t),gl=null,"single")}function yl(e){var t=this,n=t.display;if(!(we(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Un(n,e))s||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!Ml(t,e)){var r=jr(t,e),o=Ae(e),i=r?xl(r,o):"single";$(t).focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&wl(t,o,r,i,e)||(1==o?r?kl(t,r,i,e):Me(e)==n.scroller&&Te(e):2==o?(r&&$i(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==o&&(S?t.display.input.onContextMenu(e):Jr(t)))}}function wl(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),i=(1==t?"Left":2==t?"Middle":"Right")+i,al(e,qa(i,o),o,function(t){if("string"==typeof t&&(t=Qa[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=q}finally{e.state.suppressEdits=!1}return r})}function Cl(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=y?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=x?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(x?n.altKey:n.ctrlKey)),o}function kl(e,t,n,r){a?setTimeout(L(Zr,e),0):e.curOp.focus=R(j(e));var o,i=Cl(e,n,r),l=e.doc.sel;e.options.dragDrop&&Re&&!e.isReadOnly()&&"single"==n&&(o=l.contains(t))>-1&&(st((o=l.ranges[o]).from(),t)<0||t.xRel>0)&&(st(o.to(),t)>0||t.xRel<0)?Sl(e,r,t,i):El(e,r,t,i)}function Sl(e,t,n,r){var o=e.display,i=!1,c=_o(e,function(t){s&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Jr(e)),xe(o.wrapper.ownerDocument,"mouseup",c),xe(o.wrapper.ownerDocument,"mousemove",u),xe(o.scroller,"dragstart",d),xe(o.scroller,"drop",c),i||(Te(t),r.addNew||$i(e.doc,n,null,null,r.extend),s&&!f||a&&9==l?setTimeout(function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),u=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return i=!0};s&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,ve(o.wrapper.ownerDocument,"mouseup",c),ve(o.wrapper.ownerDocument,"mousemove",u),ve(o.scroller,"dragstart",d),ve(o.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout(function(){return o.input.focus()},20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Tl(e,t,n){if("char"==n)return new si(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new si(lt(t.line,0),ht(e.doc,lt(t.line+1,0)));var r=n(e,t);return new si(r.from,r.to)}function El(e,t,n,r){a&&Jr(e);var o=e.display,i=e.doc;Te(t);var l,s,c=i.sel,u=c.ranges;if(r.addNew&&!r.extend?(s=i.sel.contains(n),l=s>-1?u[s]:new si(n,n)):(l=i.sel.primary(),s=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(l=new si(n,n)),n=jr(e,t,!0,!0),s=-1;else{var d=Tl(e,n,r.unit);l=r.extend?ji(l,d.anchor,d.head,r.extend):d}r.addNew?-1==s?(s=u.length,Wi(i,ci(e,u.concat([l]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Wi(i,ci(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),c=i.sel):zi(i,s,l,G):(s=0,Wi(i,new li([l],0),G),c=i.sel);var p=n;function f(t){if(0!=st(p,t))if(p=t,"rectangle"==r.unit){for(var o=[],a=e.options.tabSize,u=V(Qe(i,n.line).text,n.ch,a),d=V(Qe(i,t.line).text,t.ch,a),f=Math.min(u,d),h=Math.max(u,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Qe(i,m).text,b=K(v,f,a);f==h?o.push(new si(lt(m,b),lt(m,b))):v.length>b&&o.push(new si(lt(m,b),lt(m,K(v,h,a))))}o.length||o.push(new si(n,n)),Wi(i,ci(e,c.ranges.slice(0,s).concat(o),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,y=l,w=Tl(e,t,r.unit),C=y.anchor;st(w.anchor,C)>0?(x=w.head,C=pt(y.from(),w.anchor)):(x=w.anchor,C=dt(y.to(),w.head));var k=c.ranges.slice(0);k[s]=Ol(e,new si(ht(i,C),x)),Wi(i,ci(e,k,s),G)}}var h=o.wrapper.getBoundingClientRect(),m=0;function g(t){var n=++m,a=jr(e,t,!0,"rectangle"==r.unit);if(a)if(0!=st(a,p)){e.curOp.focus=R(j(e)),f(a);var l=ro(o,i);(a.line>=l.to||a.line<l.from)&&setTimeout(_o(e,function(){m==n&&g(t)}),150)}else{var s=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;s&&setTimeout(_o(e,function(){m==n&&(o.scroller.scrollTop+=s,g(t))}),50)}}function v(t){e.state.selectingText=!1,m=1/0,t&&(Te(t),o.input.focus()),xe(o.wrapper.ownerDocument,"mousemove",b),xe(o.wrapper.ownerDocument,"mouseup",x),i.history.lastSelOrigin=null}var b=_o(e,function(e){0!==e.buttons&&Ae(e)?g(e):v(e)}),x=_o(e,v);e.state.selectingText=x,ve(o.wrapper.ownerDocument,"mousemove",b),ve(o.wrapper.ownerDocument,"mouseup",x)}function Ol(e,t){var n=t.anchor,r=t.head,o=Qe(e.doc,n.line);if(0==st(n,r)&&n.sticky==r.sticky)return t;var i=me(o);if(!i)return t;var a=fe(i,n.ch,n.sticky),l=i[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var s,c=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==c||c==i.length)return t;if(r.line!=n.line)s=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=fe(i,r.ch,r.sticky),d=u-a||(r.ch-n.ch)*(1==l.level?-1:1);s=u==c-1||u==c?d<0:d>0}var p=i[c+(s?-1:0)],f=s==(1==p.level),h=f?p.from:p.to,m=f?"after":"before";return n.ch==h&&n.sticky==m?t:new si(new lt(n.line,h,m),r)}function Dl(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(p){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Te(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(i>l.bottom||!ke(e,n))return Oe(t);i-=l.top-a.viewOffset;for(var s=0;s<e.display.gutterSpecs.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=o){var u=ot(e.doc,i),d=e.display.gutterSpecs[s];return ye(e,n,e,u,d.className,t),Oe(t)}}}function Ml(e,t){return Dl(e,t,"gutterClick",!0)}function Al(e,t){Un(e.display,t)||Il(e,t)||we(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Il(e,t){return!!ke(e,"gutterContextMenu")&&Dl(e,t,"gutterContextMenu",!1)}function Nl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hr(e)}bl.prototype.compare=function(e,t,n){return this.time+vl>e&&0==st(t,this.pos)&&n==this.button};var Rl={toString:function(){return"CodeMirror.Init"}},Fl={},_l={};function Pl(e){var t=e.optionHandlers;function n(n,r,o,i){e.defaults[n]=r,o&&(t[n]=i?function(e,t,n){n!=Rl&&o(e,t,n)}:o)}e.defineOption=n,e.Init=Rl,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,gi(e)},!0),n("indentUnit",2,gi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){vi(e),hr(e),Lr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(lt(r,i))}r++});for(var o=n.length-1;o>=0;o--)aa(e.doc,t,n[o],lt(n[o].line,n[o].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Rl&&e.refresh()}),n("specialCharPlaceholder",bn,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),n("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Nl(e),ei(e)},!0),n("keyMap","default",function(e,t,n){var r=Ga(t),o=n!=Rl&&Ga(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,$l,!0),n("gutters",[],function(e,t){e.display.gutterSpecs=Jo(t,e.options.lineNumbers),ei(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Fr(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return wo(e)},!0),n("scrollbarStyle","native",function(e){So(e),wo(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e,t){e.display.gutterSpecs=Jo(e.options.gutters,t),ei(e)},!0),n("firstLineNumber",1,ei,!0),n("lineNumberFormatter",function(e){return e},ei,!0),n("showCursorWhenSelecting",!1,qr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(eo(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,jl),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,qr,!0),n("singleCursorHeightPerLine",!0,qr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,vi,!0),n("addModeClass",!1,vi,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,vi,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}function jl(e,t,n){var r=n&&n!=Rl;if(!t!=!r){var o=e.display.dragFunctions,i=t?ve:xe;i(e.display.scroller,"dragstart",o.start),i(e.display.scroller,"dragenter",o.enter),i(e.display.scroller,"dragover",o.over),i(e.display.scroller,"dragleave",o.leave),i(e.display.scroller,"drop",o.drop)}}function $l(e){e.options.lineWrapping?(F(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(O(e.display.wrapper,"CodeMirror-wrap"),un(e)),Pr(e),Lr(e),hr(e),setTimeout(function(){return wo(e)},100)}function Ll(e,t){var n=this;if(!(this instanceof Ll))return new Ll(e,t);this.options=t=t?z(t):{},z(Fl,t,!1);var r=t.value;"string"==typeof r?r=new Ta(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Ll.inputStyles[t.inputStyle](this),i=this.display=new ti(e,r,o,t);for(var c in i.wrapper.CodeMirror=this,Nl(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),So(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!b&&i.input.focus(),a&&l<11&&setTimeout(function(){return n.display.input.reset(!0)},20),zl(this),Ra(),Eo(this),this.curOp.forceUpdate=!0,wi(this,r),t.autofocus&&!b||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Qr(n)},20):eo(this),_l)_l.hasOwnProperty(c)&&_l[c](this,t[c],Rl);Zo(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Vl.length;++u)Vl[u](this);Oo(this),s&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function zl(e){var t=e.display;ve(t.scroller,"mousedown",_o(e,yl)),ve(t.scroller,"dblclick",a&&l<11?_o(e,function(t){if(!we(e,t)){var n=jr(e,t);if(n&&!Ml(e,t)&&!Un(e.display,t)){Te(t);var r=e.findWordAt(n);$i(e.doc,r.anchor,r.head)}}}):function(t){return we(e,t)||Te(t)}),ve(t.scroller,"contextmenu",function(t){return Al(e,t)}),ve(t.input.getField(),"contextmenu",function(n){t.scroller.contains(n.target)||Al(e,n)});var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function s(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}ve(t.scroller,"touchstart",function(o){if(!we(e,o)&&!i(o)&&!Ml(e,o)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}}),ve(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ve(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!Un(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,a=e.coordsChar(t.activeTouch,"page");i=!r.prev||s(r,r.prev)?new si(a,a):!r.prev.prev||s(r,r.prev.prev)?e.findWordAt(a):new si(lt(a.line,0),ht(e.doc,lt(a.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),Te(n)}o()}),ve(t.scroller,"touchcancel",o),ve(t.scroller,"scroll",function(){t.scroller.clientHeight&&(mo(e,t.scroller.scrollTop),vo(e,t.scroller.scrollLeft,!0),ye(e,"scroll",e))}),ve(t.scroller,"mousewheel",function(t){return ai(e,t)}),ve(t.scroller,"DOMMouseScroll",function(t){return ai(e,t)}),ve(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){we(e,t)||De(t)},over:function(t){we(e,t)||(Ma(e,t),De(t))},start:function(t){return Da(e,t)},drop:_o(e,Oa),leave:function(t){we(e,t)||Aa(e)}};var c=t.input.getField();ve(c,"keyup",function(t){return fl.call(e,t)}),ve(c,"keydown",_o(e,dl)),ve(c,"keypress",_o(e,hl)),ve(c,"focus",function(t){return Qr(e,t)}),ve(c,"blur",function(t){return eo(e,t)})}Ll.defaults=Fl,Ll.optionHandlers=_l;var Vl=[];function Bl(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=wt(e,t).state:n="prev");var a=e.options.tabSize,l=Qe(i,t),s=V(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var c,u=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&(c=i.mode.indent(o,l.text.slice(u.length),l.text),c==q||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?V(Qe(i,t-1).text,null,a):0:"add"==n?c=s+e.options.indentUnit:"subtract"==n?c=s-e.options.indentUnit:"number"==typeof n&&(c=s+n),c=Math.max(0,c);var d="",p=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/a);f;--f)p+=a,d+="\t";if(p<c&&(d+=Z(c-p)),d!=u)return aa(i,d,lt(t,0),lt(t,u.length),"+input"),l.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var m=i.sel.ranges[h];if(m.head.line==t&&m.head.ch<u.length){var g=lt(t,u.length);zi(i,h,new si(g,g));break}}}Ll.defineInitHook=function(e){return Vl.push(e)};var Hl=null;function Wl(e){Hl=e}function ql(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,l="paste"==o||e.state.pasteIncoming>a,s=Pe(t),c=null;if(l&&r.ranges.length>1)if(Hl&&Hl.text.join("\n")==t){if(r.ranges.length%Hl.text.length==0){c=[];for(var u=0;u<Hl.text.length;u++)c.push(i.splitLines(Hl.text[u]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=Q(s,function(e){return[e]}));for(var d=e.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var f=r.ranges[p],h=f.from(),m=f.to();f.empty()&&(n&&n>0?h=lt(h.line,h.ch-n):e.state.overwrite&&!l?m=lt(m.line,Math.min(Qe(i,m.line).text.length,m.ch+J(s).length)):l&&Hl&&Hl.lineWise&&Hl.text.join("\n")==s.join("\n")&&(h=m=lt(h.line,0)));var g={from:h,to:m,text:c?c[p%c.length]:s,origin:o||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};ea(e.doc,g),In(e,"inputRead",e,g)}t&&!l&&Gl(e,t),co(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ul(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Fo(t,function(){return ql(t,n,0,null,"paste")}),!0}function Gl(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var l=0;l<i.electricChars.length;l++)if(t.indexOf(i.electricChars.charAt(l))>-1){a=Bl(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Qe(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Bl(e,o.head.line,"smart"));a&&In(e,"electricInput",e,o.head.line)}}}function Yl(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:lt(o,0),head:lt(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Kl(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Xl(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return s?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Kl(e),t}function Zl(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){$(this).focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&_o(this,t[e])(this,n,o),ye(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ga(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Po(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");ee(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Lr(this)}),removeOverlay:Po(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Lr(this)}}),indentLine:Po(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),it(this.doc,e)&&Bl(this,e,t,n)}),indentSelection:Po(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(Bl(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&co(this));else{var i=o.from(),a=o.to(),l=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)Bl(this,s,e);var c=this.doc.sel.ranges;0==i.ch&&t.length==c.length&&c[r].from().ch>0&&zi(this.doc,r,new si(i,c[r].to()),U)}}}),getTokenAt:function(e,t){return Et(this,e,t)},getLineTokens:function(e,t){return Et(this,lt(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t,n=yt(this,Qe(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf("overlay "):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],i=this.getModeAt(e);if("string"==typeof i[t])o[i[t]]&&r.push(o[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var l=o[i[t][a]];l&&r.push(l)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var s=0;s<o._global.length;s++){var c=o._global[s];c.pred(i,this)&&-1==H(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=ft(n,null==e?n.first+n.size-1:e),wt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?ht(this.doc,e):e?r.from():r.to(),wr(this,n,t||"page")},charCoords:function(e,t){return yr(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return e=xr(this,e,t||"page"),Sr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=xr(this,{top:e,left:0},t||"page").top,ot(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=Qe(this.doc,e)}else r=e;return br(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-sn(r):0)},defaultTextHeight:function(){return Ir(this.display)},defaultCharWidth:function(){return Nr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display;e=wr(this,ht(this.doc,e));var a=e.bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var s=Math.max(i.wrapper.clientHeight,this.doc.height),c=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>c&&(l=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(l=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?l=0:"middle"==o&&(l=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),n&&ao(this,{left:l,top:a,right:l+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Po(dl),triggerOnKeyPress:Po(hl),triggerOnKeyUp:fl,triggerOnMouseDown:Po(yl),execCommand:function(e){if(Qa.hasOwnProperty(e))return Qa[e].call(null,this)},triggerElectric:Po(function(e){Gl(this,e)}),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var i=ht(this.doc,e),a=0;a<t;++a)if(i=Jl(this.doc,i,o,n,r),i.hitSide)break;return i},moveH:Po(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Jl(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Y)}),deleteH:Po(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Ya(this,function(n){var o=Jl(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}})}),findPosV:function(e,t,n,r){var o=1,i=r;t<0&&(o=-1,t=-t);for(var a=ht(this.doc,e),l=0;l<t;++l){var s=wr(this,a,"div");if(null==i?i=s.left:s.left=i,a=Ql(this,s,o,n),a.hitSide)break}return a},moveV:Po(function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(i)return e<0?a.from():a.to();var l=wr(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),o.push(l.left);var s=Ql(n,l,e,t);return"page"==t&&a==r.sel.primary()&&so(n,yr(n,s,"div").top-l.top),s},Y),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]}),findWordAt:function(e){var t=this.doc,n=Qe(t,e.line).text,r=e.ch,o=e.ch;if(n){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&o!=n.length||!r?++o:--r;var a=n.charAt(r),l=ie(a,i)?function(e){return ie(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ie(e)};while(r>0&&l(n.charAt(r-1)))--r;while(o<n.length&&l(n.charAt(o)))++o}return new si(lt(e.line,r),lt(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?F(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),ye(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==R(j(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Po(function(e,t){uo(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Xn(this)-this.display.barHeight,width:e.scrollWidth-Xn(this)-this.display.barWidth,clientHeight:Jn(this),clientWidth:Zn(this)}},scrollIntoView:Po(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:lt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?po(this,e):ho(this,e.from,e.to,e.margin)}),setSize:Po(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&fr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){zr(n,o,"widget");break}++o}),this.curOp.forceUpdate=!0,ye(this,"refresh",this)}),operation:function(e){return Fo(this,e)},startOperation:function(){return Eo(this)},endOperation:function(){return Oo(this)},refresh:Po(function(){var e=this.display.cachedTextHeight;Lr(this),this.curOp.forceUpdate=!0,hr(this),uo(this,this.doc.scrollLeft,this.doc.scrollTop),Yo(this.display),(null==e||Math.abs(e-Ir(this.display))>.5||this.options.lineWrapping)&&Pr(this),ye(this,"refresh",this)}),swapDoc:Po(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),wi(this,e),hr(this),this.display.input.reset(),uo(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,In(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Se(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}function Jl(e,t,n,r,o){var i=t,a=n,l=Qe(e,t.line),s=o&&"rtl"==e.direction?-n:n;function c(){var n=t.line+s;return!(n<e.first||n>=e.first+e.size)&&(t=new lt(n,t.ch,t.sticky),l=Qe(e,n))}function u(i){var a;if("codepoint"==r){var u=l.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))a=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;a=new lt(t.line,Math.max(0,Math.min(l.text.length,t.ch+n*(d?2:1))),-n)}}else a=o?Ja(e.cm,l,t,n):Xa(l,t,n);if(null==a){if(i||!c())return!1;t=Za(o,e.cm,l,t.line,s)}else t=a;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var d=null,p="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;;h=!1){if(n<0&&!u(!h))break;var m=l.text.charAt(t.ch)||"\n",g=ie(m,f)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||h||g||(g="s"),d&&d!=g){n<0&&(n=1,u(),t.sticky="after");break}if(g&&(d=g),n>0&&!u(!h))break}var v=Xi(e,t,i,a,!0);return ct(i,v)&&(v.hitSide=!0),v}function Ql(e,t,n,r){var o,i,a=e.doc,l=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,$(e).innerHeight||a(e).documentElement.clientHeight),c=Math.max(s-.5*Ir(e.display),3);o=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;;){if(i=Sr(e,l,o),!i.outside)break;if(n<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*n}return i}var es=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function ts(e,t){var n=rr(e,t.line);if(!n||n.hidden)return null;var r=Qe(e.doc,t.line),o=er(n,r,t.line),i=me(r,e.doc.direction),a="left";if(i){var l=fe(i,t.ch);a=l%2?"right":"left"}var s=sr(o.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function ns(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function rs(e,t){return t&&(e.bad=!0),e}function os(e,t,n,r,o){var i="",a=!1,l=e.doc.lineSeparator(),s=!1;function c(e){return function(t){return t.id==e}}function u(){a&&(i+=l,s&&(i+=l),a=s=!1)}function d(e){e&&(u(),i+=e)}function p(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var i,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(lt(r,0),lt(o+1,0),c(+f));return void(h.length&&(i=h[0].find(0))&&d(et(e.doc,i.from,i.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var g=0;g<t.childNodes.length;g++)p(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(s=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(p(t),t==n)break;t=t.nextSibling,s=!1}return i}function is(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return rs(e.clipPos(lt(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return as(i,t,n)}}function as(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!N(r,t))return rs(lt(rt(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?J(e.rest):e.line;return rs(lt(rt(i),i.text.length),o)}var a=3==t.nodeType?t:null,l=t;a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));while(l.parentNode!=r)l=l.parentNode;var s=e.measure,c=s.maps;function u(t,n,r){for(var o=-1;o<(c?c.length:0);o++)for(var i=o<0?s.map:c[o],a=0;a<i.length;a+=3){var l=i[a+2];if(l==t||l==n){var u=rt(o<0?e.line:e.rest[o]),d=i[a]+r;return(r<0||l!=t)&&(d=i[a+(r?1:0)]),lt(u,d)}}}var d=u(a,l,n);if(d)return rs(d,o);for(var p=l.nextSibling,f=a?a.nodeValue.length-n:0;p;p=p.nextSibling){if(d=u(p,p.firstChild,0),d)return rs(lt(d.line,d.ch-f),o);f+=p.textContent.length}for(var h=l.previousSibling,m=n;h;h=h.previousSibling){if(d=u(h,h.firstChild,-1),d)return rs(lt(d.line,d.ch+m),o);m+=h.textContent.length}}es.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(i(e)&&!we(r,e)){if(r.somethingSelected())Wl({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Yl(r);Wl({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,U),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var a=Hl.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var l=Xl(),s=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),s.value=Hl.text.join("\n");var c=R(o.ownerDocument);P(s),setTimeout(function(){r.display.lineSpace.removeChild(l),c.focus(),c==o&&n.showPrimarySelection()},50)}}o.contentEditable=!0,Kl(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ve(o,"paste",function(e){!i(e)||we(r,e)||Ul(e,r)||l<=11&&setTimeout(_o(r,function(){return t.updateFromDOM()}),20)}),ve(o,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),ve(o,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),ve(o,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ve(o,"touchstart",function(){return n.forceCompositionEnd()}),ve(o,"input",function(){t.composing||t.readFromDOMSoon()}),ve(o,"copy",a),ve(o,"cut",a)},es.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},es.prototype.prepareSelection=function(){var e=Ur(this.cm,!1);return e.focus=R(this.div.ownerDocument)==this.div,e},es.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},es.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},es.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=is(t,e.anchorNode,e.anchorOffset),l=is(t,e.focusNode,e.focusOffset);if(!a||a.bad||!l||l.bad||0!=st(pt(a,l),o)||0!=st(dt(a,l),i)){var s=t.display.view,c=o.line>=t.display.viewFrom&&ts(t,o)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&ts(t,i);if(!u){var d=s[s.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(c&&u){var f,h=e.rangeCount&&e.getRangeAt(0);try{f=E(c.node,c.offset,u.offset,u.node)}catch(m){}f&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},es.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},es.prototype.showMultipleSelections=function(e){M(this.cm.display.cursorDiv,e.cursors),M(this.cm.display.selectionDiv,e.selection)},es.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},es.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},es.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&R(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},es.prototype.blur=function(){this.div.blur()},es.prototype.getField=function(){return this.div},es.prototype.supportsTouch=function(){return!0},es.prototype.receivedFocus=function(){var e=this,t=this;function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Fo(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,n)},es.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},es.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&ns(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=is(t,e.anchorNode,e.anchorOffset),r=is(t,e.focusNode,e.focusOffset);n&&r&&Fo(t,function(){Wi(t.doc,ui(n,r),U),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},es.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),l=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=lt(a.line-1,Qe(r.doc,a.line-1).length)),l.ch==Qe(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=lt(l.line+1,0)),a.line<o.viewFrom||l.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=$r(r,a.line))?(t=rt(o.view[0].line),n=o.view[0].node):(t=rt(o.view[e].line),n=o.view[e-1].node.nextSibling);var s,c,u=$r(r,l.line);if(u==o.view.length-1?(s=o.viewTo-1,c=o.lineDiv.lastChild):(s=rt(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!n)return!1;var d=r.doc.splitLines(os(r,n,c,t,s)),p=et(r.doc,lt(t,0),lt(s,Qe(r.doc,s).text.length));while(d.length>1&&p.length>1)if(J(d)==J(p))d.pop(),p.pop(),s--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),t++}var f=0,h=0,m=d[0],g=p[0],v=Math.min(m.length,g.length);while(f<v&&m.charCodeAt(f)==g.charCodeAt(f))++f;var b=J(d),x=J(p),y=Math.min(b.length-(1==d.length?f:0),x.length-(1==p.length?f:0));while(h<y&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1))++h;if(1==d.length&&1==p.length&&t==a.line)while(f&&f>a.ch&&b.charCodeAt(b.length-h-1)==x.charCodeAt(x.length-h-1))f--,h++;d[d.length-1]=b.slice(0,b.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var w=lt(t,f),C=lt(s,p.length?J(p).length-h:0);return d.length>1||d[0]||st(w,C)?(aa(r.doc,d,w,C,"+input"),!0):void 0},es.prototype.ensurePolled=function(){this.forceCompositionEnd()},es.prototype.reset=function(){this.forceCompositionEnd()},es.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},es.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},es.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Fo(this.cm,function(){return Lr(e.cm)})},es.prototype.setUneditable=function(e){e.contentEditable="false"},es.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||_o(this.cm,ql)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},es.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},es.prototype.onContextMenu=function(){},es.prototype.resetPosition=function(){},es.prototype.needsContentAttribute=!0;var ls=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};function ss(e,t){if(t=t?z(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=R(e.ownerDocument);t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=l.getValue()}var o;if(e.form&&(ve(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(s){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(xe(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var l=Ll(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}function cs(e){e.off=xe,e.on=ve,e.wheelEventPixels=ii,e.Doc=Ta,e.splitLines=Pe,e.countColumn=V,e.findColumn=K,e.isWordChar=oe,e.Pass=q,e.signal=ye,e.Line=dn,e.changeEnd=di,e.scrollbarModel=ko,e.Pos=lt,e.cmpPos=st,e.modes=Ve,e.mimeModes=Be,e.resolveMode=qe,e.getMode=Ue,e.modeExtensions=Ge,e.extendMode=Ye,e.copyState=Ke,e.startState=Ze,e.innerMode=Xe,e.commands=Qa,e.keyMap=za,e.keyName=Ua,e.isModifierKey=Wa,e.lookupKey=Ha,e.normalizeKeyMap=Ba,e.StringStream=Je,e.SharedTextMarker=xa,e.TextMarker=va,e.LineWidget=fa,e.e_preventDefault=Te,e.e_stopPropagation=Ee,e.e_stop=De,e.addClass=F,e.contains=N,e.rmClass=O,e.keyNames=Pa}ls.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!we(r,e)){if(r.somethingSelected())Wl({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Yl(r);Wl({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,U):(n.prevInput="",o.value=t.text.join("\n"),P(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(o.style.width="0px"),ve(o,"input",function(){a&&l>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),ve(o,"paste",function(e){we(r,e)||Ul(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())}),ve(o,"cut",i),ve(o,"copy",i),ve(e.scroller,"paste",function(t){if(!Un(e,t)&&!we(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}}),ve(e.lineSpace,"selectstart",function(t){Un(e,t)||Te(t)}),ve(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ve(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ls.prototype.createField=function(e){this.wrapper=Xl(),this.textarea=this.wrapper.firstChild},ls.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ls.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Ur(e);if(e.options.moveInputWithCursor){var o=wr(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},ls.prototype.showSelection=function(e){var t=this.cm,n=t.display;M(n.cursorDiv,e.cursors),M(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ls.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&P(this.textarea),a&&l>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&l>=9&&(this.hasSelection=null))}},ls.prototype.getField=function(){return this.textarea},ls.prototype.supportsTouch=function(){return!1},ls.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||R(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},ls.prototype.blur=function(){this.textarea.blur()},ls.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ls.prototype.receivedFocus=function(){this.slowPoll()},ls.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ls.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},ls.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||je(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===o||x&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}var s=0,c=Math.min(r.length,o.length);while(s<c&&r.charCodeAt(s)==o.charCodeAt(s))++s;return Fo(t,function(){ql(t,o.slice(s),r.length-s,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ls.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ls.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},ls.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=jr(n,e),c=r.scroller.scrollTop;if(i&&!p){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(i)&&_o(n,Wi)(n.doc,ui(i),U);var d,f=o.style.cssText,h=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",s&&(d=o.ownerDocument.defaultView.scrollY),r.input.focus(),s&&o.ownerDocument.defaultView.scrollTo(null,d),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=b,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&v(),S){De(e);var g=function(){xe(window,"mouseup",g),setTimeout(b,20)};ve(window,"mouseup",g)}else setTimeout(b,50)}function v(){if(null!=o.selectionStart){var e=n.somethingSelected(),i="​"+(e?o.value:"");o.value="⇚",o.value=i,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,o.style.cssText=f,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=o.selectionStart)){(!a||a&&l<9)&&v();var e=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?_o(n,Ji)(n):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},ls.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},ls.prototype.setUneditable=function(){},ls.prototype.needsContentAttribute=!1,Pl(Ll),Zl(Ll);var us="iter insert remove copy getEditor constructor".split(" ");for(var ds in Ta.prototype)Ta.prototype.hasOwnProperty(ds)&&H(us,ds)<0&&(Ll.prototype[ds]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ta.prototype[ds]));return Se(Ta),Ll.inputStyles={textarea:ls,contenteditable:es},Ll.defineMode=function(e){Ll.defaults.mode||"null"==e||(Ll.defaults.mode=e),He.apply(this,arguments)},Ll.defineMIME=We,Ll.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ll.defineMIME("text/plain","null"),Ll.defineExtension=function(e,t){Ll.prototype[e]=t},Ll.defineDocExtension=function(e,t){Ta.prototype[e]=t},Ll.fromTextArea=ss,cs(Ll),Ll.version="6.65.7",Ll})},2277:function(e,t,n){"use strict";var r=n(5049);e.exports=r.getPrototypeOf||null},2303:function(e,t,n){"use strict";var r=n(9792),o=n(1678),i=n(9818),a=n(3560);e.exports=function(e,t,n){for(var l=o(t),s=a.f,c=i.f,u=0;u<l.length;u++){var d=l[u];r(e,d)||n&&r(n,d)||s(e,d,c(t,d))}}},2334:function(e,t,n){"use strict";var r=n(4875),o=n(8031),i=r.Uint8Array,a=r.SyntaxError,l=r.parseInt,s=Math.min,c=/[^\da-f]/i,u=o(c.exec),d=o("".slice);e.exports=function(e,t){var n=e.length;if(n%2!==0)throw new a("String should be an even number of characters");var r=t?s(t.length,n/2):n/2,o=t||new i(r),p=0,f=0;while(f<r){var h=d(e,p,p+=2);if(u(c,h))throw new a("String should only contain hex characters");o[f++]=l(h,16)}return{bytes:o,read:p}}},2341:function(e,t,n){"use strict";var r=n(8965),o=n(7993),i=r.Set,a=r.add;e.exports=function(e){var t=new i;return o(e,function(e){a(t,e)}),t}},2345:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(6934),a=n(5699),l=n(9926),s=n(2334);function c(){try{var e=new ArrayBuffer(16,{maxByteLength:1024});new Uint8Array(e).setFromHex("cafed00d")}catch(t){return!0}}o.Uint8Array&&r({target:"Uint8Array",proto:!0,forced:c()},{setFromHex:function(e){a(this),i(e),l(this.buffer);var t=s(e,this).read;return{read:t,written:t/2}}})},2351:function(e){"use strict";var t=TypeError;e.exports=function(e){var n=e&&e.alphabet;if(void 0===n||"base64"===n||"base64url"===n)return n||"base64";throw new t("Incorrect `alphabet` option")}},2368:function(e,t,n){"use strict";var r=n(43),o=n(3636),i=n(3342),a=n(8294),l=n(8848),s="Invalid size",c=RangeError,u=TypeError,d=Math.max,p=function(e,t){this.set=e,this.size=d(t,0),this.has=r(e.has),this.keys=r(e.keys)};p.prototype={getIterator:function(){return l(o(i(this.keys,this.set)))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){o(e);var t=+e.size;if(t!==t)throw new u(s);var n=a(t);if(n<0)throw new c(s);return new p(e,n)}},2370:function(e,t,n){"use strict";var r=n(8072),o=n(9830);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},2371:function(e,t,n){"use strict";var r=n(2106);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2532:function(e,t,n){"use strict";var r=n(6031),o=n(2211),i=n(43),a=n(3636),l=n(8848),s=n(2846),c=n(7716),u=n(9148),d=n(5336),p=TypeError,f=d(function(){[].keys().reduce(function(){},void 0)}),h=!f&&c("reduce",p);r({target:"Iterator",proto:!0,real:!0,forced:f||h},{reduce:function(e){a(this);try{i(e)}catch(d){s(this,"throw",d)}var t=arguments.length<2,n=t?void 0:arguments[1];if(h)return u(h,this,t?[e]:[e,n]);var r=l(this),c=0;if(o(r,function(r){t?(t=!1,n=r):n=e(n,r,c),c++},{IS_RECORD:!0}),t)throw new p("Reduce of empty iterator with no initial value");return n}})},2553:function(e,t,n){"use strict";n.d(t,{Ay:function(){return ia}});var r={};n.r(r),n.d(r,{Colgroup:function(){return Xt},Column:function(){return Gt},Grid:function(){return Ki},Table:function(){return Qi},Toolbar:function(){return ta},VXETable:function(){return q},VxeColgroup:function(){return Kt},VxeColumn:function(){return Ut},VxeGrid:function(){return Yi},VxeTable:function(){return Zi},VxeToolbar:function(){return ea},VxeUI:function(){return o.OE},_t:function(){return W},clipboard:function(){return j},commands:function(){return _},config:function(){return B},formats:function(){return F},getConfig:function(){return k},getI18n:function(){return D},getIcon:function(){return T},getTheme:function(){return w},globalEvents:function(){return M},globalResize:function(){return A},hooks:function(){return L},install:function(){return oa},interceptor:function(){return P},log:function(){return $},menus:function(){return R},modal:function(){return K},print:function(){return Y},readFile:function(){return G},renderer:function(){return I},saveFile:function(){return U},setConfig:function(){return C},setI18n:function(){return O},setIcon:function(){return S},setLanguage:function(){return E},setTheme:function(){return y},setup:function(){return V},t:function(){return H},use:function(){return z},validators:function(){return N},version:function(){return b}});var o=n(3199),i=n(1845),a=n.n(i),l=n(3333);const{getConfig:s}=o.OE;function c(e){return e&&!1!==e.enabled}function u(e){return null===e||void 0===e||""===e}function d(e){const t=e.name,n=a().lastIndexOf(t,"."),r=t.substring(n+1,t.length).toLowerCase(),o=t.substring(0,n);return{filename:o,type:r}}function p(){return l.Ay.getNext()}function f(){return l.Ay.getCurrent()}function h(e){return e&&e.children&&e.children.length>0}function m(e,t){if(a().eqNull(e))return"";const n=s().translate;return`${n?n(""+e,t):e}`}function g(e,t){return""+(u(e)?t?s().emptyCell:"":e)}function v(e){return""===e||a().eqNull(e)}const b="4.17.48";o.OE.version=b,o.OE.tableVersion=b,o.OE.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},menuConfig:{destroyOnClose:!0},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{destroyOnClose:!0,multiple:!0,showIcon:!0},floatingFilterConfig:{},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0,showRootLine:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}},undoHistoryConfig:{isEditRow:!0}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:"list",result:"result",total:"page.total",footerData:"footerData",message:"message"}}},toolbar:{},gantt:{}});const x="vxe-table-icon-";o.OE.setIcon({TABLE_SORT_ASC:x+"caret-up",TABLE_SORT_DESC:x+"caret-down",TABLE_FILTER_NONE:x+"funnel",TABLE_FILTER_MATCH:x+"funnel",TABLE_EDIT:x+"edit",TABLE_TITLE_PREFIX:x+"question-circle-fill",TABLE_TITLE_SUFFIX:x+"question-circle-fill",TABLE_TREE_LOADED:x+"spinner roll",TABLE_TREE_OPEN:x+"caret-right rotate90",TABLE_TREE_CLOSE:x+"caret-right",TABLE_EXPAND_LOADED:x+"spinner roll",TABLE_EXPAND_OPEN:x+"arrow-right rotate90",TABLE_EXPAND_CLOSE:x+"arrow-right",TABLE_CHECKBOX_CHECKED:x+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:x+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:x+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:x+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:x+"radio-checked-fill",TABLE_RADIO_UNCHECKED:x+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:x+"radio-unchecked-fill",TABLE_CUSTOM_SORT:x+"drag-handle",TABLE_MENU_OPTIONS:x+"arrow-right",TABLE_MENU_OPTION_LOADING:x+"repeat roll",TABLE_DRAG_ROW:x+"drag-handle",TABLE_DRAG_COLUMN:x+"drag-handle",TABLE_DRAG_STATUS_ROW:x+"sort",TABLE_DRAG_STATUS_SUB_ROW:x+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:x+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:x+"values",TABLE_DRAG_STATUS_COLUMN:x+"swap",TABLE_DRAG_DISABLED:x+"no-drop",TABLE_ROW_GROUP_OPEN:x+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:x+"arrow-right",TABLE_AGGREGATE_GROUPING:x+"grouping",TABLE_AGGREGATE_VALUES:x+"values",TABLE_AGGREGATE_SORT:x+"drag-handle",TABLE_AGGREGATE_DELETE:x+"close",TOOLBAR_TOOLS_REFRESH:x+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:x+"repeat roll",TOOLBAR_TOOLS_IMPORT:x+"upload",TOOLBAR_TOOLS_EXPORT:x+"download",TOOLBAR_TOOLS_PRINT:x+"print",TOOLBAR_TOOLS_FULLSCREEN:x+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:x+"minimize",TOOLBAR_TOOLS_CUSTOM:x+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:x+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:x+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:x+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:x+"fixed-right-fill"});const y=o.OE.setTheme,w=o.OE.getTheme,C=o.OE.setConfig,k=o.OE.getConfig,S=o.OE.setIcon,T=o.OE.getIcon,E=o.OE.setLanguage,O=o.OE.setI18n,D=o.OE.getI18n,M=o.OE.globalEvents,A=o.OE.globalResize,I=o.OE.renderer,N=o.OE.validators,R=o.OE.menus,F=o.OE.formats,_=o.OE.commands,P=o.OE.interceptor,j=o.OE.clipboard,$=o.OE.log,L=o.OE.hooks,z=o.OE.use,V=e=>o.OE.setConfig(e);o.OE.setup=V;const B=e=>o.OE.setConfig(e);o.OE.config=B;const H=(e,t)=>o.OE.getI18n(e,t);o.OE.t=H;const W=(e,t)=>m(e,t);o.OE._t=W;const q=o.OE,U=e=>o.OE.saveFile(e),G=e=>o.OE.readFile(e),Y=e=>o.OE.print(e),K={get(e){return o.OE.modal.get(e)},close(e){return o.OE.modal.close(e)},open(e){return o.OE.modal.open(e)},alert(e,t,n){return o.OE.modal.alert(e,t,n)},confirm(e,t,n){return o.OE.modal.confirm(e,t,n)},message(e,t){return o.OE.modal.message(e,t)},notification(e,t,n){return o.OE.modal.notification(e,t,n)}};var X=n(4061);const Z=X.defineComponent,{log:J}=o.OE,Q="table v4.17.48",ee=J.create("warn",Q),te=J.create("error",Q),{getI18n:ne,formats:re,renderer:oe}=o.OE;class ie{constructor(e,t,{renderHeader:n,renderCell:r,renderFooter:o,renderData:i}={}){const l=e.props,s=e.xeGrid,u=e.xeGantt,d=s||u,{field:p,editRender:f,filterRender:h,headerFormatter:m}=t,g=t.colId||a().uniqueId("col_"),v=t.formatter,b=!a().isBoolean(t.visible)||t.visible,x=c(h)?oe.get(h.name):null,y=x?x.createTableFilterOptions:null,w=et(t.filters,g);m&&te("vxe.error.notProp",["header-formatter"]);const C=["seq","checkbox","radio","expand","html"];if(t.type&&-1===C.indexOf(t.type)&&ee("vxe.error.errProp",[`type=${t.type}`,C.join(", ")]),(a().isBoolean(t.cellRender)||t.cellRender&&!a().isObject(t.cellRender))&&ee("vxe.error.errProp",[`column.cell-render=${t.cellRender}`,"column.cell-render={}"]),(a().isBoolean(t.editRender)||t.editRender&&!a().isObject(t.editRender))&&ee("vxe.error.errProp",[`column.edit-render=${t.editRender}`,"column.edit-render={}"]),"expand"===t.type){const{treeConfig:t}=l,{computeTreeOpts:n}=e.getComputeMaps(),r=n.value;t&&(r.showLine||r.line)&&te("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(v)if(a().isString(v)){const e=re.get(v)||a()[v];e&&a().isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||te("vxe.error.notFormats",[v])}else if(a().isArray(v)){const e=re.get(v[0])||a()[v[0]];e&&a().isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||te("vxe.error.notFormats",[v[0]])}if(t.aggFunc&&(e.handlePivotTableAggregateData||!0===t.aggFunc||te("vxe.error.errProp",[`column.agg-func=${t.aggFunc}`,"column.agg-func=true"])),p&&f&&(f.startField&&`${f.startField}`.indexOf(p)>=0&&te("vxe.error.modelConflicts",[`field=${p}`,`edit-render.startField=${f.startField}`]),f.endField&&`${f.endField}`.indexOf(p)>=0&&te("vxe.error.modelConflicts",[`field=${p}`,`edit-render.endField=${f.endField}`])),Object.assign(this,{type:t.type,property:t.field,field:p,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:v,headerFormatter:t.headerFormatter,footerFormatter:t.footerFormatter,padding:t.padding,verticalAlign:t.verticalAlign,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:w,filterMultiple:!a().isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:h,floatingFilters:t.floatingFilters,rowGroupNode:t.rowGroupNode,treeNode:t.treeNode,dragSort:t.dragSort,rowResize:t.rowResize,cellType:t.cellType,cellRender:t.cellRender,editRender:f,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,aggFunc:t.aggFunc,copyMethod:t.copyMethod,cutMethod:t.cutMethod,pasteMethod:t.pasteMethod,params:t.params,id:g,parentId:null,visible:b,defaultParentId:null,halfVisible:!1,defaultVisible:b,defaultFixed:t.fixed,defaultAggGroup:t.aggGroup,defaultAggFunc:t.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||t.renderHeader,renderCell:r||t.renderCell,renderFooter:o||t.renderFooter,renderData:i,slots:t.slots}),!y||w&&w.length||(this.filters=et(y({$table:e,column:this}),g)),d){const{computeProxyOpts:t}=d.getComputeMaps(),n=t.value;n.beforeColumn&&n.beforeColumn({$table:e,$grid:s,$gantt:u,column:this})}}getTitle(){return m(this.title||("seq"===this.type?ne("vxe.table.seqTitle"):""))}getKey(){const{type:e}=this;return this.field||(e?`type=${e}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const ae={};let le;function se(){return le||(le=new Image,le.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),le}function ce(){return le||se()}function ue(e,t){return e?a().isFunction(e)?e(t):e:""}function de(e){return ae[e]||(ae[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),ae[e]}function pe(e){return e&&/^\d+(\.\d+)?(px)?$/.test(e)}function fe(e){return e&&/^\d+(\.\d+)?%$/.test(e)}function he(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(de(t)))}function me(e,t){e&&he(e,t)&&(e.className=e.className.replace(de(t),""))}function ge(e,t){e&&!he(e,t)&&(me(e,t),e.className=`${e.className} ${t}`)}function ve(e){return e.ctrlKey||e.metaKey}function be(e,t="px"){return a().isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function xe(e,t){return e?e.querySelector(t):null}function ye(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function we(e){return e?e.offsetHeight:0}function Ce(e){if(e){const t=getComputedStyle(e),n=a().toNumber(t.paddingTop),r=a().toNumber(t.paddingBottom);return n+r}return 0}function ke(e,t){e&&(e.scrollTop=t)}function Se(e,t){e&&(e.scrollLeft=t)}function Te(e,t){const n="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==n&&e.setAttribute("title",n)}function Ee(e,t,n){let r=e;if(!t||!t.length)return!1;const[o,i,a]=t;while(r){if(o===r||i&&r===i||a&&r===a)return!0;if(n&&r===n)return!1;r=r.parentElement}return!1}function Oe(e,t,n,r){let o,i=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;while(i&&i.nodeType&&i!==document){if(n&&he(i,n)&&(!r||r(i)))o=i;else if(i===t)return{flag:!n||!!o,container:t,targetElem:o};i=i.parentNode}return{flag:!1}}function De(e){const t=e.getBoundingClientRect(),n=t.top,r=t.left,{scrollTop:o,scrollLeft:i,visibleHeight:a,visibleWidth:l}=ye();return{boundingTop:n,top:o+n,boundingLeft:r,left:i+r,visibleHeight:a,visibleWidth:l}}const Me="scrollIntoViewIfNeeded",Ae="scrollIntoView";function Ie(e){e&&(e[Me]?e[Me]():e[Ae]&&e[Ae]())}function Ne(e,t){e&&e.dispatchEvent(new Event(t))}function Re(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},footerFullDataRowData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,popupToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}const Fe=(e,t)=>{const n=[];return e.forEach(e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some(e=>e.visible)?(n.push(e),n.push(...Fe(e.children,e))):n.push(e))}),n},_e=e=>{let t=1;const n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some(e=>e.visible)){let t=0;e.children.forEach(r=>{r.visible&&(n(r,e),t+=r.colSpan)}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,n(e)});const r=[];for(let i=0;i<t;i++)r.push([]);const o=Fe(e);return o.forEach(e=>{e.children&&e.children.length&&e.children.some(e=>e.visible)?e.rowSpan=1:e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r};function Pe(e){const t=e.length,n=e[0].reduce((e,t)=>e+t.colSpan,0),r=[],o=[];for(let i=0;i<t;i++){const e=[],t=[];for(let r=0;r<n;r++)e.push(!1),t.push("");r.push(e),o.push(t)}for(let i=0;i<t;i++){let t=0;for(const a of e[i]){const{colSpan:e,rowSpan:l}=a;let s=-1;for(let o=t;o<=n-e;o++){let t=!0;for(let n=0;n<e;n++)if(r[i][o+n]){t=!1;break}if(t){s=o;break}}if(-1===s){for(let t=0;t<=n-e;t++){let n=!0;for(let o=0;o<e;o++)if(r[i][t+o]){n=!1;break}if(n){s=t;break}}if(-1===s)break}for(let t=i;t<i+l;t++)for(let n=s;n<s+e;n++)r[t][n]=!0,o[t][n]=a;t=s+e}}return o}function je(e,t,n){const r=e.internalData;return t||n?(r.intoRunScroll=!1,r.inVirtualScroll=!1,r.inWheelScroll=!1,r.inHeaderScroll=!1,r.inBodyScroll=!1,r.inFooterScroll=!1,r.scrollRenderType="",e.scrollTo(t,n)):e.clearScroll()}function $e(){return a().uniqueId("row_")}function Le(e){return e.indexOf(".")>-1}function ze(e){const{currKeyField:t}=e.internalData;return t}function Ve(e,t){const n=e.internalData,{isCurrDeepKey:r,currKeyField:o}=n;return t?We((r?qe:Ge)(t,o)):""}function Be(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:r}=t,o=n?Ue:Ye;return{rowKey:r,handleUpdateRowId(e){return e?o(e,r):""}}}function He(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:r}=t,o=n?qe:Ge;return{rowKey:r,handleGetRowId(e){return e?We(o(e,r)):""}}}function We(e){return a().eqNull(e)?"":encodeURIComponent(e)}function qe(e,t){return a().get(e,t)}function Ue(e,t){let n=We(qe(e,t));return v(n)&&(n=$e(),a().set(e,t,n)),n}function Ge(e,t){return e[t]}function Ye(e,t){let n=We(Ge(e,t));return v(n)&&(n=$e(),e[t]=n),n}function Ke(e,t){return t?a().isString(t)||a().isNumber(t)?e.getColumnByField(`${t}`):t:null}function Xe(e,t){if(t){const n=a().isString(t)||a().isNumber(t)?t:Ve(e,t);return e.getRowById(n)}return null}function Ze(e,t,n,r){return e.resizeHeight||t.height||n.height||e.height||r}function Je(e){if(e){const t=getComputedStyle(e),n=a().toNumber(t.paddingLeft),r=a().toNumber(t.paddingRight);return n+r}return 0}function Qe(e){if(e){const t=getComputedStyle(e),n=a().toNumber(t.marginLeft),r=a().toNumber(t.marginRight);return e.offsetWidth+n+r}return 0}function et(e,t){return e?a().isArray(e)?e.map(({label:e,value:n,data:r,resetValue:o,checked:i})=>({label:e,value:n,data:r,resetValue:o,checked:!!i,_checked:!!i,_colId:t})):[]:e}function tt(e){return e.map((e,t)=>t%2===0?Number(e)+1:".").join("")}function nt(e,t){return a().get(e,t.field)}function rt(e,t,n){return a().set(e,t.field,n)}function ot(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function it(e){return"unset"===e?0:e||0}function at(e){const{$table:t,column:n,cell:r}=e,o=t.props,i=t.internalData,{computeResizableOpts:l}=t.getComputeMaps(),s=l.value,{minWidth:c}=s;if(c){const t=a().isFunction(c)?c(e):c;if("auto"!==t)return Math.max(1,a().toNumber(t))}const{elemStore:u}=i,{showHeaderOverflow:d}=o,{showHeaderOverflow:p,minWidth:f}=n,h=a().isUndefined(p)||a().isNull(p)?d:p,m="ellipsis"===h,g="title"===h,v=!0===h||"tooltip"===h,b=g||v||m,x=a().floor(1.8*(a().toNumber(getComputedStyle(r).fontSize)||14)),y=Je(r)+Je(xe(r,".vxe-cell"));let w=x+y;if(b){const e=Qe(xe(r,".vxe-cell--drag-handle")),t=Qe(xe(r,".vxe-cell--checkbox")),n=Qe(xe(r,".vxe-cell--required-icon")),o=Qe(xe(r,".vxe-cell--edit-icon")),i=Qe(xe(r,".vxe-cell-title-prefix-icon")),a=Qe(xe(r,".vxe-cell-title-suffix-icon")),l=Qe(xe(r,".vxe-cell--sort")),s=Qe(xe(r,".vxe-cell--filter"));w+=e+t+n+o+i+a+s+l}if(f){const e=ot(u["main-body-scroll"]);if(e){if(fe(f)){const t=e.clientWidth-1,n=t/100;return Math.max(w,Math.floor(a().toInteger(f)*n))}if(pe(f))return Math.max(w,a().toInteger(f))}}return w}function lt(e){return e&&(e.constructor===ie||e instanceof ie)}function st(e){const t=[];return e.forEach(e=>{t.push(...e.children&&e.children.length?st(e.children):[e])}),t}function ct(e,t,n){return lt(t)?t:(0,X.reactive)(new ie(e,t,n))}function ut(e,t,n){Object.keys(t).forEach(r=>{(0,X.watch)(()=>t[r],t=>{n.update(r,t),e&&("filters"===r?(e.setFilter(n,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(r)&&e.handleRefreshColumnQueue())})})}function dt(e,t,n,r){const{reactData:o}=e,{staticColumns:i}=o,l=t.parentNode,s=r?r.columnConfig:null,c=s?s.children:i;l&&c&&(n.defaultParentId=s?s.id:null,c.splice(a().arrayIndexOf(l.children,t),0,n),o.staticColumns=i.slice(0))}function pt(e,t){const{reactData:n}=e,{staticColumns:r}=n,o=a().findTree(r,e=>e.id===t.id,{children:"children"});o&&o.items.splice(o.index,1),n.staticColumns=r.slice(0)}function ft(e,t){const{internalData:n}=e,{fullColumnIdData:r}=n;if(!t)return null;let o=t.parentId;while(r[o]){const e=r[o].column;if(o=e.parentId,!o)return e}return t}function ht(e){const{children:t}=e;return t&&t.length?ht(a().first(t)):e}function mt(e){const{children:t}=e;return t&&t.length?ht(a().last(t)):e}function gt(e){const{props:t,internalData:n}=e;n.initStatus=!1;const r=[e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow()];return e.clearFilter&&r.push(e.clearFilter()),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&r.push(e.clearSelected()),e.clearCellAreas&&t.mouseConfig&&r.push(e.clearCellAreas(),e.clearCopyCellArea()),Promise.all(r).then(()=>e.clearScroll())}function vt(e){return e.clearFilter&&e.clearFilter(),gt(e)}function bt(e,t){const n=e.props,r=e.reactData,o=e.internalData,{computeLeftFixedWidth:i,computeRightFixedWidth:a,computeRowOpts:l,computeCellOpts:s,computeDefaultRowHeight:c}=e.getComputeMaps(),{showOverflow:u}=n,{scrollYLoad:d,scrollYTop:p}=r,{elemStore:f,afterFullData:h,fullAllDataRowIdData:m,isResizeCellHeight:g}=o,v=l.value,b=s.value,x=c.value,y=i.value,w=a.value,C=ot(f["main-body-scroll"]),k=Ve(e,t);if(C){const n=C.clientHeight,r=C.scrollTop,o=C.querySelector(`[rowid="${k}"]`);if(o){const t=o.offsetTop+(d?p:0),i=o.clientHeight;if(t<r||t>r+n)return e.scrollTo(null,t);if(t+i>=n+r)return e.scrollTo(null,r+i)}else if(d){const o=g||b.height||v.height;if(!o&&u)return e.scrollTo(null,(e.findRowIndexOf(h,t)-1)*x);const i=m[k]||{},a=i.resizeHeight||b.height||v.height||i.height||x,l=i.oTop;return l<r?e.scrollTo(null,l-y-1):e.scrollTo(null,l+a-(n-w-1))}}return Promise.resolve()}function xt(e,t,n){const r=e.reactData,o=e.internalData,{computeLeftFixedWidth:i,computeRightFixedWidth:a}=e.getComputeMaps(),{scrollXLoad:l,scrollXLeft:s}=r,{elemStore:c,visibleColumn:u}=o,d=i.value,p=a.value,f=ot(c["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(f){const r=f.clientWidth,o=f.scrollLeft;let i=null;if(n){const r=Ve(e,n);i=f.querySelector(`[rowid="${r}"] .${t.id}`)}if(i||(i=f.querySelector(`.${t.id}`)),i){const t=i.offsetLeft+(l?s:0),n=i.clientWidth;if(t<o+d)return e.scrollTo(t-d-1);if(t+n-o>r-p)return e.scrollTo(t+n-(r-p-1))}else if(l){let n=0;const i=t.renderWidth;for(let e=0;e<u.length;e++){const r=u[e];if(r===t||r.id===t.id)break;n+=r.renderWidth}return n<o?e.scrollTo(n-d-1):e.scrollTo(n+i-(r-p-1))}}return Promise.resolve()}function yt(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function wt(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Ct(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function kt(e){switch(e.name){case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return!0}return!1}function St(e){return null===e||void 0===e?[]:a().isArray(e)?e:[e]}const{getI18n:Tt,getIcon:Et,renderer:Ot,renderEmptyElement:Dt}=o.OE;function Mt(e){const{$table:t,column:n}=e,r=n.titlePrefix||n.titleHelp;return r?(0,X.h)("span",{class:["vxe-cell-title-prefix-icon",r.iconStatus?`theme--${r.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,r,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[(0,X.h)("i",{class:r.icon||Et().TABLE_TITLE_PREFIX})]):Dt(t)}function At(e){const{$table:t,column:n}=e,r=n.titleSuffix;return r?(0,X.h)("span",{class:["vxe-cell-title-suffix-icon",r.iconStatus?`theme--${r.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,r,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[(0,X.h)("i",{class:r.icon||Et().TABLE_TITLE_SUFFIX})]):Dt(t)}function It(e){const{$table:t,column:n}=e,{context:r}=t,o=r.slots,i=t.props,{slots:a}=n,{dragConfig:l}=i,{computeRowDragOpts:s}=t.getComputeMaps(),c=s.value,{icon:u,trigger:d,disabledMethod:p}=c,f=p||(l?l.rowDisabledMethod:null),h=f&&f(e),m=(a?a.rowDragIcon||a["row-drag-icon"]:null)||o.rowDragIcon||o["row-drag-icon"],g={};return"cell"!==d&&(g.onMousedown=n=>{h||t.handleCellDragMousedownEvent(n,e)},g.onMouseup=t.handleCellDragMouseupEvent),(0,X.h)("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":h}]},g),m?t.callSlot(m,e):[(0,X.h)("i",{class:u||(l?l.rowIcon:"")||Et().TABLE_DRAG_ROW})])}function Nt(e,t){const{$table:n,column:r,level:o}=e,{dragSort:i}=r,l=n.props,{treeConfig:s,dragConfig:c}=l,{computeRowOpts:u,computeRowDragOpts:d,computeTreeOpts:p}=n.getComputeMaps(),f=u.value,h=d.value,m=p.value,{showIcon:g,isPeerDrag:v,isCrossDrag:b,visibleMethod:x}=h,y=x||(c?c.rowVisibleMethod:null),w=[];return i&&f.drag&&(g||c&&c.showRowIcon)&&(!y||y(e))&&(s?m.transform&&(v||b||!o)&&w.push(It(e)):w.push(It(e))),w.concat(a().isArray(t)?t:[t])}function Rt(e){const{$table:t,column:n}=e,{context:r}=t,o=r.slots,{slots:i}=n,{computeColumnOpts:a,computeColumnDragOpts:l}=t.getComputeMaps(),s=a.value,c=l.value,{showIcon:u,icon:d,trigger:p,isPeerDrag:f,isCrossDrag:h,visibleMethod:m,disabledMethod:g}=c;if(s.drag&&u&&(!m||m(e))&&!n.fixed&&(f||h||!n.parentId)){const n=g&&g(e),r=(i?i.columnDragIcon||i["column-drag-icon"]:null)||o.columnDragIcon||o["column-drag-icon"],a={};return"cell"!==p&&(a.onMousedown=r=>{n||t.handleHeaderCellDragMousedownEvent(r,e)},a.onMouseup=t.handleHeaderCellDragMouseupEvent),(0,X.h)("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":n}]},a),r?t.callSlot(r,e):[(0,X.h)("i",{class:d||Et().TABLE_DRAG_COLUMN})])}return Dt(t)}function Ft(e,t){const n=[Mt(e),Rt(e),...a().isArray(t)?t:[t],At(e)];return n}function _t(e,t){return"html"===e.type&&a().isString(t)?(0,X.h)("span",{key:"ch",innerHTML:t}):(0,X.h)("span",{key:"ct"},St(t))}function Pt(e,t){const{$table:n,column:r}=e,o=n.props,i=n.reactData,{computeHeaderTooltipOpts:l}=n.getComputeMaps(),{showHeaderOverflow:s}=o,{isRowGroupStatus:c}=i,{showHeaderOverflow:u,slots:d}=r,p=d?d.title:null,f=l.value,h=f.showAll,m=a().eqNull(u)?s:u,g="title"===m,v=!0===m||"tooltip"===m,b={};(g||v||h)&&(b.onMouseenter=t=>{i.isDragResize||(g?Te(t.currentTarget,r):(v||h)&&n.triggerHeaderTooltipEvent(t,e))}),(v||h)&&(b.onMouseleave=e=>{i.isDragResize||(v||h)&&n.handleTargetLeaveEvent(e)});const x=_t(r,t);return[(0,X.h)("span",Object.assign({class:"vxe-cell--title"},b),c&&r.aggFunc&&n.getPivotTableAggregateRenderColTitles?n.getPivotTableAggregateRenderColTitles(r,x):p?n.callSlot(p,e):[x])]}function jt(e){const{$table:t,column:n,row:r}=e,o=t.props,{editConfig:i}=o,{slots:a,editRender:l,cellRender:s}=n,u=a?a.footer:null;if(u)return t.callSlot(u,e);const d=i&&c(i),p=d&&c(l)?l:null,f=c(s)?s:null,h=p||f,m=t.getFooterCellLabel(r,n);if(h){const t=Ot.get(h.name);if(t){const n=t.renderTableFooter||t.renderFooter;if(n){const t=Object.assign(e,{cellValue:m,itemValue:m});return St(n(h,t))}}}return[(0,X.h)("span",{class:"vxe-cell--label"},g(m,1))]}function $t(e){const{$table:t,row:n,column:r}=e;return g(t.getCellLabel(n,r),1)}function Lt(e){const{column:t,row:n,$table:r}=e,o=r.props,i=r.reactData,{isRowGroupStatus:a}=i,{editConfig:l}=o,{type:s,treeNode:u,rowGroupNode:d,editRender:p}=t,{computeEditOpts:f,computeCheckboxOpts:h,computeAggregateOpts:m}=r.getComputeMaps(),g=m.value,{mode:v}=g,b=h.value,x=f.value,y=u||a&&("column"===v?t.field===n.groupField:d);switch(s){case"seq":return y?Bt.renderDeepIndexCell(e):Bt.renderSeqCell(e);case"radio":return y?Bt.renderDeepRadioCell(e):Bt.renderRadioCell(e);case"checkbox":return b.checkField?y?Bt.renderDeepSelectionCellByProp(e):Bt.renderCheckboxCellByProp(e):y?Bt.renderDeepSelectionCell(e):Bt.renderCheckboxCell(e);case"expand":return Bt.renderExpandCell(e);case"html":return y?Bt.renderDeepHTMLCell(e):Bt.renderHTMLCell(e)}const w=l&&c(l),C=w&&c(p)?p:null;return C?"cell"===x.mode?y?Bt.renderDeepCellEdit(e):Bt.renderCellEdit(e):y?Bt.renderDeepRowEdit(e):Bt.renderRowEdit(e):y?Bt.renderDeepCell(e):Bt.renderDefaultCell(e)}function zt(e){const{column:t,$table:n}=e,r=n.props,{editConfig:o}=r,{type:i,filters:a,sortable:l,editRender:s}=t;switch(i){case"seq":return Bt.renderSeqHeader(e);case"radio":return Bt.renderRadioHeader(e);case"checkbox":return Bt.renderCheckboxHeader(e);case"html":if(a&&l)return Bt.renderSortAndFilterHeader(e);if(l)return Bt.renderSortHeader(e);if(a)return Bt.renderFilterHeader(e);break}const u=o&&c(o),d=u&&c(s)?s:null;return d?Bt.renderEditHeader(e):a&&l?Bt.renderSortAndFilterHeader(e):l?Bt.renderSortHeader(e):a?Bt.renderFilterHeader(e):Bt.renderDefaultHeader(e)}function Vt(e){return Bt.renderDefaultFooter(e)}const Bt={createColumn(e,t){const{type:n}=t,r={renderHeader:zt,renderCell:Lt,renderFooter:Vt};return"expand"===n&&(r.renderData=Bt.renderExpandData),ct(e,t,r)},renderHeaderTitle(e){const{$table:t,column:n}=e,r=t.props,{editConfig:o}=r,{slots:i,editRender:a,cellRender:l}=n,s=i?i.header:null;if(s)return Pt(e,t.callSlot(s,e));const u=o&&c(o),d=u&&c(a)?a:null,p=c(l)?l:null,f=d||p;if(f){const t=Ot.get(f.name);if(t){const n=t.renderTableHeader||t.renderHeader;if(n)return Pt(e,St(n(f,e)))}}return Pt(e,g(n.getTitle(),1))},renderDefaultHeader(e){return Ft(e,Bt.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:n,column:r}=e,o=t.props,i=t.reactData,a=t.internalData,{isRowGroupStatus:l}=i,{editConfig:s}=o,{field:u,slots:d,editRender:p,cellRender:f,rowGroupNode:h,aggFunc:b,formatter:x}=r,y=s&&c(s),w=y&&c(p)?p:null,C=c(f)?f:null,k=d?d.default:null,S=d?d.groupContent||d["group-content"]:null,T=d?d.groupValues||d["group-values"]:null;let E="";if(l&&u&&n.isAggregate){const o=n,{fullColumnFieldData:i}=a,{computeAggregateOpts:l}=t.getComputeMaps(),s=l.value,{mode:c,showTotal:d,totalMethod:p,countFields:f,contentMethod:m,formatValuesMethod:g,mapChildrenField:v}=s,x=o.aggData,y=x?x[u]:null,w=o.groupField,C=o.groupContent,k=v&&o[v]||[],O=o.childCount,D=i[w]||{},M={$table:t,groupField:w,groupColumn:D?D.column:null,column:r,groupValue:C,childList:k,childCount:O,aggValue:null,children:k,totalValue:O};if("column"===c?u===o.groupField:h){if(E=C,m&&(E=`${m(M)}`),d&&(E=Tt("vxe.table.rowGroupContentTotal",[E,p?p(M):O,O])),S)return Nt(e,t.callSlot(S,Object.assign({groupField:w,groupContent:C,childList:k,childCount:O},e)))}else if(t.getPivotTableAggregateCellAggValue){if(E=t.getPivotTableAggregateCellAggValue(e),M.aggValue=E,T)return Nt(e,t.callSlot(T,Object.assign({groupField:w,groupContent:C,childList:k,childCount:O},e,M)))}else if((!0===b||f&&f.includes(u))&&(E=y?y.value:O,M.aggValue=E,g&&(E=g(M)),T))return Nt(e,t.callSlot(T,Object.assign({groupField:w,groupContent:C,childList:k,childCount:O},e,M)))}else{if(k)return Nt(e,t.callSlot(k,e));const o=w||C;if(o&&!x){const t=Ot.get(o.name);if(t){const n=w?t.renderTableCell||t.renderCell:t.renderTableDefault||t.renderDefault;if(n)return Nt(e,St(n(o,Object.assign({$type:w?"edit":"cell"},e))))}}E=t.getCellLabel(n,r)}const O=w?w.placeholder:"";return Nt(e,[(0,X.h)("span",{class:"vxe-cell--label"},[w&&v(E)?(0,X.h)("span",{class:"vxe-cell--placeholder"},g(m(O),1)):(0,X.h)("span",g(E,1))])])},renderDeepCell(e){return Bt.renderDeepNodeBtn(e,Bt.renderDefaultCell(e))},renderDefaultFooter(e){return jt(e)},renderRowGroupBtn(e,t){const{$table:n}=e,r=n.reactData,o=n.internalData,{row:i,level:a}=e,{computeAggregateOpts:l}=n.getComputeMaps(),{rowGroupExpandedFlag:s}=r,{rowGroupExpandedMaps:c}=o,u=l.value,{mode:d,padding:p,indent:f,showIcon:h,iconOpen:m,iconClose:g}=u,v=Ve(n,i),b=!!s&&!!c[v];return(0,X.h)("div",{class:["vxe-row-group--tree-node",{"is--expanded":b}],style:"column"!==d&&p&&f?{paddingLeft:a*f+"px"}:void 0},[h&&i.isAggregate?(0,X.h)("span",{class:"vxe-row-group--node-btn",onClick(t){n.triggerRowGroupExpandEvent(t,e)}},[(0,X.h)("i",{class:b?m||Et().TABLE_ROW_GROUP_OPEN:g||Et().TABLE_ROW_GROUP_CLOSE})]):Dt(n),(0,X.h)("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:n,isHidden:r}=e,o=n.reactData,i=n.internalData,{row:a,column:l,level:s}=e,{slots:c}=l,u=c?c.icon:null;if(u)return n.callSlot(u,e);const{computeTreeOpts:d}=n.getComputeMaps(),{treeExpandedFlag:p}=o,{fullAllDataRowIdData:f,treeExpandedMaps:h,treeExpandLazyLoadedMaps:m}=i,g=d.value,{padding:v,indent:b,lazy:x,trigger:y,iconLoaded:w,showIcon:C,iconOpen:k,iconClose:S}=g,T=g.children||g.childrenField,E=g.hasChild||g.hasChildField,O=a[T],D=O&&O.length;let M=!1,A=!1,I=!1,N=!1;const R={};if(!r){const e=Ve(n,a);if(A=!!p&&!!h[e],x){const t=f[e];I=!!m[e],M=a[E],N=!!t.treeLoaded}}return y&&"default"!==y||(R.onClick=t=>{n.triggerTreeExpandEvent(t,e)}),(0,X.h)("div",{class:["vxe-cell--tree-node",{"is--active":A}],style:v&&b?{paddingLeft:s*b+"px"}:void 0},[C&&(x?N?D:D||M:D)?[(0,X.h)("div",Object.assign({class:"vxe-cell--tree-btn"},R),[(0,X.h)("i",{class:I?w||Et().TABLE_TREE_LOADED:A?k||Et().TABLE_TREE_OPEN:S||Et().TABLE_TREE_CLOSE})])]:null,(0,X.h)("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:n,row:r,column:o}=e,{rowGroupNode:i}=o,a=n.reactData,{rowGroupList:l}=a;if(l.length){const{computeAggregateOpts:a}=n.getComputeMaps(),l=a.value,{mode:s}=l;if("column"===s?o.field===r.groupField:i)return[Bt.renderRowGroupBtn(e,t)]}return[Bt.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:n}=e,{slots:r}=n,o=r?r.header:null;return Ft(e,Pt(e,o?t.callSlot(o,e):g(n.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:n}=e,r=t.props,{treeConfig:o}=r,{computeSeqOpts:i}=t.getComputeMaps(),a=i.value,{slots:l}=n,s=l?l.default:null;if(s)return Nt(e,t.callSlot(s,e));const{seq:c}=e,u=a.seqMethod;return Nt(e,[(0,X.h)("span",`${g(u?u(e):o?c:(a.startIndex||0)+c,1)}`)])},renderDeepIndexCell(e){return Bt.renderDeepNodeBtn(e,Bt.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:n}=e,{slots:r}=n,o=r?r.header:null,i=r?r.title:null;return Ft(e,Pt(e,o?t.callSlot(o,e):[(0,X.h)("span",{class:"vxe-radio--label"},i?t.callSlot(i,e):g(n.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:n,isHidden:r}=e,o=t.reactData,{computeRadioOpts:i}=t.getComputeMaps(),{selectRadioRow:l}=o,s=i.value,{slots:c}=n,{labelField:u,checkMethod:d,visibleMethod:p}=s,{row:f}=e,h=c?c.default:null,m=c?c.radio:null,g=t.eqRow(f,l),v=!p||p({$table:t,row:f});let b,x=!!d;r||(b={onClick(n){!x&&v&&t.triggerRadioRowEvent(n,e)}},d&&(x=!d({$table:t,row:f})));const y=Object.assign(Object.assign({},e),{checked:g,disabled:x,visible:v});if(m)return Nt(e,t.callSlot(m,y));const w=[];return v&&w.push((0,X.h)("span",{class:["vxe-radio--icon",g?Et().TABLE_RADIO_CHECKED:x?Et().TABLE_RADIO_DISABLED_UNCHECKED:Et().TABLE_RADIO_UNCHECKED]})),(h||u)&&w.push((0,X.h)("span",{class:"vxe-radio--label"},h?t.callSlot(h,y):a().get(f,u))),Nt(e,[(0,X.h)("span",Object.assign({class:["vxe-cell--radio",{"is--checked":g,"is--disabled":x}]},b),w)])},renderDeepRadioCell(e){return Bt.renderDeepNodeBtn(e,Bt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:n,isHidden:r}=e,o=t.reactData,{computeIsAllCheckboxDisabled:i,computeCheckboxOpts:l}=t.getComputeMaps(),{isAllSelected:s,isIndeterminate:c}=o,u=i.value,{slots:d}=n,p=d?d.header:null,f=d?d.title:null,h=l.value,{checkStrictly:m,showHeader:g,headerTitle:v}=h,b=n.getTitle(),x={};r||(x.onClick=e=>{u||t.triggerCheckAllEvent(e,!s)});const y=Object.assign(Object.assign({},e),{checked:s,disabled:u,indeterminate:c});return Ft(e,Pt(y,p?t.callSlot(p,y):(m?g:!1!==g)?[(0,X.h)("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":s,"is--disabled":u,"is--indeterminate":c}],title:a().eqNull(v)?Tt("vxe.table.allTitle"):`${v||""}`},x),[(0,X.h)("span",{class:["vxe-checkbox--icon",c?Et().TABLE_CHECKBOX_INDETERMINATE:s?Et().TABLE_CHECKBOX_CHECKED:u?Et().TABLE_CHECKBOX_DISABLED_UNCHECKED:Et().TABLE_CHECKBOX_UNCHECKED]})].concat(f||b?[(0,X.h)("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,y):b)]:[]))]:[(0,X.h)("span",{class:"vxe-checkbox--label"},f?t.callSlot(f,y):b)]))},renderCheckboxCell(e){const{$table:t,row:n,column:r,isHidden:o}=e,i=t.props,l=t.reactData,s=t.internalData,{treeConfig:c}=i,{updateCheckboxFlag:u,isRowGroupStatus:d}=l,{selectCheckboxMaps:p,treeIndeterminateRowMaps:f}=s,{computeCheckboxOpts:h,computeAggregateOpts:m}=t.getComputeMaps(),g=m.value,{mapChildrenField:v}=g,b=h.value,{labelField:x,checkMethod:y,visibleMethod:w}=b,{slots:C}=r,k=C?C.default:null,S=C?C.checkbox:null;let T=!1,E=!1,O=!0,D=!1;const M={};if(!o){const r=Ve(t,n);if(E=!!u&&!!p[r],y&&d&&t.isAggregateRecord(n)){const e=n[v||""];e&&e.length&&!e.every(e=>!y({$table:t,row:e}))||(D=!0)}else O=!w||w({$table:t,row:n}),D=y?!y({$table:t,row:n}):!!y;(c||d)&&(T=!!f[r]),M.onClick=n=>{!D&&O&&t.triggerCheckRowEvent(n,e,!E)}}const A=Object.assign(Object.assign({},e),{checked:E,disabled:D,visible:O,indeterminate:T});if(S)return Nt(e,t.callSlot(S,A));const I=[];return O&&I.push((0,X.h)("span",{class:["vxe-checkbox--icon",T?Et().TABLE_CHECKBOX_INDETERMINATE:E?Et().TABLE_CHECKBOX_CHECKED:D?Et().TABLE_CHECKBOX_DISABLED_UNCHECKED:Et().TABLE_CHECKBOX_UNCHECKED]})),(k||x)&&I.push((0,X.h)("span",{class:"vxe-checkbox--label"},k?t.callSlot(k,A):a().get(n,x))),Nt(e,[(0,X.h)("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":D,"is--indeterminate":T,"is--hidden":!O}]},M),I)])},renderDeepSelectionCell(e){return Bt.renderDeepNodeBtn(e,Bt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:n,column:r,isHidden:o}=e,i=t.props,l=t.reactData,s=t.internalData,{treeConfig:c}=i,{updateCheckboxFlag:u,isRowGroupStatus:d}=l,{treeIndeterminateRowMaps:p}=s,{computeCheckboxOpts:f,computeAggregateOpts:h}=t.getComputeMaps(),m=h.value,{mapChildrenField:g}=m,v=f.value,{labelField:b,checkField:x,checkMethod:y,visibleMethod:w}=v,C=v.indeterminateField||v.halfField,{slots:k}=r,S=k?k.default:null,T=k?k.checkbox:null;let E=!1,O=!1,D=!0,M=!1;const A={};if(!o){const r=Ve(t,n);if(O=!!u&&a().get(n,x),y&&d&&t.isAggregateRecord(n)){const e=n[g||""];e&&e.length&&!e.every(e=>!y({$table:t,row:e}))||(M=!0)}else D=!w||w({$table:t,row:n}),M=y?!y({$table:t,row:n}):!!y;(c||d)&&(E=!!p[r]),A.onClick=n=>{!M&&D&&t.triggerCheckRowEvent(n,e,!O)}}const I=Object.assign(Object.assign({},e),{checked:O,disabled:M,visible:D,indeterminate:E});if(T)return Nt(e,t.callSlot(T,I));const N=[];return D&&(N.push((0,X.h)("span",{class:["vxe-checkbox--icon",E?Et().TABLE_CHECKBOX_INDETERMINATE:O?Et().TABLE_CHECKBOX_CHECKED:M?Et().TABLE_CHECKBOX_DISABLED_UNCHECKED:Et().TABLE_CHECKBOX_UNCHECKED]})),(S||b)&&N.push((0,X.h)("span",{class:"vxe-checkbox--label"},S?t.callSlot(S,I):a().get(n,b)))),Nt(e,[(0,X.h)("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":O,"is--disabled":M,"is--indeterminate":C&&!O?n[C]:E,"is--hidden":!D}]},A),N)])},renderDeepSelectionCellByProp(e){return Bt.renderDeepNodeBtn(e,Bt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:n,row:r,column:o}=e,i=t.reactData,l=t.internalData,{isRowGroupStatus:s}=i,{rowExpandedMaps:c,rowExpandLazyLoadedMaps:u}=l,{computeExpandOpts:d}=t.getComputeMaps(),p=d.value,{lazy:f,labelField:h,iconLoaded:m,showIcon:g,iconOpen:v,iconClose:b,visibleMethod:x}=p,{slots:y}=o,w=y?y.default:null,C=y?y.icon:null;let k=!1,S=!1;if(s&&r.isAggregate)return Nt(e,[]);if(C)return Nt(e,t.callSlot(C,e));if(!n){const e=Ve(t,r);k=!!c[e],f&&(S=!!u[e])}return Nt(e,[!g||x&&!x(e)?Dt(t):(0,X.h)("span",{class:["vxe-table--expanded",{"is--active":k}],onMousedown(e){e.stopPropagation()},onClick(n){t.triggerRowExpandEvent(n,e)}},[(0,X.h)("i",{class:["vxe-table--expand-btn",S?m||Et().TABLE_EXPAND_LOADED:k?v||Et().TABLE_EXPAND_OPEN:b||Et().TABLE_EXPAND_CLOSE]})]),w||h?(0,X.h)("span",{class:"vxe-table--expand-label"},w?t.callSlot(w,e):a().get(r,h)):Dt(t)])},renderExpandData(e){const{$table:t,column:n}=e,{slots:r,contentRender:o}=n,i=r?r.content:null;if(i)return t.callSlot(i,e);if(o){const t=Ot.get(o.name);if(t){const n=t.renderTableExpand||t.renderExpand;if(n)return St(n(o,e))}}return[]},renderHTMLCell(e){const{$table:t,column:n}=e,{slots:r}=n,o=r?r.default:null;return Nt(e,o?t.callSlot(o,e):[(0,X.h)("span",{class:"vxe-cell--html",innerHTML:$t(e)})])},renderDeepHTMLCell(e){return Bt.renderDeepNodeBtn(e,Bt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return Ft(e,Bt.renderHeaderTitle(e).concat(Bt.renderSortIcon(e).concat(Bt.renderFilterIcon(e))))},renderSortHeader(e){return Ft(e,Bt.renderHeaderTitle(e).concat(Bt.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:n}=e,{computeSortOpts:r}=t.getComputeMaps(),o=r.value,{showIcon:i,allowBtn:l,ascTitle:s,descTitle:c,iconLayout:u,iconAsc:d,iconDesc:p,iconVisibleMethod:f}=o,{order:h,slots:m}=n;if(i&&(!f||f(e))){const r=m?m.sort:null;return r?St(t.callSlot(r,e)):[(0,X.h)("span",{class:["vxe-cell--sort",`vxe-cell--sort-${u}-layout`]},[(0,X.h)("i",{class:["vxe-sort--asc-btn",d||Et().TABLE_SORT_ASC,{"sort--active":"asc"===h}],title:a().eqNull(s)?Tt("vxe.table.sortAsc"):`${s||""}`,onClick:l?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"asc")}:void 0}),(0,X.h)("i",{class:["vxe-sort--desc-btn",p||Et().TABLE_SORT_DESC,{"sort--active":"desc"===h}],title:a().eqNull(c)?Tt("vxe.table.sortDesc"):`${c||""}`,onClick:l?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"desc")}:void 0})])]}return[]},renderFilterHeader(e){return Ft(e,Bt.renderHeaderTitle(e).concat(Bt.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:n,hasFilter:r}=e,o=t.reactData,{filterStore:i}=o,{computeFilterOpts:a}=t.getComputeMaps(),l=a.value,{showIcon:s,iconNone:c,iconMatch:u,iconVisibleMethod:d}=l;return!s||d&&!d(e)?[]:[(0,X.h)("span",{class:["vxe-cell--filter",{"is--active":i.visible&&i.column===n}],onClick(n){t.triggerFilterEvent&&t.triggerFilterEvent(n,e.column,e)}},[(0,X.h)("i",{class:["vxe-filter--btn",r?u||Et().TABLE_FILTER_MATCH:c||Et().TABLE_FILTER_NONE],title:Tt("vxe.table.filter")})])]},renderEditHeader(e){const{$table:t,column:n}=e,r=t.props,{computeEditOpts:o}=t.getComputeMaps(),{editConfig:i,editRules:l}=r,s=o.value,{sortable:u,filters:d,editRender:p}=n,f=i&&c(i),h=f&&c(p)?p:null;let m=!1;if(l){const e=a().get(l,n.field);e&&(m=e.some(e=>e.required))}let g=[];if(f){const{showAsterisk:e,showIcon:n,icon:r}=s;g=[m&&e?(0,X.h)("span",{class:"vxe-cell--required-icon"},[(0,X.h)("i")]):Dt(t),h&&n?(0,X.h)("span",{class:"vxe-cell--edit-icon"},a().isFunction(r)?St(r({})):[(0,X.h)("i",{class:r||Et().TABLE_EDIT})]):Dt(t)]}return Ft(e,g.concat(Bt.renderHeaderTitle(e)).concat(u?Bt.renderSortIcon(e):[]).concat(d?Bt.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:n}=e,r=t.props,{editConfig:o}=r,i=t.reactData,{editStore:a}=i,{actived:l}=a,{editRender:s}=n,u=o&&c(o),d=u&&c(s)?s:null;return Bt.runRenderer(e,!(!d||!l||l.row!==e.row))},renderDeepRowEdit(e){return Bt.renderDeepNodeBtn(e,Bt.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:n}=e,r=t.props,{editConfig:o}=r,i=t.reactData,{editStore:a}=i,{actived:l}=a,{editRender:s}=n,u=o&&c(o),d=u&&c(s)?s:null;return Bt.runRenderer(e,!(!d||!l||l.row!==e.row||l.column!==e.column))},renderDeepCellEdit(e){return Bt.renderDeepNodeBtn(e,Bt.renderCellEdit(e))},runRenderer(e,t){const{$table:n,row:r,column:o}=e,i=n.props,{editConfig:a}=i,l=n.reactData,{isRowGroupStatus:s}=l,{slots:u,field:d,editRender:p,formatter:f}=o,h=a&&c(a),m=h&&c(p)?p:null,g=u?u.default:null,v=u?u.groupContent||u["group-content"]:null,b=u?u.edit:null,x=Object.assign({$type:"",isEdit:t},e);if(t&&m){if(x.$type="edit",b)return n.callSlot(b,x);const e=Ot.get(m.name),t=e?e.renderTableEdit||e.renderEdit:null;return t?St(t(m,x)):[]}if(s&&d&&r.isAggregate){const t=r,{computeAggregateOpts:o}=n.getComputeMaps(),i=o.value,{mapChildrenField:a}=i,l=t.groupField,s=t.groupContent,c=a&&t[a]||[],u=t.childCount;if(v)return Nt(e,n.callSlot(v,Object.assign({groupField:l,groupContent:s,childList:c,childCount:u},e)))}else if(g)return Nt(e,n.callSlot(g,x));return f?Nt(e,[(0,X.h)("span",{class:"vxe-cell--label"},$t(x))]):Bt.renderDefaultCell(x)}};var Ht=Bt;const Wt={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,floatingFilters:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],copyMethod:Function,cutMethod:Function,pasteMethod:Function,params:Object};var qt=Z({name:"VxeColumn",props:Wt,setup(e,{slots:t}){const n=(0,X.ref)(),r=(0,X.inject)("$xeTable",null),o=(0,X.inject)("$xeColgroup",null);if(!r)return()=>(0,X.createCommentVNode)();const i=Ht.createColumn(r,e);i.slots=t;const a=()=>(0,X.h)("div",{ref:n}),l={columnConfig:i,renderVN:a};return ut(r,e,i),(0,X.onMounted)(()=>{const e=n.value;e&&dt(r,e,i,o)}),(0,X.onUnmounted)(()=>{pt(r,i)}),(0,X.provide)("$xeColumn",l),(0,X.provide)("$xeGrid",null),(0,X.provide)("$xeGantt",null),a}});const Ut=Object.assign({},qt,{install(e){e.component(qt.name,qt),e.component("VxeTableColumn",qt)}});o.OE.dynamicApp&&(o.OE.dynamicApp.component(qt.name,qt),o.OE.dynamicApp.component("VxeTableColumn",qt)),o.OE.component(qt);const Gt=Ut;var Yt=Z({name:"VxeColgroup",props:Wt,setup(e,{slots:t}){const n=(0,X.ref)(),r=(0,X.inject)("$xeTable",null),o=(0,X.inject)("$xeColgroup",null);if(!r)return()=>(0,X.createCommentVNode)();const i=Ht.createColumn(r,e),a={};t.header&&(a.header=t.header),i.slots=a,i.children=[],ut(r,e,i),(0,X.onMounted)(()=>{const e=n.value;e&&dt(r,e,i,o)}),(0,X.onUnmounted)(()=>{pt(r,i)});const l=()=>(0,X.h)("div",{ref:n},t.default?t.default():[]),s={columnConfig:i};return(0,X.provide)("$xeColgroup",s),(0,X.provide)("$xeGrid",null),(0,X.provide)("$xeGantt",null),l}});const Kt=Object.assign({},Yt,{install(e){e.component(Yt.name,Yt),e.component("VxeTableColgroup",Yt)}});o.OE.dynamicApp&&(o.OE.dynamicApp.component(Yt.name,Yt),o.OE.dynamicApp.component("VxeTableColgroup",Yt)),o.OE.component(Yt);const Xt=Kt;const{getConfig:Zt}=o.OE,Jt={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>Zt().table.resizable},stripe:{type:Boolean,default:()=>Zt().table.stripe},border:{type:[Boolean,String],default:()=>Zt().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>Zt().table.round},size:{type:String,default:()=>Zt().table.size||Zt().size},fit:{type:Boolean,default:()=>Zt().table.fit},loading:Boolean,align:{type:String,default:()=>Zt().table.align},headerAlign:{type:String,default:()=>Zt().table.headerAlign},footerAlign:{type:String,default:()=>Zt().table.footerAlign},showHeader:{type:Boolean,default:()=>Zt().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>Zt().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>Zt().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>Zt().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>Zt().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>Zt().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>Zt().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>Zt().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>Zt().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>Zt().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>Zt().table.emptyText},keepSource:{type:Boolean,default:()=>Zt().table.keepSource},autoResize:{type:Boolean,default:()=>Zt().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,floatingFilterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,undoHistoryConfig:Object,animat:{type:Boolean,default:()=>Zt().table.animat},delayHover:{type:Number,default:()=>Zt().table.delayHover},params:Object},{getConfig:Qt}=o.OE,en=Object.assign(Object.assign({},Jt),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>Qt().grid.size||Qt().size}}),tn=["ready","init-rendered","data-rendered","update:data","keydown-start","keydown","keydown-end","paste","copy","cut","context-menu","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","custom-sort-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-extension-fill","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],nn=[...tn,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],rn="row--drag-move",on="col--drag-move";function an(e,t){a().arrayEach(e,e=>{e.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{a().arrayEach(e,e=>{ge(e,rn),e.style.transform=""})})}function ln(e,t){setTimeout(()=>{e&&a().arrayEach(e.querySelectorAll(t.map(e=>`${e}.${rn}`).join(",")),e=>me(e,rn))},500)}function sn(e,t){a().arrayEach(e,e=>{e.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{a().arrayEach(e,e=>{ge(e,on),e.style.transform=""})})}function cn(e,t){setTimeout(()=>{e&&a().arrayEach(e.querySelectorAll(t.map(e=>`${e}.${rn}`).join(",")),e=>me(e,on))},500)}const un=(0,X.reactive)({row:null});function dn(){return un}const{getI18n:pn,renderer:fn,renderEmptyElement:hn}=o.OE,mn="table",gn="body";var vn=Z({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=(0,X.inject)("$xeTable",{}),{xID:n,props:r,context:o,reactData:i,internalData:l}=t,{computeEditOpts:s,computeMouseOpts:u,computeCellOffsetWidth:d,computeAreaOpts:p,computeDefaultRowHeight:f,computeEmptyOpts:h,computeTooltipOpts:m,computeRadioOpts:g,computeExpandOpts:v,computeTreeOpts:b,computeCheckboxOpts:x,computeCellOpts:y,computeValidOpts:w,computeRowOpts:C,computeColumnOpts:k,computeRowDragOpts:S,computeResizableOpts:T,computeVirtualXOpts:E,computeVirtualYOpts:O,computeIsBodyRenderOptimize:D}=t.getComputeMaps(),M=(0,X.ref)(),A=(0,X.ref)(),I=(0,X.ref)(),N=(0,X.ref)(),R=(0,X.ref)(),F=(0,X.ref)(),_=(0,X.ref)(),P=(0,X.ref)(),j=()=>{const{delayHover:e}=r,{lastScrollTime:t,isDragResize:n}=i;return!!(n||t&&Date.now()<t+e)},$=(e,n,o)=>{const{column:i}=n,{treeConfig:a}=r,s=y.value,c=C.value,u=f.value,d=b.value,{slots:p,treeNode:h}=i,{fullAllDataRowIdData:m}=l;if(a&&h&&(d.showLine||d.line)){if(p&&p.line)return t.callSlot(p.line,n);const r=m[e];let i=0,a=null,l=null,f="";if(r&&(i=r.level,a=r.items[r.treeIndex-1],l=r.parent),!i&&!d.showRootLine)return[];if(a){const e=m[Ve(t,a)]||{};f=`${e.lineHeight||0}px`}else if(i&&l){const e=m[Ve(t,l)]||{};f=`calc(-1em + ${Math.floor(o/2+Ze(e,s,c,u)/2)}px)`}return[(0,X.h)("div",{key:"tl",class:"vxe-tree--line-wrapper"},[(0,X.h)("div",{class:"vxe-tree--line",style:{height:f,bottom:`-${Math.floor(o/2)}px`,left:`calc(${i*d.indent}px + 1em)`}})])]}return[]},L=(e,n,o,h,g,v,b,D,M,A,I,N,R)=>{const F=t.xeGrid,_=t.xeGantt,{columnKey:P,resizable:L,showOverflow:z,border:V,height:B,treeConfig:H,cellClassName:W,cellStyle:q,align:U,spanMethod:G,mouseConfig:Y,editConfig:K,editRules:Z,tooltipConfig:J,padding:Q}=r,{tableData:ee,tableColumn:te,dragRow:ne,overflowX:re,overflowY:oe,currentColumn:ie,scrollXLoad:ae,scrollYLoad:le,mergeBodyFlag:se,calcCellHeightFlag:ce,resizeHeightFlag:de,resizeWidthFlag:pe,editStore:fe,isAllOverflow:he,validErrorMaps:me}=i,{fullAllDataRowIdData:ge,fullColumnIdData:ve,mergeBodyCellMaps:be,visibleColumn:xe,afterFullData:ye,mergeBodyList:we,scrollXStore:Ce,scrollYStore:ke}=l,Se=y.value,Ee=w.value,Oe=x.value,De=s.value,Me=m.value,Ae=T.value,Ie=E.value,Ne=O.value,{isAllColumnDrag:Re,isAllRowDrag:Fe}=Ae,_e=C.value,Pe=S.value,je=f.value,$e=ce?Se.height||_e.height:0,{disabledMethod:Le,isCrossDrag:ze,isPeerDrag:Be}=Pe,He=k.value,We=u.value,qe=p.value,Ue=d.value,{selectCellToRow:Ge}=qe,{type:Ye,cellRender:Ke,editRender:Xe,align:Je,showOverflow:Qe,className:et,treeNode:tt,rowResize:nt,padding:rt,verticalAlign:ot,slots:it}=A,{verticalAlign:at}=Se,{actived:lt}=fe,st=ge[n]||{},ct=A.id,ut=ve[ct]||{},dt=Xe||Ke,pt=dt?fn.get(dt.name):null,ft=pt?pt.tableCellClassName||pt.cellClassName:null,ht=pt?pt.tableCellStyle||pt.cellStyle:"",mt=Me.showAll,gt=ut.index,vt=ut._index,bt=c(Xe),xt=de?st.resizeHeight:0;let yt=re&&(o?A.fixed!==o:!!A.fixed);const wt=a().eqNull(rt)?null===Q?Se.padding:Q:rt,Ct=a().eqNull(Qe)?z:Qe,kt="ellipsis"===Ct,St="title"===Ct,Tt=!0===Ct||"tooltip"===Ct,Et=he||St||Tt||kt,Ot=a().isBoolean(A.resizable)?A.resizable:He.resizable||L,Dt=!!$e,Mt=xt>0;let At;const It={},Nt=Je||(pt?pt.tableCellAlign:"")||U,Rt=a().eqNull(ot)?at:ot,Ft=me[`${n}:${ct}`],_t=Z&&Ee.showMessage&&("default"===Ee.message?B||ee.length>1:"inline"===Ee.message),Pt={colid:ct},jt={$table:t,$grid:F,$gantt:_,isEdit:!1,seq:e,rowid:n,row:v,rowIndex:b,$rowIndex:D,_rowIndex:M,column:A,columnIndex:gt,$columnIndex:I,_columnIndex:vt,fixed:o,source:mn,type:gn,isHidden:!!yt,level:g,visibleData:ye,data:ee,items:R};let $t=!1,Lt=!1;_e.drag&&($t="row"===Pe.trigger||A.dragSort&&"cell"===Pe.trigger),$t&&(Lt=!(!Le||!Le(jt))),(St||Tt||mt||J)&&(It.onMouseover=e=>{j()||(St?Te(e.currentTarget,A):(Tt||mt)&&t.triggerBodyTooltipEvent(e,jt)),t.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},jt),e)}),(Tt||mt||J)&&(It.onMouseleave=e=>{j()||(Tt||mt)&&t.handleTargetLeaveEvent(e),t.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},jt),e)}),($t||Oe.range||Y)&&(It.onMousedown=e=>{t.triggerCellMousedownEvent(e,jt)}),$t&&(It.onMouseup=t.triggerCellMouseupEvent),It.onClick=e=>{t.triggerCellClickEvent(e,jt)},It.onDblclick=e=>{t.triggerCellDblclickEvent(e,jt)};let zt=!1,Vt=1,Bt=1;if(se&&we.length){const e=be[`${M}:${vt}`];if(e){const{rowspan:n,colspan:r}=e;if(!n||!r)return hn(t);n>1&&(zt=!0,Bt=n,Pt.rowspan=n),r>1&&(zt=!0,Vt=r,Pt.colspan=r)}}else if(G){const{rowspan:e=1,colspan:n=1}=G(jt)||{};if(!e||!n)return hn(t);e>1&&(zt=!0,Bt=e,Pt.rowspan=e),n>1&&(zt=!0,Vt=n,Pt.colspan=n)}yt&&zt&&(Pt.colspan>1||Pt.rowspan>1)&&(yt=!1),!yt&&K&&(Xe||Ke)&&(De.showStatus||De.showUpdateStatus)&&(At=t.isUpdateByRow(v,A.field));const Ht=!Et&&(le||ae);let Wt=Ze(st,Se,_e,je);const qt=I===N.length-1,Ut=!A.resizeWidth&&("auto"===A.minWidth||"auto"===A.width);let Gt=!1;if(zt||ne&&Ve(t,ne)===n||(oe&&le&&ee.length>16&&!H&&!Ne.immediate&&(M<ke.visibleStartIndex-ke.preloadSize||M>ke.visibleEndIndex+ke.preloadSize)||re&&ae&&te.length>10&&!Ie.immediate&&!A.fixed&&(vt<Ce.visibleStartIndex-Ce.preloadSize||vt>Ce.visibleEndIndex+Ce.preloadSize))&&(Gt=!0),Bt>1){const e=ye[M+Bt-1];if(e){const n=ge[Ve(t,e)];n&&(Wt+=n.oTop+Ze(n,Se,_e,je)-st.oTop-Ze(st,Se,_e,je))}}const Yt={};if(Et&&pe){let e=0;if(Vt>1)for(let t=1;t<Vt;t++){const n=xe[gt+t];n&&(e+=n.renderWidth)}Yt.width=A.renderWidth+e-Ue+"px"}le||ae||Et||Dt||Mt?Yt.height=`${Wt}px`:Yt.minHeight=`${Wt}px`;const Kt=[];if(yt&&he)Kt.push((0,X.h)("div",{key:"tc",class:["vxe-cell",{"c--title":St,"c--tooltip":Tt,"c--ellipsis":kt}],style:Yt}));else if(H&&Kt.push(...$(n,jt,Wt)),Kt.push((0,X.h)("div",{key:"tc",class:["vxe-cell",{"c--title":St,"c--tooltip":Tt,"c--ellipsis":kt}],style:Yt,title:St?t.getCellLabel(v,A):null},Gt?[]:[(0,X.h)("div",{colid:ct,rowid:n,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},A.renderCell(jt))])),_t&&Ft){const e=Ft.rule,n=it?it.valid:null,r=Object.assign(Object.assign(Object.assign({},jt),Ft),{rule:Ft});Kt.push((0,X.h)("div",{key:"tcv",class:["vxe-cell--valid-error-tip",ue(Ee.className,r)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},[(0,X.h)("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${Ee.theme||"normal"}`},[n?t.callSlot(n,r):[(0,X.h)("span",{class:"vxe-cell--valid-error-msg"},Ft.content)]])]))}let Xt=!1;return Y&&We.area&&!vt&&Ge&&(Xt=!0),!yt&&Ot&&Re&&Kt.push((0,X.h)("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!V||"none"===V}],onMousedown:e=>t.handleColResizeMousedownEvent(e,o,jt),onDblclick:e=>t.handleColResizeDblclickEvent(e,jt)})),(nt||Fe)&&_e.resizable&&Kt.push((0,X.h)("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:e=>t.handleRowResizeMousedownEvent(e,jt),onDblclick:e=>t.handleRowResizeDblclickEvent(e,jt)})),(0,X.h)("td",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-body--column",ct,Rt?`col--vertical-${Rt}`:"",Nt?`col--${Nt}`:"",Ye?`col--${Ye}`:"",{"col--last":qt,"col--tree-node":tt,"col--edit":bt,"col--ellipsis":Et,"col--cs-height":Dt,"col--rs-height":Mt,"col--to-row":Xt,"col--auto-height":Ht,"fixed--width":!Ut,"fixed--hidden":yt,"is--padding":wt,"is--progress":yt&&he||Gt,"is--drag-cell":$t&&(ze||Be||!g),"is--drag-disabled":Lt,"col--dirty":At,"col--active":K&&bt&&lt.row===v&&(lt.column===A||"row"===De.mode),"col--valid-error":!!Ft,"col--current":ie===A},ue(ft,jt),ue(et,jt),ue(W,jt)],key:P||ae||le||He.useKey||_e.useKey||He.drag?ct:I},Pt),{style:Object.assign({},a().isFunction(ht)?ht(jt):ht,a().isFunction(q)?q(jt):q)}),It),h&&yt?[]:Kt)},z=(e,n,o,c)=>{const u=t.xeGrid,d=t.xeGantt,{stripe:p,rowKey:f,highlightHoverRow:h,rowClassName:m,rowStyle:y,editConfig:w,treeConfig:S}=r,{hasFixedColumn:T,treeExpandedFlag:E,scrollXLoad:O,scrollYLoad:D,isAllOverflow:M,rowExpandedFlag:A,expandColumn:I,selectRadioRow:N,pendingRowFlag:R,rowExpandHeightFlag:F,isRowGroupStatus:_}=i,{fullAllDataRowIdData:P,fullColumnIdData:$,treeExpandedMaps:V,pendingRowMaps:B,rowExpandedMaps:H}=l,W=x.value,q=g.value,U=b.value,G=s.value,Y=C.value,K=k.value,{transform:Z,seqMode:J}=U,Q=U.children||U.childrenField,ee=[],{handleGetRowId:te}=He(t),ne=S||_;return o.forEach((r,i)=>{const l=te(r),s=P[l]||{};let g=i,b=0,x=-1,C=-1;const k=_&&r.isAggregate,re={};(Y.isHover||h)&&(re.onMouseover=e=>{j()||t.triggerHoverEvent(e,{row:r,rowIndex:g})},re.onMouseleave=()=>{j()||t.clearHoverRow()}),s&&(g=s.index,C=s._index,b=s.level,x=s.seq,k||S&&Z&&"increasing"===J?x=s._index+1:S&&"fixed"===J&&(x=s._tIndex+1));const oe={$table:t,seq:x,rowid:l,fixed:e,type:gn,level:b,row:r,rowIndex:g,$rowIndex:i,_rowIndex:C},ie=I&&!!A&&!!H[l];let ae=!1,le=[],se=!1;w&&(se=t.isInsertByRow(r)),!S||D||Z||(le=r[Q],ae=!!E&&le&&le.length>0&&!!V[l]),!Y.drag||_||S&&!Z||(re.onDragstart=t.handleRowDragDragstartEvent,re.onDragend=t.handleRowDragDragendEvent,re.onDragover=t.handleRowDragDragoverEvent);const ce=["vxe-body--row",ne?`row--level-${b}`:"",{"row--stripe":p&&(C+1)%2===0,"is--new":se,"is--expand-row":ie,"is--expand-tree":ae,"row--new":se&&(G.showStatus||G.showInsertStatus),"row--radio":q.highlight&&t.eqRow(N,r),"row--checked":W.highlight&&t.isCheckedByCheckboxRow(r),"row--pending":!!R&&!!B[l],"row--group":k},ue(m,oe)],de=c.map((t,a)=>L(x,l,e,n,b,r,g,i,C,t,a,c,o));if(ee.push((0,X.h)("tr",Object.assign({class:ce,rowid:l,style:y?a().isFunction(y)?y(oe):y:null,key:f||O||D||Y.useKey||Y.drag||K.drag||_||S?l:i},re),de)),ie){const n=v.value,{height:o,padding:p,mode:f}=n;if("fixed"===f)ee.push((0,X.h)("tr",{class:"vxe-body--row-expanded-place",key:`expand_${l}`,rowid:l},[(0,X.h)("td",{class:"vxe-body--row-expanded-place-column",colspan:c.length,style:{height:`${F?s.expandHeight||o:0}px`}})]));else{const n={};o&&(n.height=`${o}px`),S&&(n.paddingLeft=b*U.indent+30+"px");const{showOverflow:s}=I||{},f=I.id,h=$[f]||{},m=a().eqNull(s)?M:s;let v=-1,y=-1,w=-1;h&&(v=h.index,y=h.$index,w=h._index);const k={$table:t,$grid:u,$gantt:d,seq:x,column:I,columnIndex:v,$columnIndex:y,_columnIndex:w,fixed:e,source:mn,type:gn,level:b,row:r,rowid:l,rowIndex:g,$rowIndex:i,_rowIndex:C,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};ee.push((0,X.h)("tr",{class:["vxe-body--expanded-row",{"is--padding":p}],key:`expand_${l}`},[(0,X.h)("td",{class:["vxe-body--expanded-column",{"fixed--hidden":e&&!T,"col--ellipsis":m}],colspan:c.length},[(0,X.h)("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":o}],style:n},[I.renderData(k)])])]))}}ae&&ee.push(...z(e,n,le,c))}),ee};(0,X.onMounted)(()=>{(0,X.nextTick)(()=>{const{fixedType:t}=e,{elemStore:n}=l,r=`${t||"main"}-body-`;n[`${r}wrapper`]=M,n[`${r}scroll`]=A,n[`${r}table`]=I,n[`${r}colgroup`]=N,n[`${r}list`]=R,n[`${r}xSpace`]=F,n[`${r}ySpace`]=_,n[`${r}emptyBlock`]=P})}),(0,X.onUnmounted)(()=>{const{fixedType:t}=e,{elemStore:n}=l,r=`${t||"main"}-body-`;n[`${r}wrapper`]=null,n[`${r}scroll`]=null,n[`${r}table`]=null,n[`${r}colgroup`]=null,n[`${r}list`]=null,n[`${r}xSpace`]=null,n[`${r}ySpace`]=null,n[`${r}emptyBlock`]=null});const V=()=>{const{slots:a}=o,s=t.xeGrid,c=t.xeGantt,{fixedColumn:d,fixedType:p,tableColumn:f}=e,{mouseConfig:m}=r,{isGroup:g,tableData:v,isColLoading:b,overflowX:x,scrollXLoad:y,scrollYLoad:w,dragRow:C,dragCol:k}=i,{visibleColumn:S,fullAllDataRowIdData:T,fullColumnIdData:E}=l,O=h.value,j=u.value,$=D.value;let L=v,V=f;const B=$;if(b||!p&&x||(V=S),p&&B&&(V=d||[]),w&&C&&L.length>2){const e=T[Ve(t,C)];if(e){const n=e._index,r=L[0],o=L[L.length-1],i=T[Ve(t,r)],a=T[Ve(t,o)];if(i&&a){const e=i._index,t=a._index;n<e?L=[C].concat(L):n>t&&(L=L.concat([C]))}}}if(!p&&!g&&y&&k&&V.length>2){const e=E[k.id];if(e){const t=e._index,n=V[0],r=V[V.length-1],o=E[n.id],i=E[r.id];if(o&&i){const e=o._index,n=i._index;t<e?V=[k].concat(V):t>n&&(V=V.concat([k]))}}}let H;const W=a?a.empty:null,q={$table:t,$grid:s,$gantt:c};if(W)H=t.callSlot(W,q);else{const e=O.name?fn.get(O.name):null,t=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;H=t?St(t(O,q)):r.emptyText||pn("vxe.table.emptyText")}return(0,X.h)("div",{ref:M,class:["vxe-table--body-wrapper",p?`fixed-${p}--wrapper`:"body--wrapper"],xid:n},[(0,X.h)("div",{ref:A,class:"vxe-table--body-inner-wrapper",onScroll(e){t.triggerBodyScrollEvent(e,p)}},[p?hn(t):(0,X.h)("div",{ref:F,class:"vxe-body--x-space"}),(0,X.h)("div",{ref:_,class:"vxe-body--y-space"}),(0,X.h)("table",{ref:I,class:"vxe-table--body",xid:n,cellspacing:0,cellpadding:0,border:0,xvm:B?"1":null},[(0,X.h)("colgroup",{ref:N},V.map((e,t)=>(0,X.h)("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),(0,X.h)("tbody",{ref:R},z(p,B,L,V))]),(0,X.h)("div",{class:"vxe-table--checkbox-range"}),m&&j.area?(0,X.h)("div",{class:"vxe-table--cell-area",xid:n},[(0,X.h)("span",{class:"vxe-table--cell-main-area"},j.extension?[(0,X.h)("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(e,{$table:t,fixed:p,type:gn})}})]:[]),(0,X.h)("span",{class:"vxe-table--cell-clip-area"}),(0,X.h)("span",{class:"vxe-table--cell-extend-area"}),(0,X.h)("span",{class:"vxe-table--cell-multi-area"}),(0,X.h)("span",{class:"vxe-table--cell-active-area"}),(0,X.h)("span",{class:"vxe-table--cell-row-status-area"})]):hn(t),p?hn(t):(0,X.h)("div",{class:"vxe-table--empty-block",ref:P},[(0,X.h)("div",{class:"vxe-table--empty-content"},H)])])])};return V}});const{renderer:bn,renderEmptyElement:xn}=o.OE,yn="table",wn="header";var Cn=Z({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=(0,X.inject)("$xeTable",{}),{xID:n,props:r,reactData:o,internalData:i}=t,{computeColumnOpts:l,computeColumnDragOpts:s,computeCellOpts:u,computeMouseOpts:d,computeHeaderCellOpts:p,computeDefaultRowHeight:f,computeVirtualXOpts:h,computeFloatingFilterOpts:m,computeIsHeaderRenderOptimize:g}=t.getComputeMaps(),v=(0,X.ref)([]),b=(0,X.ref)(),x=(0,X.ref)(),y=(0,X.ref)(),w=(0,X.ref)(),C=(0,X.ref)(),k=(0,X.ref)(),S=(0,X.ref)(),T=()=>{const{showCustomHeader:n}=r,{collectColumn:a,visibleColumn:l}=i,{tableGroupColumn:s}=e,{isGroup:c}=o;let u=c?_e(s):[],d=[];n&&u.length>1&&(d=Pe(u),u=d),v.value=u,t.dispatchEvent("columns-change",{visibleColgroups:d,collectColumn:a,visibleColumn:l},null)},E=(n,c,d,m,g)=>{const v=t.xeGrid,b=t.xeGantt,{fixedType:x}=e,{resizable:y,columnKey:w,showCustomHeader:C,headerCellClassName:k,headerCellStyle:S,showHeaderOverflow:T,headerAlign:E,align:O,mouseConfig:D}=r,{currentColumn:M,dragCol:A,scrollXLoad:I,scrollYLoad:N,overflowX:R,mergeHeadFlag:F,tableColumn:_}=o,{fullColumnIdData:P,scrollXStore:j,mergeHeaderList:$,mergeHeaderCellMaps:L}=i,z=h.value,V=l.value,B=s.value,H=u.value,W=f.value,q=p.value,U=it(q.height)||W,{disabledMethod:G,isCrossDrag:Y,isPeerDrag:K}=B,Z=m===d.length-1;return g.map((e,r)=>{const{type:o,showHeaderOverflow:i,headerAlign:l,align:s,filters:u,headerClassName:d,editRender:p,cellRender:f}=e,h=e.id,W=P[h]||{},J=p||f,Q=J?bn.get(J.name):null,ee=e.children&&e.children.length,te=R&&!ee&&(x?e.fixed!==x:!!e.fixed),ne=a().isBoolean(q.padding)?q.padding:H.padding,re=a().eqNull(i)?T:i,oe=l||(Q?Q.tableHeaderCellAlign:"")||E||s||(Q?Q.tableCellAlign:"")||O,ie="ellipsis"===re,ae="title"===re,le=!0===re||"tooltip"===re,se=ae||le||ie;let ce=!1,ue=null;u&&(ue=u[0],ce=u.some(e=>e.checked));const de=W.index,pe=W._index,fe={$table:t,$grid:v,$gantt:b,$rowIndex:m,column:e,columnIndex:de,$columnIndex:r,_columnIndex:pe,firstFilterOption:ue,fixed:x,source:yn,type:wn,isHidden:te,hasFilter:ce},he={colid:h};let me=!1;if(C||(he.colspan=e.colSpan>1?e.colSpan:null,he.rowspan=e.rowSpan>1?e.rowSpan:null),F&&$.length&&(C||Z)){const e=L[`${m}:${C?r:pe}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(me=!0,he.rowspan=t),n>1&&(me=!0,he.colspan=n)}}const ge={onClick:e=>t.triggerHeaderCellClickEvent(e,fe),onDblclick:e=>t.triggerHeaderCellDblclickEvent(e,fe)},ve=V.drag&&"cell"===B.trigger;let be=!1;ve&&(be=!(!G||!G(fe))),(D||ve)&&(ge.onMousedown=e=>t.triggerHeaderCellMousedownEvent(e,fe)),V.drag&&(ge.onDragstart=t.handleHeaderCellDragDragstartEvent,ge.onDragend=t.handleHeaderCellDragDragendEvent,ge.onDragover=t.handleHeaderCellDragDragoverEvent,ve&&(ge.onMouseup=t.handleHeaderCellDragMouseupEvent));const xe=r===g.length-1,ye=a().isBoolean(e.resizable)?e.resizable:V.resizable||y,we=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let Ce=!1;c&&R&&!n&&!me&&(A&&A.id===h||I&&_.length>10&&!e.fixed&&!z.immediate&&(pe<j.visibleStartIndex-j.preloadSize||pe>j.visibleEndIndex+j.preloadSize)&&(Ce=!0));const ke={};if(se?ke.height=`${U}px`:ke.minHeight=`${U}px`,C);else if(ee&&!Z){let t=0;a().eachTree(e.children,e=>{!e.visible||e.children&&e.children.length||(t+=e.renderWidth)}),ke.width=`${t}px`}return(0,X.h)("th",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-header--column",h,te?"fixed--hidden":"fixed--visible",{[`col--${oe}`]:oe,[`col--${o}`]:o,"col--last":xe,"col--fixed":e.fixed,"col--group":ee,"col--ellipsis":se,"fixed--width":!we,"is--padding":ne,"is--sortable":e.sortable,"col--filter":!!u,"is--filter-active":ce,"is--drag-active":V.drag&&!e.fixed&&!be&&(Y||K||!e.parentId),"is--drag-disabled":V.drag&&be,"col--current":M===e},d?a().isFunction(d)?d(fe):d:"",k?a().isFunction(k)?k(fe):k:""],style:S?a().isFunction(S)?S(fe):S:null},he),ge),{key:C?`${h}${r}`:w||I||N||V.useKey||V.drag||ee?h:r}),[(0,X.h)("div",{class:["vxe-cell",{"c--title":ae,"c--tooltip":le,"c--ellipsis":ie}],style:ke},Ce||c&&te?[]:[(0,X.h)("div",{colid:h,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},e.renderHeader(fe))]),te||!ye||C&&!Z?xn(t):(0,X.h)("div",{class:"vxe-cell--col-resizable",onMousedown:e=>t.handleColResizeMousedownEvent(e,x,fe),onDblclick:e=>t.handleColResizeDblclickEvent(e,fe)})])})},O=(n,l)=>{const s=t.xeGrid,d=t.xeGantt,{fixedType:h}=e,{showHeaderOverflow:m,headerAlign:g,align:v}=r,{currentColumn:b,overflowX:x}=o,{fullColumnIdData:y}=i,w=u.value,C=f.value,k=p.value,S=it(k.height)||C;return l.map((e,r)=>{const{type:o,showHeaderOverflow:i,headerAlign:u,align:p,filters:f,editRender:C,cellRender:T,floatingFilters:E,filterRender:O,slots:D}=e,M=e.id,A=y[M]||{},I=C||T,N=D?D.floatingFilter||D["floating-filter"]:null,R=I?bn.get(I.name):null,F=c(O)?bn.get(O.name):null,_=F?F.renderTableFloatingFilter:null,P=x&&(h?e.fixed!==h:!!e.fixed),j=a().isBoolean(k.padding)?k.padding:w.padding,$=a().eqNull(i)?m:i,L=u||(R?R.tableHeaderCellAlign:"")||g||p||(R?R.tableCellAlign:"")||v,z="ellipsis"===$,V="title"===$,B=!0===$||"tooltip"===$,H=V||B||z;let W=!1,q=null;f&&(q=f[0],W=f.some(e=>e.checked));const U=A.index,G=A._index,Y={$table:t,$grid:s,$gantt:d,column:e,columnIndex:U,$columnIndex:r,_columnIndex:G,option:q,fixed:h,source:yn,type:wn,isHidden:P,hasFilter:W},K={colid:M},Z=r===l.length-1,J=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width),Q={};return H?Q.height=`${S}px`:Q.minHeight=`${S}px`,(0,X.h)("th",Object.assign({class:["vxe-table--column vxe-header--column",M,P?"fixed--hidden":"fixed--visible",{[`col--${L}`]:L,[`col--${o}`]:o,"col--last":Z,"col--fixed":e.fixed,"col--ellipsis":H,"fixed--width":!J,"is--padding":j,"is--sortable":e.sortable,"col--current":b===e}],key:M},K),[(0,X.h)("div",{class:["vxe-cell",{"c--title":V,"c--tooltip":B,"c--ellipsis":z}],style:Q},n&&P&&!E?[]:[(0,X.h)("div",{colid:M,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},N?t.callSlot(N,Y):_&&q?St(_(O,Y)):[])])])})},D=(n,o,i,l)=>{const{fixedType:s}=e,{headerRowClassName:c,headerRowStyle:u}=r,d=m.value,p=i.map((e,r)=>{const l={$table:t,$rowIndex:r,fixed:s,type:wn};return(0,X.h)("tr",{key:r,class:["vxe-header--row",c?a().isFunction(c)?c(l):c:""],style:u?a().isFunction(u)?u(l):u:null},E(n,o,i,r,e))});return d.enabled&&p.push((0,X.h)("tr",{key:"ff",class:["vxe-header--row"]},O(o,l))),p},M=()=>{const{fixedType:a,fixedColumn:l,tableColumn:s}=e,{mouseConfig:c}=r,{isGroup:u,isColLoading:p,overflowX:f,scrollXLoad:h,dragCol:m}=o,{visibleColumn:S,fullColumnIdData:T}=i,E=d.value,O=g.value;let M=v.value||[],A=s;const I=O;if(u?A=S:(I&&(p||!a&&f)||(A=S),a&&I&&(A=l||[]),M=[A]),!a&&!u&&h&&m&&A.length>2){const e=T[m.id];if(e){const t=e._index,n=A[0],r=A[A.length-1],o=T[n.id],i=T[r.id];if(o&&i){const e=o._index,n=i._index;t<e?(A=[m].concat(A),M=[[m].concat(M[0])].concat(M.slice(1))):t>n&&(A=A.concat([m]),M=[M[0].concat([m])].concat(M.slice(1)))}}}return(0,X.h)("div",{ref:b,class:["vxe-table--header-wrapper",a?`fixed-${a}--wrapper`:"body--wrapper"],xid:n},[(0,X.h)("div",{ref:x,class:"vxe-table--header-inner-wrapper",onScroll(e){t.triggerHeaderScrollEvent(e,a)}},[a?xn(t):(0,X.h)("div",{ref:k,class:"vxe-body--x-space"}),(0,X.h)("table",{ref:y,class:"vxe-table--header",xid:n,cellspacing:0,cellpadding:0,border:0,xvm:I?"1":null},[(0,X.h)("colgroup",{ref:w},A.map((e,t)=>(0,X.h)("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),(0,X.h)("thead",{ref:C},D(u,I,M,A))]),c&&E.area?(0,X.h)("div",{class:"vxe-table--cell-area",xid:n},[(0,X.h)("span",{class:"vxe-table--cell-main-area"}),(0,X.h)("span",{class:"vxe-table--cell-clip-area"}),(0,X.h)("span",{class:"vxe-table--cell-extend-area"}),(0,X.h)("span",{class:"vxe-table--cell-multi-area"}),(0,X.h)("span",{class:"vxe-table--cell-active-area"}),(0,X.h)("span",{class:"vxe-table--cell-col-status-area"})]):xn(t)])])};return(0,X.watch)(()=>e.tableColumn,T),(0,X.onMounted)(()=>{(0,X.nextTick)(()=>{const{fixedType:n}=e,{internalData:r}=t,{elemStore:o}=r,i=`${n||"main"}-header-`;o[`${i}wrapper`]=b,o[`${i}scroll`]=x,o[`${i}table`]=y,o[`${i}colgroup`]=w,o[`${i}list`]=C,o[`${i}xSpace`]=k,o[`${i}repair`]=S,T()})}),(0,X.onUnmounted)(()=>{const{fixedType:n}=e,{internalData:r}=t,{elemStore:o}=r,i=`${n||"main"}-header-`;o[`${i}wrapper`]=null,o[`${i}scroll`]=null,o[`${i}table`]=null,o[`${i}colgroup`]=null,o[`${i}list`]=null,o[`${i}xSpace`]=null,o[`${i}repair`]=null}),M}});const{renderer:kn,renderEmptyElement:Sn}=o.OE,Tn="table",En="footer";var On=Z({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=(0,X.inject)("$xeTable",{}),{xID:n,props:r,reactData:o,internalData:i}=t,{computeFooterTooltipOpts:l,computeColumnOpts:s,computeCellOpts:c,computeFooterCellOpts:u,computeDefaultRowHeight:d,computeResizableOpts:p,computeVirtualXOpts:f,computeIsFooterRenderOptimize:h}=t.getComputeMaps(),m=(0,X.ref)(),g=(0,X.ref)(),v=(0,X.ref)(),b=(0,X.ref)(),x=(0,X.ref)(),y=(0,X.ref)(),w=(n,h,m,g,v,b)=>{const x=t.xeGrid,y=t.xeGantt,{fixedType:w}=e,{resizable:C,border:k,footerCellClassName:S,footerCellStyle:T,footerAlign:E,footerSpanMethod:O,align:D,columnKey:M,showFooterOverflow:A}=r,{scrollXLoad:I,scrollYLoad:N,overflowX:R,currentColumn:F,mergeFootFlag:_}=o,{fullColumnIdData:P,mergeFooterList:j,mergeFooterCellMaps:$,scrollXStore:L}=i,z=f.value,V=l.value,B=p.value,{isAllColumnDrag:H}=B,W=s.value,q=d.value,U=c.value,G=u.value,Y=it(G.height)||q;return h.map((e,r)=>{const{type:o,showFooterOverflow:i,footerAlign:l,align:s,footerClassName:c,editRender:u,cellRender:d}=e,p=e.id,f=P[p]||{},B=u||d,q=B?kn.get(B.name):null,K=V.showAll,Z=R&&(w?e.fixed!==w:!!e.fixed),J=a().isBoolean(G.padding)?G.padding:U.padding,Q=a().eqNull(i)?A:i,ee=l||(q?q.tableFooterCellAlign:"")||E||s||(q?q.tableCellAlign:"")||D,te="ellipsis"===Q,ne="title"===Q,re=!0===Q||"tooltip"===Q,oe=ne||re||te,ie=a().isBoolean(e.resizable)?e.resizable:W.resizable||C,ae={colid:p},le={},se=f.index,ce=f._index,de=ce,pe={$table:t,$grid:x,$gantt:y,row:g,rowIndex:b,_rowIndex:b,$rowIndex:v,column:e,columnIndex:se,$columnIndex:r,_columnIndex:ce,itemIndex:de,items:g,fixed:w,source:Tn,type:En,data:m};(ne||re||K)&&(le.onMouseenter=n=>{ne?Te(n.currentTarget,e):(re||K)&&t.triggerFooterTooltipEvent(n,pe)}),(re||K)&&(le.onMouseleave=e=>{(re||K)&&t.handleTargetLeaveEvent(e)}),le.onClick=e=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},pe),e)},le.onDblclick=e=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},pe),e)};let fe=!1;if(_&&j.length){const e=$[`${b}:${ce}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(fe=!0,ae.rowspan=t),n>1&&(fe=!0,ae.colspan=n)}}else if(O){const{rowspan:e=1,colspan:t=1}=O(pe)||{};if(!e||!t)return null;e>1&&(ae.rowspan=e),t>1&&(ae.colspan=t)}const he=r===h.length-1,me=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let ge=!1;n&&R&&!fe&&I&&h.length>10&&!e.fixed&&!z.immediate&&(ce<L.visibleStartIndex-L.preloadSize||ce>L.visibleEndIndex+L.preloadSize)&&(ge=!0);const ve={};return oe?ve.height=`${Y}px`:ve.minHeight=`${Y}px`,(0,X.h)("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-footer--column",e.id,{[`col--${ee}`]:ee,[`col--${o}`]:o,"col--last":he,"fixed--width":!me,"fixed--hidden":Z,"is--padding":J,"col--ellipsis":oe,"col--current":F===e},ue(c,pe),ue(S,pe)]},ae),{style:T?a().isFunction(T)?T(pe):T:null}),le),{key:M||I||N||W.useKey||W.drag?e.id:r}),[(0,X.h)("div",{class:["vxe-cell",{"c--title":ne,"c--tooltip":re,"c--ellipsis":te}],style:ve},ge?[]:[(0,X.h)("div",{colid:p,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},e.renderFooter(pe))]),!Z&&ie&&H?(0,X.h)("div",{class:["vxe-cell--col-resizable",{"is--line":!k||"none"===k}],onMousedown:e=>t.handleColResizeMousedownEvent(e,w,pe),onDblclick:e=>t.handleColResizeDblclickEvent(e,pe)}):Sn(t)])})},C=(n,o)=>{const{fixedType:i,footerTableData:l}=e,{footerRowClassName:s,footerRowStyle:c}=r;return l.map((e,r)=>{const u=r,d={$table:t,row:e,_rowIndex:u,$rowIndex:r,fixed:i,type:En};return(0,X.h)("tr",{key:r,class:["vxe-footer--row",s?a().isFunction(s)?s(d):s:""],style:c?a().isFunction(c)?c(d):c:null},w(n,o,l,e,r,u))})},k=()=>{const{fixedType:r,fixedColumn:a,tableColumn:l}=e,{visibleColumn:s,fullColumnIdData:c}=i,{isGroup:u,isColLoading:d,overflowX:p,scrollXLoad:f,dragCol:w}=o,k=h.value;let S=l;const T=k;if(T&&(d||!r&&p)||(S=s),r&&T&&(S=a||[]),!r&&!u&&f&&w&&S.length>2){const e=c[w.id];if(e){const t=e._index,n=S[0],r=S[S.length-1],o=c[n.id],i=c[r.id];if(o&&i){const e=o._index,n=i._index;t<e?S=[w].concat(S):t>n&&(S=S.concat([w]))}}}return(0,X.h)("div",{ref:m,class:["vxe-table--footer-wrapper",r?`fixed-${r}--wrapper`:"body--wrapper"],xid:n},[(0,X.h)("div",{ref:g,class:"vxe-table--footer-inner-wrapper",onScroll(e){t.triggerFooterScrollEvent(e,r)}},[r?Sn(t):(0,X.h)("div",{ref:y,class:"vxe-body--x-space"}),(0,X.h)("table",{ref:v,class:"vxe-table--footer",xid:n,cellspacing:0,cellpadding:0,border:0,xvm:T?"1":null},[(0,X.h)("colgroup",{ref:b},S.map((e,t)=>(0,X.h)("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),(0,X.h)("tfoot",{ref:x},C(T,S))])])])};return(0,X.onMounted)(()=>{(0,X.nextTick)(()=>{const{fixedType:t}=e,{elemStore:n}=i,r=`${t||"main"}-footer-`;n[`${r}wrapper`]=m,n[`${r}scroll`]=g,n[`${r}table`]=v,n[`${r}colgroup`]=b,n[`${r}list`]=x,n[`${r}xSpace`]=y})}),(0,X.onUnmounted)(()=>{const{fixedType:t}=e,{elemStore:n}=i,r=`${t||"main"}-footer-`;n[`${r}wrapper`]=null,n[`${r}scroll`]=null,n[`${r}table`]=null,n[`${r}colgroup`]=null,n[`${r}list`]=null,n[`${r}xSpace`]=null}),k}});const{getI18n:Dn,getIcon:Mn,renderEmptyElement:An}=o.OE;function In(){return{}}var Nn=Z({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,t){const n=a().uniqueId(),r=o.OE.getComponent("VxeModal"),i=o.OE.getComponent("VxeDrawer"),l=o.OE.getComponent("VxeButton"),s=o.OE.getComponent("VxeNumberInput"),c=o.OE.getComponent("VxeRadioGroup"),u=(0,X.inject)("$xeTable",{}),{props:d,reactData:p,internalData:f}=u,{computeCustomOpts:h,computeColumnDragOpts:m,computeColumnOpts:v,computeIsMaxFixedColumn:b,computeResizableOpts:x}=u.getComputeMaps(),y=(0,X.ref)(),w=(0,X.ref)(),C=(0,X.ref)(),k=(0,X.ref)(),S=(0,X.ref)(),T=(0,X.reactive)({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""});let E=In();const O={refElem:y,refBodyWrapperElem:w,refCustomBodyElem:C,refDragLineElem:k,refDragTipElem:S},D={},M=t=>{const{customStore:n}=e;n.activeWrapper=!0,u.customOpenEvent(t)},A=t=>{const{customStore:n}=e;n.activeWrapper=!1,setTimeout(()=>{n.activeBtn||n.activeWrapper||u.customCloseEvent(t)},300)},I=({$event:e})=>{p.isCustomStatus=!0,u.saveCustom(),u.closeCustom(),u.emitCustomEvent("confirm",e),u.emitCustomEvent("close",e)},N=({$event:e})=>{u.closeCustom(),u.emitCustomEvent("close",e)},R=({$event:e})=>{u.cancelCustom(),u.closeCustom(),u.emitCustomEvent("cancel",e),u.emitCustomEvent("close",e)},F=e=>{u.resetCustom(!0),u.closeCustom(),u.emitCustomEvent("reset",e),u.emitCustomEvent("close",e)},_=({$event:e})=>{o.OE.modal?o.OE.modal.confirm({content:Dn("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(t=>{"confirm"===t&&F(e)}):F(e)},P=e=>{const{customColumnList:t}=p,n=a().findTree(t,t=>t===e);if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.renderVisible=e.children.every(e=>e.renderVisible),e.halfVisible=!e.renderVisible&&e.children.some(e=>e.renderVisible||e.halfVisible),P(e))}},j=(e,t)=>{const n=!e.renderVisible,r=h.value;r.immediate?(a().eachTree([e],e=>{e.visible=n,e.renderVisible=n,e.halfVisible=!1}),p.isCustomStatus=!0,u.handleCustom(),u.saveCustomStore("update:visible")):a().eachTree([e],e=>{e.renderVisible=n,e.halfVisible=!1}),P(e),u.checkCustomStatus(),u.dispatchEvent("custom-visible-change",{column:e,checked:n},t)},$=e=>{const t=h.value;t.immediate&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth,p.isCustomStatus=!0,u.handleCustom(),u.saveCustomStore("update:width"))},L=(e,t,n)=>{const r=b.value,o=h.value;let i=null;o.immediate?(e.renderFixed===t?(i="",a().eachTree([e],e=>{e.fixed="",e.renderFixed=""})):r&&!e.renderFixed||(i=t,a().eachTree([e],e=>{e.fixed=t,e.renderFixed=t})),p.isCustomStatus=!0,u.handleCustom(),u.saveCustomStore("update:fixed")):e.renderFixed===t?(i="",a().eachTree([e],e=>{e.renderFixed=""})):r&&!e.renderFixed||(i=t,a().eachTree([e],e=>{e.renderFixed=t})),null!==i&&u.dispatchEvent("custom-fixed-change",{column:e,fixed:i},n)},z=e=>{const{customStore:t}=p,n=!t.isAll;u.toggleCustomAllCheckbox(),u.dispatchEvent("custom-visible-all",{checked:n},e)},V=(e,t,n,r)=>{const o=w.value;if(!o)return;const i=C.value;if(!i)return;const{prevDragToChild:a}=E,l=o.getBoundingClientRect(),s=i.getBoundingClientRect(),c=k.value;if(t){if(c)if(n){const e=t.getBoundingClientRect();c.style.display="block",c.style.left=`${Math.max(0,s.x-l.x)}px`,c.style.top=`${Math.max(1,e.y+o.scrollTop-l.y)}px`,c.style.height=`${e.height}px`,c.style.width=`${e.width}px`,c.setAttribute("drag-pos",r),c.setAttribute("drag-to-child",a?"y":"n")}else c.style.display=""}else c&&(c.style.display="node");const u=S.value;u&&(u.style.display="block",u.style.top=`${Math.min(o.clientHeight+o.scrollTop-u.clientHeight,e.clientY+o.scrollTop-l.y)}px`,u.style.left=`${Math.min(o.clientWidth+o.scrollLeft-u.clientWidth,e.clientX+o.scrollLeft-l.x)}px`,u.setAttribute("drag-status",n?a?"sub":"normal":"disabled"))},B=()=>{const{dragCol:e}=T,t=m.value,{tooltipMethod:n}=t;let r="";if(n){const t={$table:u,column:e};r=`${n(t)||""}`}else r=Dn("vxe.custom.cstmDragTarget",[e&&"html"!==e.type?e.getTitle():""]);T.dragTipText=r},H=()=>{const e=S.value,t=k.value;e&&(e.style.display=""),t&&(t.style.display="")},W=e=>{const t=e.currentTarget,n=t.parentElement,r=n.parentElement,o=r.parentElement,i=o.getAttribute("colid"),a=u.getColumnById(i);o.draggable=!0,T.dragCol=a,T.dragGroupField=null,T.dragAggFnCol=null,B(),ge(o,"active--drag-origin")},q=e=>{const t=e.currentTarget,n=t.parentElement,r=n.parentElement,o=r.parentElement;H(),o.draggable=!1,T.dragCol=null,T.dragGroupField=null,T.dragAggFnCol=null,me(o,"active--drag-origin")},U=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(ce(),0,0),E.prevDragGroupField=null,E.prevDragAggFnColid=null},G=e=>{const{mouseConfig:t}=d,{customColumnList:n}=p,{collectColumn:r}=f,i=h.value,{immediate:l}=i,s=e.currentTarget,c=m.value,{isCrossDrag:g,isSelfToChildDrag:v,isToChildDrag:b,dragEndMethod:x}=c,{dragCol:y}=T,{prevDragCol:w,prevDragGroupField:C,prevDragAggFnColid:k,prevDragPos:S,prevDragToChild:O}=E,D="bottom"===S?1:0;if(C||k)u.handlePivotTableAggregatePanelDragendEvent&&u.handlePivotTableAggregatePanelDragendEvent(e);else if(w&&y&&w!==y){const i=y,s=w;Promise.resolve(!x||x({oldColumn:i,newColumn:s,dragColumn:i,dragPos:S,dragToChild:!!O,offsetIndex:D})).then(c=>{if(!c)return;let d=-1,f=-1;const h={};a().eachTree([i],e=>{h[e.id]=e});let m=!1;if(l){if(i.parentId&&s.parentId){if(!g)return;if(h[s.id]&&(m=!0,!g||!v))return void(o.OE.modal&&o.OE.modal.message({status:"error",content:Dn("vxe.error.treeDragChild")}))}else if(i.parentId){if(!g)return}else if(s.parentId){if(!g)return;if(h[s.id]&&(m=!0,!g||!v))return void(o.OE.modal&&o.OE.modal.message({status:"error",content:Dn("vxe.error.treeDragChild")}))}const e=a().findTree(r,e=>e.id===i.id);if(m&&g&&v){if(e){const{items:t,index:n}=e,r=i.children||[];r.forEach(e=>{e.parentId=i.parentId}),t.splice(n,1,...r),i.children=[]}}else if(e){const{items:t,index:n,parent:r}=e;t.splice(n,1),r||(d=n)}const t=a().findTree(r,e=>e.id===s.id);if(t){const{items:e,index:n,parent:r}=t;g&&b&&O?(i.parentId=s.id,s.children=(s.children||[]).concat([i])):(i.parentId=s.parentId,e.splice(n+D,0,i)),r||(f=n)}a().eachTree(r,(e,t,n,r,o)=>{if(!o){const n=t+1;e.renderSortNumber=n}})}else d=a().findIndexOf(n,e=>e.id===i.id),n.splice(d,1),f=a().findIndexOf(n,e=>e.id===s.id),n.splice(f+D,0,i);t&&(u.clearSelected&&u.clearSelected(),u.clearCellAreas&&(u.clearCellAreas(),u.clearCopyCellArea()));const x={oldColumn:i,newColumn:s,dragColumn:i,dragPos:S,offsetIndex:D,_index:{newIndex:f,oldIndex:d}};u.dispatchEvent("custom-sort-change",x,e),u.dispatchEvent("column-dragend",x,e),l&&(p.customColumnList=r.slice(0),u.handleColDragSwapColumn())}).catch(()=>{})}H(),T.dragCol=null,T.dragGroupField=null,T.dragAggFnCol=null,E.prevDragGroupField=null,E.prevDragAggFnColid=null,s.draggable=!1,s.removeAttribute("drag-pos"),me(s,"active--drag-target"),me(s,"active--drag-origin")},Y=e=>{const t=h.value,{immediate:n}=t,r=m.value,{isCrossDrag:o,isToChildDrag:i}=r,a=e.currentTarget,l=ve(e),s=a.getAttribute("colid"),c=u.getColumnById(s),{dragCol:d}=T;if(E.prevDragGroupField=null,E.prevDragAggFnColid=null,c&&(o||1===c.level)){e.preventDefault();const t=e.clientY-a.getBoundingClientRect().y,r=t<a.clientHeight/2?"top":"bottom";if(!d||d&&d.id===c.id||!o&&c.level>1||!n&&c.level>1)return void V(e,a,!1,r);E.prevDragToChild=!!(o&&i&&l&&n),E.prevDragCol=c,E.prevDragPos=r,V(e,a,!0,r)}},K=()=>{const{dragTipText:e}=T,t=m.value;return(0,X.h)("div",{},[(0,X.h)("div",{ref:k,class:["vxe-table-custom-popup--drag-line",{"is--guides":t.showGuidesStatus}]}),(0,X.h)("div",{ref:S,class:"vxe-table-custom-popup--drag-tip"},[(0,X.h)("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[(0,X.h)("div",{class:"vxe-table-custom-popup--drag-tip-status"},[(0,X.h)("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",Mn().TABLE_DRAG_STATUS_ROW]}),(0,X.h)("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",Mn().TABLE_DRAG_STATUS_SUB_ROW]}),(0,X.h)("span",{class:["vxe-table-custom-popup--drag-tip-group-status",Mn().TABLE_DRAG_STATUS_AGG_GROUP]}),(0,X.h)("span",{class:["vxe-table-custom-popup--drag-tip-values-status",Mn().TABLE_DRAG_STATUS_AGG_VALUES]}),(0,X.h)("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",Mn().TABLE_DRAG_DISABLED]})]),(0,X.h)("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${e||""}`)])])])},Z=()=>{const t=u.xeGrid,n=u.xeGantt,r=u.props,{customStore:o}=e,{treeConfig:i,rowGroupConfig:s,aggregateConfig:c}=r,{isCustomStatus:d,customColumnList:f}=p,v=h.value,{immediate:x}=v,k=m.value,{maxHeight:S}=o,{checkMethod:T,visibleMethod:E,allowVisible:O,allowSort:D,allowFixed:F,trigger:P,placement:$}=v,V=b.value,{isCrossDrag:B}=k,H=v.slots||{},Z=H.header,J=H.top,Q=H.bottom,ee=H.default,te=H.footer,ne=[],re={},oe=o.isAll,ie=o.isIndeterminate;"hover"===P&&(re.onMouseenter=M,re.onMouseleave=A);const ae={$table:u,$grid:t,$gantt:n,columns:f,isAllChecked:oe,isAllIndeterminate:ie,isCustomStatus:d};return a().eachTree(f,(e,t,n,r,o)=>{const i=!E||E({$table:u,column:e});if(i){const t=e.renderVisible,n=e.halfVisible,r=e.children&&e.children.length,i=g(e.getTitle(),1),a=!!T&&!T({$table:u,column:e}),s=!t;ne.push((0,X.h)("li",{key:e.id,colid:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--hidden":a||s,"is--group":r}],onDragstart:U,onDragend:G,onDragover:Y},[O?(0,X.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":n,"is--disabled":a}],title:Dn("vxe.custom.setting.colVisible"),onClick:t=>{a||j(e,t)}},[(0,X.h)("span",{class:["vxe-checkbox--icon",n?Mn().TABLE_CHECKBOX_INDETERMINATE:t?Mn().TABLE_CHECKBOX_CHECKED:Mn().TABLE_CHECKBOX_UNCHECKED]})]):An(u),(0,X.h)("div",{class:"vxe-table-custom--name-option"},[D&&(B&&x||1===e.level)?(0,X.h)("div",{class:"vxe-table-custom--sort-option"},[(0,X.h)("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":s}],title:Dn("vxe.custom.setting.sortHelpTip")},s?{}:{onMousedown:W,onMouseup:q}),[(0,X.h)("i",{class:Mn().TABLE_CUSTOM_SORT})])]):An(u),"html"===e.type?(0,X.h)("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:i}):(0,X.h)("div",{key:"0",class:"vxe-table-custom--checkbox-label"},i)]),!o&&F?(0,X.h)("div",{class:"vxe-table-custom--fixed-option"},[l?(0,X.h)(l,{mode:"text",icon:"left"===e.renderFixed?Mn().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Mn().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===e.renderFixed?"primary":"",disabled:s||V&&!e.renderFixed,title:Dn("left"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:t})=>{L(e,"left",t)}}):An(u),l?(0,X.h)(l,{mode:"text",icon:"right"===e.renderFixed?Mn().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Mn().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===e.renderFixed?"primary":"",disabled:s||V&&!e.renderFixed,title:Dn("right"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:t})=>{L(e,"right",t)}}):An(u)]):An(u)]))}}),(0,X.h)("div",{ref:y,key:"simple",class:["vxe-table-custom-wrapper",`placement--${$}`,{"is--active":o.visible}],style:S&&!["left","right"].includes($||"")?{maxHeight:`${S}px`}:{}},o.visible?[(0,X.h)("div",{ref:w,class:"vxe-table-custom-simple--body-wrapper"},[!i&&(c||s)&&u.getPivotTableAggregateSimplePanel?(0,X.h)(u.getPivotTableAggregateSimplePanel(),{customStore:o}):An(u),(0,X.h)("div",{ref:C,class:"vxe-table-custom--handle-wrapper"},[(0,X.h)("div",{class:"vxe-table-custom--header"},Z?u.callSlot(Z,ae):[(0,X.h)("ul",{class:"vxe-table-custom--panel-list"},[(0,X.h)("li",{class:"vxe-table-custom--option"},[O?(0,X.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":oe,"is--indeterminate":ie}],title:Dn("vxe.table.allTitle"),onClick:z},[(0,X.h)("span",{class:["vxe-checkbox--icon",ie?Mn().TABLE_CHECKBOX_INDETERMINATE:oe?Mn().TABLE_CHECKBOX_CHECKED:Mn().TABLE_CHECKBOX_UNCHECKED]}),(0,X.h)("span",{class:"vxe-checkbox--label"},Dn("vxe.toolbar.customAll"))]):(0,X.h)("span",{class:"vxe-checkbox--label"},Dn("vxe.table.customTitle"))])])]),(0,X.h)("div",{class:"vxe-table-custom--body"},[J?(0,X.h)("div",{class:"vxe-table-custom--panel-top"},u.callSlot(J,ae)):An(u),ee?(0,X.h)("div",{class:"vxe-table-custom--panel-body"},u.callSlot(ee,ae)):(0,X.h)(X.TransitionGroup,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},re),{default:()=>ne}),Q?(0,X.h)("div",{class:"vxe-table-custom--panel-bottom"},u.callSlot(Q,ae)):An(u)]),v.showFooter?(0,X.h)("div",{class:"vxe-table-custom--footer"},te?u.callSlot(te,ae):[(0,X.h)("div",{class:"vxe-table-custom--footer-buttons"},[l?(0,X.h)(l,{mode:"text",content:v.resetButtonText||Dn("vxe.table.customRestore"),disabled:!d,onClick:_}):An(u),x?l?(0,X.h)(l,{mode:"text",content:v.closeButtonText||Dn("vxe.table.customClose"),onClick:N}):An(u):l?(0,X.h)(l,{mode:"text",content:v.cancelButtonText||Dn("vxe.table.customCancel"),onClick:R}):An(u),x?An(u):l?(0,X.h)(l,{mode:"text",status:"primary",content:v.confirmButtonText||Dn("vxe.table.customConfirm"),onClick:I}):An(u)])]):null]),K()])]:[])},J=()=>{const t=u.xeGrid,n=u.xeGantt,{customStore:o}=e,{treeConfig:f,rowGroupConfig:y,aggregateConfig:k,resizable:S}=d,{isCustomStatus:T,customColumnList:E}=p,O=h.value,{immediate:D}=O,M=m.value,{mode:A,modalOptions:F,drawerOptions:P,allowVisible:V,allowSort:B,allowFixed:H,allowResizable:Z,checkMethod:J,visibleMethod:Q}=O,ee=v.value,{maxFixedSize:te}=ee,ne=x.value,{minWidth:re,maxWidth:oe}=ne,ie=Object.assign({},F),ae=Object.assign({},P),le=b.value,{isCrossDrag:se}=M,ce=O.slots||{},ue=ce.header,de=ce.top,pe=ce.bottom,fe=ce.default,he=ce.footer,me=[],ge=o.isAll,ve=o.isIndeterminate,be={$table:u,$grid:t,$gantt:n,columns:E,isAllChecked:ge,isAllIndeterminate:ve,isCustomStatus:T};a().eachTree(E,(e,t,n,r,o)=>{const i=!Q||Q({$table:u,column:e});if(i){let n=0,r=0;if(Z){const o={$table:u,column:e,columnIndex:t,$columnIndex:t,$rowIndex:-1};re&&(n=a().toNumber(a().isFunction(re)?re(o):re)),oe&&(r=a().toNumber(a().isFunction(oe)?oe(o):oe))}const i=e.renderVisible,l=e.halfVisible,d=g(e.getTitle(),1),p=e.children&&e.children.length,f=!!J&&!J({$table:u,column:e}),h=!i;me.push((0,X.h)("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":p}],onDragstart:U,onDragend:G,onDragover:Y},[V?(0,X.h)("td",{class:"vxe-table-custom-popup--column-item col--visible"},[(0,X.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":i,"is--indeterminate":l,"is--disabled":f}],title:Dn("vxe.custom.setting.colVisible"),onClick:t=>{f||j(e,t)}},[(0,X.h)("span",{class:["vxe-checkbox--icon",l?Mn().TABLE_CHECKBOX_INDETERMINATE:i?Mn().TABLE_CHECKBOX_CHECKED:Mn().TABLE_CHECKBOX_UNCHECKED]})])]):An(u),(0,X.h)("td",{class:"vxe-table-custom-popup--column-item col--name"},[(0,X.h)("div",{class:"vxe-table-custom-popup--name"},[B?se&&D||1===e.level?(0,X.h)("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":h}],title:Dn("vxe.custom.setting.sortHelpTip")},h?{}:{onMousedown:W,onMouseup:q}),[(0,X.h)("i",{class:Mn().TABLE_CUSTOM_SORT})]):(0,X.h)("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):An(u),"html"===e.type?(0,X.h)("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:d}):(0,X.h)("div",{key:"0",class:"vxe-table-custom-popup--title",title:d},d)])]),Z?(0,X.h)("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[e.children&&e.children.length||!(a().isBoolean(e.resizable)?e.resizable:ee.resizable||S)?(0,X.h)("span","-"):s?(0,X.h)(s,{type:"integer",immediate:!1,disabled:h,modelValue:e.renderResizeWidth,min:n||void 0,max:r||void 0,"onUpdate:modelValue"(t){const n=Math.max(0,Number(t));e.renderResizeWidth=n},onChange(){$(e)}}):An(u)]):An(u),H?(0,X.h)("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[o?(0,X.h)("span","-"):c?(0,X.h)(c,{modelValue:e.renderFixed||"",type:"button",size:"mini",disabled:h,options:[{label:Dn("vxe.custom.setting.fixedLeft"),value:"left",disabled:h||le},{label:Dn("vxe.custom.setting.fixedUnset"),value:"",disabled:h},{label:Dn("vxe.custom.setting.fixedRight"),value:"right",disabled:h||le}],onChange({label:t,$event:n}){L(e,t,n)}}):An(u)]):An(u)]))}});const xe={default:()=>(0,X.h)("div",{ref:w,class:"vxe-table-custom-popup--body-wrapper"},fe?u.callSlot(fe,be):[(0,X.h)("div",{ref:C,class:"vxe-table-custom-popup--handle-wrapper"},[de?(0,X.h)("div",{class:"vxe-table-custom-popup--table-top"},u.callSlot(de,be)):An(u),(0,X.h)("div",{class:"vxe-table-custom-popup--table-wrapper"},[(0,X.h)("table",{},[(0,X.h)("colgroup",{},[V?(0,X.h)("col",{class:"vxe-table-custom-popup--table-col-seq"}):An(u),(0,X.h)("col",{class:"vxe-table-custom-popup--table-col-title"}),Z?(0,X.h)("col",{class:"vxe-table-custom-popup--table-col-width"}):An(u),H?(0,X.h)("col",{class:"vxe-table-custom-popup--table-col-fixed"}):An(u)]),(0,X.h)("thead",{},[(0,X.h)("tr",{},[V?(0,X.h)("th",{},[(0,X.h)("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ge,"is--indeterminate":ve}],title:Dn("vxe.table.allTitle"),onClick:z},[(0,X.h)("span",{class:["vxe-checkbox--icon",ve?Mn().TABLE_CHECKBOX_INDETERMINATE:ge?Mn().TABLE_CHECKBOX_CHECKED:Mn().TABLE_CHECKBOX_UNCHECKED]}),(0,X.h)("span",{class:"vxe-checkbox--label"},Dn("vxe.toolbar.customAll"))])]):An(u),(0,X.h)("th",{},Dn("vxe.custom.setting.colTitle")),Z?(0,X.h)("th",{},Dn("vxe.custom.setting.colResizable")):An(u),H?(0,X.h)("th",{},Dn("vxe.custom.setting."+(te?"colFixedMax":"colFixed"),[te])):An(u)])]),(0,X.h)(X.TransitionGroup,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>me})])]),pe?(0,X.h)("div",{class:"vxe-table-custom-popup--table-bottom"},u.callSlot(pe,be)):An(u),K()]),!f&&(k||y)&&u.getPivotTableAggregatePopupPanel?(0,X.h)(u.getPivotTableAggregatePopupPanel(),{customStore:o}):An(u)]),footer:()=>he?u.callSlot(he,be):(0,X.h)("div",{class:"vxe-table-custom-popup--footer"},[l?(0,X.h)(l,{content:O.resetButtonText||Dn("vxe.custom.cstmRestore"),disabled:!T,onClick:_}):An(u),D?l?(0,X.h)(l,{content:O.closeButtonText||Dn("vxe.table.customClose"),onClick:N}):An(u):l?(0,X.h)(l,{content:O.cancelButtonText||Dn("vxe.table.customCancel"),onClick:R}):An(u),D?An(u):l?(0,X.h)(l,{status:"primary",content:O.confirmButtonText||Dn("vxe.custom.cstmConfirm"),onClick:I}):An(u)])};return ue&&(xe.header=()=>u.callSlot(ue,be)),"drawer"===A?i?(0,X.h)(i,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",ae.className||""].join(" "),modelValue:o.visible,title:ae.title||Dn("vxe.custom.cstmTitle"),width:ae.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:ae.position,resize:!!ae.resize,escClosable:!!ae.escClosable,maskClosable:!!ae.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){o.visible=e}},xe):An(u):r?(0,X.h)(r,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",ie.className||""].join(" "),modelValue:o.visible,title:ie.title||Dn("vxe.custom.cstmTitle"),width:ie.width||Math.min(880,document.documentElement.clientWidth),minWidth:ie.minWidth||700,height:ie.height||Math.min(680,document.documentElement.clientHeight),minHeight:ie.minHeight||400,showZoom:ie.showZoom,showMaximize:ie.showMaximize,showMinimize:ie.showMinimize,mask:ie.mask,lockView:ie.lockView,resize:ie.resize,escClosable:!!ie.escClosable,maskClosable:!!ie.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){o.visible=e}},xe):An(u)},Q=()=>{const e=h.value;return["modal","drawer","popup"].includes(`${e.mode}`)?J():Z()};(0,X.nextTick)(()=>{const e=h.value,{mode:t}=e;r||"modal"!==t||te("vxe.error.reqComp",["vxe-modal"]),i||"drawer"!==t||te("vxe.error.reqComp",["vxe-drawer"]),l||te("vxe.error.reqComp",["vxe-button"]),s||te("vxe.error.reqComp",["vxe-number-input"]),c||te("vxe.error.reqComp",["vxe-radio-group"])});const ee={xID:n,props:e,context:t,reactData:T,internalData:E,xeTable:u,getRefMaps:()=>O,getComputeMaps:()=>D,renderVN:Q};return(0,X.onUnmounted)(()=>{E=In()}),(0,X.provide)("$xeTableCustomPanel",ee),ee},render(){return this.renderVN()}});const{getI18n:Rn,getIcon:Fn,renderer:_n,renderEmptyElement:Pn}=o.OE;var jn=Z({name:"VxeTableFilterPanel",props:{filterStore:{type:Object,default:()=>({})}},setup(e,t){const n=a().uniqueId(),r=(0,X.inject)("$xeTable",{}),{reactData:o,internalData:i,getComputeMaps:l}=r,{computeFilterOpts:s}=l(),u=(0,X.ref)(),d={refElem:u},p={xID:n,props:e,context:t,getRefMaps:()=>d},f=(0,X.computed)(()=>{const{filterStore:t}=e,{column:n}=t;return n&&n.filters&&n.filters.some(e=>e.checked)}),h=(t,n)=>{const{filterStore:r}=e,{column:o}=r;o&&o.filters&&o.filters.forEach(e=>{e._checked=n,e.checked=n}),r.isAllSelected=n,r.isIndeterminate=!1},m=t=>{const{filterStore:n}=e;t||ee("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),r.handleFilterConfirmFilter(t||new Event("click"),n.column||null)},v=(e,t,n)=>{r.handleFilterChangeRadioOption(e,t,n)},b=t=>{const{filterStore:n}=e;r.handleFilterResetFilter(t,n.column||null)},x=(e,t,n)=>{r.handleFilterChangeMultipleOption(e,t,n)},y=(e,t,n)=>{r.handleFilterChangeOption(e,t,n)},w=(t,n)=>{const{filterStore:r}=e,{column:o}=r;o&&o.filterMultiple?h(t,n):b(t)},C={changeRadioOption:v,changeMultipleOption:x,changeAllOption:w,changeOption:y,confirmFilter:m,resetFilter:b};Object.assign(p,C);const k=(t,n)=>{const{filterStore:o}=e,{column:a,maxHeight:l}=o;if(!a)return[];const{filterMultiple:s,filters:c,slots:u}=a,d=c||[],f=u?u.filter:null,h=Object.assign({},i._currFilterParams,{option:d[0],$panel:p,$table:r}),m=n?n.renderTableFilter||n.renderFilter:null;if(f)return[(0,X.h)("div",{class:"vxe-table--filter-template",style:l?{maxHeight:be(l)}:{}},r.callSlot(f,h))];if(t&&m)return[(0,X.h)("div",{class:"vxe-table--filter-template",style:l?{maxHeight:be(l)}:{}},St(m(t,h)))];const v=s?o.isAllSelected:!d.some(e=>e._checked),b=s&&o.isIndeterminate;return[(0,X.h)("ul",{class:"vxe-table--filter-header"},[(0,X.h)("li",{class:["vxe-table--filter-option",{"is--checked":v,"is--indeterminate":b}],title:Rn(s?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{w(e,!o.isAllSelected)}},(s?[(0,X.h)("span",{class:["vxe-checkbox--icon",b?Fn().TABLE_CHECKBOX_INDETERMINATE:v?Fn().TABLE_CHECKBOX_CHECKED:Fn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,X.h)("span",{class:"vxe-checkbox--label"},Rn("vxe.table.allFilter"))]))]),(0,X.h)("ul",{class:"vxe-table--filter-body",style:l?{maxHeight:be(l)}:{}},d.map(e=>{const t=e._checked,n=!1;return(0,X.h)("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{y(t,!e._checked,e)}},(s?[(0,X.h)("span",{class:["vxe-checkbox--icon",n?Fn().TABLE_CHECKBOX_INDETERMINATE:t?Fn().TABLE_CHECKBOX_CHECKED:Fn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([(0,X.h)("span",{class:"vxe-checkbox--label"},g(e.label,1))]))}))]},S=()=>{const{filterStore:t}=e,{column:n}=t;if(!n)return[];const r=s.value,o=f.value,{filterRender:i,filterMultiple:l}=n,{confirmButtonText:u,resetButtonText:d,showFooter:p}=r,h=c(i)?_n.get(i.name):null,g=!o&&!t.isAllSelected&&!t.isIndeterminate;let v=!!l;return a().isBoolean(p)?v=p:h&&(v=!(!1===h.showTableFilterFooter||!1===h.showFilterFooter||!1===h.isFooter)),v?[(0,X.h)("div",{class:"vxe-table--filter-footer"},[(0,X.h)("button",{class:{"is--disabled":g},disabled:g,onClick:m},u||Rn("vxe.table.confirmFilter")),(0,X.h)("button",{onClick:b},d||Rn("vxe.table.resetFilter"))])]:[]},T=()=>{const{filterStore:t}=e,{initStore:n}=o,{visible:a,column:l}=t;if(!l)return Pn(p);const d=l?l.filterRender:null,f=d&&c(d)?_n.get(d.name):null,h=f?f.tableFilterClassName||f.filterClassName:"",m=Object.assign({},i._currFilterParams,{$panel:p,$table:r}),g=r.props,{computeSize:v}=r.getComputeMaps(),b=v.value,x=s.value,{transfer:y,destroyOnClose:w,className:C}=x;return(0,X.h)(X.Teleport,{to:"body",disabled:!y},[(0,X.h)("div",{ref:u,class:["vxe-table--filter-wrapper","filter--prevent-default",C,ue(h,m),{[`size--${b}`]:b,"is--animat":g.animat,"is--multiple":l.filterMultiple,"is--active":a}],style:t.style},n.filter&&(!w||a)&&l?k(d,f).concat(S()):[])])};return p.renderVN=T,p},render(){return this.renderVN()}});const{getI18n:$n,getIcon:Ln,renderEmptyElement:zn}=o.OE;var Vn=Z({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=o.OE.getComponent("VxeModal"),n=o.OE.getComponent("VxeButton"),r=o.OE.getComponent("VxeSelect"),i=(0,X.inject)("$xeTable",{}),{computeImportOpts:l}=i.getComputeMaps(),s=(0,X.reactive)({loading:!1}),c=(0,X.ref)(),u=(0,X.computed)(()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`}),p=(0,X.computed)(()=>{const{storeData:t}=e;return t.file&&t.type}),f=(0,X.computed)(()=>{const{storeData:t}=e,{type:n,typeList:r}=t;if(n){const e=a().find(r,e=>n===e.value);return e?e.label:"*.*"}return`*.${r.map(e=>e.value).join(", *.")}`}),h=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},m=()=>{const{storeData:t,defaultOptions:n}=e;i.readFile(n).then(e=>{const{file:n}=e;Object.assign(t,d(n),{file:n})}).catch(e=>e)},g=()=>{(0,X.nextTick)(()=>{const e=c.value;e&&e.focus()})},v=()=>{const{storeData:t}=e;t.visible=!1},b=()=>{const{storeData:t,defaultOptions:n}=e,r=l.value;s.loading=!0,i.importByFile(t.file,Object.assign({},r,n)).then(()=>{s.loading=!1,t.visible=!1}).catch(()=>{s.loading=!1})},x=()=>{const o=i.xeGrid,a=i.xeGantt,{defaultOptions:l,storeData:d}=e,x=u.value,y=p.value,w=f.value,C=l.slots||{},k=C.top,S=C.bottom,T=C.default,E=C.footer;return t?(0,X.h)(t,{id:"VXE_IMPORT_MODAL",modelValue:d.visible,title:$n("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:s.loading,"onUpdate:modelValue"(e){d.visible=e},onShow:g},{default:()=>{const e={$table:i,$grid:o,$gantt:a,options:l,params:l.params};return(0,X.h)("div",{class:"vxe-table-export--panel"},[k?(0,X.h)("div",{class:"vxe-table-export--panel-top"},i.callSlot(k,e)):zn(i),(0,X.h)("div",{class:"vxe-table-export--panel-body"},T?i.callSlot(T,e):[(0,X.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,X.h)("tbody",[(0,X.h)("tr",[(0,X.h)("td",$n("vxe.import.impFile")),(0,X.h)("td",[y?(0,X.h)("div",{class:"vxe-table-export--selected--file",title:x},[(0,X.h)("span",x),(0,X.h)("i",{class:Ln().INPUT_CLEAR,onClick:h})]):(0,X.h)("button",{ref:c,class:"vxe-table-export--select--file",onClick:m},$n("vxe.import.impSelect"))])]),(0,X.h)("tr",[(0,X.h)("td",$n("vxe.import.impType")),(0,X.h)("td",w)]),(0,X.h)("tr",[(0,X.h)("td",$n("vxe.import.impMode")),(0,X.h)("td",[r?(0,X.h)(r,{modelValue:l.mode,options:d.modeList,"onUpdate:modelValue"(e){l.mode=e}}):zn(i)])])])])]),S?(0,X.h)("div",{class:"vxe-table-export--panel-bottom"},i.callSlot(S,e)):zn(i)])},footer(){const e={$table:i,$grid:o,$gantt:a,options:l,params:l.params};return(0,X.h)("div",{class:"vxe-table-export--panel-footer"},E?i.callSlot(E,e):[(0,X.h)("div",{class:"vxe-table-export--panel-btns"},[n?(0,X.h)(n,{content:$n("vxe.import.impCancel"),onClick:v}):zn(i),n?(0,X.h)(n,{status:"primary",disabled:!y||s.loading,content:$n("vxe.import.impConfirm"),onClick:b}):zn(i)])])}}):zn(i)};return(0,X.nextTick)(()=>{t||te("vxe.error.reqComp",["vxe-modal"]),n||te("vxe.error.reqComp",["vxe-button"]),r||te("vxe.error.reqComp",["vxe-select"])}),x}});const{getI18n:Bn,getIcon:Hn,renderEmptyElement:Wn}=o.OE;var qn=Z({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=o.OE.getComponent("VxeModal"),n=o.OE.getComponent("VxeButton"),r=o.OE.getComponent("VxeSelect"),i=o.OE.getComponent("VxeInput"),l=o.OE.getComponent("VxeCheckbox"),s=(0,X.inject)("$xeTable",{}),{computeExportOpts:c,computePrintOpts:u}=s.getComputeMaps(),d=(0,X.reactive)({isAll:!1,isIndeterminate:!1,loading:!1}),p=(0,X.ref)(),f=(0,X.ref)(),h=(0,X.ref)(),m=(0,X.computed)(()=>{const{storeData:t}=e;return t.columns.every(e=>e.checked)}),v=(0,X.computed)(()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1}),b=(0,X.computed)(()=>{const{storeData:t,defaultOptions:n}=e;return!n.original&&"current"===n.mode&&(t.isPrint||["html","xlsx"].indexOf(n.type)>-1)}),x=(0,X.computed)(()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1}),y=t=>{const{storeData:n}=e,r=a().findTree(n.columns,e=>e===t);if(r&&r.parent){const{parent:e}=r;e.children&&e.children.length&&(e.checked=e.children.every(e=>e.checked),e.halfChecked=!e.checked&&e.children.some(e=>e.checked||e.halfChecked),y(e))}},w=()=>{const{storeData:t}=e,n=t.columns;d.isAll=n.every(e=>e.disabled||e.checked),d.isIndeterminate=!d.isAll&&n.some(e=>!e.disabled&&(e.checked||e.halfChecked))},C=e=>{const t=!e.checked;a().eachTree([e],e=>{e.checked=t,e.halfChecked=!1}),y(e),w()},k=()=>{const{storeData:t}=e,n=!d.isAll;a().eachTree(t.columns,e=>{e.disabled||(e.checked=n,e.halfChecked=!1)}),d.isAll=n,w()},S=()=>{(0,X.nextTick)(()=>{const e=f.value,t=h.value,n=p.value,r=e||t||n;r&&r.focus()}),w()},T=()=>{const{storeData:t,defaultOptions:n}=e,{hasMerge:r,columns:o}=t,i=m.value,l=b.value,s=a().searchTree(o,e=>e.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},n,{columns:s,isMerge:!!(r&&l&&i)&&n.isMerge})},E=()=>{const{storeData:t}=e,n=u.value;t.visible=!1,s.print(Object.assign({},n,T()))},O=()=>{const{storeData:t}=e,n=c.value;d.loading=!0,s.exportData(Object.assign({},n,T())).then(()=>{d.loading=!1,t.visible=!1}).catch(()=>{d.loading=!1})},D=()=>{const{storeData:t}=e;t.visible=!1},M=()=>{const{storeData:t}=e;t.isPrint?E():O()},A=()=>{const o=s.xeGrid,c=s.xeGantt,{defaultOptions:u,storeData:y}=e,{isAll:w,isIndeterminate:T}=d,{hasTree:E,hasMerge:O,isPrint:A,hasColgroup:I,columns:N}=y,{isHeader:R}=u,F=[],_=m.value,P=v.value,j=b.value,$=x.value,L=u.slots||{},z=L.top,V=L.bottom,B=L.default,H=L.footer,W=L.parameter;return a().eachTree(N,e=>{const t=g(e.getTitle(),1),n=e.children&&e.children.length,r=e.checked,o=e.halfChecked,i="html"===e.type;F.push((0,X.h)("li",{key:e.id,class:["vxe-table-export--panel-column-option",`level--${e.level}`,{"is--group":n,"is--checked":r,"is--indeterminate":o,"is--disabled":e.disabled}],title:i?"":t,onClick:()=>{e.disabled||C(e)}},[(0,X.h)("span",{class:["vxe-checkbox--icon",o?Hn().TABLE_CHECKBOX_INDETERMINATE:r?Hn().TABLE_CHECKBOX_CHECKED:Hn().TABLE_CHECKBOX_UNCHECKED]}),i?(0,X.h)("span",{key:"1",class:"vxe-checkbox--label",innerHTML:t}):(0,X.h)("span",{key:"0",class:"vxe-checkbox--label"},t)]))}),t?(0,X.h)(t,{id:"VXE_EXPORT_MODAL",modelValue:y.visible,title:Bn(A?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(e){y.visible=e},onShow:S},{default:()=>{const e={$table:s,$grid:o,$gantt:c,options:u,columns:N,params:u.params},t="empty"===u.mode;return(0,X.h)("div",{class:"vxe-table-export--panel"},[z?(0,X.h)("div",{class:"vxe-table-export--panel-top"},s.callSlot(z,e)):Wn(s),(0,X.h)("div",{class:"vxe-table-export--panel-body"},B?s.callSlot(B,e):[(0,X.h)("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[(0,X.h)("tbody",[[A?Wn(s):(0,X.h)("tr",[(0,X.h)("td",Bn("vxe.export.expName")),(0,X.h)("td",[i?(0,X.h)(i,{ref:f,modelValue:u.filename,type:"text",clearable:!0,placeholder:Bn("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){u.filename=e}}):Wn(s)])]),A?Wn(s):(0,X.h)("tr",[(0,X.h)("td",Bn("vxe.export.expType")),(0,X.h)("td",[r?(0,X.h)(r,{modelValue:u.type,options:y.typeList,"onUpdate:modelValue"(e){u.type=e}}):Wn(s)])]),A||P?(0,X.h)("tr",[(0,X.h)("td",Bn("vxe.export.expSheetName")),(0,X.h)("td",[i?(0,X.h)(i,{ref:h,modelValue:u.sheetName,type:"text",clearable:!0,placeholder:Bn("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){u.sheetName=e}}):Wn(s)])]):Wn(s),(0,X.h)("tr",[(0,X.h)("td",Bn("vxe.export.expMode")),(0,X.h)("td",[r?(0,X.h)(r,{modelValue:u.mode,options:y.modeList.map(e=>({value:e.value,label:Bn(e.label)})),"onUpdate:modelValue"(e){u.mode=e}}):Wn(s)])]),(0,X.h)("tr",[(0,X.h)("td",[Bn("vxe.export.expColumn")]),(0,X.h)("td",[(0,X.h)("div",{class:"vxe-table-export--panel-column"},[(0,X.h)("ul",{class:"vxe-table-export--panel-column-header"},[(0,X.h)("li",{class:["vxe-table-export--panel-column-option",{"is--checked":w,"is--indeterminate":T}],title:Bn("vxe.table.allTitle"),onClick:k},[(0,X.h)("span",{class:["vxe-checkbox--icon",T?Hn().TABLE_CHECKBOX_INDETERMINATE:w?Hn().TABLE_CHECKBOX_CHECKED:Hn().TABLE_CHECKBOX_UNCHECKED]}),(0,X.h)("span",{class:"vxe-checkbox--label"},Bn("vxe.export.expCurrentColumn"))])]),(0,X.h)("ul",{class:"vxe-table-export--panel-column-body"},F)])])]),(0,X.h)("tr",[(0,X.h)("td",Bn("vxe.export.expOpts")),W?(0,X.h)("td",[(0,X.h)("div",{class:"vxe-table-export--panel-option-row"},s.callSlot(W,e))]):(0,X.h)("td",[(0,X.h)("div",{class:"vxe-table-export--panel-option-row"},[l?(0,X.h)(l,{modelValue:t||R,disabled:t,title:Bn("vxe.export.expHeaderTitle"),content:Bn("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){u.isHeader=e}}):Wn(s),l?(0,X.h)(l,{modelValue:!!R&&u.isTitle,disabled:!R,title:Bn("vxe.export.expTitleTitle"),content:Bn("vxe.export.expOptTitle"),"onUpdate:modelValue"(e){u.isTitle=e}}):Wn(s),l?(0,X.h)(l,{modelValue:!!(R&&I&&j)&&u.isColgroup,title:Bn("vxe.export.expColgroupTitle"),disabled:!R||!I||!j,content:Bn("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){u.isColgroup=e}}):Wn(s)]),(0,X.h)("div",{class:"vxe-table-export--panel-option-row"},[l?(0,X.h)(l,{modelValue:!t&&u.original,disabled:t,title:Bn("vxe.export.expOriginalTitle"),content:Bn("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){u.original=e}}):Wn(s),l?(0,X.h)(l,{modelValue:!!(O&&j&&_)&&u.isMerge,title:Bn("vxe.export.expMergeTitle"),disabled:t||!O||!j||!_,content:Bn("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){u.isMerge=e}}):Wn(s),A||!l?Wn(s):(0,X.h)(l,{modelValue:!!$&&u.useStyle,disabled:!$,title:Bn("vxe.export.expUseStyleTitle"),content:Bn("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){u.useStyle=e}}),l?(0,X.h)(l,{modelValue:!!E&&u.isAllExpand,disabled:t||!E,title:Bn("vxe.export.expAllExpandTitle"),content:Bn("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){u.isAllExpand=e}}):Wn(s)]),(0,X.h)("div",{class:"vxe-table-export--panel-option-row"},[l?(0,X.h)(l,{modelValue:u.isFooter,disabled:!y.hasFooter,title:Bn("vxe.export.expFooterTitle"),content:Bn("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){u.isFooter=e}}):Wn(s)])])])]])])]),V?(0,X.h)("div",{class:"vxe-table-export--panel-bottom"},s.callSlot(V,e)):Wn(s)])},footer(){const e={$table:s,$grid:o,$gantt:c,options:u,columns:N,params:u.params};return(0,X.h)("div",{class:"vxe-table-export--panel-footer"},H?s.callSlot(H,e):[(0,X.h)("div",{class:"vxe-table-export--panel-btns"},[n?(0,X.h)(n,{content:Bn("vxe.export.expCancel"),onClick:D}):Wn(s),n?(0,X.h)(n,{ref:p,status:"primary",content:Bn(A?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:M}):Wn(s)])])}}):Wn(s)};return(0,X.nextTick)(()=>{t||te("vxe.error.reqComp",["vxe-modal"]),n||te("vxe.error.reqComp",["vxe-button"]),r||te("vxe.error.reqComp",["vxe-select"]),i||te("vxe.error.reqComp",["vxe-input"]),l||te("vxe.error.reqComp",["vxe-checkbox"])}),A}});const{getIcon:Un,getI18n:Gn,renderEmptyElement:Yn}=o.OE;var Kn=Z({name:"VxeTableMenuPanel",setup(e,t){const n=a().uniqueId(),r=(0,X.inject)("$xeTable",{}),{reactData:o}=r,i=(0,X.ref)(),l={refElem:i},s={xID:n,props:e,context:t,getRefMaps:()=>l},c=()=>{const{ctxMenuStore:e}=o,{computeMenuOpts:t}=r.getComputeMaps(),n=t.value,{transfer:l,destroyOnClose:s}=n,{visible:c,list:u,className:d}=e;return(0,X.h)(X.Teleport,{to:"body",disabled:!l},[(0,X.h)("div",{ref:i,class:["vxe-table--context-menu-wrapper",d,{"is--visible":c}],style:e.style},!s||c?u.map((t,n)=>t.every(e=>!1===e.visible)?Yn(r):(0,X.h)("ul",{class:"vxe-context-menu--option-wrapper",key:n},t.map((t,o)=>{const{children:i,loading:l}=t,s=i&&i.some(e=>!1!==e.visible),c=Object.assign({},t.prefixConfig),u=c.icon||t.prefixIcon,d=Object.assign({},t.suffixConfig),p=d.icon||t.suffixIcon,f=m(t.name);return!1===t.visible?Yn(r):(0,X.h)("li",{class:[t.className,{"link--loading":l,"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${n}_${o}`},[(0,X.h)("a",{class:"vxe-context-menu--link",onClick(e){r.ctxMenuLinkEvent(e,t)},onMouseover(e){r.ctxMenuMouseoverEvent(e,t)},onMouseout(e){r.ctxMenuMouseoutEvent(e,t)}},[(0,X.h)("div",{class:["vxe-context-menu--link-prefix",c.className||""]},[l?(0,X.h)("span",{class:Un("TABLE_MENU_OPTION_LOADING")}):u&&a().isFunction(u)?(0,X.h)("span",{},St(u({}))):(0,X.h)("span",{},[(0,X.h)("i",{class:u})]),c.content?(0,X.h)("span",{},`${c.content}`):Yn(r)]),(0,X.h)("div",{class:"vxe-context-menu--link-content",title:f},l?Gn("vxe.table.menuLoading"):f),(0,X.h)("div",{class:["vxe-context-menu--link-suffix",d.className||""]},[p&&a().isFunction(p)?(0,X.h)("span",{},St(p({}))):(0,X.h)("i",{class:p||(s?Un().TABLE_MENU_OPTIONS:"")}),d.content?(0,X.h)("span",`${d.content}`):Yn(r)])]),s&&t.children?(0,X.h)("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map((i,l)=>{const{loading:s}=i,c=Object.assign({},i.prefixConfig),u=c.icon||i.prefixIcon,d=Object.assign({},i.suffixConfig),p=d.icon||i.suffixIcon,f=m(i.name);return!1===i.visible?null:(0,X.h)("li",{class:[i.className,{"link--loading":s,"link--disabled":i.disabled,"link--active":i===e.selectChild}],key:`${n}_${o}_${l}`},[(0,X.h)("a",{class:"vxe-context-menu--link",onClick(e){r.ctxMenuLinkEvent(e,i)},onMouseover(e){r.ctxMenuMouseoverEvent(e,t,i)},onMouseout(e){r.ctxMenuMouseoutEvent(e,t)}},[(0,X.h)("div",{class:["vxe-context-menu--link-prefix",c.className||""]},[i.loading?(0,X.h)("span",{class:Un("TABLE_MENU_OPTION_LOADING")}):u&&a().isFunction(u)?(0,X.h)("span",{},St(u({}))):(0,X.h)("span",{},[(0,X.h)("i",{class:u})]),c.content?(0,X.h)("span",`${c.content}`):Yn(r)]),(0,X.h)("div",{class:"vxe-context-menu--link-content",title:f},s?Gn("vxe.table.menuLoading"):f),(0,X.h)("div",{class:["vxe-context-menu--link-suffix",d.className||""]},[p&&a().isFunction(p)?(0,X.h)("span",{},St(p({}))):(0,X.h)("i",{class:p}),d.content?(0,X.h)("span",`${d.content}`):Yn(r)])])])})):null])}))):[])])};return s.renderVN=c,s},render(){return this.renderVN()}});const{renderer:Xn,hooks:Zn}=o.OE,Jn=["openFilter","setFilter","clearFilter","saveFilter","saveFilterByEvent","saveFilterPanel","saveFilterPanelByEvent","resetFilter","resetFilterByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"];Zn.add("tableFilterModule",{setupTable(e){const t=e.xeGrid,n=e.xeGantt,r=t||n,{props:o,reactData:i,internalData:l}=e,{refElem:s,refTableFilter:u}=e.getRefMaps(),{computeFilterOpts:d,computeMouseOpts:p}=e.getComputeMaps(),f={checkFilterOptions(){const{filterStore:e}=i,{column:t}=e;if(t){const n=t.filters||[];e.isAllSelected=n.every(e=>e._checked),e.isIndeterminate=!e.isAllSelected&&n.some(e=>e._checked)}},triggerFilterEvent(t,n,o){const{initStore:a,filterStore:p}=i,{elemStore:f}=l;if(p.column===n&&p.visible)p.visible=!1;else{const i=s.value,{scrollTop:h,scrollLeft:m,visibleHeight:g,visibleWidth:v}=ye(),b=d.value,{transfer:x}=b,y=i.getBoundingClientRect(),w=t.currentTarget,C=n?n.filterRender:null,k=C&&c(C)?Xn.get(C.name):null;e.handleFilterOptions(n),l._currFilterParams=o,p.style=null,p.visible=!0,a.filter=!0,(0,X.nextTick)(()=>{const e=ot(f["main-header-scroll"]);if(!e)return;const t=u.value,n=t?t.getRefMaps().refElem.value:null;if(!n)return;const o=w.getBoundingClientRect(),a=n.querySelector(".vxe-table--filter-header"),l=n.querySelector(".vxe-table--filter-footer"),s=n.offsetWidth,c=s/2;let d=0,b=0,C=0;if(x)d=o.left-c+m,b=o.top+w.clientHeight+h,C=Math.min(Math.max(y.height,Math.floor(g/2)),Math.max(80,g-b-(a?a.clientHeight:0)-(l?l.clientHeight:0)-28)),d<16?d=16:d>v-s-16&&(d=v-s-16);else if(d=o.left-y.left-c,b=o.top-y.top+w.clientHeight,C=Math.max(40,i.clientHeight-b-(a?a.clientHeight:0)-(l?l.clientHeight:0)-14),d<1?d=1:d>i.clientWidth-s-1&&(d=i.clientWidth-s-1),r){const e=r.getRefMaps().refElem.value;if(e){const t=e.getBoundingClientRect();b+=y.top-t.top}}p.style={top:be(b),left:be(d)},k&&!k.tableFilterAutoHeight&&(C=0),p.maxHeight=C})}e.dispatchEvent("filter-visible",{column:n,field:n.field,property:n.field,filterList:e.getCheckedFilters(),visible:p.visible},t)},handleClearFilter(t){if(t){const{filters:n,filterRender:r}=t;if(n){const o=c(r)?Xn.get(r.name):null,i=t.filterResetMethod||(o?o.tableFilterResetMethod||o.filterResetMethod:null);n.forEach(e=>{e._checked=!1,e.checked=!1,i||(e.data=a().clone(e.resetValue,!0))}),i&&i({options:n,column:t,$table:e})}}},handleColumnConfirmFilter(t,n){const{mouseConfig:r}=o,{scrollXLoad:a,scrollYLoad:l}=i,s=d.value,c=p.value,{field:u,filters:f}=t,h=f||[],m=[],g=[];h.forEach(e=>{e.checked&&(m.push(e.value),g.push(e.data))});const v=e.getCheckedFilters(),b={$table:e,$event:n,column:t,field:u,property:u,values:m,datas:g,filters:v,filterList:v};return s.remote||(e.handleTableData(!0),e.checkSelectionStatus()),r&&c.area&&e.handleFilterEvent&&e.handleFilterEvent(n,b),n&&e.dispatchEvent("filter-change",b,n),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:t,scrollYLoad:n}=i;if(a||t||l||n)return(a||t)&&e.updateScrollXSpace(),(l||n)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(t,n){n&&e.handleColumnConfirmFilter(n,t)},handleFilterChangeRadioOption(t,n,r){const{filterStore:o}=i,{column:a}=o;if(a){const o=a.filters||[];o.forEach(e=>{e._checked=!1}),r._checked=n,e.checkFilterOptions(),e.handleFilterConfirmFilter(t,a)}},handleFilterChangeMultipleOption(t,n,r){r._checked=n,e.checkFilterOptions()},handleFilterChangeOption(t,n,r){const{filterStore:o}=i,{fullColumnIdData:a}=l;let s=o.column;if(!s){const e=a[r._colId];e&&(s=e.column,o.column=s)}s&&(s.filterMultiple?e.handleFilterChangeMultipleOption(t,n,r):e.handleFilterChangeRadioOption(t,n,r))},handleFilterConfirmFilter(t,n){if(n){const r=n.filters||[];r.forEach(e=>{e.checked=e._checked}),e.confirmFilterEvent(t,n)}},handleFilterResetFilter(t,n){n&&(e.handleClearFilter(n),e.confirmFilterEvent(t,n),t&&e.dispatchEvent("clear-filter",{filterList:[]},t))}},h={openFilter(t){const n=Ke(e,t);if(n&&n.filters){const{elemStore:t}=l,{fixed:r}=n;return e.scrollToColumn(n).then(()=>{const e=ot(t[`${r||"main"}-header-wrapper`]||t["main-header-wrapper"]);if(e){const t=e.querySelector(`.vxe-header--column.${n.id} .vxe-cell--filter`);Ne(t,"click")}})}return(0,X.nextTick)()},setFilter(t,n,r){const{filterStore:o}=i,a=Ke(e,t);if(a&&a.filters){if(a.filters=et(n||[],a.id),r)return e.handleColumnConfirmFilter(a,null);o.visible&&e.handleFilterOptions(a)}return(0,X.nextTick)()},clearFilter(t){const{filterStore:n}=i,{tableFullColumn:r}=l,o=d.value;let a;return t?(a=Ke(e,t),a&&e.handleClearFilter(a)):r.forEach(e.handleClearFilter),t&&a===n.column||Object.assign(n,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),o.remote?(0,X.nextTick)():e.updateData()},saveFilter(t){if(t){const n=Ke(e,t);e.handleFilterConfirmFilter(null,n)}return(0,X.nextTick)()},saveFilterByEvent(t,n){if(n){const r=Ke(e,n);e.handleFilterConfirmFilter(t,r)}return(0,X.nextTick)()},resetFilter(t){if(t){const n=Ke(e,t);e.handleFilterResetFilter(null,n)}return(0,X.nextTick)()},resetFilterByEvent(t,n){if(n){const r=Ke(e,n);e.handleFilterResetFilter(t,r)}return(0,X.nextTick)()},saveFilterPanel(){const{filterStore:t}=i;return e.handleFilterConfirmFilter(null,t.column||null),(0,X.nextTick)()},saveFilterPanelByEvent(t){const{filterStore:n}=i;return e.handleFilterConfirmFilter(t,n.column||null),(0,X.nextTick)()},resetFilterPanel(){const{filterStore:t}=i;return e.handleFilterResetFilter(null,t.column||null),(0,X.nextTick)()},resetFilterPanelByEvent(t){const{filterStore:n}=i;return e.handleFilterResetFilter(t,n.column||null),(0,X.nextTick)()},getCheckedFilters(){const{tableFullColumn:e}=l,t=[];return e.forEach(e=>{const{field:n,filters:r}=e,o=r||[],i=[],a=[];o&&(o.forEach(e=>{e.checked&&(i.push(e.value),a.push(e.data))}),i.length&&t.push({column:e,field:n,property:n,values:i,datas:a}))}),t},updateFilterOptionStatus(e,t){return e._checked=t,e.checked=t,(0,X.nextTick)()}};return Object.assign(Object.assign({},h),f)},setupGrid(e){return e.extendTableMethods(Jn)},setupGantt(e){return e.extendTableMethods(Jn)}});const{menus:Qn,hooks:er,globalEvents:tr,GLOBAL_EVENT_KEYS:nr}=o.OE,rr=["closeMenu"];er.add("tableMenuModule",{setupTable(e){const{xID:t,props:n,reactData:r,internalData:o}=e,{refElem:i,refTableFilter:l,refTableMenu:s}=e.getRefMaps(),{computeMouseOpts:u,computeIsContentMenu:d,computeMenuOpts:p}=e.getComputeMaps(),f=e.xeGrid,m=e.xeGantt,g=f||m;let v={},b={};const x=(t,n,a)=>{const{ctxMenuStore:l}=r,c=d.value,u=p.value,f=u[n],{transfer:h,visibleMethod:m}=u;if(f){const{options:n,disabled:r}=f;r?t.preventDefault():c&&n&&n.length&&(a.options=n,e.preventEvent(t,"event.showMenu",a,()=>{if(!m||m(a)){t.preventDefault(),e.updateZindex();const r=g?g.getRefMaps().refElem.value:i.value;if(!r)return;const c=r.getBoundingClientRect(),{scrollTop:u,scrollLeft:d,visibleHeight:p,visibleWidth:f}=ye();let m=t.clientY-c.y,v=t.clientX-c.x;h&&(m=t.clientY+u,v=t.clientX+d);const b=()=>{o._currMenuParams=a,Object.assign(l,{visible:!0,list:n,selected:null,selectChild:null,showChild:!1,style:{zIndex:o.tZindex,top:`${m}px`,left:`${v}px`}}),(0,X.nextTick)(()=>{const e=s.value,t=e.getRefMaps().refElem.value,n=t.clientHeight,r=t.clientWidth,{boundingTop:o,boundingLeft:i}=De(t),a=o+n-p,c=i+r-f;a>-10&&(l.style.top=`${Math.max(u+2,m-n-2)}px`),c>-10&&(l.style.left=`${Math.max(d+2,v-r-2)}px`)})},{keyboard:x,row:y,column:w}=a;x&&y&&w?e.scrollToRow(y,w).then(()=>{const t=e.getCellElement(y,w);if(t){const{boundingTop:e,boundingLeft:n}=De(t);m=e+u+Math.floor(t.offsetHeight/2),v=n+d+Math.floor(t.offsetWidth/2)}b()}):b()}else v.closeMenu()}))}e.closeFilter()};return v={closeMenu(){return Object.assign(r.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),(0,X.nextTick)()}},b={moveCtxMenu(t,n,r,o,i,l){let s;const c=a().findIndexOf(l,e=>n[r]===e);if(o)i&&h(n.selected)?n.showChild=!0:(n.showChild=!1,n.selectChild=null);else if(tr.hasKey(t,nr.ARROW_UP)){for(let e=c-1;e>=0;e--)if(!1!==l[e].visible){s=l[e];break}n[r]=s||l[l.length-1]}else if(tr.hasKey(t,nr.ARROW_DOWN)){for(let e=c+1;e<l.length;e++)if(!1!==l[e].visible){s=l[e];break}n[r]=s||l[0]}else n[r]&&(tr.hasKey(t,nr.ENTER)||tr.hasKey(t,nr.SPACEBAR))&&e.ctxMenuLinkEvent(t,n[r])},handleOpenMenuEvent:x,handleGlobalContextmenuEvent(a){const d=e.xeGrid,f=e.xeGantt,{mouseConfig:h,menuConfig:m}=n,{editStore:g,ctxMenuStore:b}=r,{visibleColumn:y}=o,w=l.value,C=s.value,k=u.value,S=p.value,T=i.value,{selected:E}=g,O=["header","body","footer"];if(c(m)){if(b.visible&&C&&Oe(a,C.getRefMaps().refElem.value).flag)return void a.preventDefault();if(o._keyCtx){const t="body",n={source:"table",type:t,$table:e,$grid:d,$gantt:f,keyboard:!0,columns:y.slice(0),$event:a};if(h&&k.area){const r=e.getActiveCellArea();if(r&&r.row&&r.column)return n.row=r.row,n.column=r.column,void x(a,t,n)}else if(h&&k.selected&&E.row&&E.column)return n.row=E.row,n.column=E.column,void x(a,t,n)}for(let n=0;n<O.length;n++){const r=O[n],o=Oe(a,T,`vxe-${r}--column`,e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===t),i={source:"table",type:r,$table:e,$grid:d,$gantt:f,columns:y.slice(0),$event:a};if(o.flag){const t=o.targetElem,n=e.getColumnNode(t),l=n?n.item:null;let s=`${r}-`;if(l&&Object.assign(i,{column:l,columnIndex:e.getColumnIndex(l),cell:t}),"body"===r){const n=e.getRowNode(t.parentNode),r=n?n.item:null;s="",r&&(i.row=r,i.rowIndex=e.getRowIndex(r))}const c=`${s}cell-menu`;return x(a,r,i),void e.dispatchEvent(c,i,a)}if(Oe(a,T,`vxe-table--${r}-wrapper`,e=>e.getAttribute("xid")===t).flag||"body"===r&&Oe(a,T,"vxe-table--empty-place-wrapper",e=>e.getAttribute("xid")===t).flag)return void("cell"===S.trigger?a.preventDefault():x(a,r,i))}}w&&!Oe(a,w.getRefMaps().refElem.value).flag&&e.closeFilter(),v.closeMenu()},ctxMenuMouseoverEvent(e,t,n){const o=e.currentTarget,{ctxMenuStore:i}=r;e.preventDefault(),e.stopPropagation(),i.selected=t,i.selectChild=n,n||(i.showChild=h(t),i.showChild&&(0,X.nextTick)(()=>{const e=o.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:n,visibleHeight:r,visibleWidth:i}=De(o),a=t+o.offsetHeight,l=n+o.offsetWidth;let s="",c="";l+e.offsetWidth>i-10&&(s="auto",c=`${o.offsetWidth}px`);let u="",d="";a+e.offsetHeight>r-10&&(u="auto",d="0"),e.style.left=s,e.style.right=c,e.style.top=u,e.style.bottom=d}}))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:n}=r;t.children||(n.selected=null),n.selectChild=null},ctxMenuLinkEvent(t,n){const r=e.xeGrid,i=e.xeGantt;if(!n.loading&&!n.disabled&&(n.code||!n.children||!n.children.length)){const a=Qn.get(n.code),l=Object.assign({},o._currMenuParams,{menu:n,$table:e,$grid:r,$gantt:i,$event:t}),s=a?a.tableMenuMethod||a.menuMethod:null;s&&s(l,t),e.dispatchEvent("menu-click",l,t),v.closeMenu()}}},Object.assign(Object.assign({},v),b)},setupGrid(e){return e.extendTableMethods(rr)},setupGantt(e){return e.extendTableMethods(rr)}});const{getConfig:or,renderer:ir,hooks:ar,getI18n:lr}=o.OE,sr=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];ar.add("tableEditModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{refElem:o}=e.getRefMaps(),{computeMouseOpts:i,computeEditOpts:l,computeCheckboxOpts:s,computeTreeOpts:u,computeValidOpts:d}=e.getComputeMaps(),p=a().browse();let f={},h={};const m=(e,t)=>{const{model:n,editRender:r}=t;r&&(n.value=nt(e,t),n.update=!1)},g=(e,t)=>{const{model:n,editRender:r}=t;r&&n.update&&(rt(e,t,n.value),n.update=!1,n.value=null)},v=()=>{const e=o.value;if(e){const t=e.querySelector(".col--selected");t&&me(t,"col--selected")}},b=()=>{const{editStore:e,tableColumn:t}=n,r=l.value,{actived:o}=e,{row:i,column:a}=o;(i||a)&&("row"===r.mode?t.forEach(e=>g(i,e)):g(i,a))},x=(t,n)=>{const{tableFullTreeData:o,afterFullData:i,fullDataRowIdData:l,fullAllDataRowIdData:s}=r,c=u.value,{rowField:d,parentField:p,mapChildrenField:f}=c,h=c.children||c.childrenField,m=n?"push":"unshift";t.forEach(t=>{const n=t[p],r=Ve(e,t),c=n?a().findTree(o,e=>n===e[d],{children:f}):null;if(c){const{item:n}=c,o=s[Ve(e,n)],i=o?o.level:0;let u=n[h],d=n[f];a().isArray(u)||(u=n[h]=[]),a().isArray(d)||(d=n[f]=[]),u[m](t),d[m](t);const p={row:t,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:u,parent:n,level:i+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};l[r]=p,s[r]=p}else{n&&ee("vxe.error.unableInsert"),i[m](t),o[m](t);const e={row:t,rowid:r,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:o,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};l[r]=e,s[r]=e}})},y=(o,i,l)=>{const{treeConfig:s}=t,{isRowGroupStatus:c}=n,{tableFullTreeData:d,afterFullData:p,mergeBodyList:f,tableFullData:h,fullDataRowIdData:m,fullAllDataRowIdData:g,insertRowMaps:v,removeRowMaps:b}=r,y=u.value,{transform:w,parentField:C,rowField:k,mapChildrenField:S}=y,T=y.children||y.childrenField;a().isArray(o)||(o=[o]);let E=i;if(a().isString(i)||a().isNumber(i)){const e=g[i];e&&(E=e.row)}const O=(0,X.reactive)(e.defineField(o.map(e=>Object.assign(s&&w?{[S]:[],[T]:[]}:{},e))));let D=[];if(s&&w&&(D=a().toArrayTree(O,{key:k,parentKey:C,children:T})),a().eqNull(E))if(s&&w)x(O,!1);else if(c){if(s)throw new Error(lr("vxe.error.noTree",["insert"]));te(lr("vxe.error.noGroup",["insert"]))}else O.forEach(t=>{const n=Ve(e,t),r={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:p,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};m[n]=r,g[n]=r,p.unshift(t),h.unshift(t)}),f.forEach(e=>{const{row:t}=e;t>=0&&(e.row=t+O.length)});else if(-1===E)if(s&&w)x(O,!0);else if(c){if(s)throw new Error(lr("vxe.error.noTree",["insert"]));te(lr("vxe.error.noGroup",["insert"]))}else O.forEach(t=>{const n=Ve(e,t),r={row:t,rowid:n,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:p,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};m[n]=r,g[n]=r,p.push(t),h.push(t)});else if(s&&w){const t=a().findTree(d,e=>E[k]===e[k],{children:S});if(t){const{parent:n}=t,r=n?n[S]:d,o=g[Ve(e,n)],i=o?o.level:0;if(D.forEach((e,o)=>{n?e[C]!==n[k]&&(te("vxe.error.errProp",[`${C}=${e[C]}`,`${C}=${n[k]}`]),e[C]=n[k]):null!==e[C]&&(a().eqNull(e[C])||te("vxe.error.errProp",[`${C}=${e[C]}`,"null"]),e[C]=null);let i=t.index+o;l&&(i+=1),r.splice(i,0,e)}),a().eachTree(D,t=>{const o=Ve(e,t),a={row:t,rowid:o,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:r,parent:n,level:i+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};t[T]&&(t[S]=t[T]),m[o]=a,g[o]=a},{children:T}),n){const e=a().findTree(d,e=>E[k]===e[k],{children:T});if(e){const t=e.items;let n=e.index;l&&(n+=1),t.splice(n,0,...D)}}}else ee("vxe.error.unableInsert"),x(O,!0)}else if(c){if(s)throw new Error(lr("vxe.error.noTree",["insert"]));te(lr("vxe.error.noGroup",["insert"]))}else{if(s)throw new Error(lr("vxe.error.noTree",["insert"]));let t=-1;if(a().isNumber(E)?E<p.length&&(t=E):t=e.findRowIndexOf(p,E),l&&(t=Math.min(p.length,t+1)),-1===t)throw new Error(lr("vxe.error.unableInsert"));p.splice(t,0,...O);const n=e.findRowIndexOf(h,E);n>-1?h.splice(n+(l?1:0),0,...O):h.push(...O),f.forEach(e=>{const{row:n,rowspan:r}=e;n>=t?e.row=n+O.length:(l?n+r>=t:n+r>t)&&(e.rowspan=r+O.length)})}const M=t=>{const n=Ve(e,t);b[n]?(delete b[n],v[n]&&delete v[n]):v[n]=t};return s&&w?a().eachTree(D,M,{children:S}):O.forEach(M),n.removeRowFlag++,n.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(s&&w),s&&w||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),(0,X.nextTick)().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:O.length?O[O.length-1]:null,rows:O}))},w=(e,n,o,i)=>{const{treeConfig:l}=t,{fullAllDataRowIdData:s}=r,c=u.value,{transform:d,rowField:p,parentField:f}=c;if(l&&d){a().isArray(e)||(e=[e]);let t=n;if(a().isString(n)||a().isNumber(n)){const e=s[n];e&&(t=e.row)}return y(e.map(e=>Object.assign({},e,{[f]:t[p]})),o,i)}return te("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]})},C=(t,r)=>{const{editStore:o}=n,{actived:i,focused:a}=o,{row:l,column:s}=i,c=d.value;if(l||s){if(r&&Ve(e,r)!==Ve(e,l))return(0,X.nextTick)();b(),i.args=null,i.row=null,i.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:l,rowIndex:e.getRowIndex(l),$rowIndex:e.getVMRowIndex(l),column:s,columnIndex:e.getColumnIndex(s),$columnIndex:e.getVMColumnIndex(s)},t||null)}return a.row=null,a.column=null,c.autoClear&&("full"!==c.msgMode||"obsolete"===or().cellVaildMode)&&e.clearValidate?e.clearValidate():(0,X.nextTick)().then(()=>e.updateCellAreas())},k=(r,o,i,a)=>{const s=e.xeGrid,u=e.xeGantt,{editConfig:d,mouseConfig:p}=t,{editStore:f,tableColumn:h}=n,g=l.value,{mode:v}=g,{actived:b,focused:x}=f,{row:y,column:w}=r,{editRender:k}=w,S=r.cell||e.getCellElement(y,w),T=g.beforeEditMethod||g.activeMethod;if(r.cell=S,S&&c(d)&&c(k)&&!e.isPendingByRow(y)&&!e.isAggregateRecord(y)){if(b.row!==y||"cell"===v&&b.column!==w){let t="edit-disabled";if(!T||T(Object.assign(Object.assign({},r),{$table:e,$grid:s,$gantt:u}))){p&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),b.column&&C(o),t="edit-activated",w.renderHeight=S.offsetHeight,b.args=r,b.row=y,b.column=w,"row"===v?h.forEach(e=>m(y,e)):m(y,w);const n=g.afterEditMethod;(0,X.nextTick)(()=>{i&&e.handleFocus(r,o),n&&n(Object.assign(Object.assign({},r),{$table:e,$grid:s,$gantt:u}))})}e.dispatchEvent(t,{row:y,rowIndex:e.getRowIndex(y),$rowIndex:e.getVMRowIndex(y),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},o),"edit-activated"===t&&e.dispatchEvent("edit-actived",{row:y,rowIndex:e.getRowIndex(y),$rowIndex:e.getVMRowIndex(y),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},o)}else{const{column:t}=b;if(p&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==w){const{model:n}=t;n.update&&rt(y,t,n.value),e.clearValidate&&e.clearValidate(y,w)}w.renderHeight=S.offsetHeight,b.args=r,b.column=w,a&&setTimeout(()=>{e.handleFocus(r,o)})}x.column=null,x.row=null,e.focus()}return(0,X.nextTick)()},S=(n,o,i)=>{const{editConfig:l}=t,s=a().isString(o)?e.getColumnByField(o):o;return n&&s&&c(l)&&c(s.editRender)&&!e.isAggregateRecord(n)?Promise.resolve(i?e.scrollToRow(n,s):null).then(()=>{const t=e.getCellElement(n,s);return t&&(k({row:n,rowIndex:e.getRowIndex(n),column:s,columnIndex:e.getColumnIndex(s),cell:t,$table:e},null,i,i),r._lastCallTime=Date.now()),(0,X.nextTick)()}):(0,X.nextTick)()};return f={insert(e){return y(e,null)},insertAt(e,t){return y(e,t)},insertNextAt(e,t){return y(e,t,!0)},insertChild(e,t){return window.aa=r,w(e,t,null)},insertChildAt(e,t,n){return w(e,t,n)},insertChildNextAt(e,t,n){return w(e,t,n,!0)},remove(o){const{treeConfig:i}=t,{editStore:l,isRowGroupStatus:c}=n,{tableFullTreeData:d,selectCheckboxMaps:p,afterFullData:h,mergeBodyList:m,tableFullData:g,pendingRowMaps:v,insertRowMaps:b,removeRowMaps:x}=r,y=s.value,w=u.value,{transform:C,mapChildrenField:k}=w,S=w.children||w.childrenField,{actived:T}=l,{checkField:E}=y;let O=[];return o?a().isArray(o)||(o=[o]):o=g,o.forEach(t=>{if(!e.isInsertByRow(t)){const n=Ve(e,t);x[n]=t}}),E||(o.forEach(t=>{const n=Ve(e,t);p[n]&&delete p[n]}),n.updateCheckboxFlag++),g===o?(o=O=g.slice(0),r.tableFullData=[],r.afterFullData=[],e.clearMergeCells()):i&&C?o.forEach(t=>{const n=Ve(e,t),r=a().findTree(d,t=>n===Ve(e,t),{children:k});if(r){const e=r.items.splice(r.index,1);O.push(e[0])}const o=a().findTree(d,t=>n===Ve(e,t),{children:S});o&&o.items.splice(o.index,1);const i=e.findRowIndexOf(h,t);i>-1&&h.splice(i,1)}):c?ee(lr("vxe.error.noGroup",["remove"])):o.forEach(t=>{const n=e.findRowIndexOf(g,t);if(n>-1){const e=g.splice(n,1);O.push(e[0])}const r=e.findRowIndexOf(h,t);r>-1&&(m.forEach(e=>{const{row:t,rowspan:n}=e;t>r?e.row=t-1:t+n>r&&(e.rowspan=n-1)}),h.splice(r,1))}),T.row&&e.findRowIndexOf(o,T.row)>-1&&f.clearEdit(),o.forEach(t=>{const n=Ve(e,t);b[n]&&delete b[n],v[n]&&delete v[n]}),n.removeRowFlag++,n.insertRowFlag++,n.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(i&&C),e.updateFooter(),e.handleUpdateBodyMerge(),i&&C||e.updateAfterDataIndex(),e.checkSelectionStatus(),n.scrollYLoad&&e.updateScrollYSpace(),(0,X.nextTick)().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:O.length?O[O.length-1]:null,rows:O}))},removeCheckboxRow(){return f.remove(e.getCheckboxRecords()).then(t=>(e.clearCheckboxRow(),t))},removeRadioRow(){const t=e.getRadioRecord();return f.remove(t||[]).then(t=>(e.clearRadioRow(),t))},removeCurrentRow(){const t=e.getCurrentRecord();return f.remove(t||[]).then(t=>(e.clearCurrentRow(),t))},getRecordset(){const t=f.getRemoveRecords(),n=e.getPendingRecords(),r=t.concat(n),o=f.getUpdateRecords().filter(t=>!r.some(n=>e.eqRow(n,t)));return{insertRecords:f.getInsertRecords(),removeRecords:t,updateRecords:o,pendingRecords:n}},getInsertRecords(){const{fullAllDataRowIdData:e,insertRowMaps:t}=r,n=[];return a().each(t,(t,r)=>{e[r]&&n.push(t)}),n},getRemoveRecords(){const{removeRowMaps:e}=r,t=[];return a().each(e,e=>{t.push(e)}),t},getUpdateRecords(){const{keepSource:n,treeConfig:o}=t,{tableFullData:i}=r,l=u.value;return n?(b(),o?a().filterTree(i,t=>e.isUpdateByRow(t),l):i.filter(t=>e.isUpdateByRow(t))):[]},getActiveRecord(){ee("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:t}=n,{fullAllDataRowIdData:o}=r,{args:i,row:a}=t.actived;return i&&a&&o[Ve(e,a)]?Object.assign({},i,{row:a}):null},getEditRecord(){ee("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:t}=n,{fullAllDataRowIdData:o}=r,{args:i,row:a}=t.actived;return i&&a&&o[Ve(e,a)]?Object.assign({},i,{row:a}):null},getEditCell(){const{editStore:t}=n,{row:r,column:o}=t.actived;return o&&r?{row:r,rowIndex:e.getRowIndex(r),column:o,columnIndex:e.getColumnIndex(o)}:null},getSelectedCell(){const{editStore:e}=n,{row:t,column:r}=e.selected;return t&&r?{row:t,column:r}:null},clearActived(t){return ee("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(t)},clearEdit(e){return C(null,e)},clearSelected(){const{editStore:e}=n,{selected:t}=e;return t.row=null,t.column=null,v(),(0,X.nextTick)()},isActiveByRow(t){return ee("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(t)},isEditByRow(e){const{editStore:t}=n;return t.actived.row===e},setActiveRow(e){return ee("vxe.error.delFunc",["setActiveRow","setEditRow"]),f.setEditRow(e)},setEditRow(t,n){const{visibleColumn:o}=r;let i=a().find(o,e=>c(e.editRender)),l=!1;return n&&(l=!0,!0!==n&&(i=a().isString(n)?e.getColumnByField(n):n)),S(t,i,l)},setActiveCell(e,t){return ee("vxe.error.delFunc",["setActiveCell","setEditCell"]),f.setEditCell(e,t)},setEditCell(e,t){return S(e,t,!0)},setSelectCell(t,r){const{tableData:o}=n,i=l.value,s=a().isString(r)?e.getColumnByField(r):r;if(t&&s&&"manual"!==i.trigger){const n=e.findRowIndexOf(o,t);if(n>-1&&s){const r=e.getCellElement(t,s),o={row:t,rowIndex:n,column:s,columnIndex:e.getColumnIndex(s),cell:r};e.handleSelected(o,{})}}return(0,X.nextTick)()}},h={handleEdit(e,t){return k(e,t,!0,!0)},handleActived(e,t){return h.handleEdit(e,t)},handleClearEdit:C,handleFocus(t){const{row:n,column:r,cell:o}=t,{editRender:i}=r,s=l.value;if(c(i)){const l=ir.get(i.name);let c,u=i.autofocus||i.autoFocus,d=i.autoSelect||i.autoselect;if(s.autoFocus&&(!u&&l&&(u=l.tableAutoFocus||l.tableAutofocus||l.autofocus),!d&&l&&(d=l.tableAutoSelect||l.autoselect),a().isFunction(u)?c=u(t):u&&(c=!0===u?o.querySelector("input,textarea"):o.querySelector(u),c&&c.focus())),c){if(d)c.select();else if(p.msie){const e=c.createTextRange();e.collapse(!1),e.select()}}else s.autoPos&&(r.fixed||e.scrollToRow(n,r))}},handleSelected(r,o){const{mouseConfig:a}=t,{editStore:s}=n,c=i.value,u=l.value,{actived:d,selected:p}=s,{row:f,column:m}=r,g=a&&c.selected,v=()=>(!g||p.row===f&&p.column===m||(d.row!==f||"cell"===u.mode&&d.column!==m)&&(C(o),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),p.args=r,p.row=f,p.column=m,g&&h.addCellSelectedClass(),e.focus(),o&&e.dispatchEvent("cell-selected",r,o)),(0,X.nextTick)());return v()},addCellSelectedClass(){const{editStore:t}=n,{selected:r}=t,{row:o,column:i}=r;if(v(),o&&i){const t=e.getCellElement(o,i);t&&ge(t,"col--selected")}}},Object.assign(Object.assign({},f),h)},setupGrid(e){return e.extendTableMethods(sr)},setupGantt(e){return e.extendTableMethods(sr)}});const cr='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function ur(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function dr(e,t){const{style:n}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${cr}</style>`,n?`<style>${n}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:pr,hooks:fr,renderer:hr}=o.OE;let mr;const gr="\ufeff",vr="\r\n";function br(e){return!!e.field||-1===["seq","checkbox","radio"].indexOf(e.type||"")}const xr=e=>{const t=[];return e.forEach(e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...xr(e.childNodes))):t.push(e)}),t},yr=e=>{let t=1;const n=(e,r)=>{if(r&&(e._level=r._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach(r=>{n(r,e),t+=r._colSpan}),e._colSpan=t}else e._colSpan=1};e.forEach(e=>{e._level=1,n(e)});const r=[];for(let i=0;i<t;i++)r.push([]);const o=xr(e);return o.forEach(e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,r[e._level-1].push(e)}),r};function wr(e){return!0===e?"full":e||"default"}function Cr(e){return"TRUE"===e||"true"===e||!0===e}function kr(e,t,n){const r=e.xeGrid,o=e.xeGantt,{footerFilterMethod:i}=t;return i?n.filter((t,n)=>i({$table:e,$grid:r,$gantt:o,items:t,$rowIndex:n})):n}function Sr(e,t){if(t){if("seq"===e.type)return`\t${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`;break}}return t}function Tr(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Er(e,t){return e.getElementsByTagName(t)}function Or(e){return`#${e}@${a().uniqueId()}`}function Dr(e,t){return e.replace(/#\d+@\d+/g,e=>a().hasOwnProp(t,e)?t[e]:e)}function Mr(e,t){const n=Dr(e,t);return n.replace(/^"+$/g,e=>'"'.repeat(Math.ceil(e.length/2)))}function Ar(e,t){const{fieldMaps:n,titleMaps:r}=e;if(!n[t]){const e=r[t];e&&e.field&&(t=e.field)}return t}function Ir(e,t,n){const r=t.split(vr),o=[];let i=[];if(r.length){const t={},a=Date.now();r.forEach(r=>{if(r){const l={};r=r.replace(/("")|(\n)/g,(e,n)=>{const r=Or(a);return t[r]=n?'"':"\n",r}).replace(/"(.*?)"/g,(e,n)=>{const r=Or(a);return t[r]=Dr(n,t),r});const s=r.split(n);i.length?(s.forEach((e,n)=>{n<i.length&&(l[i[n]]=Mr(e.trim(),t))}),o.push(l)):i=s.map(n=>Ar(e,Mr(n.trim(),t)))}})}return{fields:i,rows:o}}function Nr(e,t){return Ir(e,t,",")}function Rr(e,t){return Ir(e,t,"\t")}function Fr(e,t){const n=new DOMParser,r=n.parseFromString(t,"text/html"),o=Er(r,"body"),i=[],l=[];if(o.length){const t=Er(o[0],"table");if(t.length){const n=Er(t[0],"thead");if(n.length){a().arrayEach(Er(n[0],"tr"),t=>{a().arrayEach(Er(t,"th"),t=>{l.push(Ar(e,t.textContent||""))})});const r=Er(t[0],"tbody");r.length&&a().arrayEach(Er(r[0],"tr"),e=>{const t={};a().arrayEach(Er(e,"td"),(e,n)=>{l[n]&&(t[l[n]]=e.textContent||"")}),i.push(t)})}}}return{fields:l,rows:i}}function _r(e,t){const n=new DOMParser,r=n.parseFromString(t,"application/xml"),o=Er(r,"Worksheet"),i=[],l=[];if(o.length){const t=Er(o[0],"Table");if(t.length){const n=Er(t[0],"Row");n.length&&(a().arrayEach(Er(n[0],"Cell"),t=>{l.push(Ar(e,t.textContent||""))}),a().arrayEach(n,(e,t)=>{if(t){const t={},n=Er(e,"Cell");a().arrayEach(n,(e,n)=>{l[n]&&(t[l[n]]=e.textContent)}),i.push(t)}}))}}return{fields:l,rows:i}}function Pr(e){a().eachTree(e,e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes},{children:"children"})}const jr=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];fr.add("tableExportModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{computeTreeOpts:i,computePrintOpts:l,computeExportOpts:s,computeImportOpts:c,computeCustomOpts:u,computeSeqOpts:p,computeRadioOpts:f,computeCheckboxOpts:h,computeColumnOpts:m}=e.getComputeMaps(),b=e=>{const t=i.value,n=t.children||t.childrenField;return e[n]&&e[n].length},x=(t,n,r,o,i)=>{const a=p.value,l=a.seqMethod||o.seqMethod;return l?l({$table:e,row:n,rowIndex:e.getRowIndex(n),_rowIndex:e.getVTRowIndex(n),$rowIndex:r,column:o,columnIndex:e.getColumnIndex(o),_columnIndex:e.getVTColumnIndex(o),$columnIndex:i}):t};function y(t,n){const r=m.value,o=n.headerExportMethod||r.headerExportMethod;return o?o({column:n,options:t,$table:e}):(t.isTitle?n.getTitle():n.field)||""}const w=e=>a().isBoolean(e)?e?"TRUE":"FALSE":e,C=e=>v(e)?"":`${e}`,k=(n,r,o)=>{const{isAllExpand:l,mode:s}=n,{treeConfig:c}=t,u=f.value,d=h.value,p=i.value,g=m.value;if(mr||(mr=document.createElement("div")),c){const t=p.children||p.childrenField,i=[],c={},f={},{handleGetRowId:h}=He(e);return a().eachTree(o,(t,o,p,m,v,y)=>{const k=t._row||t,S=h(k);if(f[S])return;const T=v&&v._row?v._row:v,E=T?h(T):"";if(l||!T||c[E]&&e.isTreeExpandByRow(T)){const t=b(k),l={_row:k,_level:y.length-1,_hasChild:t,_expand:t&&e.isTreeExpandByRow(k)};r.forEach((t,r)=>{let i="";const c=t.editRender||t.cellRender;let p=t.exportMethod||g.exportMethod;if(!p&&c&&c.name){const e=hr.get(c.name);e&&(p=e.tableExportMethod||e.exportMethod)}if(p||(p=g.exportMethod),p)i=p({$table:e,row:k,column:t,options:n});else switch(t.type){case"seq":{const e=m.map((e,t)=>t%2===0?Number(e)+1:".").join("");i="all"===s?e:x(e,k,o,t,r);break}case"checkbox":i=w(e.isCheckedByCheckboxRow(k)),l._checkboxLabel=d.labelField?a().get(k,d.labelField):"",l._checkboxDisabled=d.checkMethod&&!d.checkMethod({$table:e,row:k});break;case"radio":i=w(e.isCheckedByRadioRow(k)),l._radioLabel=u.labelField?a().get(k,u.labelField):"",l._radioDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:k});break;default:if(n.original)i=nt(k,t);else if(i=e.getCellLabel(k,t),"html"===t.type)mr.innerHTML=i,i=mr.innerText.trim();else{const n=e.getCellElement(k,t);n&&!he(n,"is--progress")&&(i=n.innerText.trim())}}l[t.id]=C(i)}),f[S]=!0,E&&(c[E]=!0),i.push(Object.assign(l,k))}},{children:t}),i}return o.map((t,o)=>{const i={_row:t};return r.forEach((r,l)=>{let c="";const p=r.editRender||r.cellRender;let f=r.exportMethod||g.exportMethod;if(!f&&p&&p.name){const e=hr.get(p.name);e&&(f=e.tableExportMethod||e.exportMethod)}if(f)c=f({$table:e,row:t,column:r,options:n});else switch(r.type){case"seq":{const e=o+1;c="all"===s?e:x(e,t,o,r,l);break}case"checkbox":c=w(e.isCheckedByCheckboxRow(t)),i._checkboxLabel=d.labelField?a().get(t,d.labelField):"",i._checkboxDisabled=d.checkMethod&&!d.checkMethod({$table:e,row:t});break;case"radio":c=w(e.isCheckedByRadioRow(t)),i._radioLabel=u.labelField?a().get(t,u.labelField):"",i._radioDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:t});break;default:if(n.original)c=nt(t,r);else if(c=e.getCellLabel(t,r),"html"===r.type)mr.innerHTML=c,c=mr.innerText.trim();else{const n=e.getCellElement(t,r);n&&!he(n,"is--progress")&&(c=n.innerText.trim())}}i[r.id]=C(c)}),i})},S=t=>{const n=e.xeGrid,r=e.xeGantt,{columns:o,dataFilterMethod:i}=t;let a=t.data;return i&&(a=a.filter((t,o)=>i({$table:e,$grid:n,$gantt:r,row:t,$rowIndex:o}))),k(t,o,a)},T=(t,n,r)=>{const o=m.value,i=r.editRender||r.cellRender;let a=r.footerExportMethod;if(!a&&i&&i.name){const e=hr.get(i.name);e&&(a=e.tableFooterExportMethod||e.footerExportMethod)}if(a||(a=o.footerExportMethod),a){const o=e.getVTColumnIndex(r);return a({$table:e,items:n,itemIndex:o,row:n,_columnIndex:o,column:r,options:t})}const l=e.getFooterCellLabel(n,r);return l},E=(e,t,r,o)=>{let i=gr;if(t.isHeader&&(i+=r.map(e=>Tr(y(t,e))).join(",")+vr),o.forEach(e=>{i+=r.map(t=>Tr(Sr(t,e[t.id]))).join(",")+vr}),t.isFooter){const{footerTableData:o}=n,a=kr(e,t,o);a.forEach(e=>{i+=r.map(n=>Tr(T(t,e,n))).join(",")+vr})}return i},O=(e,t,r,o)=>{let i="";if(t.isHeader&&(i+=r.map(e=>Tr(y(t,e))).join("\t")+vr),o.forEach(e=>{i+=r.map(t=>Tr(e[t.id])).join("\t")+vr}),t.isFooter){const{footerTableData:o}=n,a=kr(e,t,o);a.forEach(e=>{i+=r.map(n=>Tr(T(t,e,n))).join("\t")+vr})}return i},D=(e,t,r)=>{const o=e[t],i=a().isUndefined(o)||a().isNull(o)?r:o,l="ellipsis"===i,s="title"===i,c=!0===i||"tooltip"===i;let u=s||c||l;const{scrollXLoad:d,scrollYLoad:p}=n;return!d&&!p||u||(u=!0),u},M=(o,l,s)=>{const{id:c,border:u,treeConfig:d,headerAlign:p,align:f,footerAlign:h,showOverflow:m,showHeaderOverflow:v}=t,{isAllSelected:b,isIndeterminate:x}=n,{mergeBodyCellMaps:w}=r,C=i.value,{print:k,isHeader:S,isFooter:E,isColgroup:O,isMerge:M,colgroups:A,original:I}=o,N="check-all",R=["vxe-table",`border--${wr(u)}`,k?"is--print":"",S?"is--header":""].filter(e=>e),F=[`<table class="${R.join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${l.map(e=>`<col style="width:${e.renderWidth}px">`).join("")}</colgroup>`];if(S&&(F.push("<thead>"),O&&!I?A.forEach(e=>{F.push(`<tr>${e.map(e=>{const t=e.headerAlign||e.align||p||f,n=D(e,"showHeaderOverflow",v)?["col--ellipsis"]:[],r=y(o,e);let i=0,l=0;a().eachTree([e],t=>{t.childNodes&&e.childNodes.length||l++,i+=t.renderWidth},{children:"childNodes"});const s=i-l;return t&&n.push(`col--${t}`),"checkbox"===e.type?`<th class="${n.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}"><div ${k?"":`style="width: ${s}px"`}><input type="checkbox" class="${N}" ${b?"checked":""}><span>${r}</span></div></th>`:`<th class="${n.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}" title="${r}"><div ${k?"":`style="width: ${s}px"`}><span>${g(r,!0)}</span></div></th>`}).join("")}</tr>`)}):F.push(`<tr>${l.map(e=>{const t=e.headerAlign||e.align||p||f,n=D(e,"showHeaderOverflow",v)?["col--ellipsis"]:[],r=y(o,e);return t&&n.push(`col--${t}`),"checkbox"===e.type?`<th class="${n.join(" ")}"><div ${k?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${N}" ${b?"checked":""}><span>${r}</span></div></th>`:`<th class="${n.join(" ")}" title="${r}"><div ${k?"":`style="width: ${e.renderWidth}px"`}><span>${g(r,!0)}</span></div></th>`}).join("")}</tr>`),F.push("</thead>")),s.length&&(F.push("<tbody>"),d?s.forEach(e=>{F.push("<tr>"+l.map(t=>{const n=t.id,r=t.align||f,o=D(t,"showOverflow",m)?["col--ellipsis"]:[],i=e[n];if(r&&o.push(`col--${r}`),t.treeNode){let n="";return e._hasChild&&(n=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),o.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*C.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${c}" ${e._radioDisabled?"disabled ":""}${Cr(i)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*C.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${Cr(i)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*C.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell">${i}</div></div></div></td>`}return"radio"===t.type?`<td class="${o.join(" ")}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${c}" ${e._radioDisabled?"disabled ":""}${Cr(i)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}"><div ${k?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${Cr(i)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${o.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}>${g(i,!0)}</div></td>`}).join("")+"</tr>")}):s.forEach(t=>{F.push("<tr>"+l.map(n=>{const r=n.align||f,o=D(n,"showOverflow",m)?["col--ellipsis"]:[],i=t[n.id];let a=1,l=1;if(M){const r=e.getVTRowIndex(t._row),o=e.getVTColumnIndex(n),i=w[`${r}:${o}`];if(i){const{rowspan:e,colspan:t}=i;if(!e||!t)return"";e>1&&(a=e),t>1&&(l=t)}}return r&&o.push(`col--${r}`),"radio"===n.type?`<td class="${o.join(" ")}" rowspan="${a}" colspan="${l}"><div ${k?"":`style="width: ${n.renderWidth}px"`}><input type="radio" name="radio_${c}" ${t._radioDisabled?"disabled ":""}${Cr(i)?"checked":""}><span>${t._radioLabel}</span></div></td>`:"checkbox"===n.type?`<td class="${o.join(" ")}" rowspan="${a}" colspan="${l}"><div ${k?"":`style="width: ${n.renderWidth}px"`}><input type="checkbox" ${t._checkboxDisabled?"disabled ":""}${Cr(i)?"checked":""}><span>${t._checkboxLabel}</span></div></td>`:`<td class="${o.join(" ")}" rowspan="${a}" colspan="${l}" title="${i}"><div ${k?"":`style="width: ${n.renderWidth}px"`}>${g(i,!0)}</div></td>`}).join("")+"</tr>")}),F.push("</tbody>")),E){const{footerTableData:t}=n,r=kr(e,o,t);r.length&&(F.push("<tfoot>"),r.forEach(e=>{F.push(`<tr>${l.map(t=>{const n=t.footerAlign||t.align||h||f,r=D(t,"showOverflow",m)?["col--ellipsis"]:[],i=T(o,e,t);return n&&r.push(`col--${n}`),`<td class="${r.join(" ")}" title="${i}"><div ${k?"":`style="width: ${t.renderWidth}px"`}>${g(i,!0)}</div></td>`}).join("")}</tr>`)}),F.push("</tfoot>"))}const _=!b&&x?`<script>(function(){var a=document.querySelector(".${N}");if(a){a.indeterminate=true}})()<\/script>`:"";return F.push("</table>",_),k?F.join(""):dr(o,F.join(""))},A=(t,r,o)=>{let i=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${t.sheetName}">`,"<Table>",r.map(e=>`<Column ss:Width="${e.renderWidth}"/>`).join("")].join("");if(t.isHeader&&(i+=`<Row>${r.map(e=>`<Cell><Data ss:Type="String">${y(t,e)}</Data></Cell>`).join("")}</Row>`),o.forEach(e=>{i+="<Row>"+r.map(t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`).join("")+"</Row>"}),t.isFooter){const{footerTableData:o}=n,a=kr(e,t,o);a.forEach(e=>{i+=`<Row>${r.map(n=>`<Cell><Data ss:Type="String">${T(t,e,n)}</Data></Cell>`).join("")}</Row>`})}return`${i}</Table></Worksheet></Workbook>`},I=(e,t,n,r)=>{if(n.length)switch(t.type){case"csv":return E(e,t,n,r);case"txt":return O(e,t,n,r);case"html":return M(t,n,r);case"xml":return A(t,n,r)}return""},N=(e,t)=>{const{filename:n,type:r,download:i}=e;if(!i){const n=ur(t,e);return Promise.resolve({type:r,content:t,blob:n})}o.OE.saveFile&&o.OE.saveFile({filename:n,type:r,content:t}).then(()=>{!1!==e.message&&o.OE.modal&&o.OE.modal.message({content:pr("vxe.table.expSuccess"),status:"success"})})},R=t=>{const n=e.xeGrid,r=e.xeGantt,{remote:o,columns:i,colgroups:a,exportMethod:l,afterExportMethod:s}=t;return new Promise(s=>{if(o){const o={options:t,$table:e,$grid:n,$gantt:r};s(l?l(o):o)}else{const n=S(t);s(e.preventEvent(null,"event.export",{options:t,columns:i,colgroups:a,datas:n},()=>N(t,I(e,t,i,n))))}}).then(o=>(Pr(i),t.print||s&&s({status:!0,options:t,$table:e,$grid:n,$gantt:r}),Object.assign({status:!0},o))).catch(()=>{Pr(i),t.print||s&&s({status:!1,options:t,$table:e,$grid:n,$gantt:r});const o={status:!1};return Promise.reject(o)})},F=(t,n)=>{const{tableFullColumn:i,_importResolve:a,_importReject:l}=r;let s={fields:[],rows:[]};const c={},u={};i.forEach(e=>{const t=e.field,n=e.getTitle();t&&(c[t]=e),n&&(u[e.getTitle()]=e)});const d={fieldMaps:c,titleMaps:u};switch(n.type){case"csv":s=Nr(d,t);break;case"txt":s=Rr(d,t);break;case"html":s=Fr(d,t);break;case"xml":s=_r(d,t);break}const{fields:p,rows:f}=s,h=p.some(e=>c[e]||u[e]);h?e.createData(f).then(t=>{let r;return r="insert"===n.mode||"insertBottom"===n.mode?e.insertAt(t,-1):"insertTop"===n.mode?e.insert(t):e.reloadData(t),!1!==n.message&&o.OE.modal&&o.OE.modal.message({content:pr("vxe.table.impSuccess",[f.length]),status:"success"}),r.then(()=>{a&&a({status:!0})})}):!1!==n.message&&(o.OE.modal&&o.OE.modal.message({content:pr("vxe.error.impFields"),status:"error"}),l&&l({status:!1}))},_=(t,n)=>{const{importMethod:i,afterImportMethod:l}=n,{type:s,filename:u}=d(t),p=c.value;if(!i&&!a().includes(a().keys(p._typeMaps),s)){!1!==n.message&&o.OE.modal&&o.OE.modal.message({content:pr("vxe.error.notType",[s]),status:"error"});const e={status:!1};return Promise.reject(e)}const f=new Promise((o,a)=>{const l=e=>{o(e),r._importResolve=null,r._importReject=null},c=e=>{a(e),r._importResolve=null,r._importReject=null};if(r._importResolve=l,r._importReject=c,window.FileReader){const o=Object.assign({mode:"insertTop"},n,{type:s,filename:u});if(o.remote)i?Promise.resolve(i({file:t,options:o,$table:e})).then(()=>{l({status:!0})}).catch(()=>{l({status:!0})}):l({status:!0});else{const{tableFullColumn:n}=r;e.preventEvent(null,"event.import",{file:t,options:o,columns:n},()=>{const e=new FileReader;e.onerror=()=>{te("vxe.error.notType",[s]),c({status:!1})},e.onload=e=>{F(e.target.result,o)},e.readAsText(t,o.encoding||"UTF-8")})}}else te("vxe.error.notExp"),l({status:!0})});return f.then(()=>{l&&l({status:!0,options:n,$table:e})}).catch(t=>(l&&l({status:!1,options:n,$table:e}),Promise.reject(t)))},P=(e,t,n)=>n.some(e=>{if(lt(e))return t.id===e.id;if(a().isString(e))return t.field===e;{const n=e.id||e.colId,r=e.type,o=e.field;if(n)return t.id===n;if(o&&r)return t.field===o&&t.type===r;if(o)return t.field===o;if(r)return t.type===r}return!1}),j=(e,t,n,r)=>(!r||!a().includes(r,t.field))&&(n?!!a().includes(n,t.field):e.original?!!t.field:br(t)),$=(o,i)=>{const l=e.xeGrid,c=e.xeGantt,d=l||c,{treeConfig:p,showHeader:f,showFooter:h}=t,{initStore:m,isGroup:g,footerTableData:v,exportStore:b,exportParams:x}=n,{collectColumn:y,mergeBodyList:w,mergeFooterList:C}=r,k=s.value,S=p,T=u.value,E=e.getCheckboxRecords(),O=d?d.getComputeMaps().computeProxyOpts.value:{},D=!!v.length,M=!(!w.length&&!C.length),A=Object.assign({message:!0,isHeader:f,isTitle:f,isFooter:h,isColgroup:g,isMerge:M,useStyle:!0,current:"current",modes:(O.ajax&&O.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},o),I=A.types||a().keys(k._typeMaps),N=A.modes||[],R=T.checkMethod,F=y.slice(0),{columns:_,excludeFields:$,includeFields:L}=A,z=I.map(e=>({value:e,label:pr(`vxe.export.types.${e}`)})),V=N.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:pr(`vxe.export.modes.${e}`)});a().eachTree(F,(t,n,r,o,i)=>{const a=t.children&&t.children.length>0;let l=!1;l=_&&_.length?P(A,t,_):$||L?j(A,t,L,$):t.visible&&(a||br(t)),t.checked=l,t.halfChecked=!1,t.disabled=i&&i.disabled||!!R&&!R({$table:e,column:t})}),Object.assign(b,{columns:F,typeList:z,modeList:V,hasFooter:D,hasMerge:M,hasTree:S,isPrint:i,hasColgroup:g,visible:!0}),Object.assign(x,{mode:E.length?"selected":"current"},A);const{filename:B,sheetName:H,mode:W,type:q}=x;return B&&(a().isFunction(B)?x.filename=B({options:A,$table:e,$grid:l,$gantt:c}):x.filename=`${B}`),H&&(a().isFunction(H)?x.sheetName=H({options:A,$table:e,$grid:l,$gantt:c}):x.sheetName=`${H}`),V.some(e=>e.value===W)||(x.mode=V[0].value),z.some(e=>e.value===q)||(x.type=z[0].value),m.export=!0,(0,X.nextTick)()},L=()=>o.OE.modal?o.OE.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),z={exportData(o){const l=e.xeGrid,c=e.xeGantt,u=l||c,{treeConfig:d,showHeader:p,showFooter:f}=t,{isGroup:h}=n,{tableFullColumn:m,afterFullData:g,afterTreeFullData:v,collectColumn:b,mergeBodyList:x,mergeFooterList:y}=r,w=s.value,C=i.value,k=u?u.getComputeMaps().computeProxyOpts.value:{},S=!(!x.length&&!y.length),T=Object.assign({message:!0,isHeader:p,isTitle:p,isFooter:f,isColgroup:h,isMerge:S,useStyle:!0,current:"current",modes:(k.ajax&&k.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},w,o);let{filename:E,sheetName:O,type:D,mode:M,columns:A,original:I,columnFilterMethod:N,beforeExportMethod:F,includeFields:_,excludeFields:$}=T,L=[];const z=e.getCheckboxRecords();M||(M=z.length?"selected":"current");let V=!1,B=[];A&&A.length?(V=!0,B=A):B=a().searchTree(b,e=>{const t=e.children&&e.children.length>0;let n=!1;return n=A&&A.length?P(T,e,A):$||_?j(T,e,_,$):e.visible&&(t||br(e)),n},{children:"children",mapChildren:"childNodes",original:!0});const H=Object.assign({},T,{filename:"",sheetName:""});V||N||(N=({column:e})=>(!$||!a().includes($,e.field))&&(_?!!a().includes(_,e.field):I?!!e.field:br(e)),H.columnFilterMethod=N),B?(H._isCustomColumn=!0,L=a().searchTree(a().mapTree(B,t=>{let n;if(t){if(lt(t))n=t;else if(a().isString(t))n=e.getColumnByField(t);else{const r=t.id||t.colId,o=t.type,i=t.field;r?n=e.getColumnById(r):i&&o?n=m.find(e=>e.field===i&&e.type===o):i?n=e.getColumnByField(i):o&&(n=m.find(e=>e.type===o))}return n||{}}},{children:"childNodes",mapChildren:"_children"}),(t,n)=>lt(t)&&(!N||N({$table:e,$grid:l,$gantt:c,column:t,$columnIndex:n})),{children:"_children",mapChildren:"childNodes",original:!0})):L=a().searchTree(h?b:m,(t,n)=>t.visible&&(!N||N({$table:e,$grid:l,$gantt:c,column:t,$columnIndex:n})),{children:"children",mapChildren:"childNodes",original:!0});const W=[];if(a().eachTree(L,e=>{const t=e.children&&e.children.length;t||W.push(e)},{children:"childNodes"}),H.columns=W,H.colgroups=yr(L),E&&(a().isFunction(E)?H.filename=E({options:T,$table:e,$grid:l,$gantt:c}):H.filename=`${E}`),H.filename||(H.filename=pr(H.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[a().toDateString(Date.now(),"yyyyMMddHHmmss")])),O&&(a().isFunction(O)?H.sheetName=O({options:T,$table:e,$grid:l,$gantt:c}):H.sheetName=`${O}`),H.sheetName||(H.sheetName=document.title||""),!H.exportMethod&&!a().includes(a().keys(w._typeMaps),D)){te("vxe.error.notType",[D]),["xlsx","pdf"].includes(D)&&ee("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const e={status:!1};return Promise.reject(e)}if(H.print||F&&F({options:H,$table:e,$grid:l,$gantt:c}),H.data)H._isCustomData=!0;else{if(H.data=[],"selected"===M)["html","pdf"].indexOf(D)>-1&&d?H.data=a().searchTree(e.getTableData().fullData,t=>e.findRowIndexOf(z,t)>-1,Object.assign({},C,{data:"_row"})):H.data=z;else if("all"===M&&(u||te("vxe.error.errProp",["all","mode=current,selected"]),u&&!H.remote)){const t=u.reactData,{computeProxyOpts:n}=u.getComputeMaps(),r=n.value,{sortData:o}=t,{beforeQueryAll:i,afterQueryAll:s,ajax:d={}}=r,p=r.response||r.props||{},f=d.queryAll,h=d.queryAllSuccess,m=d.queryAllError;if(f||te("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),f){const n={$table:e,$grid:l,$gantt:c,sort:o.length?o[0]:{},sorts:o,filters:t.filterData,form:t.formData,options:H};return Promise.resolve((i||f)(n)).then(t=>{const r=p.list;let o=[];return r?o=a().isFunction(r)?r({data:t,$table:e,$grid:l,$gantt:c}):a().isArray(t)?t:a().get(t,r):a().isArray(t)&&(o=t),H.data=o,s&&s(n),h&&h(Object.assign(Object.assign({},n),{response:t})),R(H)}).catch(e=>{m&&m(Object.assign(Object.assign({},n),{response:e}))})}}"current"===M&&(H.data=d?v:g)}return R(H)},importByFile(t,n){const r=Object.assign({},n),{beforeImportMethod:o}=r;return o&&o({options:r,$table:e}),_(t,r)},importData(t){const n=c.value,r=Object.assign({types:a().keys(n._typeMaps)},n,t),{beforeImportMethod:i,afterImportMethod:l}=r;return i&&i({options:r,$table:e}),o.OE.readFile(r).catch(t=>(l&&l({status:!1,options:r,$table:e}),Promise.reject(t))).then(e=>{const{file:t}=e;return _(t,r)})},saveFile(e){return o.OE.saveFile(e)},readFile(e){return o.OE.readFile(e)},print(t){const n=e.xeGrid,r=e.xeGantt,i=l.value,s=Object.assign({original:!1},i,t,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:c}=s;let u="";c&&(u=a().isFunction(c)?c({options:s,$table:e,$grid:n,$gantt:r}):`${c}`),u||(u=document.title||"");const d=s.beforePrintMethod,p=s.html||s.content;return new Promise((t,i)=>{if(o.OE.print)t(p?o.OE.print({title:u,html:p,customStyle:s.style,beforeMethod:d?({html:t})=>d({html:t,content:t,options:s,$table:e,$grid:n,$gantt:r}):void 0}):z.exportData(s).then(({content:t})=>o.OE.print({title:u,html:t,customStyle:s.style,beforeMethod:d?({html:t})=>d({html:t,content:t,options:s,$table:e,$grid:n,$gantt:r}):void 0})));else{const e={status:!1};i(e)}})},getPrintHtml(t){const n=l.value,r=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(r).then(({content:e})=>({html:e}))},closeImport(){return o.OE.modal?o.OE.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(e){const{treeConfig:r,importConfig:i}=t,{initStore:l,importStore:s,importParams:u}=n,d=c.value,p=Object.assign({mode:"insertTop",message:!0,types:a().keys(d._typeMaps),modes:["insertTop","covering"]},d,e),f=p.types||[],h=p.modes||[],m=!!r;if(m)return void(p.message&&o.OE.modal&&o.OE.modal.message({content:pr("vxe.error.treeNotImp"),status:"error"}));i||te("vxe.error.reqProp",["import-config"]);const g=f.map(e=>({value:e,label:pr(`vxe.export.types.${e}`)})),v=h.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:pr(`vxe.import.modes.${e}`)});Object.assign(s,{file:null,type:"",filename:"",modeList:v,typeList:g,visible:!0}),Object.assign(u,p),v.some(e=>e.value===u.mode)||(u.mode=v[0].value),l.import=!0},closeExport:L,openExport(e){const n=s.value,r=Object.assign({message:!0,types:a().keys(n._typeMaps)},n,e);return t.exportConfig||te("vxe.error.reqProp",["export-config"]),$(r)},closePrint:L,openPrint(e){const n=l.value,r=Object.assign({message:!0},n,e);return t.printConfig||te("vxe.error.reqProp",["print-config"]),$(r,!0)}};return z},setupGrid(e){return e.extendTableMethods(jr)},setupGantt(e){return e.extendTableMethods(jr)}});const{hooks:$r}=o.OE;$r.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{refElem:o}=e.getRefMaps(),{computeEditOpts:i,computeCheckboxOpts:l,computeMouseOpts:s,computeTreeOpts:c,computeRowOpts:u,computeColumnOpts:d,computeCellOpts:p,computeDefaultRowHeight:f,computeCurrentRowOpts:h,computeCurrentColumnOpts:m}=e.getComputeMaps();function g(o,i,a,l,s,c){const{showOverflow:d}=t,{fullAllDataRowIdData:h,isResizeCellHeight:m}=r,g=u.value,v=p.value,b=f.value,{row:x}=i;let y=0,w=[],C=0;const k=c>0,{scrollYLoad:S}=n,{afterFullData:T}=r;if(C=k?s+c:l.height-s+Math.abs(c),S){const t=e.getVTRowIndex(x),n=m||v.height||g.height;if(!n&&d)w=k?T.slice(t,t+Math.ceil(C/b)):T.slice(t-Math.floor(C/b),t+1);else if(k)for(let r=t;r<T.length;r++){const t=T[r],n=e.getRowid(t),o=h[n]||{};if(y+=o.resizeHeight||v.height||g.height||o.height||b,w.push(t),y>C)return w}else for(let r=t;r>=0;r--){const t=T[r],n=e.getRowid(t),o=h[n]||{};if(y+=o.resizeHeight||v.height||g.height||o.height||b,w.push(t),y>C)return w}}else{const t=k?"next":"previous";while(a&&y<C){const n=e.getRowNode(a);n&&(w.push(n.item),y+=a.offsetHeight,a=a[`${t}ElementSibling`])}}return w}const v=(t,n)=>{const{elemStore:i}=r,a=ot(i["main-body-scroll"]),l=ot(i["left-body-scroll"]),s=ot(i["right-body-scroll"]),{column:c,cell:u}=n;if("checkbox"===c.type){let r=a;if(l&&"left"===c.fixed?r=l:s&&"right"===c.fixed&&(r=s),!r)return;const i=r.getBoundingClientRect(),d=o.value,p=t.clientX,f=t.clientY,h=r.querySelector(".vxe-table--checkbox-range"),m=u.parentElement,v=e.getCheckboxRecords();let b=[];const x=1,y=t.clientY-i.y+r.scrollTop,w=t.clientX-i.x+r.scrollLeft,C=r.scrollTop,k=m.offsetHeight,S=m.getBoundingClientRect(),T=f-S.y;let E=null,O=!1,D=1;const M=(t,n)=>{e.dispatchEvent(`checkbox-range-${t}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},n)},A=t=>{const{clientX:o,clientY:i}=t,a=o-p,l=i-f+(r.scrollTop-C);let s=Math.abs(l),c=Math.abs(a),u=y,d=w;l<x?(u+=l,u<x&&(u=x,s=y)):s=Math.min(s,r.scrollHeight-y-x),a<x?(d+=a,c>w&&(d=x,c=w)):c=Math.min(c,r.clientWidth-w-x),h.style.height=`${s}px`,h.style.width=`${c}px`,h.style.left=`${d}px`,h.style.top=`${u}px`,h.style.display="block";const k=g(t,n,m,S,T,l<x?-s:s);if(s>10&&k.length!==b.length){const n=ve(t);b=k,n?k.forEach(t=>{e.handleBatchSelectRows([t],-1===v.indexOf(t))}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(k,!0,!1)),M("change",t)}},I=()=>{clearTimeout(E),E=null},N=t=>{I(),E=setTimeout(()=>{if(E){const{scrollLeft:n,scrollTop:o,clientHeight:i,scrollHeight:a}=r,l=Math.ceil(50*D/k);O?o+i<a?(e.scrollTo(n,o+l),N(t),A(t)):I():o?(e.scrollTo(n,o-l),N(t),A(t)):I()}},50)};ge(d,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:n}=De(r);t<n?(O=!1,D=n-t,E||N(e)):t>n+r.clientHeight?(O=!0,D=t-n-r.clientHeight,E||N(e)):E&&I(),A(e)},document.onmouseup=e=>{I(),me(d,"drag--range"),h.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,M("end",e)},M("start",t)}},b=(n,r)=>{const{editConfig:o,checkboxConfig:a,mouseConfig:c}=t,u=l.value,d=s.value,p=i.value;if(c&&d.area&&e.triggerCellAreaModnEvent)return e.triggerCellAreaModnEvent(n,r);a&&u.range&&v(n,r),c&&d.selected&&(o&&"cell"!==p.mode||e.handleSelected(r,n))},x=(t,n,o,i,a,l)=>{const{afterFullData:s,visibleColumn:c}=r,u=Object.assign({},n),d=e.getVTRowIndex(u.row),p=e.getVTColumnIndex(u.column);return t.preventDefault(),i&&d>0?(u.rowIndex=d-1,u.row=s[u.rowIndex]):l&&d<s.length-1?(u.rowIndex=d+1,u.row=s[u.rowIndex]):o&&p?(u.columnIndex=p-1,u.column=c[u.columnIndex]):a&&p<c.length-1&&(u.columnIndex=p+1,u.column=c[u.columnIndex]),e.scrollToRow(u.row,u.column).then(()=>{u.cell=e.getCellElement(u.row,u.column),e.handleSelected(u,t)}),u},y={moveTabSelected(n,o,a){const{editConfig:l}=t,{afterFullData:s,visibleColumn:c}=r,p=i.value,f=u.value,g=h.value,v=d.value,b=m.value;let x,y,w;const C=Object.assign({},n),k=e.getVTRowIndex(C.row),S=e.getVTColumnIndex(C.column);a.preventDefault(),o?S<=0?k>0&&(y=k-1,x=s[y],w=c.length-1):w=S-1:S>=c.length-1?k<s.length-1&&(y=k+1,x=s[y],w=0):w=S+1;const T=c[w];T&&(x?(C.rowIndex=y,C.row=x):C.rowIndex=k,C.columnIndex=w,C.column=T,C.cell=e.getCellElement(C.row,C.column),f.isCurrent&&g.isFollowSelected&&e.triggerCurrentRowEvent(a,C),v.isCurrent&&b.isFollowSelected&&e.triggerCurrentColumnEvent(a,C),l?"click"!==p.trigger&&"dblclick"!==p.trigger||("row"===p.mode?e.handleEdit(C,a):e.scrollToRow(C.row,C.column).then(()=>{e.handleSelected(C,a)})):e.scrollToRow(C.row,C.column).then(()=>{e.handleSelected(C,a)}))},moveCurrentRow(o,i,l){const{treeConfig:s}=t,{currentRow:u}=n,{afterFullData:d}=r,p=c.value,f=p.children||p.childrenField;let h;if(u)if(s){const{index:e,items:t}=a().findTree(d,e=>e===u,{children:f});o&&e>0?h=t[e-1]:i&&e<t.length-1&&(h=t[e+1])}else{const t=e.getVTRowIndex(u);o&&t>0?h=d[t-1]:i&&t<d.length-1&&(h=d[t+1])}else h=d[0];if(h){l.preventDefault();const t={$table:e,row:h,rowIndex:e.getRowIndex(h),$rowIndex:e.getVMRowIndex(h)};e.scrollToRow(h).then(()=>e.triggerCurrentRowEvent(l,t))}},moveCurrentColumn(t,o,i){const{currentColumn:a}=n,{visibleColumn:l}=r;let s=null;if(a){const n=e.getVTColumnIndex(a);t&&n>0?s=l[n-1]:o&&n<l.length-1&&(s=l[n+1])}else s=l[0];if(s){i.preventDefault();const t={$table:e,column:s,columnIndex:e.getColumnIndex(s),$columnIndex:e.getVMColumnIndex(s)};e.scrollToColumn(s).then(()=>e.triggerCurrentColumnEvent(i,t))}},moveArrowSelected(n,r,o,i,a,l){const{highlightCurrentRow:s,highlightCurrentColumn:c}=t,p=u.value,f=h.value,g=d.value,v=m.value,b=x(l,n,r,o,i,a);(p.isCurrent||s)&&(f.isFollowSelected?e.triggerCurrentRowEvent(l,b):(o||a)&&(p.isCurrent||s)&&e.moveCurrentRow(o,a,l)),(g.isCurrent||c)&&(v.isFollowSelected?e.triggerCurrentColumnEvent(l,b):(r||i)&&(g.isCurrent||c)&&e.moveCurrentColumn(r,i,l))},moveEnterSelected(n,r,o,i,a,l){const{highlightCurrentRow:s,highlightCurrentColumn:c}=t,p=u.value,f=h.value,g=d.value,v=m.value,b=x(l,n,r,o,i,a);(p.isCurrent||s)&&f.isFollowSelected&&e.triggerCurrentRowEvent(l,b),(g.isCurrent||c)&&v.isFollowSelected&&e.triggerCurrentColumnEvent(l,b)},moveSelected(e,t,n,r,o,i){x(i,e,t,n,r,o)},handleCellMousedownEvent:b};return y}});const{getConfig:Lr,validators:zr,hooks:Vr}=o.OE;class Br{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return m(this.$options.content||this.$options.message)}get message(){return this.content}}function Hr(e,t){return!(e&&!(a().isRegExp(e)?e:new RegExp(e)).test(t))}function Wr(e,t){return!(!a().eqNull(e)&&t>a().toNumber(e))}function qr(e,t){return!(!a().eqNull(e)&&t<a().toNumber(e))}function Ur(e,t,n){const{type:r,min:o,max:i,pattern:l}=e,s="array"===r,c="number"===r,u="string"===r,d=`${t}`;if(!Hr(l,d))return!1;if(s){if(!a().isArray(t))return!1;if(n&&!t.length)return!1;if(!qr(o,t.length))return!1;if(!Wr(i,t.length))return!1}else if(c){const e=Number(t);if(isNaN(e))return!1;if(!qr(o,e))return!1;if(!Wr(i,e))return!1}else{if(u&&!a().isString(t))return!1;if(n&&!d)return!1;if(!qr(o,d.length))return!1;if(!Wr(i,d.length))return!1}return!0}function Gr(e,t){const{required:n}=e,r=a().isArray(t)?!t.length:v(t);if(n){if(r)return!1;if(!Ur(e,t,n))return!1}else if(!r&&!Ur(e,t,n))return!1;return!0}const Yr=["fullValidate","validate","fullValidateField","validateField","clearValidate"];Vr.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:n,internalData:r}=e,{refValidTooltip:o}=e.getRefMaps(),{computeValidOpts:i,computeTreeOpts:l,computeEditOpts:s,computeAggregateOpts:c}=e.getComputeMaps();let u,d={},p={};const f=t=>new Promise(n=>{const r=i.value;!1===r.autoPos?(e.dispatchEvent("valid-error",t,null),n()):e.handleEdit(t,{type:"valid-error",trigger:"call"}).then(()=>{n(p.showValidTooltip(t))})}),h=e=>{const t=i.value;if("single"===t.msgMode){const t=Object.keys(e),n={};if(t.length){const r=t[0];n[r]=e[r]}return n}return e},m=(o,s,m,g)=>{const v={},{editRules:b,treeConfig:x}=t,{isRowGroupStatus:y}=n,{afterFullData:w,pendingRowMaps:C,removeRowMaps:k}=r,S=l.value,T=c.value,E=i.value;let O;!0===o?O=w:o&&(a().isFunction(o)?m=o:O=a().isArray(o)?o:[o]),O||(O=e.getInsertRecords?e.getInsertRecords().concat(e.getUpdateRecords()):[]);const D=[];r._lastCallTime=Date.now(),u=!1,d.clearValidate();const M={};if(b){const t=s&&s.length?s:e.getColumns(),r=n=>{const r=Ve(e,n);if(!k[r]&&!C[r]&&!e.isAggregateRecord(n)&&(g||!u)){const r=[];t.forEach(t=>{const o=a().isString(t)?t:t.field;!g&&u||!a().has(b,o)||r.push(p.validCellRules("all",n,t).catch(({rule:r,rules:i})=>{const a={rule:r,rules:i,rowIndex:e.getRowIndex(n),row:n,columnIndex:e.getColumnIndex(t),column:t,field:o,$table:e};if(v[o]||(v[o]=[]),M[`${Ve(e,n)}:${t.id}`]={column:t,row:n,rule:r,content:r.content},v[o].push(a),!g)return u=!0,Promise.reject(a)}))}),D.push(Promise.all(r))}};if(y)a().eachTree(O,r,{children:T.mapChildrenField});else if(x){const e=S.children||S.childrenField;a().eachTree(O,r,{children:e})}else O.forEach(r);return Promise.all(D).then(()=>{const e=Object.keys(v);return n.validErrorMaps=h(M),(0,X.nextTick)().then(()=>{if(e.length)return Promise.reject(v[e[0]][0]);m&&m()})}).catch(t=>new Promise((n,r)=>{const o=()=>{(0,X.nextTick)(()=>{m?(m(v),n()):"obsolete"===Lr().validToReject?r(v):n(v)})},i=()=>{t.cell=e.getCellElement(t.row,t.column),Ie(t.cell),f(t).then(o)};if(!1===E.autoPos)o();else{const n=t.row,r=t.column;e.scrollToRow(n,r).then(i)}}))}return n.validErrorMaps={},(0,X.nextTick)().then(()=>{m&&m()})};return d={fullValidate(e,t){return a().isFunction(t)&&ee("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),m(e,null,t,!0)},validate(e,t){return m(e,null,t)},fullValidateField(t,n){const r=(a().isArray(n)?n:n?[n]:[]).map(t=>Ke(e,t));return r.length?m(t,r,null,!0):(0,X.nextTick)()},validateField(t,n){const r=(a().isArray(n)?n:n?[n]:[]).map(t=>Ke(e,t));return r.length?m(t,r,null):(0,X.nextTick)()},clearValidate(t,r){const{validErrorMaps:l}=n,s=o.value,c=i.value,u=a().isArray(t)?t:t?[t]:[],d=(a().isArray(r)?r:r?[r]:[]).map(t=>Ke(e,t));let p={};if(s&&s.reactData.visible&&s.close(),"single"===c.msgMode)return n.validErrorMaps={},(0,X.nextTick)();if(u.length&&d.length)p=Object.assign({},l),u.forEach(t=>{d.forEach(n=>{const r=`${Ve(e,t)}:${n.id}`;p[r]&&delete p[r]})});else if(u.length){const t=u.map(t=>`${Ve(e,t)}`);a().each(l,(e,n)=>{t.indexOf(n.split(":")[0])>-1&&(p[n]=e)})}else if(d.length){const e=d.map(e=>`${e.id}`);a().each(l,(t,n)=>{e.indexOf(n.split(":")[1])>-1&&(p[n]=t)})}return n.validErrorMaps=p,(0,X.nextTick)()}},p={validCellRules(n,r,o,i){const l=e.xeGrid,s=e.xeGantt,{editRules:c}=t,{field:d}=o,p=[],f=[];if(d&&c){const t=a().get(c,d);if(t){const c=a().isUndefined(i)?a().get(r,d):i;t.forEach(i=>{const{trigger:d,validator:h}=i;if("all"===n||!d||n===d)if(h){const n={cellValue:c,rule:i,rules:t,row:r,rowIndex:e.getRowIndex(r),column:o,columnIndex:e.getColumnIndex(o),field:o.field,$table:e,$grid:l,$gantt:s};let m;if(a().isString(h)){const e=zr.get(h);if(e){const t=e.tableCellValidatorMethod||e.cellValidatorMethod;t?m=t(n):te("vxe.error.notValidators",[h])}else te("vxe.error.notValidators",[h])}else m=h(n);m&&(a().isError(m)?(u=!0,p.push(new Br({type:"custom",trigger:d,content:m.message,rule:new Br(i)}))):m.catch&&f.push(m.catch(e=>{u=!0,p.push(new Br({type:"custom",trigger:d,content:e&&e.message?e.message:i.content||i.message,rule:new Br(i)}))})))}else Gr(i,c)||(u=!0,p.push(new Br(i)))})}}return Promise.all(f).then(()=>{if(p.length){const e={rules:p,rule:p[0]};return Promise.reject(e)}})},hasCellRules(e,n,r){const{editRules:o}=t,{field:i}=r;if(i&&o){const t=a().get(o,i);return t&&!!a().find(t,t=>"all"===e||!t.trigger||e===t.trigger)}return!1},triggerValidate(e){const{editConfig:r,editRules:o}=t,{editStore:a}=n,{actived:l}=a,c=s.value,u=i.value;if(o&&"single"===u.msgMode&&(n.validErrorMaps={}),r&&o&&l.row){const{row:t,column:n,cell:r}=l.args;if(p.hasCellRules(e,t,n))return p.validCellRules(e,t,n).then(()=>{"row"===c.mode&&d.clearValidate(t,n)}).catch(({rule:o})=>{if(!o.trigger||e===o.trigger){const e={rule:o,row:t,column:n,cell:r};return p.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(r){const{height:a}=t,{tableData:l,validStore:s,validErrorMaps:c}=n,{rule:u,row:d,column:p,cell:f}=r,h=i.value,m=o.value,g=u.content;return s.visible=!0,"single"===h.msgMode?n.validErrorMaps={[`${Ve(e,d)}:${p.id}`]:{column:p,row:d,rule:u,content:g}}:n.validErrorMaps=Object.assign({},c,{[`${Ve(e,d)}:${p.id}`]:{column:p,row:d,rule:u,content:g}}),e.dispatchEvent("valid-error",r,null),m&&m&&("tooltip"===h.message||"default"===h.message&&!a&&l.length<2)?m.open(f,g):(0,X.nextTick)()}},Object.assign(Object.assign({},d),p)},setupGrid(e){return e.extendTableMethods(Yr)},setupGantt(e){return e.extendTableMethods(Yr)}});const Kr=["openCustom","closeCustom","getCustomVisible","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];o.OE.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:n}=e,{computeCustomOpts:r,computeRowGroupFields:o}=e.getComputeMaps(),{refElem:i}=e.getRefMaps(),l=e.xeGantt,s=()=>{const{customStore:e}=t;let n=i.value,r=0;if(l){const{refGanttContainerElem:e}=l.getRefMaps(),t=e.value;t&&(n=t)}n&&(r=n.clientHeight-28),e.maxHeight=Math.max(88,r)},c=()=>{const{initStore:e,customStore:n}=t;return n.visible=!0,e.custom=!0,u(),v(),s(),(0,X.nextTick)().then(()=>s())},u=()=>{const{customStore:e}=t,{collectColumn:r}=n;if(e.visible){const n={},o={},i={};a().eachTree(r,e=>{const t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,n[t]=e.renderSortNumber,o[t]=e.fixed,i[t]=e.visible}),e.oldSortMaps=n,e.oldFixedMaps=o,e.oldVisibleMaps=i,t.customColumnList=r.slice(0)}},d=()=>{const{customStore:n}=t,o=r.value;return n.visible&&(n.visible=!1,o.immediate||e.handleCustom()),(0,X.nextTick)()},p=()=>{const{customStore:e}=t;return e.visible?d():c()},f=()=>{const{customColumnList:o,aggHandleFields:i,rowGroupList:l}=t,s=r.value,{allowVisible:c,allowSort:u,allowFixed:d,allowResizable:p,allowGroup:f,allowValues:h}=s;return a().eachTree(o,(e,t,n,r,o)=>{if(o)e.fixed=o.fixed;else{if(u){const n=t+1;e.renderSortNumber=n}d&&(e.fixed=e.renderFixed)}p&&(!e.renderVisible||e.children&&e.children.length||e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth)),c&&(e.visible=e.renderVisible),f&&h&&(e.aggFunc=e.renderAggFn)}),t.isCustomStatus=!0,f&&e.handlePivotTableAggregateData&&(l.length!==i.length||l.some((e,t)=>e.field!==i[t])?i.length?e.setRowGroups(i):e.clearRowGroups():h&&e.handleUpdateAggData()),u&&(n.collectColumn=o),e.saveCustomStore("confirm")},h=()=>{const{customColumnList:e,customStore:n}=t,{oldSortMaps:o,oldFixedMaps:i,oldVisibleMaps:l}=n,s=r.value,{allowVisible:c,allowSort:u,allowFixed:d,allowResizable:p}=s;return a().eachTree(e,e=>{const t=e.getKey(),n=!!l[t],r=i[t]||"";c&&(e.renderVisible=n,e.visible=n),d&&(e.renderFixed=r,e.fixed=r),u&&(e.renderSortNumber=o[t]||0),p&&(e.renderResizeWidth=e.renderWidth)},{children:"children"}),(0,X.nextTick)()},m=n=>{const{customStore:o}=t,{customColumnList:i}=t,l=r.value,{checkMethod:s,visibleMethod:c}=l,u=!!n;return l.immediate?(a().eachTree(i,t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.visible=u,t.renderVisible=u,t.halfVisible=!1)}),o.isAll=u,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(a().eachTree(i,t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.renderVisible=u,t.halfVisible=!1)}),o.isAll=u),e.checkCustomStatus(),(0,X.nextTick)()},g={getCustomVisible(){const{customStore:e}=t;return e.visible},openCustom:c,closeCustom:d,toggleCustom:p,saveCustom:f,cancelCustom:h,resetCustom(i){const{rowGroupList:l}=t,{collectColumn:s}=n,c=r.value,{checkMethod:u}=c,d=Object.assign({visible:!0,resizable:!0===i,fixed:!0===i,sort:!0===i,aggFunc:!0===i},i),p=[];if(a().eachTree(s,t=>{d.resizable&&(t.resizeWidth=0),d.fixed&&(t.fixed=t.defaultFixed),d.sort&&(t.renderSortNumber=t.sortNumber,t.parentId=t.defaultParentId),u&&!u({$table:e,column:t})||(t.visible=t.defaultVisible),d.aggFunc&&(t.aggFunc=t.defaultAggFunc,t.renderAggFn=t.defaultAggFunc),t.renderResizeWidth=t.renderWidth,p.push(t)}),d.sort){const e=a().toArrayTree(a().orderBy(p,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});n.collectColumn=e,n.tableFullColumn=st(e)}return t.isCustomStatus=!1,e.handleCustom().then(()=>{if(d.aggFunc&&e.handlePivotTableAggregateData){const t=o.value;(t?t.length:l.length)?t&&t.length?e.setRowGroups(t):e.clearRowGroups():e.handleUpdateAggData()}e.saveCustomStore("reset")})},toggleCustomAllCheckbox(){const{customStore:e}=t,n=!e.isAll;return m(n)},setCustomAllCheckbox:m},v=()=>{const{customStore:o}=t,{collectColumn:i}=n,a=r.value,{checkMethod:l}=a;o.isAll=i.every(t=>!!l&&!l({$table:e,column:t})||t.renderVisible),o.isIndeterminate=!o.isAll&&i.some(t=>(!l||l({$table:e,column:t}))&&(t.renderVisible||t.halfVisible))},b=(t,n)=>{e.dispatchEvent("custom",{type:t},n)},x={checkCustomStatus:v,emitCustomEvent:b,triggerCustomEvent(t){const n=e.reactData,{customStore:r}=n;r.visible?(d(),b("close",t)):(r.btnEl=t.target,c(),b("open",t))},customOpenEvent(t){const n=e.reactData,{customStore:r}=n;r.visible||(r.activeBtn=!0,r.btnEl=t.target,e.openCustom(),e.emitCustomEvent("open",t))},customCloseEvent(t){const n=e.reactData,{customStore:r}=n;r.visible&&(r.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",t))},handleUpdateCustomColumn:u};return Object.assign(Object.assign({},g),x)},setupGrid(e){return e.extendTableMethods(Kr)},setupGantt(e){return e.extendTableMethods(Kr)}});const{getConfig:Xr,renderer:Zr,getI18n:Jr,getComponent:Qr}=o.OE,eo="modelValue",to={};function no(e,t,n){return a().eqNull(e)?a().eqNull(t)?n:t:e}function ro(e,t){return e&&t.valueFormat?a().toStringDate(e,t.valueFormat):e}function oo(e,t,n){const{dateConfig:r={}}=t;return a().toDateString(ro(e,t),r.labelFormat||n)}function io(e,t){return oo(e,t,Jr(`vxe.input.date.labelFormat.${t.type||"date"}`))}function ao(e){return`vxe-${e.replace("$","")}`}function lo({name:e}){return Qr(e)}function so({name:e}){return(0,X.resolveComponent)(ao(e))}function co(e,t,n){const{$table:r}=e;r.updateFilterOptionStatus(n,t)}function uo(e){const{$table:t,column:n}=e;t.saveFilterByEvent(new Event("change"),n)}function po(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function fo(e){const{name:t,immediate:n,props:r}=e;if(!n){if("VxeInput"===t||"$input"===t){const{type:e}=r||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return n}function ho(e,t,n,r){return a().assign({immediate:fo(e)},to,r,e.props,{[eo]:n})}function mo(e,t,n,r){return a().assign({},to,r,e.props,{[eo]:n})}function go(e,t){return"cell"===t.$type||fo(e)}function vo(e,t,n,r){const{placeholder:o}=e;return[(0,X.h)("span",{class:["vxe-cell--label",r?r.class:""]},o&&u(n)?[(0,X.h)("span",{class:"vxe-cell--placeholder"},g(m(o),1))]:g(n,1))]}function bo(e,t,n){const{events:r}=e,o=wt(e),i=Ct(e),{model:l,change:s,blur:c}=n||{},u=i===o,d={};return r&&a().objectEach(r,(e,n)=>{d[yt(n)]=function(...n){e(t,...n)}}),l&&(d[yt(o)]=function(e){l(e),u&&s&&s(e),r&&r[o]&&r[o](t,e)}),!u&&s&&(d[yt(i)]=function(e){s(e),r&&r[i]&&r[i](t,e)}),c&&(d[yt(xo)]=function(e){c(e),r&&r[xo]&&r[xo](t,e)}),d}const xo="blur",yo="clear";function wo(e,t,n,r){const{events:o}=e,i=wt(e),l=Ct(e),{model:s,change:c,blur:u,clear:d}=n||{},p={};return a().objectEach(o,(e,n)=>{p[yt(n)]=function(...n){a().isFunction(e)||te("vxe.error.errFunc",[e]),e(t,...n)}}),s&&(p[yt(i)]=function(e){s(e),o&&o[i]&&o[i](t,e)}),c&&(p[yt(l)]=function(...e){c(...e),o&&o[l]&&o[l](t,...e)}),u&&(p[yt(xo)]=function(...e){u(...e),o&&o[xo]&&o[xo](t,...e)}),d&&(p[yt(yo)]=function(...e){d(...e),o&&o[yo]&&o[yo](t,...e)}),r?Object.assign(p,r):p}function Co(e,t){const{$table:n,row:r,column:o}=t,{name:i}=e,{model:a}=o,l=go(e,t);return wo(e,t,{model(e){a.update=!0,a.value=e,l&&rt(r,o,e)},change(e){if(!l&&i&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(i)){const r=e.value;a.update=!0,a.value=r,n.updateStatus(t,r)}else n.updateStatus(t)},blur(){l?n.handleCellRuleUpdateStatus("blur",t):n.handleCellRuleUpdateStatus("blur",t,a.value)}})}function ko(e,t,n){return wo(e,t,{model(e){n.data=e},change(){co(t,!u(n.data),n)},blur(){co(t,!u(n.data),n)}})}function So(e,t,n){const{$table:r,column:o}=t;return kt(e)?wo(e,t,{model(e){n.data=e},change(){co(t,!u(n.data),n)},clear(){co(t,!u(n.data),n),uo(t)},blur(){r.saveFilterByEvent(new Event("change"),o)}},"VxeNumberInput"===e.name?{[yt("plus-number")](){co(t,!u(n.data),n),uo(t)},[yt("minus-number")](){co(t,!u(n.data),n),uo(t)}}:{}):wo(e,t,{model(e){n.data=e},clear(){co(t,!u(n.data),n),r.saveFilterByEvent(new Event("change"),o)},change(){co(t,!u(n.data),n),r.saveFilterByEvent(new Event("change"),o)}})}function To(e,t){const{$table:n,row:r,column:o}=t,{model:i}=o;return bo(e,t,{model(n){const a=n.target;if(a){const n=a.value;go(e,t)?rt(r,o,n):(i.update=!0,i.value=n)}},change(e){const r=e.target;if(r){const e=r.value;n.updateStatus(t,e)}},blur(e){const r=e.target;if(r){const e=r.value;n.updateStatus(t,e)}}})}function Eo(e,t,n){return bo(e,t,{model(e){const t=e.target;t&&(n.data=t.value)},change(){co(t,!a().eqNull(n.data),n)},blur(){co(t,!a().eqNull(n.data),n)}})}function Oo(e,t){const{row:n,column:r}=t,{name:o}=e,i=go(e,t)?nt(n,r):r.model.value;return[(0,X.h)(`${o}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${o}`},po(e)),{value:i}),To(e,t)))]}function Do(e,t){return[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,null)),wo(e,t)))]}function Mo(e,t){const{row:n,column:r}=t,o=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,o)),Co(e,t)))]}function Ao(e,t){const{row:n,column:r}=t,o=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,o)),Co(e,t)))]}function Io(e,t){const{options:n}=e,{row:r,column:o}=t,i=nt(r,o);return[(0,X.h)(lo(e),Object.assign(Object.assign({options:n},ho(e,t,i)),Co(e,t)))]}function No(e,t){const{row:n,column:r}=t,o=nt(n,r);return[(0,X.h)(so(e),Object.assign(Object.assign({},ho(e,t,o)),Co(e,t)))]}function Ro(e,t){return[(0,X.h)(Qr("vxe-button"),Object.assign(Object.assign({},ho(e,t,null)),wo(e,t)))]}function Fo(e,t){const{children:n}=e;return n?n.map(e=>Ro(e,t)[0]):[]}function _o(e,t,n){const{optionGroups:r,optionGroupProps:o={}}=e,i=o.options||"options",a=o.label||"label";return r?r.map((r,o)=>(0,X.h)("optgroup",{key:o,label:r[a]},n(r[i],e,t))):[]}function Po(e,t,n){const{optionProps:r={}}=t,{row:o,column:i}=n,a=r.label||"label",l=r.value||"value",s=r.disabled||"disabled",c=go(t,n)?nt(o,i):i.model.value;return e?e.map((e,t)=>(0,X.h)("option",{key:t,value:e[l],disabled:e[s],selected:e[l]==c},e[a])):[]}function jo(e,t){const{column:n}=t,{name:r}=e,o=po(e);return n.filters.map((n,i)=>(0,X.h)(`${r}`,Object.assign(Object.assign(Object.assign({key:i,class:`vxe-default-${r}`},o),{value:n.data}),Eo(e,t,n))))}function $o(e,t){const{column:n}=t;return n.filters.map((n,r)=>{const o=n.data;return(0,X.h)(lo(e),Object.assign(Object.assign({key:r},mo(e,e,o)),ko(e,t,n)))})}function Lo(e,t){const{option:n}=t,r=n.data;return[(0,X.h)(lo(e),Object.assign(Object.assign({},mo(e,e,r)),So(e,t,n)))]}function zo(){return[{data:null}]}function Vo(e,t){const{column:n}=t;return n.filters.map((n,r)=>{const o=n.data;return(0,X.h)(so(e),Object.assign(Object.assign({key:r},mo(e,e,o)),ko(e,t,n)))})}function Bo({option:e,row:t,column:n}){const{data:r}=e,o=a().get(t,n.field);return o==r}function Ho({option:e,row:t,column:n}){const{data:r}=e,o=a().get(t,n.field);return a().toValueString(o).indexOf(r)>-1}function Wo(e,t){return[(0,X.h)("select",Object.assign(Object.assign({class:"vxe-default-select"},po(e)),To(e,t)),e.optionGroups?_o(e,t,Po):Po(e.options,e,t))]}function qo(e,t){const{row:n,column:r}=t,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l}=e,s=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,s,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l})),Co(e,t)))]}function Uo(e,t){const{row:n,column:r}=t,{options:o,optionProps:i}=e,a=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,a,{options:o,optionProps:i})),Co(e,t)))]}function Go(e,t){const{row:n,column:r}=t,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l}=e,s=nt(n,r);return[(0,X.h)(so(e),Object.assign(Object.assign({},ho(e,t,s,{options:o,optionProps:i,optionGroups:a,optionGroupProps:l})),Co(e,t)))]}function Yo(e,t){const{options:n,optionGroups:r,optionProps:o={},optionGroupProps:i={},props:l={}}=t;let s;const c=o.label||"label",u=o.value||"value";if(null!==e&&void 0!==e){let t=[];return t=a().isArray(e)?e:l.multiple&&`${e}`.indexOf(",")>-1?`${e}`.split(","):[e],a().map(t,r?e=>{const t=i.options||"options";for(let n=0;n<r.length;n++)if(s=a().find(r[n][t],t=>t[u]==e),s)break;return s?s[c]:e}:e=>(s=a().find(n,t=>t[u]==e),s?s[c]:e)).join(", ")}return""}function Ko(e,{row:t,column:n}){const r=a().get(t,n.field);return Yo(r,e)}function Xo(e){const{row:t,column:n,options:r}=e;return r.original?nt(t,n):Ko(n.editRender||n.cellRender,e)}function Zo(e,t){const{options:n,optionProps:r={}}=t,o=r.label||"label",i=r.value||"value",l=r.children||"children";if(null!==e&&void 0!==e){const t={};return a().eachTree(n,e=>{t[a().get(e,i)]=e},{children:l}),a().map(a().isArray(e)?e:[e],e=>{const n=t[e];return n?a().get(n,o):n}).join(", ")}return""}function Jo(e,{row:t,column:n}){const r=a().get(t,n.field);return Zo(r,e)}function Qo(e){const{row:t,column:n,options:r}=e;return r.original?nt(t,n):Jo(n.editRender||n.cellRender,e)}function ei(e,t){const{props:n={},showNegativeStatus:r}=e,{row:o,column:i}=t,{type:l}=n;let s=a().get(o,i.field),c=!1;if(!u(s)){const e=Xr().numberInput||{};if("float"===l){const t=no(n.autoFill,e.autoFill,!0),o=no(n.digits,e.digits,1);s=a().toFixed(a().floor(s,o),o),t||(s=a().toNumber(s)),r&&s<0&&(c=!0)}else if("amount"===l){const t=no(n.autoFill,e.autoFill,!0),o=no(n.digits,e.digits,2),i=no(n.showCurrency,e.showCurrency,!1);if(s=a().toNumber(s),r&&s<0&&(c=!0),s=a().commafy(s,{digits:o}),!t){const[e,t]=s.split(".");if(t){const n=t.replace(/0+$/,"");s=n?[e,".",n].join(""):e}}i&&(s=`${n.currencySymbol||e.currencySymbol||Jr("vxe.numberInput.currencySymbol")||""}${s}`)}else"integer"===l&&(s=a().toInteger(s)),r&&a().toNumber(s)<0&&(c=!0)}return vo(e,t,s,c?{class:"is--negative"}:{})}function ti(e,t){const{props:n={}}=e,{cellValue:r}=t;return r&&"time"!==n.type?io(r,n):r}function ni(e,t){const{cellValue:n}=t;return Yo(n,e)}function ri(e,t){const{row:n,column:r,cellValue:o}=t,{field:i}=r;if(i){const{options:t,optionGroups:r,optionProps:l={},optionGroupProps:s={},props:c}=e;if(u(o))return void a().set(n,i,c&&c.multiple?[]:null);const d=a().indexOf(`${o}`,",")>-1,p=l.label||"label",f=l.value||"value",h={};if(r&&r.length){const e=s.options||"options";for(let t=0;t<r.length;t++){const l=r[t][e]||{};for(let e=0;e<l.length;e++){const t=l[e];if(d)h[t[p]]=t;else if(t[p]==o)return void a().set(n,i,t[f])}}}else if(t)for(let e=0;e<t.length;e++){const r=t[e];if(d)h[r[p]]=r;else if(r[p]==o)return void a().set(n,i,r[f])}d?a().set(n,i,(d?o.split(","):[o]).map(e=>{const t=h[e];return t?t[f]:e})):a().set(n,i,o)}}function oi(e,t){const{cellValue:n}=t;return Zo(n,e)}function ii(e,t){const{row:n,column:r,cellValue:o}=t,{field:i}=r;if(i){const{options:t,optionProps:r={}}=e,l=r.label||"label",s=r.value||"value",c=r.children||"children",u=a().findTree(t||[],e=>a().get(e,l)===o,{children:c});if(u){const e=u.item;if(e)return void a().set(n,i,e[s])}a().set(n,i,o)}}Zr.mixin({input:{tableAutoFocus:"input",renderTableEdit:Oo,renderTableDefault:Oo,createTableFilterOptions:zo,renderTableFilter:jo,tableFilterDefaultMethod:Ho},textarea:{tableAutoFocus:"textarea",renderTableEdit:Oo},select:{renderTableEdit:Wo,renderTableDefault:Wo,renderTableCell(e,t){return vo(e,t,Ko(e,t))},createTableFilterOptions:zo,renderTableFilter(e,t){const{column:n}=t;return n.filters.map((n,r)=>(0,X.h)("select",Object.assign(Object.assign({key:r,class:"vxe-default-select"},po(e)),Eo(e,t,n)),e.optionGroups?_o(e,t,Po):Po(e.options,e,t)))},tableCellFormatter:ni,tableCellCopyMethod:ni,tableCellPasteMethod:ri,tableFilterDefaultMethod:Bo,tableExportMethod:Xo},VxeInput:{tableAutoFocus:"input",renderTableEdit:Mo,renderTableCell(e,t){const{props:n={}}=e,{row:r,column:o}=t,i=Xr().input||{},l=n.digits||i.digits||2;let s=a().get(r,o.field);if(s)switch(n.type){case"date":case"week":case"month":case"quarter":case"year":s=io(s,n);break;case"float":s=a().toFixed(a().floor(s,l),l);break}return vo(e,t,s)},renderTableDefault:Mo,createTableFilterOptions:zo,renderTableFilter:$o,renderTableFloatingFilter:Lo,tableFilterDefaultMethod:Ho},FormatNumberInput:{renderTableDefault:ei,tableFilterDefaultMethod:Ho,tableExportMethod(e){const{row:t,column:n}=e,r=a().get(t,n.field);return r}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:Mo,renderTableCell:ei,renderTableFooter(e,t){const{props:n={}}=e,{row:r,column:o,_columnIndex:i}=t,{type:l}=n,s=a().isArray(r)?r[i]:a().get(r,o.field);if(a().isNumber(s)){const e=Xr().numberInput||{};if("float"===l){const t=no(n.autoFill,e.autoFill,!0),r=no(n.digits,e.digits,1);let o=a().toFixed(a().floor(s,r),r);return t||(o=a().toNumber(o)),o}if("amount"===l){const t=no(n.autoFill,e.autoFill,!0),r=no(n.digits,e.digits,2),o=no(n.showCurrency,e.showCurrency,!1);let i=a().commafy(a().toNumber(s),{digits:r});if(!t){const[e,t]=i.split(".");if(t){const n=t.replace(/0+$/,"");i=n?[e,".",n].join(""):e}}return o&&(i=`${n.currencySymbol||e.currencySymbol||Jr("vxe.numberInput.currencySymbol")||""}${i}`),i}}return m(s,1)},renderTableDefault:Mo,createTableFilterOptions:zo,renderTableFilter:$o,renderTableFloatingFilter:Lo,tableFilterDefaultMethod:Ho,tableExportMethod(e){const{row:t,column:n}=e,r=a().get(t,n.field);return r}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:Mo,renderTableCell(e,t){const{props:n={}}=e,{row:r,column:o}=t;let i=a().get(r,o.field);return i&&"time"!==n.type&&(i=io(i,n)),vo(e,t,i)},tableCellFormatter:ti,renderTableDefault:Mo,createTableFilterOptions:zo,renderTableFilter:$o,renderTableFloatingFilter:Lo,tableFilterDefaultMethod:Bo},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:n,endField:r}=e,{$table:o,row:i,column:l}=t,{model:s}=l,c=nt(i,l),u={},d={};return n&&r&&(u.startValue=a().get(i,n),u.endValue=a().get(i,r),d["onUpdate:startValue"]=e=>{n&&a().set(i,n,e)},d["onUpdate:endValue"]=e=>{r&&a().set(i,r,e)}),[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,c,u)),wo(e,t,{model(e){s.update=!0,s.value=e,rt(i,l,e)},change(){o.updateStatus(t)},blur(){o.handleCellRuleUpdateStatus("blur",t)}},d)))]},renderTableCell(e,t){const{startField:n,endField:r}=e,{row:o,column:i}=t;let l="",s="";if(n&&r)l=a().get(o,n),s=a().get(o,r);else{const e=a().get(o,i.field);if(e)if(a().isArray(e))l=e[0],s=e[1];else{const t=`${e}`.split(",");l=t[0],s=t[1]}}let c="";return l&&s&&(c=`${l} ~ ${s}`),vo(e,t,c)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:Mo,renderTableCell(e,t){const{row:n,column:r}=t,o=a().get(n,r.field);return vo(e,t,o)}},VxeButton:{renderTableDefault:Do},VxeButtonGroup:{renderTableDefault(e,t){const{options:n}=e;return[(0,X.h)(lo(e),Object.assign(Object.assign({options:n},ho(e,t,null)),wo(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:qo,renderTableDefault:qo,renderTableCell(e,t){return vo(e,t,Ko(e,t))},createTableFilterOptions:zo,renderTableFilter(e,t){const{column:n}=t,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a}=e;return n.filters.map((n,l)=>{const s=n.data;return(0,X.h)(lo(e),Object.assign(Object.assign({key:l},mo(e,t,s,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a})),ko(e,t,n)))})},renderTableFloatingFilter(e,t){const{option:n}=t,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a}=e,l=n.data;return(0,X.h)(lo(e),Object.assign(Object.assign({},mo(e,t,l,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a})),So(e,t,n)))},tableCellFormatter:ni,tableCellCopyMethod:ni,tableCellPasteMethod:ri,tableFilterDefaultMethod:Bo,tableExportMethod:Xo},VxeText:{renderTableDefault(e,t){const{$table:n,row:r,column:o}=t,{props:i}=e,a=n.getCellLabel(r,o);return[(0,X.h)(lo(e),Object.assign(Object.assign(Object.assign({},i||{}),{content:a}),wo(e,t)))]}},VxeLink:{renderTableDefault(e,t){const{$table:n,row:r,column:o}=t,{props:i}=e,{href:l}=i||{},s=n.getCellLabel(r,o);return[(0,X.h)(lo(e),Object.assign(Object.assign(Object.assign({},i||{}),{content:s,href:a().toFormatString(l,t)}),wo(e,t)))]}},formatOption:{renderTableDefault(e,t){return vo(e,t,Ko(e,t))}},FormatSelect:{renderTableDefault(e,t){return vo(e,t,Ko(e,t))},tableCellFormatter:ni,tableCellCopyMethod:ni,tableCellPasteMethod:ri,tableFilterDefaultMethod:Bo,tableExportMethod:Xo},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Uo,renderTableCell(e,t){return vo(e,t,Jo(e,t))},tableCellFormatter:oi,tableCellCopyMethod:oi,tableCellPasteMethod:ii,tableExportMethod:Qo},formatTree:{renderTableDefault(e,t){return vo(e,t,Jo(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return vo(e,t,Jo(e,t))},tableCellFormatter:oi,tableCellCopyMethod:oi,tableCellPasteMethod:ii,tableExportMethod:Qo},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Uo,renderTableCell(e,t){return vo(e,t,Jo(e,t))},tableCellFormatter:oi,tableCellCopyMethod:oi,tableCellPasteMethod:ii,tableExportMethod:Qo},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:r}=t,{options:o}=e,i=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,i,{colors:o})),Co(e,t)))]},renderTableCell(e,t){const{row:n,column:r}=t,o=a().get(n,r.field);return(0,X.h)("span",{class:"vxe-color-picker--readonly"},[(0,X.h)("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:o}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:r}=t,{options:o}=e,i=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign({},ho(e,t,i,{icons:o})),Co(e,t)))]},renderTableCell(e,t){const{row:n,column:r}=t,o=a().get(n,r.field);return(0,X.h)("i",{class:o})}},VxeRadioGroup:{renderTableDefault:Io},VxeCheckbox:{renderTableDefault:Ao},VxeCheckboxGroup:{renderTableDefault:Io},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:Mo,renderTableDefault:Mo},VxeUpload:{renderTableEdit:Mo,renderTableCell:Mo,renderTableDefault:Mo},VxeImage:{renderTableDefault(e,t){const{row:n,column:r}=t,{props:o}=e,i=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign(Object.assign({},o),{src:i}),Co(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:n,column:r}=t,{props:o}=e,i=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign(Object.assign({},o),{urlList:i}),Co(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:n,column:r}=t,{props:o}=e,i=nt(n,r);return[(0,X.h)(lo(e),Object.assign(Object.assign(Object.assign({},o),{content:i}),Co(e,t)))]}},VxeRate:{renderTableDefault:Mo},VxeSlider:{renderTableDefault:Mo},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:No,renderTableCell(e,t){var n;const{props:r={}}=e,{row:o,column:i}=t,l=r.digits||(null===(n=Xr().input)||void 0===n?void 0:n.digits)||2;let s=a().get(o,i.field);if(s)switch(r.type){case"date":case"week":case"month":case"year":s=io(s,r);break;case"float":s=a().toFixed(a().floor(s,l),l);break}return vo(e,t,s)},renderTableDefault:No,renderTableFilter:Vo,tableFilterDefaultMethod:Ho},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:Ro},$buttons:{renderTableDefault:Fo},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Go,renderTableDefault:Go,renderTableCell(e,t){return vo(e,t,Ko(e,t))},renderTableFilter(e,t){const{column:n}=t,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a}=e;return n.filters.map((n,l)=>{const s=n.data;return(0,X.h)(so(e),Object.assign(Object.assign({key:l},mo(e,t,s,{options:r,optionProps:o,optionGroups:i,optionGroupProps:a})),ko(e,t,n)))})},tableFilterDefaultMethod:Bo,tableExportMethod:Xo},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:No,renderTableDefault:No}});const{getConfig:ai,getIcon:li,getI18n:si,renderer:ci,formats:ui,createEvent:di,globalResize:pi,interceptor:fi,hooks:hi,globalEvents:mi,GLOBAL_EVENT_KEYS:gi,useFns:vi,renderEmptyElement:bi}=o.OE,xi=5e6,yi="VXE_CUSTOM_STORE",wi=5e6,Ci=5e6,ki="table";let Si=null;var Ti=Z({name:"VxeTable",props:Jt,emits:tn,setup(e,t){const{slots:n,emit:r}=t,i=a().uniqueId(),l=a().browse(),s=o.OE.getComponent("VxeLoading"),u=o.OE.getComponent("VxeTooltip"),d=(0,X.inject)("$xeTabs",null),b=(0,X.inject)("$xeTable",null),x=(0,X.inject)("$xeGrid",null),y=(0,X.inject)("$xeGantt",null),w=x||y,{computeSize:C}=vi.useSize(e),k=dn(),S=(0,X.reactive)({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,column:null,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),T=Re();let E={},O={};const D=(0,X.ref)(),M=(0,X.ref)(),A=(0,X.ref)(),I=(0,X.ref)(),N=(0,X.ref)(),R=(0,X.ref)(),F=(0,X.ref)(),_=(0,X.ref)(),P=(0,X.ref)(),j=(0,X.ref)(),$=(0,X.ref)(),L=(0,X.ref)(),z=(0,X.ref)(),V=(0,X.ref)(),B=(0,X.ref)(),H=(0,X.ref)(),W=(0,X.ref)(),q=(0,X.ref)(),U=(0,X.ref)(),G=(0,X.ref)(),Y=(0,X.ref)(),K=(0,X.ref)(),Z=(0,X.ref)(),J=(0,X.ref)(),Q=(0,X.ref)(),ne=(0,X.ref)(),re=(0,X.ref)(),oe=(0,X.ref)(),ie=(0,X.ref)(),ae=(0,X.ref)(),le=(0,X.ref)(),ue=(0,X.ref)(),de=(0,X.ref)(),xe=(0,X.ref)(),ye=(0,X.ref)(),we=(0,X.ref)(),Te=(0,X.ref)(),De=(0,X.ref)(),Me=(0,X.ref)(),Ae=(0,X.ref)(),Ie=(0,X.ref)(),Ne=(0,X.ref)();let Fe;const _e=(0,X.computed)(()=>{const{id:t}=e;return t?a().isFunction(t)?`${t({$table:Yn,$grid:x,$gantt:y})||""}`:`${t}`:""}),Pe=(0,X.computed)(()=>{const t=Et.value;return`${e.rowId||t.keyField||"_X_ROW_KEY"}`}),We=(0,X.computed)(()=>Object.assign({},ai().table.validConfig,e.validConfig)),qe=(0,X.computed)(()=>{const e=Ye.value;return e}),Ue=(0,X.computed)(()=>{const e=Ye.value,{threshold:t}=e;return t?a().toNumber(t):0}),Ge=(0,X.computed)(()=>{const e=Je.value;return e}),Ye=(0,X.computed)(()=>{const{virtualXConfig:t,scrollX:n}=e,r=ai().table.virtualXConfig,o=ai().table.scrollX;return t?Object.assign({},r,t):n?Object.assign({},o,n):r?Object.assign({},r,t):Object.assign({},o,n)}),Je=(0,X.computed)(()=>{const{virtualYConfig:t,scrollY:n}=e,r=ai().table.virtualYConfig,o=ai().table.scrollY;return t?Object.assign({},r,t):n?Object.assign({},o,n):r?Object.assign({},r,t):Object.assign({},o,n)}),Qe=(0,X.computed)(()=>Object.assign({},ai().table.scrollbarConfig,e.scrollbarConfig)),lt=(0,X.computed)(()=>{var t;const n=Qe.value;return Object.assign({},n.x,(null===(t=e.scrollbarConfig)||void 0===t?void 0:t.x)||{})}),ct=(0,X.computed)(()=>{var t;const n=Qe.value;return Object.assign({},n.y,(null===(t=e.scrollbarConfig)||void 0===t?void 0:t.y)||{})}),ut=(0,X.computed)(()=>{const e=lt.value;return"top"===e.position}),dt=(0,X.computed)(()=>{const e=ct.value;return"left"===e.position}),pt=(0,X.computed)(()=>{const e=Je.value,{threshold:t}=e;return t?a().toNumber(t):0}),ht=(0,X.computed)(()=>S.rowHeightStore),gt=(0,X.computed)(()=>{const e=C.value,t=ht.value;return t[e||"default"]||18}),yt=(0,X.computed)(()=>Object.assign({},ai().table.columnConfig,e.columnConfig)),wt=(0,X.computed)(()=>Object.assign({},ai().table.currentColumnConfig,e.currentColumnConfig)),Ct=(0,X.computed)(()=>{const t=Object.assign({},ai().table.cellConfig,e.cellConfig);return t.height&&(t.height=a().toNumber(t.height)),t}),kt=(0,X.computed)(()=>{const t=Object.assign({},ai().table.headerCellConfig,e.headerCellConfig),n=gt.value,r=Ct.value;let o=a().toNumber(it(t.height||r.height));if(y){const{computeTaskViewScales:e}=y.getComputeMaps(),t=e.value;if(t&&t.length>2){const e=n/2*t.length;o=Math.max(e,o)}}return t.height=o,t}),Tt=(0,X.computed)(()=>{const t=Object.assign({},ai().table.footerCellConfig,e.footerCellConfig),n=Ct.value;return t.height=a().toNumber(it(t.height||n.height)),t}),Et=(0,X.computed)(()=>Object.assign({},ai().table.rowConfig,e.rowConfig)),Ot=(0,X.computed)(()=>Object.assign({},ai().table.aggregateConfig||ai().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),Dt=(0,X.computed)(()=>Ot.value),Mt=(0,X.computed)(()=>Object.assign({},ai().table.currentRowConfig,e.currentRowConfig)),At=(0,X.computed)(()=>Object.assign({},ai().table.rowDragConfig,e.rowDragConfig)),It=(0,X.computed)(()=>Object.assign({},ai().table.columnDragConfig,e.columnDragConfig)),Nt=(0,X.computed)(()=>Object.assign({},ai().table.resizeConfig,e.resizeConfig)),Rt=(0,X.computed)(()=>Object.assign({},ai().table.resizableConfig,e.resizableConfig)),Ft=(0,X.computed)(()=>Object.assign({startIndex:0},ai().table.seqConfig,e.seqConfig)),_t=(0,X.computed)(()=>Object.assign({},ai().table.radioConfig,e.radioConfig)),Pt=(0,X.computed)(()=>Object.assign({},ai().table.checkboxConfig,e.checkboxConfig)),jt=(0,X.computed)(()=>Object.assign({},ai().tooltip,ai().table.tooltipConfig,e.tooltipConfig)),$t=(0,X.computed)(()=>Object.assign({},ai().tooltip,ai().table.headerTooltipConfig,e.headerTooltipConfig)),Lt=(0,X.computed)(()=>Object.assign({},ai().tooltip,ai().table.footerTooltipConfig,e.footerTooltipConfig)),zt=(0,X.computed)(()=>{const{tooltipStore:e}=S,t=jt.value;return Object.assign({},t,e.currOpts)}),Vt=(0,X.computed)(()=>{const e=jt.value;return Object.assign({},e)}),Bt=(0,X.computed)(()=>Object.assign({},ai().table.editConfig,e.editConfig)),Wt=(0,X.computed)(()=>Object.assign({orders:["asc","desc",null]},ai().table.sortConfig,e.sortConfig)),qt=(0,X.computed)(()=>Object.assign({},ai().table.filterConfig,e.filterConfig)),Ut=(0,X.computed)(()=>Object.assign({},ai().table.floatingFilterConfig,e.floatingFilterConfig)),Gt=(0,X.computed)(()=>Object.assign({},ai().table.mouseConfig,e.mouseConfig)),Yt=(0,X.computed)(()=>Object.assign({},ai().table.areaConfig,e.areaConfig)),Kt=(0,X.computed)(()=>Object.assign({},ai().table.keyboardConfig,e.keyboardConfig)),Xt=(0,X.computed)(()=>Object.assign({},ai().table.clipConfig,e.clipConfig)),Zt=(0,X.computed)(()=>Object.assign({},ai().table.undoHistoryConfig,e.undoHistoryConfig)),Qt=(0,X.computed)(()=>{const e=en.value;return e}),en=(0,X.computed)(()=>Object.assign({},ai().table.fnrConfig,e.fnrConfig)),tn=(0,X.computed)(()=>Object.assign({},ai().table.menuConfig,e.menuConfig)),nn=(0,X.computed)(()=>{const{columnStore:e}=S,{leftList:t}=e;let n=0;for(let r=0;r<t.length;r++){const e=t[r];n+=e.renderWidth}return n}),rn=(0,X.computed)(()=>{const{columnStore:e}=S,{rightList:t}=e;let n=0;for(let r=0;r<t.length;r++){const e=t[r];n+=e.renderWidth}return n}),on=(0,X.computed)(()=>{const{columnStore:e,mergeBodyFlag:t}=S,{mergeBodyList:n,visibleColumn:r}=T,{leftList:o,rightList:i}=e,a=r.length-i.length;if(t&&(o.length||i.length)){const e=o.length;for(let t=0;t<n.length;t++){const{col:r,colspan:o}=n[t];if(r<e||r+o>a)return!0}}return!1}),un=(0,X.computed)(()=>{const{spanMethod:t,footerSpanMethod:n,showHeaderOverflow:r}=e,{isGroup:o,scrollXLoad:i}=S;let a=!1;return o||i&&r&&(t||n||(a=!0)),a}),pn=(0,X.computed)(()=>{const{spanMethod:t,footerSpanMethod:n}=e,{scrollXLoad:r,scrollYLoad:o,isAllOverflow:i,expandColumn:a}=S,l=on.value,s=Tn.value;let c=!1;return(r||o||i)&&(a&&"fixed"!==s.mode||l||t||n||(c=!0)),c}),fn=(0,X.computed)(()=>{const{spanMethod:t,footerSpanMethod:n,showFooterOverflow:r}=e,{scrollXLoad:o}=S;let i=!1;return o&&r&&(t||n||(i=!0)),i}),hn=(0,X.computed)(()=>{const e=tn.value,t=e.header;return t&&t.options?t.options:[]}),mn=(0,X.computed)(()=>{const e=tn.value,t=e.body;return t&&t.options?t.options:[]}),gn=(0,X.computed)(()=>{const e=tn.value,t=e.footer;return t&&t.options?t.options:[]}),bn=(0,X.computed)(()=>{const e=xn.value;return e}),xn=(0,X.computed)(()=>{const t=tn.value,n=hn.value,r=mn.value,o=gn.value;return!!(e.menuConfig&&c(t)&&(n.length||r.length||o.length))}),yn=(0,X.computed)(()=>{const{ctxMenuStore:e}=S,t=[];return e.list.forEach(e=>{e.forEach(e=>{t.push(e)})}),t}),wn=(0,X.computed)(()=>Object.assign({},ai().table.exportConfig,e.exportConfig)),kn=(0,X.computed)(()=>Object.assign({},ai().table.importConfig,e.importConfig)),Sn=(0,X.computed)(()=>Object.assign({},ai().table.printConfig,e.printConfig)),Tn=(0,X.computed)(()=>Object.assign({},ai().table.expandConfig,e.expandConfig)),En=(0,X.computed)(()=>Object.assign({},ai().table.treeConfig,e.treeConfig)),Dn=(0,X.computed)(()=>Object.assign({},ai().table.emptyRender,e.emptyRender)),Mn=(0,X.computed)(()=>Object.assign({},ai().table.loadingConfig,e.loadingConfig)),An=(0,X.computed)(()=>e.border?Math.max(2,Math.ceil(S.scrollbarWidth/S.tableColumn.length)):1),In=(0,X.computed)(()=>Object.assign({},ai().table.customConfig,e.customConfig)),Rn=(0,X.computed)(()=>{const{tableData:e,rowExpandedFlag:t,expandColumn:n,rowGroupExpandedFlag:r,treeExpandedFlag:o}=S,{visibleDataRowIdData:i,rowExpandedMaps:l}=T,s=[];return e.length&&n&&t&&r&&o&&a().each(l,(e,t)=>{i[t]&&s.push(e)}),s}),Fn=(0,X.computed)(()=>{const{visibleColumn:e}=T,{tableColumn:t}=S;return t.length||e.length?e.filter(e=>"auto"===e.width||"auto"===e.minWidth):[]}),_n=(0,X.computed)(()=>{const{tableColumn:e}=S,{collectColumn:t}=T;let n=0;return e.length&&t.length&&t.forEach(e=>{e.renderFixed&&n++}),n}),Pn=(0,X.computed)(()=>{const e=_n.value,t=yt.value,{maxFixedSize:n}=t;return!!n&&e>=n}),$n=(0,X.computed)(()=>{const{border:t}=e;return!0===t?"full":t||"default"}),Ln=(0,X.computed)(()=>{const{treeConfig:t}=e,{tableData:n}=S,{tableFullData:r}=T,o=Pt.value,{strict:i,checkMethod:a}=o;return!!i&&(!n.length&&!r.length||!!a&&r.every(e=>!a({$table:Yn,row:e})))}),zn=(0,X.computed)(()=>{const{overflowX:e,scrollXLoad:t,overflowY:n,scrollYLoad:r}=S;return{x:e&&t,y:n&&r}}),Bn=(0,X.computed)(()=>{const e=Dt.value;return e.groupFields}),Hn=(0,X.computed)(()=>{const{rowGroupList:e}=S,{fullColumnFieldData:t}=T,n=[];return e.forEach(e=>{const r=t[e.field];r&&n.push(r.column)}),n}),Wn=(0,X.computed)(()=>{const{rowGroupList:e,tableColumn:t}=S;return e.length?t.filter(e=>e.aggFunc):[]}),Un={refElem:D,refTooltip:A,refValidTooltip:N,refTableFilter:F,refTableCustom:_,refTableMenu:R,refTableHeader:j,refTableBody:$,refTableFooter:L,refTableLeftHeader:z,refTableLeftBody:V,refTableLeftFooter:B,refTableRightHeader:H,refTableRightBody:W,refTableRightFooter:q,refLeftContainer:Y,refRightContainer:K,refColResizeBar:Z,refRowResizeBar:J,refScrollXVirtualElem:le,refScrollYVirtualElem:ue,refScrollXHandleElem:de,refScrollYHandleElem:we,refScrollXSpaceElem:Ie,refScrollYSpaceElem:Ne},Gn={computeSize:C,computeTableId:_e,computeValidOpts:We,computeRowField:Pe,computeVirtualXOpts:Ye,computeVirtualYOpts:Je,computeScrollbarOpts:Qe,computeScrollbarXOpts:lt,computeScrollbarYOpts:ct,computeScrollbarXToTop:ut,computeScrollbarYToLeft:dt,computeColumnOpts:yt,computeCurrentColumnOpts:wt,computeScrollXThreshold:Ue,computeScrollYThreshold:pt,computeRowHeightMaps:ht,computeDefaultRowHeight:gt,computeCellOpts:Ct,computeHeaderCellOpts:kt,computeFooterCellOpts:Tt,computeRowOpts:Et,computeAggregateOpts:Ot,computeRowGroupOpts:Dt,computeCurrentRowOpts:Mt,computeRowDragOpts:At,computeColumnDragOpts:It,computeResizeOpts:Nt,computeResizableOpts:Rt,computeSeqOpts:Ft,computeRadioOpts:_t,computeCheckboxOpts:Pt,computeTooltipOpts:jt,computeHeaderTooltipOpts:$t,computeFooterTooltipOpts:Lt,computeEditOpts:Bt,computeSortOpts:Wt,computeFilterOpts:qt,computeFloatingFilterOpts:Ut,computeMouseOpts:Gt,computeAreaOpts:Yt,computeKeyboardOpts:Kt,computeClipOpts:Xt,computeFnrOpts:en,computeHeaderMenu:hn,computeBodyMenu:mn,computeFooterMenu:gn,computeIsMenu:bn,computeIsContentMenu:xn,computeMenuList:yn,computeMenuOpts:tn,computeExportOpts:wn,computeImportOpts:kn,computePrintOpts:Sn,computeExpandOpts:Tn,computeTreeOpts:En,computeEmptyOpts:Dn,computeLoadingOpts:Mn,computeCellOffsetWidth:An,computeCustomOpts:In,computeLeftFixedWidth:nn,computeRightFixedWidth:rn,computeBodyMergeCoverFixed:on,computeFixedColumnSize:_n,computeIsMaxFixedColumn:Pn,computeIsAllCheckboxDisabled:Ln,computeIsHeaderRenderOptimize:un,computeIsBodyRenderOptimize:pn,computeIsFooterRenderOptimize:fn,computeVirtualScrollBars:zn,computeRowGroupFields:Bn,computeRowGroupColumns:Hn,computeAggFuncColumns:Wn,computeUndoHistoryOpts:Zt,computeFNROpts:Qt,computeSXOpts:qe,computeSYOpts:Ge},Yn={xID:i,props:e,context:t,reactData:S,internalData:T,getRefMaps:()=>Un,getComputeMaps:()=>Gn,xeGrid:x,xeGantt:y,xegrid:x},Xn=(e,t,n)=>{const r=a().get(e,n),o=a().get(t,n);return!(!v(r)||!v(o))||(a().isString(r)||a().isNumber(r)?""+r===""+o:a().isEqual(r,o))},Zn=()=>{const e=Pe.value;T.currKeyField=e,T.isCurrDeepKey=Le(e)},Jn=(e,t)=>a().isBoolean(e)?e:t,Qn=e=>{const t=Wt.value,{orders:n=[]}=t,r=e.order||null,o=n.indexOf(r)+1;return n[o<n.length?o:0]},er=e=>{const t=ai().version,n=a().toStringJSON(localStorage.getItem(yi)||""),r=n&&n._v===t?n:{_v:t};return(e?r[e]:r)||{}},tr=(e,t)=>{const n=ai().version,r=er();r[e]=t||void 0,r._v=n,localStorage.setItem(yi,a().toJSONString(r))},nr=e=>{const{fullAllDataRowIdData:t}=T,n={};return a().each(e,(e,r)=>{t[r]&&(n[r]=e)}),n},rr=e=>{const{fullDataRowIdData:t}=T,n=[];return a().each(e,(e,r)=>{t[r]&&-1===Yn.findRowIndexOf(n,t[r].row)&&n.push(t[r].row)}),n},or=()=>{const{isScrollXBig:e,scrollXWidth:t}=S,{elemStore:n,visibleColumn:r,fullColumnIdData:o}=T,i=nn.value,a=rn.value,l=ot(n["main-body-scroll"]);if(l){const n=l.clientWidth;let s=l.scrollLeft;e&&(s=Math.ceil((t-n)*Math.min(1,s/(Ci-n))));const c=s+i,u=s+n-a;let d=0,p=r.length;while(d<p){const e=Math.floor((d+p)/2),t=r[e],n=t.id,i=o[n]||{};i.oLeft<=c?d=e+1:p=e}let f=0;const h=d===r.length?d:Math.max(0,d<r.length?d-2:0);for(let e=h,t=r.length;e<t;e++){const t=r[e],n=t.id,i=o[n]||{};if(f++,i.oLeft>u||f>=60)break}return{toVisibleIndex:Math.max(0,h),visibleSize:Math.max(1,f)}}return{toVisibleIndex:0,visibleSize:6}},ir=(e,t)=>{const{rowHeightStore:n}=S;t&&t.clientHeight&&(n[e]=t.clientHeight)},ar=()=>{const{isAllOverflow:e}=S,t=j.value,n=$.value,r=n?n.$el:null,o=gt.value;let i=0;if(e){if(r){const e=t?t.$el:null;let n;n=r.querySelector("tr"),!n&&e&&(n=e.querySelector("tr")),n&&(i=n.clientHeight)}i||(i=o)}else i=o;return Math.max(18,i)},lr=()=>{const{isAllOverflow:e,expandColumn:t,isScrollYBig:n,scrollYHeight:r}=S,{elemStore:o,isResizeCellHeight:i,afterFullData:a,fullAllDataRowIdData:l}=T,s=Et.value,c=Ct.value,u=gt.value,d=ot(o["main-body-scroll"]);if(d){const o=d.clientHeight;let p=d.scrollTop;n&&(p=Math.ceil((r-o)*Math.min(1,p/(wi-o))));const f=p,h=p+o;let m=-1,g=0;const v=i||c.height||s.height;if(v||t||!e){const{handleGetRowId:e}=He(Yn);let t=0,n=a.length;while(t<n){const r=Math.floor((t+n)/2),o=a[r],i=e(o),s=l[i]||{};s.oTop<=f?t=r+1:n=r}m=t===a.length?t:Math.max(0,t<a.length?t-2:0);for(let r=m,o=a.length;r<o;r++){const t=a[r],n=e(t),o=l[n]||{};if(g++,o.oTop>h||g>=100)break}}else m=Math.floor(f/u)-1,g=Math.ceil(o/u)+1;return{toVisibleIndex:Math.max(0,m),visibleSize:Math.max(6,g)}}return{toVisibleIndex:0,visibleSize:6}},sr=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const o=e[r],{startIndex:i,endIndex:a}=t,l=o[n],s=o[n+"span"],c=l+s;l<i&&i<c&&(t.startIndex=l),l<a&&a<c&&(t.endIndex=c),t.startIndex===i&&t.endIndex===a||(r=-1)}};function cr(e){const t={};if(e&&e.length)for(let n=0;n<e.length;n++){const{row:r,col:o,rowspan:i,colspan:a}=e[n];for(let e=0;e<i;e++)for(let n=0;n<a;n++)t[`${r+e}:${o+n}`]=e||n?{rowspan:0,colspan:0}:{rowspan:i,colspan:a}}return t}const ur=e=>{T.mergeBodyList=[],T.mergeBodyMaps={},T.mergeBodyCellMaps={},Yn.setMergeCells(e)},dr=e=>{const{fullAllDataRowIdData:t,fullColumnIdData:n,visibleColumn:r,afterFullData:o,mergeBodyList:i,mergeBodyMaps:l}=T;if(e){const{handleGetRowId:s}=He(Yn);a().isArray(e)||(e=[e]),e.forEach(e=>{let{row:c,col:u,rowspan:d,colspan:p}=e,f=-1,h=-1;if(a().isNumber(c))f=c;else{const e=c?s(c):null,n=e?t[e]:null;n&&(f=n._index)}if(a().isNumber(u))h=u;else{const e=u?u.id:null,t=e?n[e]:null;t&&(h=t._index)}if(f>-1&&h>-1&&(d||p)&&(d=a().toNumber(d)||1,p=a().toNumber(p)||1,d>1||p>1)){const e=o[f],t=r[h];let n=l[`${f}:${h}`];n?(n.rowspan=d,n.colspan=p,n._rowspan=d,n._colspan=p):(n={row:f,col:h,rowspan:d,colspan:p,_row:e,_col:t,_rowspan:d,_colspan:p},l[`${f}:${h}`]=n,i.push(n))}})}},pr=e=>{const{mergeBodyList:t,fullColumnIdData:n,fullAllDataRowIdData:r,mergeBodyMaps:o}=T,i=[];if(e){const{handleGetRowId:l}=He(Yn);a().isArray(e)||(e=[e]),e.forEach(e=>{const{row:s,col:c}=e;let u=-1,d=-1;if(a().isNumber(s))u=s;else{const e=s?l(s):null,t=e?r[e]:null;t&&(u=t._index)}if(a().isNumber(c))d=c;else{const e=c?c.id:null,t=e?n[e]:null;t&&(d=t._index)}const p=a().findIndexOf(t,e=>e.row===u&&e.col===d);if(p>-1){const e=t.splice(p,1),n=e[0];n&&(i.push(e[0]),o[`${u}:${d}`]&&delete o[`${u}:${d}`])}})}return i},fr=e=>{T.mergeHeaderList=[],T.mergeHeaderMaps={},T.mergeHeaderCellMaps={},Yn.setMergeHeaderCells(e)},hr=t=>{const{showCustomHeader:n}=e,{footerTableData:r}=S,{mergeHeaderList:o,mergeHeaderMaps:i,fullColumnIdData:l}=T;if(t){const{visibleColumn:e}=T;a().isArray(t)||(t=[t]),t.forEach(t=>{let{row:s,col:c,rowspan:u,colspan:d}=t;const p=a().isNumber(s)?s:-1;let f=-1;if(a().isNumber(c))f=c;else{const e=c?c.id:null,t=e?l[e]:null;t&&(f=t._index)}if(p>-1&&f>-1&&(u||d)){if(u=a().toNumber(u)||1,d=a().toNumber(d)||1,!n&&u>1)return void te("vxe.error.notSupportProp",["[table] show-custom-header=false",`rowspan=${u}`,"rowspan=1"]);if(u>1||d>1){const t=r[p],n=e[f];let a=i[`${p}:${f}`];a?(a.rowspan=u,a.colspan=d,a._rowspan=u,a._colspan=d):(a={row:p,col:f,rowspan:u,colspan:d,_row:t,_col:n,_rowspan:u,_colspan:d},i[`${p}:${f}`]=a,o.push(a))}}})}},mr=e=>{const{mergeHeaderList:t,fullColumnIdData:n,mergeHeaderMaps:r}=T,o=[];return e&&(a().isArray(e)||(e=[e]),e.forEach(e=>{const{row:i,col:l}=e,s=a().isNumber(i)?i:-1;let c=-1;if(a().isNumber(l))c=l;else{const e=l?l.id:null,t=e?n[e]:null;t&&(c=t._index)}const u=a().findIndexOf(t,e=>e.row===s&&e.col===c);if(u>-1){const e=t.splice(u,1),n=e[0];n&&(o.push(n),r[`${s}:${c}`]&&delete r[`${s}:${c}`])}})),o},gr=e=>{T.mergeFooterList=[],T.mergeFooterMaps={},T.mergeFooterCellMaps={},Yn.setMergeFooterCells(e)},vr=e=>{const{footerTableData:t}=S,{mergeFooterList:n,mergeFooterMaps:r,fullColumnIdData:o}=T;if(e){const{visibleColumn:i}=T;a().isArray(e)||(e=[e]),e.forEach(e=>{let{row:l,col:s,rowspan:c,colspan:u}=e;const d=a().isNumber(l)?l:-1;let p=-1;if(a().isNumber(s))p=s;else{const e=s?s.id:null,t=e?o[e]:null;t&&(p=t._index)}if(d>-1&&p>-1&&(c||u)&&(c=a().toNumber(c)||1,u=a().toNumber(u)||1,c>1||u>1)){const e=t[d],o=i[p];let a=r[`${d}:${p}`];a?(a.rowspan=c,a.colspan=u,a._rowspan=c,a._colspan=u):(a={row:d,col:p,rowspan:c,colspan:u,_row:e,_col:o,_rowspan:c,_colspan:u},r[`${d}:${p}`]=a,n.push(a))}})}},br=e=>{const{mergeFooterList:t,fullColumnIdData:n,mergeFooterMaps:r}=T,o=[];return e&&(a().isArray(e)||(e=[e]),e.forEach(e=>{const{row:i,col:l}=e,s=a().isNumber(i)?i:-1;let c=-1;if(a().isNumber(l))c=l;else{const e=l?l.id:null,t=e?n[e]:null;t&&(c=t._index)}const u=a().findIndexOf(t,e=>e.row===s&&e.col===c);if(u>-1){const e=t.splice(u,1),n=e[0];n&&(o.push(n),r[`${s}:${c}`]&&delete r[`${s}:${c}`])}})),o},xr=(e,t,n)=>{const{tableFullColumn:r}=T,o=Wt.value,{multiple:i,remote:l,orders:s}=o;if(a().isArray(t)||(t=[t]),t&&t.length){const o={};i||(t=[t[0]],r.forEach(e=>{e.order&&(o[e.id]=e)}));const c={};let u=null;return t.forEach((e,t)=>{let{field:n,order:r}=e,o=n;a().isString(n)&&(o=Yn.getColumnByField(n)),u||(u=o),o&&o.sortable&&(s&&-1===s.indexOf(r)&&(r=Qn(o)),o.order!==r&&(o.order=r),o.sortTime=Date.now()+t,c[o.id]=o)}),i||a().each(o,(e,t)=>{c[t]||(e.order=null)}),n&&(l||Yn.handleTableData(!0)),e&&Yn.handleColumnSortEvent(e,u),(0,X.nextTick)().then(()=>(Ko(),Yn.updateCellAreas(),Pr()))}return(0,X.nextTick)()},yr=()=>{const{tableFullColumn:e}=T;e.forEach(e=>{e.order=null})},wr=t=>{const{editConfig:n,editRules:r}=e,{parentHeight:o,tableColumn:i}=S;let l=e[t];if("minHeight"===t){const e=ai().table.minHeight;a().eqNull(l)&&(v(e)?i.length?r&&c(n)&&(l=144):l=40:l=e)}let s=0;if(l)if("100%"===l||"auto"===l)s=o;else{const e=Yn.getExcludeHeight();s=fe(l)?Math.floor((a().toInteger(l)||1)/100*o):a().toNumber(l),s=Math.max(40,s-e)}return s},Cr=t=>{const{aggregateConfig:n,rowGroupConfig:r}=e,{collectColumn:o}=T,i=In.value,{storage:l,storeOptions:s}=i,c=!0===l,u=Object.assign({},c?{}:l||{},s),d=Jn(u.resizable,c),p=Jn(u.visible,c),f=Jn(u.fixed,c),h=Jn(u.sort,c),m=Jn(u.aggGroup,c),g=Jn(u.aggFunc,c);let{resizableData:v,sortData:b,visibleData:x,fixedData:y,aggGroupData:w,aggFuncData:C}=t;if(d&&v||h&&b||p&&x||f&&y||m&&w||g&&C){const e={};if(h&&b){if(!a().isArray(b)){const e=[];a().each(b,(t,n)=>{e.push({key:n,index:t})}),b=a().orderBy(e,{field:"index",order:"asc"}).map(e=>({k:e.key}))}let t=1;a().eachTree(b,(n,r,o,i,a)=>{e[n.k]={key:n.k,sNum:t++,pKey:a?a.k:null}},{children:"c"})}const t={},i=[],l=[];if(a().eachTree(o,(e,o,s,c,u)=>{const h=e.getKey();u||f&&y&&void 0!==y[h]&&(e.fixed=y[h]),d&&v&&a().isNumber(v[h])&&(e.resizeWidth=v[h]),p&&x&&a().isBoolean(x[h])&&(e.visible=x[h]),g&&C&&(n||r)&&C[h]&&(e.aggFunc=C[h]),m&&w&&w[h]&&l.push({field:e.field}),t[h]=e,i.push(e)}),(n||r)&&l.length){const e=fo(T.tableFullData,l);T.tableFullTreeData=[],T.tableFullGroupData=e.treeData,S.isRowGroupStatus=!0,S.rowGroupList=l,Yn.cacheRowMap(!1)}if(h&&b){i.forEach(n=>{const r=n.getKey(),o=e[r];if(o){const e=o.pKey?t[o.pKey]:null;n.parentId=e?e.id:null,n.renderSortNumber=o.sNum}});const n=a().toArrayTree(a().orderBy(i,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});T.collectColumn=n,T.tableFullColumn=st(n)}S.isCustomStatus=!0}else S.isCustomStatus=!1},kr=()=>{const{customConfig:t}=e,n=_e.value,r=In.value,{storage:o,restoreStore:i,storeOptions:a}=r,l=!0===o,s=Object.assign({},l?{}:o||{},a),u=Jn(s.resizable,l),d=Jn(s.visible,l),p=Jn(s.fixed,l),f=Jn(s.sort,l),h=Jn(s.aggGroup,l),m=Jn(s.aggFunc,l);if(o&&(t?c(r):r.enabled)&&(u||d||p||f||h||m)){if(!n)return void te("vxe.error.reqProp",["id"]);const e=er(n);return i?Promise.resolve(i({$table:Yn,id:n,type:"restore",storeData:e})).then(e=>{if(e)return Cr(e)}).catch(e=>e):Cr(e)}},Sr=()=>{const{treeConfig:t,showOverflow:n}=e,{tableFullColumn:r,collectColumn:o}=T,i=T.fullColumnIdData={},l=T.fullColumnFieldData={},s=Gt.value,c=Tn.value,u=yt.value,d=It.value,p=Je.value,{isCrossDrag:f,isSelfToChildDrag:m}=d,g=In.value,v=En.value,{storage:b}=g,x=Et.value,y=o.some(h);let w,C,k,E,O,D,M,A=!!n;const I=(e,t,n,r,o)=>{const{id:a,field:s,fixed:c,type:d,treeNode:p,rowGroupNode:h}=e,g={$index:-1,_index:-1,column:e,colid:a,index:t,items:n,parent:o||null,width:0,oLeft:0};s?(l[s]&&te("vxe.error.colRepet",["field",s]),l[s]=g):(b&&!d&&te("vxe.error.reqSupportProp",["storage",`[${d?`type=${d}`:`title=${e.getTitle()}`}]field=?`]),u.drag&&(f||m)&&te("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${e.getTitle()||d||""} -> field=?`])),!M&&c&&(M=c),D||"html"!==d||(D=e),p&&(k&&ee("vxe.error.colRepet",["tree-node",p]),k||(k=e)),h&&(k&&ee("vxe.error.colRepet",["row-group-node",h]),w||(w=e)),"expand"===d&&(C&&ee("vxe.error.colRepet",["type",d]),C||(C=e)),"checkbox"===d?(E&&ee("vxe.error.colRepet",["type",d]),E||(E=e)):"radio"===d&&(O&&ee("vxe.error.colRepet",["type",d]),O||(O=e)),A&&!1===e.showOverflow&&(A=!1),i[a]&&te("vxe.error.colRepet",["colId",a]),i[a]=g};y?a().eachTree(o,(e,t,n,r,o,i)=>{e.level=i.length,I(e,t,n,r,o)}):r.forEach(I),C&&("fixed"!==c.mode&&p.enabled&&ee("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),"fixed"!==c.mode&&s.area&&te("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),"inside"!==c.mode&&t&&!v.transform&&te("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),e.spanMethod&&ee("vxe.error.notSupportProp",["column.type=expand","span-method","span-method=null"])),D&&(u.useKey||te("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),x.useKey||te("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),S.isGroup=y,S.rowGroupColumn=w,S.treeNodeColumn=k,S.expandColumn=C,S.checkboxColumn=E,S.radioColumn=O,S.isAllOverflow=A},Tr=()=>{T.customHeight=wr("height"),T.customMinHeight=wr("minHeight"),T.customMaxHeight=wr("maxHeight"),S.scrollYLoad&&!(T.customHeight||T.customMinHeight||T.customMaxHeight)&&(T.customHeight=300)},Er=(e,t)=>{const n=yt.value,{autoOptions:r}=n,{isCalcHeader:o,isCalcBody:i,isCalcFooter:l}=r||{},s=[];o&&s.push(`.vxe-header-cell--wrapper[colid="${e.id}"]`),i&&s.push(`.vxe-body-cell--wrapper[colid="${e.id}"]`),l&&s.push(`.vxe-footer-cell--wrapper[colid="${e.id}"]`);const c=s.length?t.querySelectorAll(s.join(",")):[];let u=0;const d=c[0];if(d&&d.parentElement){const e=getComputedStyle(d.parentElement);u=Math.ceil(a().toNumber(e.paddingLeft)+a().toNumber(e.paddingRight))}let p=e.renderAutoWidth-u;for(let a=0;a<c.length;a++){const e=c[a];p=Math.max(p,e?Math.ceil(e.scrollWidth)+4:0)}return p+u},Or=()=>{const e=Fn.value,{fullColumnIdData:t}=T,n=D.value;n&&(n.setAttribute("data-calc-col","Y"),e.forEach(e=>{const r=e.id,o=t[r],i=Er(e,n);o&&(o.width=Math.max(i,o.width)),e.renderAutoWidth=i}),Yn.analyColumnWidth(),n.removeAttribute("data-calc-col"))},Dr=()=>{const{elemStore:t}=T,n=ot(t["main-body-wrapper"]);if(!n)return;const r=we.value;if(!r)return;const o=de.value;if(!o)return;let i=0;const l=40,s=n.clientWidth;let c=s,u=c/100;const{fit:d}=e,{columnStore:p}=S,{resizeList:f,pxMinList:h,autoMinList:m,pxList:g,scaleList:v,scaleMinList:b,autoList:x,remainList:y}=p;if(h.forEach(e=>{const t=a().toInteger(e.minWidth);i+=t,e.renderWidth=t}),m.forEach(e=>{const t=Math.max(60,a().toInteger(e.renderAutoWidth));i+=t,e.renderWidth=t}),b.forEach(e=>{const t=Math.floor(a().toInteger(e.minWidth)*u);i+=t,e.renderWidth=t}),v.forEach(e=>{const t=Math.floor(a().toInteger(e.width)*u);i+=t,e.renderWidth=t}),g.forEach(e=>{const t=a().toInteger(e.width);i+=t,e.renderWidth=t}),x.forEach(e=>{const t=Math.max(60,a().toInteger(e.renderAutoWidth));i+=t,e.renderWidth=t}),f.forEach(e=>{const t=a().toInteger(e.resizeWidth);i+=t,e.renderWidth=t}),c-=i,u=c>0?Math.floor(c/(b.length+h.length+m.length+y.length)):0,d?c>0&&b.concat(h).concat(m).forEach(e=>{i+=u,e.renderWidth+=u}):u=l,y.forEach(e=>{const t=Math.max(u,l);e.renderWidth=t,i+=t}),d){const e=v.concat(b).concat(h).concat(m).concat(y);let t=e.length-1;if(t>0){let n=s-i;if(n>0){while(n>0&&t>=0)n--,e[t--].renderWidth++;i=s}}}S.scrollXWidth=i,S.resizeWidthFlag++,Yo(),Tr()},Mr=(e,t)=>{const{scrollXLoad:n}=S,r=t.querySelectorAll(`.vxe-cell--wrapper[rowid="${e.rowid}"]`);let o=0,i=null,l=0;for(let s=0;s<r.length;s++){const e=r[s],t=e.parentElement,c=t.style,u=c.height;n||(c.height=""),i||(i=getComputedStyle(t),l=i?Math.ceil(a().toNumber(i.paddingTop)+a().toNumber(i.paddingBottom)):0),n||(c.height=u);const d=e?e.clientHeight:0;o=Math.max(o,Math.ceil(d+l))}return n&&(o=Math.max(o,e.height)),o},Ar=()=>{const{treeConfig:t}=e,{tableData:n,isAllOverflow:r,scrollYLoad:o,scrollXLoad:i}=S,{fullAllDataRowIdData:a}=T,l=En.value,s=gt.value,c=D.value;if(c&&!r&&(o||i||t&&l.showLine)){const{handleGetRowId:e}=He(Yn);c.setAttribute("data-calc-row","Y"),n.forEach(t=>{const n=e(t),r=a[n];if(r){const e=Mr(r,c);r.height=Math.max(s,e)}c.removeAttribute("data-calc-row")}),S.calcCellHeightFlag++}},Ir=e=>{const{isRowGroupStatus:t}=S,{sortBy:n,sortType:r,aggFunc:o}=e;return t&&o?t=>{if(t.isAggregate){const n=t.aggData,r=n?n[e.field]:null;return r?r.value:null}let o;return o=n?a().isFunction(n)?n({row:t,column:e}):a().get(t,n):E.getCellLabel(t,e),r&&"auto"!==r?"number"===r?a().toNumber(o):"string"===r?a().toValueString(o):o:isNaN(o)?o:a().toNumber(o)}:t=>{let o;return o=n?a().isFunction(n)?n({row:t,column:e}):a().get(t,n):E.getCellLabel(t,e),r&&"auto"!==r?"number"===r?a().toNumber(o):"string"===r?a().toValueString(o):o:isNaN(o)?o:a().toNumber(o)}},Nr=()=>{const{treeConfig:t}=e,{afterFullData:n,fullDataRowIdData:r,fullAllDataRowIdData:o}=T,{handleGetRowId:i}=He(Yn),a={};n.forEach((e,n)=>{const l=i(e),s=o[l],c=n+1;if(s)t||(s.seq=c),s._index=n;else{const t={row:e,rowid:l,seq:c,index:-1,$index:-1,_index:n,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};o[l]=t,r[l]=t}a[l]=e}),T.afterFullRowMaps=a},Rr=()=>{const{treeConfig:t}=e,{fullDataRowIdData:n,fullAllDataRowIdData:r,afterFullData:o,afterTreeFullData:i}=T,l=En.value,{transform:s}=l,c=l.children||l.childrenField,u={};if(t){let e=0;const{handleGetRowId:d}=He(Yn);a().eachTree(i,(t,o,i,a)=>{const l=d(t),s=r[l],c=a.map((e,t)=>t%2===0?Number(e)+1:".").join("");if(s)s.seq=c,s.treeIndex=o,s._tIndex=e;else{const o={row:t,rowid:l,seq:c,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:e,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};r[l]=o,n[l]=o}e++,u[l]=t},{children:s?l.mapChildrenField:c}),s&&o.forEach((e,n)=>{const o=d(e),i=r[o],a=n+1;i&&(t||(i.seq=a),i._index=n)}),T.afterFullRowMaps=u}else Nr()},Fr=()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{fullAllDataRowIdData:r,treeExpandedMaps:o,rowGroupExpandedMaps:i}=T,l=Ot.value,s=En.value,{handleGetRowId:c}=He(Yn),u=[],d={};if(t&&s.transform){const e=s.children||s.childrenField;return a().eachTree(T.afterTreeFullData,(e,t,n,i,a)=>{const l=c(e),s=c(a);if(!a||d[s]&&o[s]){const t=r[l];t&&(t._index=u.length),d[l]=1,u.push(e)}},{children:e}),T.afterFullData=u,To(u),u}if(n){const{childrenField:e}=l;return a().eachTree(T.afterGroupFullData,(e,t,n,o,a)=>{const l=c(e),s=c(a);if(!a||d[s]&&i[s]){const t=r[l];t&&(t._index=u.length),d[l]=1,u.push(e)}},{children:e}),T.afterFullData=u,To(u),u}return T.afterFullData},_r=()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{tableFullColumn:r,tableFullData:o,tableFullTreeData:i,tableFullGroupData:l}=T,s=qt.value,u=Wt.value,d=Ot.value,p=En.value,f=p.children||p.childrenField,{transform:h,rowField:m,parentField:g,mapChildrenField:v}=p,{isEvery:b,remote:x,filterMethod:y}=s,{remote:w,sortMethod:C,multiple:k,chronological:E}=u;let O=[],D=[];if(x&&w)n?(D=a().searchTree(l,()=>!0,{original:!0,isEvery:!0,children:d.mapChildrenField,mapChildren:d.childrenField}),O=D):t&&h?(D=a().searchTree(i,()=>!0,{original:!0,isEvery:b,children:v,mapChildren:f}),O=D):(O=t?i.slice(0):o.slice(0),D=O);else{const e=[];let s=[];if(r.forEach(t=>{const{field:n,sortable:r,order:o,filters:i}=t;if(!x&&i&&i.length){const n=[],r=[];i.forEach(e=>{e.checked&&(r.push(e),n.push(e.value))}),r.length&&e.push({column:t,valueList:n,itemList:r})}!w&&r&&o&&s.push({column:t,field:n,property:n,order:o,sortTime:t.sortTime})}),k&&E&&s.length>1&&(s=a().orderBy(s,"sortTime")),!x&&e.length){const r=t=>e.every(({column:e,valueList:n,itemList:r})=>{const{filterMethod:o,filterRender:i}=e,l=c(i)?ci.get(i.name):null,s=l?l.tableFilterMethod||l.filterMethod:null,u=l?l.tableFilterDefaultMethod||l.defaultTableFilterMethod||l.defaultFilterMethod:null,d=nt(t,e);return o?r.some(n=>o({value:n.value,option:n,cellValue:d,row:t,column:e,$table:Yn})):s?r.some(n=>s({value:n.value,option:n,cellValue:d,row:t,column:e,$table:Yn})):y?y({$table:Yn,options:r,values:n,cellValue:d,row:t,column:e}):u?r.some(n=>u({value:n.value,option:n,cellValue:d,row:t,column:e,$table:Yn})):n.indexOf(a().get(t,e.field))>-1});n?(D=a().searchTree(l,r,{original:!0,isEvery:!0,children:d.mapChildrenField,mapChildren:d.childrenField}),O=D):t&&h?(D=a().searchTree(i,r,{original:!0,isEvery:b,children:v,mapChildren:f}),O=D):(O=t?i.filter(r):o.filter(r),D=O)}else n?(D=a().searchTree(l,()=>!0,{original:!0,isEvery:!0,children:d.mapChildrenField,mapChildren:d.childrenField}),O=D):t&&h?(D=a().searchTree(i,()=>!0,{original:!0,isEvery:b,children:v,mapChildren:f}),O=D):(O=t?i.slice(0):o.slice(0),D=O);if(!w&&s.length)if(n){if(C){const e=C({data:D,sortList:s,$table:Yn});D=a().isArray(e)?e:D}else{const e=a().toTreeArray(D,{key:d.rowField,parentKey:d.parentField,children:d.mapChildrenField});D=a().toArrayTree(a().orderBy(e,s.map(({column:e,order:t})=>[Ir(e),t])),{key:d.rowField,parentKey:d.parentField,children:d.childrenField,mapChildren:d.mapChildrenField})}O=D}else if(t&&h){if(C){const e=C({data:D,sortList:s,$table:Yn});D=a().isArray(e)?e:D}else{const e=a().toTreeArray(D,{children:v});D=a().toArrayTree(a().orderBy(e,s.map(({column:e,order:t})=>[Ir(e),t])),{key:m,parentKey:g,children:f,mapChildren:v})}O=D}else{if(C){const e=C({data:O,sortList:s,$table:Yn});O=a().isArray(e)?e:O}else O=a().orderBy(O,s.map(({column:e,order:t})=>[Ir(e),t]));D=O}}T.afterFullData=O,T.afterTreeFullData=D,T.afterGroupFullData=D,Rr()},Pr=()=>{const{mouseConfig:t}=e,{isGroup:n,currentRow:r,tableColumn:o,overflowX:i,scrollbarWidth:a,overflowY:s,scrollbarHeight:c,scrollXWidth:u,columnStore:d,editStore:p,isColLoading:f}=S,{visibleColumn:h,tableHeight:m,elemStore:g,customHeight:v,customMinHeight:b,customMaxHeight:x,tHeaderHeight:y,tFooterHeight:w}=T,C=T.xeGanttView,k=D.value;if(!k||T.tBodyHeight&&!k.clientHeight)return;const E=["main","left","right"],{leftList:O,rightList:M}=d;let A=s?a:0,I=i?c:0;const N=Q.value,R=un.value,F=pn.value,_=fn.value,P=Qe.value,j=Gt.value,$=ot(g["main-body-wrapper"]),L=ot(g["main-body-table"]);N&&(N.style.top=`${y}px`,N.style.height=$?$.offsetHeight-I+"px":"");const z=P.x||{},V=P.y||{},B=dt.value;let H=i?"visible":"hidden";"visible"===z.visible||C?(I=c,H="visible"):"hidden"!==z.visible&&!1!==z.visible||(I=0,H="hidden");let W=s?"visible":"hidden";"hidden"===V.visible||!1===V.visible||C&&!B?(A=0,W="hidden"):"visible"===V.visible&&(A=a,W="visible");let q=0,U=0;const G=b-y-w-I;x&&(U=Math.max(G,x-y-w-I)),v&&(q=v-y-w-I),q||L&&(q=L.clientHeight),q&&(U&&(q=Math.min(U,q)),q=Math.max(G,q));const Z=xe.value,J=ye.value,ee=le.value;ee&&(ee.style.height=`${I}px`,ee.style.visibility=H);const te=De.value;te&&(te.style.width=k.clientWidth-A+"px",te.style.left=B?`${A}px`:""),Z&&(B?(Z.style.width=`${A}px`,Z.style.display=s&&A?"block":""):Z.style.display=""),J&&(B?J.style.display="":(J.style.width=`${A}px`,J.style.display="visible"===H?"block":""));const ne=ue.value;ne&&(ne.style.width=`${A}px`,ne.style.height=`${q+y+w}px`,ne.style.visibility=W);const re=Te.value;re&&(re.style.height=`${y}px`,re.style.display=y&&"visible"===W?"block":"");const oe=Me.value;oe&&(oe.style.height=`${q}px`,oe.style.top=`${y}px`);const ae=Ae.value;ae&&(ae.style.height=`${w}px`,ae.style.top=`${y+q}px`,ae.style.display=w&&"visible"===W?"block":"");const se=ie.value;return se&&(se.style.height=`${q}px`,se.style.top=`${y}px`),T.tBodyHeight=q,E.forEach((e,t)=>{const r=t>0?e:"",a=["header","body","footer"],s="left"===r;let c,d=[];r&&(d=s?O:M,c=s?Y.value:K.value),a.forEach(t=>{const a=ot(g[`${e}-${t}-wrapper`]),s=ot(g[`${e}-${t}-scroll`]),p=ot(g[`${e}-${t}-table`]);if("header"===t){let e=o;const t=R;n?e=h:(t&&(f||!r&&i)||(e=h),r&&t&&(e=d||[]));const l=e.reduce((e,t)=>e+t.renderWidth,0);r&&(n?a&&(a.style.width=u?`${u}px`:""):t?a&&(a.style.width=l?`${l}px`:""):a&&(a.style.width=u?`${u}px`:"")),s&&(s.style.height=`${y}px`),p&&(p.style.width=l?`${l}px`:"")}else if("body"===t){s&&(s.style.maxHeight=x?`${U}px`:"",s.style.height=v?`${q}px`:"",s.style.minHeight=`${G}px`),c&&(a&&(a.style.top=`${y}px`),c.style.height=`${v>0?v:m+y+w+I}px`,c.style.width=`${d.reduce((e,t)=>e+t.renderWidth,0)}px`);let n=o;const i=F;r&&(n=h,i&&(n=d||[]));const f=n.reduce((e,t)=>e+t.renderWidth,0);r&&(i?a&&(a.style.width=f?`${f}px`:""):a&&(a.style.width=u?`${u}px`:"")),p&&(p.style.width=f?`${f}px`:"",p.style.paddingRight=A&&r&&(l.firefox||l.safari)?`${A}px`:"");const b=ot(g[`${e}-${t}-emptyBlock`]);b&&(b.style.width=f?`${f}px`:"")}else if("footer"===t){let e=o;const t=_;t&&(f||!r&&i)||(e=h),r&&t&&(e=d||[]);const n=e.reduce((e,t)=>e+t.renderWidth,0);r&&(t?a&&(a.style.width=n?`${n}px`:""):a&&(a.style.width=u?`${u}px`:"")),s&&(s.style.height=`${w}px`,c&&a&&(a.style.top=`${v>0?v-w-I:m+y}px`)),p&&(p.style.width=n?`${n}px`:"")}})}),r&&Yn.setCurrentRow(r),t&&j.selected&&p.selected.row&&p.selected.column&&Yn.addCellSelectedClass(),C&&C.handleUpdateStyle&&C.handleUpdateStyle(),(0,X.nextTick)()},jr=e=>Yn.triggerValidate?Yn.triggerValidate(e):(0,X.nextTick)(),$r=(e,t)=>{jr("blur").catch(e=>e).then(()=>{Yn.handleEdit(t,e).then(()=>jr("change")).catch(e=>e)})},Lr=()=>{const{sortConfig:t}=e;if(t){const e=Wt.value;let{defaultSort:n}=e;n&&(a().isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach((e,t)=>{const{field:n,order:r}=e;if(n&&r){const e=Yn.getColumnByField(n);e&&e.sortable&&(e.order=r,e.sortTime=Date.now()+t)}}),e.remote||Yn.handleTableData(!0).then(Pr)))}},zr=()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=T,t=Pt.value,{checkAll:n,checkRowKeys:r}=t;if(n)Gr(!0,!0);else if(r){const t=[];r.forEach(n=>{e[n]&&t.push(e[n].row)}),Ur(t,!0,!0)}}},Vr=()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=T,t=_t.value,{checkRowKey:n,reserve:r}=t;if(n&&(e[n]&&qr(e[n].row,!0),r)){const e=ze(Yn);T.radioReserveRow={[e]:n}}}},Br=()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=T,t=Tn.value,{expandAll:n,expandRowKeys:r}=t;if(n)Yn.setAllRowExpand(!0);else if(r){const t=[];r.forEach(n=>{e[n]&&t.push(e[n].row)}),Yn.setRowExpand(t,!0)}}},Hr=e=>{const t=_t.value;t.reserve&&(T.radioReserveRow=e)},Wr=(e,t)=>{const{checkboxReserveRowMap:n}=T,r=Pt.value;if(r.reserve){const r=Ve(Yn,e);t?n[r]=e:n[r]&&delete n[r]}},qr=(e,t)=>{const n=_t.value,{checkMethod:r}=n;return e&&(t||!r||r({$table:Yn,row:e}))&&(S.selectRadioRow=e,Hr(e)),(0,X.nextTick)()},Ur=(e,t,n)=>(e&&!a().isArray(e)&&(e=[e]),Yn.handleBatchSelectRows(e,!!t,n),Yn.checkSelectionStatus(),(0,X.nextTick)()),Gr=(t,n)=>{const{treeConfig:r}=e,{isRowGroupStatus:o}=S,{afterFullData:i,afterTreeFullData:l,afterGroupFullData:s,checkboxReserveRowMap:c,selectCheckboxMaps:u}=T,d=En.value,p=Ot.value,f=d.children||d.childrenField,h=Pt.value,{checkField:m,reserve:g,checkMethod:v}=h,{handleGetRowId:b}=He(Yn),x=h.indeterminateField||h.halfField,y={};if(m){const e=e=>{(n||!v||v({$table:Yn,row:e}))&&(t&&(y[b(e)]=e),a().set(e,m,t)),(r||o)&&x&&a().set(e,x,!1)};r||o?a().eachTree(i,e,{children:f}):i.forEach(e)}else o?t?a().eachTree(s,e=>{if(n||!v||v({$table:Yn,row:e})){const t=b(e);y[t]=e}},{children:p.mapChildrenField}):!n&&v&&a().eachTree(s,e=>{const t=b(e);!v({$table:Yn,row:e})&&u[t]&&(y[t]=e)},{children:p.mapChildrenField}):r?t?a().eachTree(l,e=>{if(n||!v||v({$table:Yn,row:e})){const t=b(e);y[t]=e}},{children:f}):!n&&v&&a().eachTree(l,e=>{const t=b(e);!v({$table:Yn,row:e})&&u[t]&&(y[t]=e)},{children:f}):t?!n&&v?i.forEach(e=>{const t=b(e);(u[t]||v({$table:Yn,row:e}))&&(y[t]=e)}):i.forEach(e=>{const t=b(e);y[t]=e}):!n&&v&&i.forEach(e=>{const t=b(e);!v({$table:Yn,row:e})&&u[t]&&(y[t]=e)});return g&&(t?a().each(y,(e,t)=>{c[t]=e}):i.forEach(e=>Wr(e,!1))),S.updateCheckboxFlag++,T.selectCheckboxMaps=m?{}:y,S.isAllSelected=t,S.isIndeterminate=!1,T.treeIndeterminateRowMaps={},Yn.checkSelectionStatus(),(0,X.nextTick)()},Yr=()=>{const{treeConfig:t}=e,{expandColumn:n,currentRow:r,selectRadioRow:o}=S,{fullDataRowIdData:i,fullAllDataRowIdData:a,radioReserveRow:l,selectCheckboxMaps:s,treeExpandedMaps:c,rowExpandedMaps:u}=T,d=Tn.value,p=En.value,f=_t.value,h=Pt.value;if(o&&!a[Ve(Yn,o)]&&(S.selectRadioRow=null),f.reserve&&l){const e=Ve(Yn,l);i[e]&&qr(i[e].row,!0)}T.selectCheckboxMaps=nr(s),S.updateCheckboxFlag++,h.reserve&&Ur(rr(T.checkboxReserveRowMap),!0,!0),r&&!a[Ve(Yn,r)]&&(S.currentRow=null),T.rowExpandedMaps=n?nr(u):{},S.rowExpandedFlag++,n&&d.reserve&&Yn.setRowExpand(rr(T.rowExpandedReserveRowMap),!0),T.treeExpandedMaps=t?nr(c):{},S.treeExpandedFlag++,t&&p.reserve&&Yn.setTreeExpand(rr(T.treeExpandedReserveRowMap),!0)},Kr=()=>{const{treeConfig:t}=e;if(t){const{fullAllDataRowIdData:e}=T,t=En.value,{expandAll:n,expandRowKeys:r}=t;if(n)Yn.setAllTreeExpand(!0);else if(r){const t=[];r.forEach(n=>{const r=e[n];r&&t.push(r.row)}),Yn.setTreeExpand(t,!0)}}},Xr=e=>{const t=En.value,n=Pt.value,{transform:r,loadMethod:o}=t,{checkStrictly:i}=n;return new Promise(t=>{if(o){const{fullAllDataRowIdData:n,treeExpandLazyLoadedMaps:l}=T,s=Ve(Yn,e),c=n[s];l[s]=e,Promise.resolve(o({$table:Yn,row:e})).then(t=>{if(c&&(c.treeLoaded=!0),l[s]&&delete l[s],a().isArray(t)||(t=[]),t)return Yn.loadTreeChildren(e,t).then(t=>{const{treeExpandedMaps:n}=T;return t.length&&!n[s]&&(n[s]=e),S.treeExpandedFlag++,!i&&Yn.isCheckedByCheckboxRow(e)&&Ur(t,!0),(0,X.nextTick)().then(()=>{if(r)return Yn.handleTableData(),Rr(),(0,X.nextTick)()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:e}=T;c&&(c.treeLoaded=!1),e[s]&&delete e[s]}).finally(()=>{S.treeExpandedFlag++,(0,X.nextTick)().then(()=>Yn.recalculate()).then(()=>t())})}else t()})},Zr=(e,t)=>{const{treeExpandedReserveRowMap:n}=T,r=En.value;if(r.reserve){const r=Ve(Yn,e);t?n[r]=e:n[r]&&delete n[r]}},Jr=e=>new Promise(t=>{const n=Tn.value,{loadMethod:r}=n;if(r){const{fullAllDataRowIdData:n,rowExpandLazyLoadedMaps:o}=T,i=Ve(Yn,e),a=n[i];o[i]=e,r({$table:Yn,row:e,rowIndex:Yn.getRowIndex(e),$rowIndex:Yn.getVMRowIndex(e)}).then(()=>{const{rowExpandedMaps:t}=T;a&&(a.expandLoaded=!0),t[i]=e,S.rowExpandedFlag++}).catch(()=>{a&&(a.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:e}=T;e[i]&&delete e[i],S.rowExpandedFlag++,(0,X.nextTick)().then(()=>Yn.recalculate()).then(()=>Yn.updateCellAreas()).then(()=>t())})}else t()}),Qr=(e,t)=>{const{rowExpandedReserveRowMap:n}=T,r=Tn.value;if(r.reserve){const r=Ve(Yn,e);t?n[r]=e:n[r]&&delete n[r]}},eo=()=>{const{mergeCells:t}=e;t&&Yn.setMergeCells(t)},to=()=>{const{mergeHeaderCells:t}=e;t&&Yn.setMergeHeaderCells(t)},no=()=>{const{mergeFooterCells:t,mergeFooterItems:n}=e,r=t||n;r&&Yn.setMergeFooterCells(r)},ro=()=>(0,X.nextTick)().then(()=>{const{scrollXLoad:e,scrollYLoad:t}=S,{scrollXStore:n,scrollYStore:r}=T,o=Je.value,i=Ye.value;if(e){const{toVisibleIndex:e,visibleSize:t}=or(),r=Math.max(0,i.oSize?a().toNumber(i.oSize):0);n.preloadSize=a().toNumber(i.preSize),n.offsetSize=r,n.visibleSize=t,n.endIndex=Math.max(n.startIndex+n.visibleSize+r,n.endIndex),n.visibleStartIndex=Math.max(n.startIndex,e),n.visibleEndIndex=Math.min(n.endIndex,e+t),Yn.updateScrollXData().then(()=>{yo()})}else Yn.updateScrollXSpace();const l=ar();r.rowHeight=l,S.rowHeight=l;const{toVisibleIndex:s,visibleSize:c}=lr();if(t){const e=Math.max(0,o.oSize?a().toNumber(o.oSize):0);r.preloadSize=a().toNumber(o.preSize),r.offsetSize=e,r.visibleSize=c,r.endIndex=Math.max(r.startIndex+c+e,r.endIndex),r.visibleStartIndex=Math.max(r.startIndex,s),r.visibleEndIndex=Math.min(r.endIndex,s+c),Yn.updateScrollYData().then(()=>{No()})}else Yn.updateScrollYSpace()}),oo=()=>{const{scrollXWidth:e,scrollYHeight:t}=S,{elemStore:n}=T,r=Qe.value,o=ot(n["main-body-wrapper"]),i=ot(n["main-header-table"]),a=ot(n["main-footer-table"]),l=de.value,s=we.value;let c=!1,u=!1;if(o){c=t>o.clientHeight,s&&(S.scrollbarWidth=r.width||s.offsetWidth-s.clientWidth||14),S.overflowY=c,u=e>o.clientWidth,l&&(S.scrollbarHeight=r.height||l.offsetHeight-l.clientHeight||14);const n=i?i.clientHeight:0,d=a?a.clientHeight:0;T.tableHeight=o.offsetHeight,T.tHeaderHeight=n,T.tFooterHeight=d,S.overflowX=u,S.parentHeight=Math.max(n+d+20,Yn.getParentHeight())}u&&Yn.checkScrolling()},io=(e,t,n)=>{const r=D.value;if(T.rceRunTime=Date.now(),!r||!r.clientWidth)return(0,X.nextTick)();const o=M.value;if(o){const[e,t,n,r]=o.children;ir("default",e),ir("medium",t),ir("small",n),ir("mini",r)}return t&&Or(),e&&Dr(),oo(),Pr(),Xo(),e&&Zo(),ro().then(()=>{if(t&&Or(),e&&Dr(),n&&Ar(),Pr(),oo(),e&&Ko(),Xo(),e&&Zo(),e)return ro()})},ao=(e,t,n)=>new Promise(r=>{const o=T.xeGanttView,{rceTimeout:i,rceRunTime:a}=T,l=Nt.value,s=l.refreshDelay||20,c=D.value;c&&c.clientWidth&&(Dr(),Xo()),i?(clearTimeout(i),a&&a+(s-5)<Date.now()?r(io(e,t,n)):(0,X.nextTick)(()=>{r()})):r(io(e,t,n)),o&&o.handleLazyRecalculate&&o.handleLazyRecalculate(),T.rceTimeout=setTimeout(()=>{T.rceTimeout=void 0,io(e,t,n)},s)}),lo=()=>{ao(!0,!0,!0)},so=()=>{const{visibleColumn:e}=T,t=[];e.forEach(e=>{e.aggFunc&&t.push(e)}),S.aggHandleAggColumns=t},co=e=>{const t=[],n=[];e&&(a().isArray(e)?e:[e]).forEach(e=>{t.push(e),n.push({field:e})}),S.rowGroupList=n,S.aggHandleFields=t,so()},uo=e=>{const{fullColumnFieldData:t}=T,n=Ot.value,r=Wn.value,{mapChildrenField:o}=n,i=n.calcValuesMethod||n.countMethod||n.aggregateMethod;o&&(a().lastEach(e,e=>{let t=0;a().each(e[o],e=>{e.isAggregate?t+=e.childCount||0:t++}),e.childCount=t}),Yn.handlePivotTableAggregateData?Yn.handlePivotTableAggregateData(e):r.length&&a().lastEach(e,e=>{const n={},l=e.aggData,s=e.groupField,c=e.groupContent,u=o&&e[o]||[],d=e.childCount,p=t[s]||{};r.forEach(t=>{const{field:r}=t,o=l?l[r]:null,f={$table:Yn,groupField:s,groupColumn:p?p.column:null,column:t,groupValue:c,childList:u,childCount:d,aggValue:o?o.value:0,children:u,totalValue:d};let h=0;u.length&&u[0].isAggregate?a().each(u,e=>{if(e.isAggregate){const t=e.aggData[r];t&&(h+=t.value)}}):h=i?i(f):e.childCount,n[r]={type:"count",value:h,label:h}}),e.aggData=n}))},po=()=>{const{aggregateConfig:t,rowGroupConfig:n}=e,{isRowGroupStatus:r}=S,{tableFullGroupData:o}=T,i=Ot.value,{mapChildrenField:l}=i;if((t||n)&&r){const e=[];a().eachTree(o,t=>{t.isAggregate&&e.push(t)},{children:l}),uo(e)}},fo=(e,t)=>{let n=e,r=e;if(t){const o=Ot.value,{rowField:i,parentField:l,childrenField:s,mapChildrenField:c}=o,u=Pt.value,{checkField:d}=u,p=u.indeterminateField||u.halfField,f=t[0];if(f&&i&&l&&s&&c){n=[],r=[];const o=f.field,u=Yn.getColumnByField(o),h={},m=[],g=ze(Yn);e.forEach(e=>{const t=u?Yn.getCellLabel(e,u):a().get(e,o),n=a().eqNull(t)?"":t;let r=h[n];r||(r=[],h[n]=r),e.isAggregate&&(e.isAggregate=void 0),r.push(e)}),a().objectEach(h,(e,a)=>{const{fullData:u,treeData:f}=fo(e,t.slice(1)),h={isAggregate:!0,aggData:{},groupContent:a,groupField:o,childCount:0,[i]:$e(),[l]:null,[g]:$e(),[s]:f,[c]:f};d&&(h[d]=!1),p&&(h[p]=!1),m.push(h),r.push(h),n.push(h),u.length&&n.push(...u)}),uo(m)}}return{treeData:r,fullData:n}},ho=()=>{const{data:t}=e;mo(t||[],!0,!0).then(()=>{t&&t.length&&(T.inited=!0,T.initStatus=!0,go()),vo(),Pr(),S.isAllOverflow||(Ar(),Ko())}),(0,X.nextTick)(()=>{Ho("ready",{},null)})},mo=(t,n,r)=>{const{keepSource:o,treeConfig:i,rowGroupConfig:l,aggregateConfig:s}=e,{rowGroupList:c,scrollYLoad:u}=S,{initStatus:d,scrollYStore:p,scrollXStore:f,lastScrollLeft:h,lastScrollTop:m}=T,g=Et.value,v=En.value,b=Tn.value,{transform:x}=v,y=v.children||v.childrenField;let w=[],C=(0,X.reactive)(t?t.slice(0):[]);if(C.length>xi&&te("vxe.error.errMaxRow",[xi]),i&&c.length)return te("vxe.error.noTree",["aggregate-config"]),(0,X.nextTick)();if(g.drag&&c.length)return te("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),(0,X.nextTick)();let k=!1;if(i)x?(v.rowField||te("vxe.error.reqProp",["tree-config.rowField"]),v.parentField||te("vxe.error.reqProp",["tree-config.parentField"]),y||te("vxe.error.reqProp",["tree-config.childrenField"]),v.mapChildrenField||te("vxe.error.reqProp",["tree-config.mapChildrenField"]),y===v.mapChildrenField&&te("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),w=a().toArrayTree(C,{key:v.rowField,parentKey:v.parentField,children:y,mapChildren:v.mapChildrenField}),C=w.slice(0)):w=C.slice(0);else if((s||l)&&c.length){const e=fo(C,c);w=e.treeData,C=e.fullData,k=!0}S.isRowGroupStatus=k,p.startIndex=0,p.endIndex=1,f.startIndex=0,f.endIndex=1,T.cvCacheMaps={},S.isRowLoading=!0,S.scrollVMLoading=!1,S.treeExpandedFlag++,S.rowExpandedFlag++,T.insertRowMaps={},S.insertRowFlag++,T.removeRowMaps={},S.removeRowFlag++;const E=To(C);return T.tableFullData=C,T.tableFullTreeData=k?[]:w,T.tableFullGroupData=k?w:[],Yn.cacheRowMap(r),T.tableSynchData=t,r&&(T.isResizeCellHeight=!1),o&&Yn.cacheSourceMap(C),Yn.clearCellAreas&&e.mouseConfig&&(Yn.clearCellAreas(),Yn.clearCopyCellArea()),Yn.clearMergeCells(),Yn.clearMergeFooterItems(),Yn.handleTableData(!0),Yn.updateFooter(),Yn.handleUpdateBodyMerge(),(0,X.nextTick)().then(()=>{Tr(),Pr()}).then(()=>{ro()}).then(()=>{const t=Je.value;return E&&(p.endIndex=p.visibleSize),E&&(S.expandColumn&&"fixed"!==b.mode&&te("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),"scroll"===t.mode&&"fixed"===b.mode&&ee("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),e.height||e.maxHeight||te("vxe.error.reqSupportProp",["virtual-y-config.enabled = true","height | max-height"])),Yr(),Yn.checkSelectionStatus(),Yn.dispatchEvent("data-change",{visibleColumn:T.visibleColumn,visibleData:T.afterFullData},null),new Promise(t=>{(0,X.nextTick)().then(()=>io(!1,!1,!1)).then(()=>{io(!1,!0,!0),Ko()}).then(()=>{let n=h,r=m;const o=Ye.value,i=Je.value;o.scrollToLeftOnChange&&(n=0),i.scrollToTopOnChange&&(r=0),S.isRowLoading=!1,io(!1,!1,!1),Zo(),e.showOverflow||setTimeout(()=>{ao(!1,!0,!0),setTimeout(()=>ao(!1,!0,!0),3e3)},2e3),u===E?je(Yn,n,r).then(()=>{io(!1,!0,!0),Ko(),Zo(),(0,X.nextTick)(()=>t())}):setTimeout(()=>{je(Yn,n,r).then(()=>{io(!1,!0,!0),Ko(),Zo(),(0,X.nextTick)(()=>t())})})})}).then(()=>{d?Ho("data-rendered",{isReload:n,visibleColumn:T.visibleColumn,visibleData:T.afterFullData},null):Ho("init-rendered",{visibleColumn:T.visibleColumn,visibleData:T.afterFullData},null)})})},go=()=>{zr(),Vr(),Br(),Kr(),Ao(),eo(),to(),no(),(0,X.nextTick)(()=>{setTimeout(()=>Yn.recalculate())})},vo=()=>{Lr()},bo=()=>{const{scrollXLoad:e}=S,{visibleColumn:t,scrollXStore:n,fullColumnIdData:r}=T,o=e?t.slice(n.startIndex,n.endIndex):t.slice(0);o.forEach((e,t)=>{const n=e.id,o=r[n];o&&(o.$index=t)}),S.tableColumn=o},xo=()=>{const e=a().orderBy(T.collectColumn,"renderSortNumber");T.collectColumn=e;const t=st(e);T.tableFullColumn=t,Sr()},yo=()=>{const{isScrollXBig:e}=S,{mergeBodyList:t,mergeFooterList:n,scrollXStore:r}=T,{preloadSize:o,startIndex:i,endIndex:a,offsetSize:l}=r,{toVisibleIndex:s,visibleSize:c}=or(),u={startIndex:Math.max(0,e?s-1:s-1-l-o),endIndex:e?s+c:s+c+l+o};r.visibleStartIndex=s-1,r.visibleEndIndex=s+c+1,sr(t.concat(n),u,"col");const{startIndex:d,endIndex:p}=u;(s<=i||s>=a-c-1)&&(i===d&&a===p||(r.startIndex=d,r.endIndex=p,Yn.updateScrollXData())),Yn.closeTooltip()},wo=t=>{const n=[],r=[],o=[],{isGroup:i,columnStore:l}=S,{collectColumn:s,tableFullColumn:c,scrollXStore:u,fullColumnIdData:d}=T;if(i){const e=[],t=[],i=[];a().eachTree(s,(e,t,i,l,s)=>{const c=h(e);s&&s.fixed&&(e.fixed=s.fixed),s&&(e.fixed||"")!==(s.fixed||"")&&te("vxe.error.groupFixed"),c?e.visible=!!a().findTree(e.children,e=>!h(e)&&e.visible):e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?o.push(e):r.push(e))}),s.forEach(n=>{n.visible&&("left"===n.fixed?e.push(n):"right"===n.fixed?i.push(n):t.push(n))}),S.tableGroupColumn=e.concat(t).concat(i)}else c.forEach(e=>{e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?o.push(e):r.push(e))});const p=n.concat(r).concat(o);T.visibleColumn=p,Yo();const f=So();if(S.hasFixedColumn=n.length>0||o.length>0,Object.assign(l,{leftList:n,centerList:r,rightList:o}),f&&(e.spanMethod&&ee("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&ee("vxe.error.scrollErrProp",["footer-span-method"]),t)){const{visibleSize:e}=or();u.startIndex=0,u.endIndex=e,u.visibleSize=e,u.visibleStartIndex=0,u.visibleEndIndex=e}return p.length===T.visibleColumn.length&&T.visibleColumn.every((e,t)=>e===p[t])||(Yn.clearMergeCells(),Yn.clearMergeFooterItems()),p.forEach((e,t)=>{const n=e.id,r=d[n];r&&(r._index=t)}),bo(),so(),t?(Yo(),Yn.updateFooter().then(()=>Yn.recalculate()).then(()=>(Yn.updateCellAreas(),Yn.recalculate()))):Yn.updateFooter()},Co=()=>{const{collectColumn:e}=T,t={},n={};let r=1;a().eachTree(e,(e,o,i,a,l)=>{const{id:s,field:c}=e,u=l?l.id:null,d={$index:-1,_index:-1,column:e,colid:s,index:o,items:i,parent:l||null,width:0,oLeft:0};e.parentId=u,e.defaultParentId=u,e.sortNumber=r,e.renderSortNumber=r,r++,c&&(n[c]&&te("vxe.error.colRepet",["field",c]),n[c]=d),t[s]=d}),T.fullColumnIdData=t,T.fullColumnFieldData=n},ko=t=>{const n=Tn.value;T.collectColumn=t;const r=st(t);return T.tableFullColumn=r,S.isColLoading=!0,Co(),Promise.resolve(kr()).then(()=>{const{scrollXLoad:t,scrollYLoad:r,expandColumn:o}=S;return Sr(),wo(!0).then(()=>{S.scrollXLoad&&yo()}),Yn.clearMergeCells(),Yn.clearMergeFooterItems(),Yn.handleTableData(!0),Yn.handleAggregateSummaryData(),(t||r)&&o&&"fixed"!==n.mode&&ee("vxe.error.scrollErrProp",["column.type=expand"]),(0,X.nextTick)().then(()=>{Fe&&Fe.syncUpdate({collectColumn:T.collectColumn,$table:Yn}),Yn.handleUpdateCustomColumn&&Yn.handleUpdateCustomColumn();const t=yt.value;return e.showCustomHeader&&S.isGroup&&(t.resizable||e.resizable)&&ee("vxe.error.notConflictProp",["show-custom-header & colgroup","column-config.resizable=false"]),S.isColLoading=!1,ao(!1,!0,!0)})})},So=e=>{const t=Ye.value,n=e||T.tableFullColumn,r=!!t.enabled&&t.gt>-1&&(0===t.gt||t.gt<n.length);return S.scrollXLoad=r,r},To=t=>{const{treeConfig:n}=e,r=T.xeGanttView,o=Je.value,i=En.value,{transform:a}=i,l=t||T.tableFullData,s=(a||!n)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<l.length);return S.scrollYLoad=s,r&&r.handleUpdateSYStatus&&r.handleUpdateSYStatus(s),s},Eo=(e,t)=>{const{treeNodeColumn:n}=S,{fullAllDataRowIdData:r,tableFullTreeData:o,treeExpandedMaps:i,treeExpandLazyLoadedMaps:l}=T,s=En.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,f=s.children||s.childrenField,h=s.hasChild||s.hasChildField,m=[],g=Yn.getColumnIndex(n),v=Yn.getVMColumnIndex(n),{handleGetRowId:b}=He(Yn);let x=p?e.filter(e=>p({$table:Yn,expanded:t,column:n,columnIndex:g,$columnIndex:v,row:e})):e;if(d){x=x.length?[x[x.length-1]]:[];const e=a().findTree(o,e=>e===x[0],{children:f});e&&e.items.forEach(e=>{const t=b(e);i[t]&&delete i[t]})}return t?x.forEach(e=>{const t=b(e);if(!i[t]){const n=r[t];if(n){const r=u&&e[h]&&!n.treeLoaded&&!l[t];r?m.push(Xr(e)):e[f]&&e[f].length&&(i[t]=e)}}}):x.forEach(e=>{const t=b(e);i[t]&&delete i[t]}),c&&x.forEach(e=>Zr(e,t)),S.treeExpandedFlag++,Promise.all(m).then(()=>(Zo(),Yn.recalculate()))},Oo=(e,t)=>{const{lastScrollLeft:n,lastScrollTop:r}=T;return Eo(e,t).then(()=>(Fr(),Yn.handleTableData(),S.treeExpandedFlag++,Rr(),(0,X.nextTick)())).then(()=>io(!0,!0,!0)).then(()=>{je(Yn,n,r),Zo(),setTimeout(()=>{Yn.updateCellAreas()},30)})},Do=(e,t)=>{const{fullAllDataRowIdData:n,tableFullGroupData:r,rowGroupExpandedMaps:o}=T,i=Ot.value,{mapChildrenField:l,accordion:s}=i,{handleGetRowId:c}=He(Yn);let u=e;if(l){if(s){u=u.length?[u[u.length-1]]:[];const e=a().findTree(r,e=>Ve(Yn,e)===Ve(Yn,u[0]),{children:l});e&&e.items.forEach(e=>{const t=c(e);o[t]&&delete o[t]})}t?u.forEach(e=>{const t=c(e);if(!o[t]){const r=n[t];r&&e[l]&&e[l].length&&(o[t]=e)}}):u.forEach(e=>{const t=c(e);o[t]&&delete o[t]})}return S.rowGroupExpandedFlag++,Yn.recalculate()},Mo=(e,t)=>Do(e,t).then(()=>(Fr(),Yn.handleTableData(),S.rowGroupExpandedFlag++,Rr(),(0,X.nextTick)())).then(()=>ao(!0,!0,!0)).then(()=>{setTimeout(()=>{Yn.updateCellAreas()},30)}),Ao=()=>{const{isRowGroupStatus:e}=S;if(e){const e=Ot.value,{expandAll:t,expandGroupFields:n}=e;t?Yn.setAllRowGroupExpand(!0):n&&n.length&&Yn.setRowGroupExpandByField(n,!0)}},Io=(e,t)=>{Gr(t),e&&Ho("checkbox-all",{records:()=>Yn.getCheckboxRecords(),reserves:()=>Yn.getCheckboxReserveRecords(),indeterminates:()=>Yn.getCheckboxIndeterminateRecords(),checked:t},e)},No=()=>{const{isAllOverflow:e,isScrollYBig:t}=S,{mergeBodyList:n,scrollYStore:r}=T,{preloadSize:o,startIndex:i,endIndex:a,offsetSize:l}=r,s=e?l:l+1,{toVisibleIndex:c,visibleSize:u}=lr(),d={startIndex:Math.max(0,t?c-1:c-1-l-o),endIndex:t?c+u:c+u+s+o};r.visibleStartIndex=c-1,r.visibleEndIndex=c+u+1,sr(n,d,"row");const{startIndex:p,endIndex:f}=d;(c<=i||c>=a-u-1)&&(i===p&&a===f||(r.startIndex=p,r.endIndex=f,Yn.updateScrollYData()))},Ro=e=>function(t){const{fullAllDataRowIdData:n}=T;if(t){const r=Ve(Yn,t),o=n[r];if(o)return o[e]}return-1},Fo=e=>function(t){const{fullColumnIdData:n}=T;if(t){const r=n[t.id];if(r)return r[e]}return-1},_o=()=>{const{lxTimeout:e,lxRunTime:t,scrollXStore:n}=T,{visibleSize:r}=n,o=r>26?26:r>16?14:6;e&&clearTimeout(e),(!t||t+o<Date.now())&&(T.lxRunTime=Date.now(),yo()),T.lxTimeout=setTimeout(()=>{T.lxTimeout=void 0,T.lxRunTime=void 0,yo()},o)},Po=()=>{const{lyTimeout:e,lyRunTime:t,scrollYStore:n}=T,{visibleSize:r}=n,o=r>30?32:r>20?18:8;e&&clearTimeout(e),(!t||t+o<Date.now())&&(T.lyRunTime=Date.now(),No()),T.lyTimeout=setTimeout(()=>{T.lyTimeout=void 0,T.lyRunTime=void 0,No()},o)},jo=(e,t)=>{const{scrollXLoad:n,scrollYLoad:r,isAllOverflow:o}=S;T.lcsRunTime=Date.now(),T.lcsTimeout=void 0,T.intoRunScroll=!1,T.inVirtualScroll=!1,T.inWheelScroll=!1,T.inHeaderScroll=!1,T.inBodyScroll=!1,T.inFooterScroll=!1,S.lazScrollLoading=!1,T.scrollRenderType="";let i=null,a=null;return o||(Ar(),Ko()),e&&n&&(i=Yn.updateScrollXData()),t&&r&&(a=Yn.updateScrollYData().then(()=>(o||(Ar(),Ko()),Yn.updateScrollYSpace()))),Xo(),Promise.all([i,a,Yn.updateCellAreas()])},$o=(e,t)=>{const{lcsTimeout:n}=T;S.lazScrollLoading=!0,n&&clearTimeout(n),T.lcsTimeout=setTimeout(()=>{jo(e,t).then(()=>{(S.scrollXLoad||S.scrollYLoad)&&(0,X.nextTick)(()=>{Xo(),T.lcsTimeout||jo(e,t)})})},200)},Lo=e=>{let t=1;const n=Date.now();return e+25>n?t=1.18:e+30>n?t=1.15:e+40>n?t=1.12:e+55>n?t=1.09:e+75>n?t=1.06:e+100>n&&(t=1.03),t},zo=(e,t)=>{requestAnimationFrame(()=>{t(e)})},Vo=(e,t)=>{const n=Math.abs(e),r=performance.now();let o=0;const i=a=>{let l=(a-r)/n;l<0?l=0:l>1&&(l=1);const s=Math.pow(l,2),c=Math.floor(e*s)-o;o+=c,t(c),l<1&&requestAnimationFrame(i)};requestAnimationFrame(i)},Bo=e=>{const t=T.xeGanttView;if(t){const n=t.internalData,{elemStore:r}=n,o=ot(r["main-body-scroll"]);o&&(o.scrollTop=e)}},Ho=(e,t,n)=>{r(e,di(n,{$table:Yn,$grid:x,$gantt:y},t))},Wo=(e,t)=>{const{fullColumnIdData:n}=T,r=Ke(Yn,e);return r&&n[r.id]?xt(Yn,r,t):(0,X.nextTick)()},qo=()=>{const e=D.value;e&&e.clientWidth&&e.clientHeight&&Yn.recalculate()},Uo=(e,t)=>{Yn.analyColumnWidth(),Yn.recalculate().then(()=>{Yn.saveCustomStore("update:width"),Yn.refreshScroll().then(()=>{Yn.updateCellAreas()}),Yn.dispatchEvent("column-resizable-change",t,e),Yn.dispatchEvent("resizable-change",t,e),setTimeout(()=>{Yn.recalculate(!0)},300)})},Go=(e,t)=>{S.resizeHeightFlag++,Yn.recalculate().then(()=>{Yn.refreshScroll().then(()=>{Yn.updateCellAreas()}),Yn.dispatchEvent("row-resizable-change",t,e),setTimeout(()=>{Yn.recalculate(!0)},300)})},Yo=()=>{const{visibleColumn:e,fullColumnIdData:t}=T;let n=0;for(let r=0,o=e.length;r<o;r++){const o=e[r],i=o.id,a=t[i];a&&(a.oLeft=n),n+=o.renderWidth}},Ko=()=>{const{expandColumn:e}=S,{afterFullData:t,fullAllDataRowIdData:n,rowExpandedMaps:r}=T,o=Tn.value,i=Et.value,a=Ct.value,l=gt.value,{handleGetRowId:s}=He(Yn);let c=0;for(let u=0,d=t.length;u<d;u++){const d=t[u],p=s(d),f=n[p]||{};f.oTop=c,c+=f.resizeHeight||a.height||i.height||f.height||l,e&&r[p]&&(c+=f.expandHeight||o.height||0)}},Xo=()=>{const{expandColumn:e,scrollYLoad:t,scrollYTop:n,isScrollYBig:r}=S,o=Tn.value,i=Et.value,l=Ct.value,s=gt.value,{mode:c}=o;if(e&&"fixed"===c){const{elemStore:e,fullAllDataRowIdData:o}=T,c=ie.value,u=ot(e["main-body-scroll"]);if(c&&u){let e=!1;a().arrayEach(c.children,a=>{const c=a,d=c.getAttribute("rowid")||"",p=o[d];if(p){const o=c.offsetHeight+1,a=u.querySelector(`.vxe-body--row[rowid="${d}"]`);let f=0;t?f=r&&a?a.offsetTop+a.offsetHeight:p.oTop+(p.resizeHeight||l.height||i.height||p.height||s):a&&(f=a.offsetTop+a.offsetHeight),r&&(f+=n),c.style.top=be(f),e||p.expandHeight!==o&&(e=!0),p.expandHeight=o}}),e&&(S.rowExpandHeightFlag++,(0,X.nextTick)(()=>{Ko()}))}}},Zo=()=>{const{treeConfig:t}=e;if(!t)return;const{tableData:n}=S,{fullAllDataRowIdData:r,treeExpandedMaps:o}=T,i=Ct.value,l=Et.value,s=gt.value,c=En.value,{transform:u,mapChildrenField:d}=c,p=c.children||c.childrenField,{handleGetRowId:f}=He(Yn),h=[],m=(e,t,n)=>{const a=f(e),c=r[a]||{},g=e[u?d:p],v=n[t-1]||null,b=n[t+1]||null;if(g&&g.length&&o[a])h.push({row:e,prevRow:v,nextRow:b}),g.forEach((e,t)=>{const n=f(e);o[n]&&m(e,t,g)});else if(b){const e=f(b),t=r[e]||{},n=Ze(c,i,l,s),o=Ze(t,i,l,s);c.oHeight=n,c.lineHeight=Math.floor(n/2+o/2)}else c.oHeight=0,c.lineHeight=0};n.forEach((e,t)=>{m(e,t,n)}),a().lastArrayEach(h,({row:e,nextRow:t})=>{const n=f(e),a=e[u?d:p],c=r[n];if(c){const e=Ze(c,i,l,s);let n=e,h=0;if(a.forEach(e=>{const t=f(e),a=r[t]||{},c=e[u?d:p];if(o[t]&&c&&c.length)n+=a.oHeight||0,h+=a.oHeight||0;else{const e=Ze(a,i,l,s);a.oHeight=e,a.lineHeight=e,n+=e,h+=e}}),t){const e=f(t),o=r[e]||{},a=Ze(c,i,l,s),u=Ze(o,i,l,s);n+=a,h+=Math.floor(a/2+u/2)}c.lineHeight=h,c.oHeight=n}})},Jo=()=>{const{elemStore:e}=T,t=ie.value,n=ot(e["main-body-scroll"]);t&&n&&(t.scrollTop=n.scrollTop)},Qo=e=>function(t){let n=!1;const r=a().isArray(t)?t:[t];return r.forEach(t=>{const r=Ke(Yn,t);r&&(r.children&&r.children.length?a().eachTree([r],t=>{t.visible=e,t.renderVisible=e}):(r.visible=e,r.renderVisible=e),n||(n=!0))}),n?Yn.handleCustom():(0,X.nextTick)()};E={dispatchEvent:Ho,getEl(){return D.value},clearAll(){return vt(Yn)},syncData(){return te("vxe.error.delFunc",["syncData","getData"]),(0,X.nextTick)().then(()=>(S.tableData=[],r("update:data",T.tableFullData),(0,X.nextTick)()))},updateData(){const{scrollXLoad:e,scrollYLoad:t}=S;return Yn.handleTableData(!0).then(()=>{if(Yn.updateFooter(),e||t)return e&&Yn.updateScrollXSpace(),t&&Yn.updateScrollYSpace(),Yn.refreshScroll()}).then(()=>(Yn.updateCellAreas(),ao(!0,!0,!0))).then(()=>{setTimeout(()=>ao(!1,!0,!0),50)})},loadData(e){const{initStatus:t}=T;return mo(e,!1,!1).then(()=>(T.inited=!0,T.initStatus=!0,t||go(),ao(!1,!0,!0)))},reloadData(e){return Yn.clearAll().then(()=>(T.inited=!0,T.initStatus=!0,mo(e,!0,!0))).then(()=>(go(),ao(!1,!0,!0)))},setRow(e,t){if(e&&t){let n=e;a().isArray(e)||(n=[e]);const r=ze(Yn);n.forEach(e=>{const n=Ve(Yn,e),o=a().clone(Object.assign({},t),!0);a().set(o,r,n),Object.assign(e,o)})}return(0,X.nextTick)()},reloadRow(t,n,r){const{keepSource:o}=e,{tableData:i}=S,{sourceDataRowIdData:l}=T;if(o){if(Yn.isAggregateRecord(t))return(0,X.nextTick)();const e=ze(Yn),o=a().get(t,e),s=l[o];if(s&&t)if(r){const e=a().clone(a().get(n||t,r),!0);a().set(t,r,e),a().set(s,r,e)}else{const r=a().clone(Object.assign({},n),!0);a().set(r,e,o),a().destructuring(s,Object.assign(t,r))}S.tableData=i.slice(0)}else te("vxe.error.reqProp",["keep-source"]);return(0,X.nextTick)()},getParams(){return e.params},loadTreeChildren(t,n){const{keepSource:r}=e,{tableSourceData:o,fullDataRowIdData:i,fullAllDataRowIdData:l,sourceDataRowIdData:s}=T,c=En.value,{transform:u,mapChildrenField:d}=c,p=c.children||c.childrenField,f=l[Ve(Yn,t)],h=f?f.level:0;return E.createData(n).then(e=>{if(r){const n=Ve(Yn,t),r=a().findTree(o,e=>n===Ve(Yn,e),{children:p});r&&(r.item[p]=a().clone(e,!0)),e.forEach(e=>{const t=Ve(Yn,e);s[t]=a().clone(e,!0)})}return a().eachTree(e,(e,t,n,r,o,a)=>{const s=Ve(Yn,e),c=o||f.row,u={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:n,parent:c,level:h+a.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};i[s]=u,l[s]=u},{children:p}),t[p]=e,u&&(t[d]=a().clone(e,!1)),Rr(),e})},loadColumn(e){const{lastScrollLeft:t,lastScrollTop:n}=T,r=a().mapTree(e,e=>(0,X.reactive)(Ht.createColumn(Yn,e)));return ko(r).then(()=>{let e=t,r=n;const o=Ye.value,i=Je.value;o.scrollToLeftOnChange&&(e=0),i.scrollToTopOnChange&&(r=0),je(Yn,e,r)})},reloadColumn(e){return E.clearAll().then(()=>E.loadColumn(e))},getRowNode(e){if(e){const{fullAllDataRowIdData:t}=T,n=e.getAttribute("rowid");if(n){const e=t[n];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=T,n=e.getAttribute("colid");if(n){const e=t[n];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:Ro("seq"),getRowIndex:Ro("index"),getVTRowIndex:Ro("_index"),getVMRowIndex:Ro("$index"),getColumnIndex:Fo("index"),getVTColumnIndex:Fo("_index"),getVMColumnIndex:Fo("$index"),createData(e){return(0,X.nextTick)().then(()=>(0,X.reactive)(O.defineField(e)))},createRow(e){const t=a().isArray(e);return t||(e=[e||{}]),E.createData(e).then(e=>t?e:e[0])},revertData(t,n){const{keepSource:r,treeConfig:o}=e,{fullAllDataRowIdData:i,fullDataRowIdData:l,tableSourceData:s,sourceDataRowIdData:c,tableFullData:u,afterFullData:d,removeRowMaps:p}=T,f=En.value,{transform:h}=f,{handleGetRowId:m}=He(Yn);if(!r)return te("vxe.error.reqProp",["keep-source"]),(0,X.nextTick)();let g=t;t?a().isArray(t)||(g=[t]):g=a().toArray(Yn.getUpdateRecords());let v=!1;return g.length&&g.forEach(e=>{const t=m(e),r=i[t];if(r){const e=r.row;if(!Yn.isInsertByRow(e)){const r=c[t];r&&e&&(n?a().set(e,n,a().clone(a().get(r,n),!0)):a().destructuring(e,a().clone(r,!0)),!l[t]&&Yn.isRemoveByRow(e)&&(p[t]&&delete p[t],u.unshift(e),d.unshift(e),v=!0))}}}),t?(v&&(S.removeRowFlag++,Yn.updateFooter(),Yn.cacheRowMap(!1),Yn.handleTableData(o&&h),o&&h||Yn.updateAfterDataIndex(),Yn.checkSelectionStatus(),S.scrollYLoad&&Yn.updateScrollYSpace()),(0,X.nextTick)().then(()=>(Yn.updateCellAreas(),ao(!1,!0,!0)))):Yn.reloadData(s)},clearData(e,t){const{tableFullData:n,visibleColumn:r}=T;return arguments.length?e&&!a().isArray(e)&&(e=[e]):e=n,t?e.forEach(e=>a().set(e,t,null)):e.forEach(e=>{r.forEach(t=>{t.field&&rt(e,t,null)})}),(0,X.nextTick)()},getCellElement(e,t){const{elemStore:n}=T,r=Ke(Yn,t);if(!r)return null;const o=Ve(Yn,e),i=ot(n["main-body-scroll"]),a=ot(n["left-body-scroll"]),l=ot(n["right-body-scroll"]);let s;return r&&(r.fixed&&("left"===r.fixed?a&&(s=a):l&&(s=l)),s||(s=i),s)?s.querySelector(`.vxe-body--row[rowid="${o}"] .${r.id}`):null},getCellLabel(t,n){const r=Ke(Yn,n);if(!r)return null;const{editConfig:o}=e,{formatter:i,editRender:l,cellRender:s}=r,u=i?null:o&&c(l)?l:c(s)?s:null,d=u?ci.get(u.name):null,p=d?d.tableCellFormatter:null,f=nt(t,r);let h=f;if(i||p){let e;const{fullAllDataRowIdData:n}=T,o=Ve(Yn,t),l=r.id,s=n[o];if(s&&(e=s.formatData,e||(e=n[o].formatData={}),s&&e[l]&&e[l].value===f))return e[l].label;const c={$table:Yn,cellValue:f,row:t,rowIndex:Yn.getRowIndex(t),column:r,columnIndex:Yn.getColumnIndex(r)};if(i)if(a().isString(i)){const e=ui.get(i),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;h=t?t(c):""}else if(a().isArray(i)){const e=ui.get(i[0]),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;h=t?t(c,...i.slice(1)):""}else h=`${i(c)}`;else u&&p&&(h=p(u,c));e&&(e[l]={value:f,label:h})}return h},getFooterCellLabel(e,t){const n=Ke(Yn,t);if(!n)return null;const{footerFormatter:r}=n,o=Yn.getVTColumnIndex(n);let i="";i=a().isArray(e)?e[o]:a().get(e,n.field);let l=i;if(r){let t;const{footerTableData:s}=S,{footerFullDataRowData:c}=T,u=n.id,d=s.indexOf(e);let p=null;if(d>-1&&(p=c[d],p||(p=c[d]={}),t=p.formatData,t||(t=c[d].formatData={}),p&&t[u]&&t[u].value===i))return t[u].label;const f={$table:Yn,cellValue:i,itemValue:i,row:e,items:e,$rowIndex:d,column:n,_columnIndex:o,columnIndex:Yn.getColumnIndex(n)};if(a().isString(r)){const e=ui.get(r),t=e?e.tableFooterCellFormatMethod:null;l=t?t(f):""}else if(a().isArray(r)){const e=ui.get(r[0]),t=e?e.tableFooterCellFormatMethod:null;l=t?t(f,...r.slice(1)):""}else l=r(f);t&&(t[u]={value:i,label:l})}return l},isInsertByRow(e){const t=Ve(Yn,e);return!!S.insertRowFlag&&!!T.insertRowMaps[t]},isRemoveByRow(e){const t=Ve(Yn,e);return!!S.removeRowFlag&&!!T.removeRowMaps[t]},removeInsertRow(){const{insertRowMaps:e}=T;return Yn.remove(a().values(e))},isUpdateByRow(t,n){const{keepSource:r}=e,{tableFullColumn:o,fullDataRowIdData:i,sourceDataRowIdData:l}=T;if(r){const e=a().isString(t)||a().isNumber(t)?t:Ve(Yn,t),r=i[e];if(!r)return!1;const s=r.row,c=l[e];if(c){if(arguments.length>1)return!Xn(c,s,n);for(let e=0,t=o.length;e<t;e++){const t=o[e].field;if(t&&!Xn(c,s,t))return!0}}}return!1},getColumns(e){const{visibleColumn:t}=T;return a().isUndefined(e)?t.slice(0):t[e]},getColid(e){const t=Ke(Yn,e);return t?t.id:null},getColumnById(e){const{fullColumnIdData:t}=T;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=T.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){const{fullColumnIdData:t}=T,n=Ke(Yn,e);return n&&n.parentId&&t[n.parentId]?t[n.parentId].column:null},getTableColumn(){return{collectColumn:T.collectColumn.slice(0),fullColumn:T.tableFullColumn.slice(0),visibleColumn:T.visibleColumn.slice(0),tableColumn:S.tableColumn.slice(0)}},moveColumnTo(e,t,n){const{fullColumnIdData:r,visibleColumn:o}=T,{dragToChild:i,dragPos:l,isCrossDrag:s}=Object.assign({},n),c=Ke(Yn,e);let u=null;const d=c?r[c.id]:null;let p="left";if(a().isNumber(t)){if(d&&t){let e=d.items,n=d._index+t;s&&(e=o,n=d._index+t),n>0&&n<e.length-1&&(u=e[n]),t>0&&(p="right")}}else{u=Ke(Yn,t);const e=u?r[u.id]:null;d&&e&&e._index>d._index&&(p="right")}return Yn.handleColDragSwapEvent(null,!0,c,u,l||p,!0===i)},moveRowTo(t,n,r){const{treeConfig:o}=e,{fullAllDataRowIdData:i,afterFullData:l}=T,{dragToChild:s,dragPos:c,isCrossDrag:u}=Object.assign({},r),d=En.value,p=Xe(Yn,t);let f=null,h="top";const m=p?i[Ve(Yn,p)]:null;if(a().isNumber(n)){if(m&&n){let e=l,t=m._index+n;o&&(e=m.items,d.transform&&(t=m.treeIndex+n,u&&(e=l,t=m._index+n))),t>=0&&t<=e.length-1&&(f=e[t]),n>0&&(h="bottom")}}else{f=Xe(Yn,n);const e=f?i[Ve(Yn,f)]:null;m&&e&&e._index>m._index&&(h="bottom")}const g=Yn.handleRowDragSwapEvent(null,!0,p,f,c||h,!0===s);return g},getFullColumns(){const{collectColumn:e}=T;return e.slice(0)},getData(t){const n=e.data||T.tableSynchData;return a().isUndefined(t)?n.slice(0):n[t]},getCheckboxRecords(t){const{treeConfig:n}=e,{updateCheckboxFlag:r}=S,{tableFullData:o,afterFullData:i,tableFullTreeData:l,fullDataRowIdData:s,afterFullRowMaps:c,selectCheckboxMaps:u}=T,d=En.value,p=Pt.value,{transform:f,mapChildrenField:h}=d,{checkField:m}=p,g=d.children||d.childrenField;let v=[];if(r)if(m)if(n){const e=t?f?l:o:f?l:i;v=a().filterTree(e,e=>a().get(e,m),{children:f?h:g})}else{const e=t?o:i;v=e.filter(e=>a().get(e,m))}else{const e=t||n&&!f?s:c;a().each(u,(t,n)=>{e[n]&&v.push(s[n].row)})}return v},getTreeRowChildren(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=T,o=En.value,{transform:i,mapChildrenField:l}=o,s=o.children||o.childrenField;if(t&&n){let e;if(e=a().isString(t)?t:Ve(Yn,t),e){const t=r[e],n=t?t.row:null;if(n)return n[i?l:s]||[]}}return[]},getTreeRowLevel(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=T;if(t&&n){let e;if(e=a().isString(t)?t:Ve(Yn,t),e){const t=r[e];if(t)return t.level}}return-1},getTreeParentRow(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=T;if(t&&n){let e;if(e=a().isString(t)?t:Ve(Yn,t),e){const t=r[e];if(t)return t.parent}}return null},getParentRow(e){return ee("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),Yn.getTreeParentRow(e)},getRowById(e){const{fullAllDataRowIdData:t}=T,n=a().eqNull(e)?"":encodeURIComponent(e||"");return t[n]?t[n].row:null},getRowid(e){return Ve(Yn,e)},getTableData(){const{tableData:t,footerTableData:n}=S,{tableFullData:r,afterFullData:o,tableFullTreeData:i}=T;return{fullData:e.treeConfig?i.slice(0):r.slice(0),visibleData:o.slice(0),tableData:t.slice(0),footerData:n.slice(0)}},getFullData(){const{treeConfig:t}=e,{tableFullData:n,tableFullTreeData:r}=T;return t?r.slice(0):n.slice(0)},setColumnFixed(e,t){let n=!1;const r=a().isArray(e)?e:[e],i=yt.value,l=Pn.value;for(let s=0;s<r.length;s++){const e=r[s],c=Ke(Yn,e),u=ft(Yn,c);if(u&&u.fixed!==t){if(!u.fixed&&l)return o.OE.modal&&o.OE.modal.message({status:"error",content:si("vxe.table.maxFixedCol",[i.maxFixedSize])}),(0,X.nextTick)();a().eachTree([u],e=>{e.fixed=t,e.renderFixed=t}),O.saveCustomStore("update:fixed"),n||(n=!0)}}return n?E.refreshColumn():(0,X.nextTick)()},clearColumnFixed(e){let t=!1;const n=a().isArray(e)?e:[e];return n.forEach(e=>{const n=Ke(Yn,e),r=ft(Yn,n);r&&r.fixed&&(a().eachTree([r],e=>{e.fixed=null,e.renderFixed=null}),O.saveCustomStore("update:fixed"),t||(t=!0))}),t?E.refreshColumn():(0,X.nextTick)()},hideColumn:Qo(!1),showColumn:Qo(!0),setColumnWidth(e,t){const{elemStore:n}=T;let r=!1;const o=a().isArray(e)?e:[e];let i=a().toInteger(t);if(fe(t)){const e=ot(n["main-body-scroll"]),t=e?e.clientWidth-1:0;i=Math.floor(i*t)}return i&&(o.forEach(e=>{const t=Ke(Yn,e);t&&(t.resizeWidth=i,r||(r=!0))}),r)?Yn.refreshColumn().then(()=>({status:r})):(0,X.nextTick)().then(()=>({status:r}))},getColumnWidth(e){const t=Ke(Yn,e);return t?t.renderWidth:0},resetColumn(e){return ee("vxe.error.delFunc",["resetColumn","resetCustom"]),Yn.resetCustom(e)},refreshColumn(e){return e&&xo(),wo(!0).then(()=>Yn.refreshScroll()).then(()=>ao(!1,!0,!0))},setRowHeightConf(e){const{fullAllDataRowIdData:t}=T;let n=!1;return e&&(a().each(e,(e,r)=>{const o=t[r];if(o){const t=a().toInteger(e);t&&(o.resizeHeight=t,n||(n=!0))}}),n&&(T.isResizeCellHeight=!0,S.resizeHeightFlag++)),(0,X.nextTick)().then(()=>(Ko(),{status:n}))},getRowHeightConf(e){const{fullAllDataRowIdData:t,afterFullData:n}=T,{handleGetRowId:r}=He(Yn),o=Et.value,i=Ct.value,a=gt.value,l={};return n.forEach(n=>{const s=r(n),c=t[s];if(c){const t=c.resizeHeight;if(t||e){const e=t||i.height||o.height||c.height||a;l[s]=e}}}),l},recalcRowHeight(e){const{fullAllDataRowIdData:t}=T,n=a().isArray(e)?e:[e],r=D.value;if(r){const{handleGetRowId:e}=He(Yn);r.setAttribute("data-calc-row","Y"),n.forEach(n=>{const o=a().isString(n)||a().isNumber(n)?n:e(n),i=t[o];i&&(i.resizeHeight=Mr(i,r)),r.removeAttribute("data-calc-row")}),S.calcCellHeightFlag++}return(0,X.nextTick)()},setRowHeight(e,t){const{fullAllDataRowIdData:n}=T;let r=!1;const o=a().isArray(e)?e:[e];let i=a().toInteger(t);if(fe(t)){const e=$.value,t=e?e.$el:null,n=t?t.clientHeight-1:0;i=Math.floor(i*n)}if(i){const{handleGetRowId:e}=He(Yn);o.forEach(t=>{const o=a().isString(t)||a().isNumber(t)?t:e(t),l=n[o];l&&(l.resizeHeight=i,r||(r=!0))}),r&&(T.isResizeCellHeight=!0,S.resizeHeightFlag++)}return(0,X.nextTick)().then(()=>({status:r}))},getRowHeight(e){const{fullAllDataRowIdData:t}=T,n=Et.value,r=Ct.value,o=gt.value,i=a().isString(e)||a().isNumber(e)?e:Ve(Yn,e),l=t[i];return l?l.resizeHeight||r.height||n.height||l.height||o:0},refreshScroll(){const{elemStore:e,lastScrollLeft:t,lastScrollTop:n}=T,r=ot(e["main-header-scroll"]),o=ot(e["main-body-scroll"]),i=ot(e["main-footer-scroll"]),a=ot(e["left-body-scroll"]),l=ot(e["right-body-scroll"]),s=de.value,c=we.value;return new Promise(e=>{if(t||n)return je(Yn,t,n).then(()=>{setTimeout(e,10)});T.intoRunScroll=!0,ke(c,n),ke(o,n),ke(a,n),ke(l,n),Se(s,t),Se(o,t),Se(r,t),Se(i,t),setTimeout(()=>{T.intoRunScroll=!1,e()},10)})},recalculate(e){const t=!!e;return ao(t,t,t)},openTooltip(e,t){const n=I.value;return n&&n.open?n.open(e,t):(0,X.nextTick)()},closeTooltip(){const{tooltipStore:e}=S,t=A.value,n=I.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),t&&t.close&&t.close()),n&&n.close&&n.close(),(0,X.nextTick)()},isAllCheckboxChecked(){return S.isAllSelected},isAllCheckboxIndeterminate(){return!S.isAllSelected&&S.isIndeterminate},getCheckboxIndeterminateRecords(t){const{treeConfig:n}=e,{fullDataRowIdData:r,treeIndeterminateRowMaps:o}=T;if(n){const e=[],n=[];return a().each(o,(t,o)=>{t&&(e.push(t),r[o]&&n.push(t))}),t?e:n}return[]},setCheckboxRow(e,t){return e&&!a().isArray(e)&&(e=[e]),Ur(e,t,!0)},setCheckboxRowKey(e,t){const{fullAllDataRowIdData:n}=T;a().isArray(e)||(e=[e]);const r=[];return e.forEach(e=>{const t=n[e];t&&r.push(t.row)}),Ur(r,t,!0)},isCheckedByCheckboxRow(e){const{updateCheckboxFlag:t}=S,{selectCheckboxMaps:n}=T,r=Pt.value,{checkField:o}=r;return o?a().get(e,o):!!t&&!!n[Ve(Yn,e)]},isCheckedByCheckboxRowKey(e){const{updateCheckboxFlag:t}=S,{fullAllDataRowIdData:n,selectCheckboxMaps:r}=T,o=Pt.value,{checkField:i}=o;if(i){const t=n[e];return!!t&&a().get(t.row,i)}return!!t&&!!r[e]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateRowMaps:t}=T;return!!t[Ve(Yn,e)]&&!Yn.isCheckedByCheckboxRow(e)},isIndeterminateByCheckboxRowKey(e){const{treeIndeterminateRowMaps:t}=T;return!!t[e]&&!Yn.isCheckedByCheckboxRowKey(e)},toggleCheckboxRow(e){const{selectCheckboxMaps:t}=T,n=Pt.value,{checkField:r}=n,o=r?!a().get(e,r):!t[Ve(Yn,e)];return O.handleBatchSelectRows([e],o,!0),O.checkSelectionStatus(),(0,X.nextTick)()},setAllCheckboxRow(e){return Gr(e,!0)},getRadioReserveRecord(t){const{treeConfig:n}=e,{fullDataRowIdData:r,radioReserveRow:o,afterFullData:i}=T,l=_t.value,s=En.value,c=s.children||s.childrenField;if(l.reserve&&o){const e=Ve(Yn,o);if(t){if(!r[e])return o}else{const t=ze(Yn);if(n){const n=a().findTree(i,n=>e===a().get(n,t),{children:c});if(n)return o}else if(!i.some(n=>e===a().get(n,t)))return o}}return null},clearRadioReserve(){return T.radioReserveRow=null,(0,X.nextTick)()},getCheckboxReserveRecords(t){const{treeConfig:n}=e,{afterFullData:r,fullDataRowIdData:o,checkboxReserveRowMap:i}=T,l=Pt.value,s=En.value,c=s.children||s.childrenField,u=[];if(l.reserve){const{handleGetRowId:e}=He(Yn),l={};n?a().eachTree(r,t=>{l[e(t)]=1},{children:c}):r.forEach(t=>{l[e(t)]=1}),a().each(i,(e,n)=>{e&&(t?o[n]||u.push(e):l[n]||u.push(e))})}return u},clearCheckboxReserve(){return T.checkboxReserveRowMap={},(0,X.nextTick)()},toggleAllCheckboxRow(){return Io(null,!S.isAllSelected),(0,X.nextTick)()},clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:n}=T,r=En.value,o=r.children||r.childrenField,i=Pt.value,{checkField:l,reserve:s}=i,c=i.indeterminateField||i.halfField;if(l){const e=e=>{t&&c&&a().set(e,c,!1),a().set(e,l,!1)};t?a().eachTree(n,e,{children:o}):n.forEach(e)}return s&&n.forEach(e=>Wr(e,!1)),S.isAllSelected=!1,S.isIndeterminate=!1,T.selectCheckboxMaps={},T.treeIndeterminateRowMaps={},S.updateCheckboxFlag++,(0,X.nextTick)()},setCurrentRow(t){const n=T.xeGanttView,r=Et.value,o=D.value;return E.clearCurrentRow(),S.currentRow=t,(r.isCurrent||e.highlightCurrentRow)&&o&&a().arrayEach(o.querySelectorAll(`[rowid="${Ve(Yn,t)}"]`),e=>ge(e,"row--current")),n&&n.handleUpdateCurrentRow&&n.handleUpdateCurrentRow(t),(0,X.nextTick)()},isCheckedByRadioRow(e){const{selectRadioRow:t}=S;return!(!e||!t)&&Yn.eqRow(t,e)},isCheckedByRadioRowKey(e){const{selectRadioRow:t}=S;return!!t&&e===Ve(Yn,t)},setRadioRow(e){return qr(e,!0)},setRadioRowKey(e){const{fullAllDataRowIdData:t}=T,n=t[e];return n?qr(n.row,!0):(0,X.nextTick)()},clearCurrentRow(){const e=T.xeGanttView,t=D.value;return S.currentRow=null,T.hoverRow=null,t&&a().arrayEach(t.querySelectorAll(".row--current"),e=>me(e,"row--current")),e&&e.handleUpdateCurrentRow&&e.handleUpdateCurrentRow(),(0,X.nextTick)()},clearRadioRow(){return S.selectRadioRow=null,(0,X.nextTick)()},getCurrentRecord(t){const{currentRow:n}=S,{fullDataRowIdData:r,afterFullRowMaps:o}=T,i=Et.value;if(i.isCurrent||e.highlightCurrentRow){const e=Ve(Yn,n);if(t){if(r[e])return n}else if(o[e])return n}return null},getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:n}=T,{selectRadioRow:r}=S;if(r){const o=Ve(Yn,r);if(e){if(t[o])return r}else if(n[o])return r}return null},getCurrentColumn(){const t=yt.value;return t.isCurrent||e.highlightCurrentColumn?S.currentColumn:null},setCurrentColumn(t){const{mouseConfig:n}=e,r=Gt.value,o=n&&r.selected,i=Ke(Yn,t);return i&&(Yn.clearCurrentColumn(),S.currentColumn=i),(0,X.nextTick)().then(()=>{o&&Yn.addCellSelectedClass()})},clearCurrentColumn(){return S.currentColumn=null,(0,X.nextTick)()},setPendingRow(e,t){const{handleGetRowId:n}=He(Yn),{pendingRowMaps:r}=T;return e&&!a().isArray(e)&&(e=[e]),t?e.forEach(e=>{const t=n(e);t&&!r[t]&&(r[t]=e)}):e.forEach(e=>{const t=n(e);t&&r[t]&&delete r[t]}),S.pendingRowFlag++,(0,X.nextTick)()},togglePendingRow(e){const{handleGetRowId:t}=He(Yn),{pendingRowMaps:n}=T;return e&&!a().isArray(e)&&(e=[e]),e.forEach(e=>{const r=t(e);r&&(n[r]?delete n[r]:n[r]=e)}),S.pendingRowFlag++,(0,X.nextTick)()},hasPendingByRow(e){return E.isPendingByRow(e)},isPendingByRow(e){const{pendingRowMaps:t}=T,n=Ve(Yn,e);return!!t[n]},getPendingRecords(){const{fullAllDataRowIdData:e,pendingRowMaps:t}=T,n=[];return a().each(t,(t,r)=>{e[r]&&n.push(t)}),n},clearPendingRow(){return T.pendingRowMaps={},S.pendingRowFlag++,(0,X.nextTick)()},sort(e,t){const n=Wt.value,{multiple:r,remote:o,orders:i}=n;return e&&a().isString(e)&&(e=[{field:e,order:t}]),a().isArray(e)||(e=[e]),e.length?(r||yr(),(r?e:[e[0]]).forEach((e,t)=>{let{field:n,order:r}=e,o=n;a().isString(n)&&(o=E.getColumnByField(n)),o&&o.sortable&&(i&&-1===i.indexOf(r)&&(r=Qn(o)),o.order!==r&&(o.order=r),o.sortTime=Date.now()+t)}),o||O.handleTableData(!0),(0,X.nextTick)().then(()=>(Ko(),E.updateCellAreas(),Pr()))):(0,X.nextTick)()},setSort(e,t){return xr(null,e,t)},setSortByEvent(e,t){return xr(e,t,!0)},clearSort(e){const t=Wt.value;if(e){const t=Ke(Yn,e);t&&(t.order=null)}else yr();return t.remote||Yn.handleTableData(!0),(0,X.nextTick)().then(()=>(Ko(),Pr()))},clearSortByEvent(e,t){const{tableFullColumn:n}=T,r=Wt.value,{multiple:o}=r,i=[];let a=null;if(e&&(t?(a=Ke(Yn,t),a&&(a.order=null)):n.forEach(e=>{e.order&&(e.order=null,i.push(e))}),r.remote||Yn.handleTableData(!0),o||(a=i[0]),a&&Yn.handleColumnSortEvent(e,a),o&&i.length)){const t={$table:Yn,$event:e,cols:i,sortList:[]};Ho("clear-all-sort",t,e)}return(0,X.nextTick)().then(()=>(Ko(),Pr()))},isSort(e){if(e){const t=Ke(Yn,e);return!!t&&(t.sortable&&!!t.order)}return E.getSortColumns().length>0},getSortColumns(){const e=Wt.value,{multiple:t,chronological:n}=e,r=[],{tableFullColumn:o}=T;return o.forEach(e=>{const{field:t,order:n}=e;e.sortable&&n&&r.push({column:e,field:t,property:t,order:n,sortTime:e.sortTime})}),t&&n&&r.length>1?a().orderBy(r,"sortTime"):r},setFilterByEvent(e,t,n){const r=Ke(Yn,t);return r&&r.filters?(r.filters=et(n||[],r.id),Yn.handleColumnConfirmFilter(r,e)):(0,X.nextTick)()},closeFilter(){const{filterStore:e}=S,{column:t,visible:n}=e;if(e.isAllSelected=!1,e.isIndeterminate=!1,e.visible=!1,n){const e=t?t.field:null;Ho("filter-visible",{column:t,property:e,field:e,filterList:()=>Yn.getCheckedFilters(),visible:!1},null)}return(0,X.nextTick)()},isActiveFilterByColumn(e){const t=Ke(Yn,e);return t?t.filters&&t.filters.some(e=>e.checked):Yn.getCheckedFilters().length>0},isFilter(e){return E.isActiveFilterByColumn(e)},clearFilterByEvent(e,t){const{filterStore:n}=S,{tableFullColumn:r}=T,o=qt.value,{multiple:i}=o,a=[];let l=null;if(t?(l=Ke(Yn,t),l&&Yn.handleClearFilter(l)):r.forEach(e=>{e.filters&&(a.push(e),Yn.handleClearFilter(e))}),t&&l===n.column||Object.assign(n,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),o.remote||Yn.updateData(),i||(l=a[0]),l){const t=()=>Yn.getCheckedFilters(),n=[],r=[];l.filters.forEach(e=>{e.checked&&(n.push(e.value),r.push(e.data))});const o={$table:Yn,$event:e,column:l,field:l.field,property:l.field,values:n,datas:r,filters:t,filterList:t};Yn.dispatchEvent("filter-change",o,e),Yn.dispatchEvent("clear-filter",o,e)}if(i&&a.length){const t={$table:Yn,$event:e,cols:a,filterList:[]};Ho("clear-all-filter",t,e)}return(0,X.nextTick)()},isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=T,n=t[Ve(Yn,e)];return n&&!!n.expandLoaded},clearRowExpandLoaded(e){const{fullAllDataRowIdData:t,rowExpandLazyLoadedMaps:n}=T,r=Tn.value,{lazy:o}=r,i=Ve(Yn,e),a=t[i];return o&&a&&(a.expandLoaded=!1,delete n[i]),S.rowExpandedFlag++,(0,X.nextTick)()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:t}=T,n=Tn.value,{lazy:r}=n,o=Ve(Yn,e);return r&&!t[o]&&Yn.clearRowExpandLoaded(e).then(()=>Jr(e)),(0,X.nextTick)()},reloadExpandContent(e){return ee("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),Yn.reloadRowExpand(e)},toggleRowExpand(e){return Yn.setRowExpand(e,!Yn.isRowExpandByRow(e))},setAllRowExpand(t){const n=En.value,{tableFullData:r,tableFullTreeData:o}=T,i=n.children||n.childrenField;let l=[];return e.treeConfig?a().eachTree(o,e=>{l.push(e)},{children:i}):l=r,E.setRowExpand(l,t)},setRowExpand(e,t){const{expandColumn:n}=S;let{fullAllDataRowIdData:r,rowExpandedMaps:o,rowExpandLazyLoadedMaps:i}=T;const{handleGetRowId:l}=He(Yn),s=Tn.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,f=[],h=n?Yn.getColumnIndex(n):-1,m=n?Yn.getVMColumnIndex(n):-1;if(e){a().isArray(e)||(e=[e]),d&&(o={},T.rowExpandedMaps=o,e=e.slice(e.length-1,e.length));const s=p?e.filter(e=>p({$table:Yn,expanded:t,column:n,columnIndex:h,$columnIndex:m,row:e,rowIndex:Yn.getRowIndex(e),$rowIndex:Yn.getVMRowIndex(e)})):e;t?s.forEach(e=>{const t=l(e);if(!o[t]){const n=r[t],a=u&&!n.expandLoaded&&!i[t];a?f.push(Jr(e)):o[t]=e}}):s.forEach(e=>{const t=l(e);o[t]&&delete o[t]}),c&&s.forEach(e=>Qr(e,t))}return S.rowExpandedFlag++,Promise.all(f).then(()=>(0,X.nextTick)()).then(()=>ao(!0,!0,!0)).then(()=>(Ko(),Xo(),Jo(),Yn.updateCellAreas()))},isRowExpandByRow(e){const{rowExpandedFlag:t}=S,{rowExpandedMaps:n}=T,r=Ve(Yn,e);return!!t&&!!n[r]},isExpandByRow(e){return ee("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),E.isRowExpandByRow(e)},clearRowExpand(){const{tableFullData:e,scrollYStore:t}=T,n=Tn.value,{reserve:r}=n,o=Yn.getRowExpandRecords();return T.rowExpandedMaps={},r&&e.forEach(e=>Qr(e,!1)),S.rowExpandedFlag++,t.startIndex=0,t.endIndex=1,(0,X.nextTick)().then(()=>{if(o.length)return ao(!0,!0,!0)}).then(()=>(Ko(),Xo(),Jo(),Yn.updateCellAreas()))},clearRowExpandReserve(){return T.rowExpandedReserveRowMap={},(0,X.nextTick)()},getRowExpandRecords(){const e=[];return a().each(T.rowExpandedMaps,t=>{t&&e.push(t)}),e},setRowGroups(t){const{aggregateConfig:n,rowGroupConfig:r}=e,i=Ot.value,{maxGroupSize:l}=i;if(!n&&!r)return te("vxe.error.reqProp",["aggregate-config"]),(0,X.nextTick)();const s=t?a().isArray(t)?t:[t]:[];return l&&s.length>l?(o.OE.modal&&o.OE.modal.message({status:"error",content:si("vxe.table.maxGroupCol",[l])}),(0,X.nextTick)()):s.length?(co(s.map(e=>a().isString(e)?e:e.field)),mo(T.tableSynchData,!1,!0)):(0,X.nextTick)()},getRowGroups(){const{aggregateConfig:t,rowGroupConfig:n}=e,{fullColumnFieldData:r}=T;if(t||n){const{rowGroupList:e}=S;return e.map(({field:e})=>{const t=r[e];return t?t.column:{field:e}})}return[]},getRowGroupFields(){return Yn.getRowGroups().map(e=>e.field)},clearRowGroups(){const{aggregateConfig:t,rowGroupConfig:n}=e;return t||n?(co([]),mo(T.tableSynchData,!1,!0)):(te("vxe.error.reqProp",["aggregate-config"]),(0,X.nextTick)())},isRowGroupRecord(e){return ee("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),Yn.isAggregateRecord(e)},isRowGroupExpandByRow(e){return ee("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),Yn.isAggregateExpandByRow(e)},isAggregateRecord(e){const{isRowGroupStatus:t}=S;return t&&e.isAggregate},getAggregateContentByRow(e){const{isRowGroupStatus:t}=S;return t&&e&&e.isAggregate?e.groupContent:""},getAggregateRowChildren(e){const t=Ot.value,{childrenField:n,mapChildrenField:r}=t,{isRowGroupStatus:o}=S;return o&&e&&e.isAggregate&&n&&r&&e[r]||[]},refreshAggregateCalcValues(){return po(),(0,X.nextTick)()},isAggregateExpandByRow(e){const{rowGroupExpandedFlag:t}=S,{rowGroupExpandedMaps:n}=T;return!!t&&!!n[Ve(Yn,e)]},setRowGroupExpand(e,t){return e?(a().isArray(e)||(e=[e]),Mo(e,t)):(0,X.nextTick)()},setRowGroupExpandByField(e,t){const{isRowGroupStatus:n}=S,r=Ot.value,{childrenField:o}=r;if(e&&(a().isArray(e)||(e=[e]),n)){const n=[],r={};if(e.forEach(e=>{r[e]=!0}),a().eachTree(T.afterGroupFullData,e=>{e.isAggregate&&r[e.groupField]&&n.push(e)},{children:o}),n.length)return Mo(n,t)}return(0,X.nextTick)()},setAllRowGroupExpand(e){const{tableFullGroupData:t}=T,n=Ot.value,{mapChildrenField:r}=n,o={};return e&&r&&a().eachTree(t,e=>{e[r]&&e[r].length&&(o[Ve(Yn,e)]=e)},{children:r}),T.rowGroupExpandedMaps=o,Fr(),Yn.handleTableData(),Rr(),S.rowGroupExpandedFlag++,ao(!0,!0,!0)},clearRowGroupExpand(){return T.rowGroupExpandedMaps={},Fr(),Yn.handleTableData(),Rr(),S.rowGroupExpandedFlag++,ao(!0,!0,!0)},getTreeExpandRecords(){const e=[];return a().each(T.treeExpandedMaps,t=>{t&&e.push(t)}),e},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=T,n=t[Ve(Yn,e)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(e){const{fullAllDataRowIdData:t,treeExpandedMaps:n}=T,r=En.value,{transform:o}=r;return e?(a().isArray(e)||(e=[e]),e.forEach(e=>{const r=Ve(Yn,e),o=t[r];o&&(o.treeLoaded=!1,n[r]&&delete n[r])})):(a().each(t,e=>{e.treeLoaded=!1}),T.treeExpandedMaps={}),o&&(Fr(),Yn.handleTableData()),S.treeExpandedFlag++,(0,X.nextTick)()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:t}=T,n=En.value,r=n.hasChild||n.hasChildField,{transform:o,lazy:i}=n,a=Ve(Yn,e);return i&&e[r]&&!t[a]?Yn.clearTreeExpandLoaded(e).then(()=>Xr(e)).then(()=>{o&&(Fr(),Yn.handleTableData()),S.treeExpandedFlag++}).then(()=>Yn.recalculate()):(0,X.nextTick)()},reloadTreeChilds(e){return ee("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),Yn.reloadTreeExpand(e)},toggleTreeExpand(e){return Yn.setTreeExpand(e,!Yn.isTreeExpandByRow(e))},setAllTreeExpand(e){const{tableFullData:t}=T,n=En.value,{transform:r,lazy:o}=n,i=n.children||n.childrenField,l=[];return a().eachTree(t,e=>{const t=e[i];(o||t&&t.length)&&l.push(e)},{children:i}),Yn.setTreeExpand(l,e).then(()=>{if(r)return Fr(),S.treeExpandedFlag++,Yn.recalculate()})},setTreeExpand(e,t){const n=En.value,{transform:r}=n;return e&&(a().isArray(e)||(e=[e]),e.length)?r?Oo(e,t):Eo(e,t):(0,X.nextTick)()},isTreeExpandByRow(e){const{treeExpandedFlag:t}=S,{treeExpandedMaps:n}=T;return!!t&&!!n[Ve(Yn,e)]},clearTreeExpand(){const{tableFullTreeData:e}=T,t=En.value,n=t.children||t.childrenField,{transform:r,reserve:o}=t,i=Yn.getTreeExpandRecords();return T.treeExpandedMaps={},o&&a().eachTree(e,e=>Zr(e,!1),{children:n}),Yn.handleTableData().then(()=>{r&&(Fr(),Yn.handleTableData()),S.treeExpandedFlag++}).then(()=>{if(Zo(),i.length)return Yn.recalculate()})},clearTreeExpandReserve(){return T.treeExpandedReserveRowMap={},(0,X.nextTick)()},getScroll(){return Yn.getScrollData()},getScrollData(){const{scrollXLoad:e,scrollYLoad:t,scrollbarHeight:n,scrollbarWidth:r}=S,{elemStore:o}=T,i=ot(o["main-body-scroll"]),a=i?i.scrollTop:0,l=i?i.scrollLeft:0,s=i?i.clientHeight:0,c=i?i.clientWidth:0,u=i?i.scrollHeight:0,d=i?i.scrollWidth:0,p=a<=0,f=a+s>=u,h=l<=0,m=l+c>=d;return{virtualX:e,virtualY:t,isTop:p,isBottom:f,isLeft:h,isRight:m,scrollbarHeight:n,scrollbarWidth:r,scrollTop:a,scrollLeft:l,scrollHeight:u,scrollWidth:d,clientHeight:s,clientWidth:c}},scrollTo(e,t){const{elemStore:n}=T,r=ot(n["main-header-scroll"]),o=ot(n["main-body-scroll"]),i=ot(n["main-footer-scroll"]),l=ot(n["left-body-scroll"]),s=ot(n["right-body-scroll"]),c=de.value,u=we.value;return T.intoRunScroll=!0,e&&(a().isNumber(e)||(t=e.top,e=e.left)),a().isNumber(e)&&(Se(c,e),Se(o,e),Se(r,e),Se(i,e),yo()),a().isNumber(t)&&(ke(u,t),ke(o,t),ke(l,t),ke(s,t),No()),S.scrollXLoad||S.scrollYLoad?new Promise(e=>{setTimeout(()=>{(0,X.nextTick)(()=>{T.intoRunScroll=!1,e()})},30)}):(0,X.nextTick)().then(()=>{T.intoRunScroll=!1})},scrollToRow(t,n){const{isAllOverflow:r,scrollYLoad:o,scrollXLoad:i}=S,a=[];return t&&(e.treeConfig?a.push(Yn.scrollToTreeRow(t)):a.push(bt(Yn,t))),n&&a.push(Wo(n,t)),Promise.all(a).then(()=>{if(t)return r||!o&&!i||(Ar(),Or()),(0,X.nextTick)()})},scrollToStartRow(e){const{afterFullData:t}=T;return Yn.scrollToRow(t[0],e)},scrollToEndRow(e){const{afterFullData:t}=T;return Yn.scrollToRow(t[t.length-1],e)},scrollToColumn(e){const{fullColumnIdData:t}=T,n=Ke(Yn,e);return n&&t[n.id]?xt(Yn,n):(0,X.nextTick)()},scrollToStartColumn(){const{visibleColumn:e}=T;return Yn.scrollToColumn(e[0])},scrollToEndColumn(){const{visibleColumn:e}=T;return Yn.scrollToColumn(e[e.length-1])},clearScroll(){const{elemStore:e,scrollXStore:t,scrollYStore:n}=T,r=ot(e["main-header-scroll"]),o=ot(e["main-body-scroll"]),i=ot(e["main-footer-scroll"]),a=ot(e["left-body-scroll"]),l=ot(e["right-body-scroll"]),s=de.value,c=we.value;return T.intoRunScroll=!0,Se(s,0),Se(o,0),Se(r,0),Se(i,0),ke(c,0),ke(o,0),ke(a,0),ke(l,0),t.startIndex=0,t.visibleStartIndex=0,t.endIndex=t.visibleSize,t.visibleEndIndex=t.visibleSize,n.startIndex=0,n.visibleStartIndex=0,n.endIndex=n.visibleSize,n.visibleEndIndex=n.visibleSize,(0,X.nextTick)().then(()=>{T.lastScrollLeft=0,T.lastScrollTop=0,T.intoRunScroll=!1})},updateFooter(){const{showFooter:t,footerData:n,footerMethod:r}=e,{visibleColumn:o,afterFullData:i}=T;let a=[];return t&&n&&n.length?a=n.slice(0):t&&r&&(a=o.length?r({columns:o,data:i,$table:Yn,$grid:x,$gantt:y}):[]),S.footerTableData=a,Yn.handleUpdateFooterMerge(),Yn.dispatchEvent("footer-data-change",{visibleColumn:T.visibleColumn,footData:a},null),(0,X.nextTick)()},updateStatus(t,n){return(0,X.nextTick)().then(()=>{const{editRules:r}=e;if(t&&r)return Yn.handleCellRuleUpdateStatus("change",t,n)})},setMergeCells(t){return e.spanMethod&&te("vxe.error.errConflicts",["merge-cells","span-method"]),dr(t),Yn.handleUpdateBodyMerge(),(0,X.nextTick)().then(()=>{const{expandColumn:e}=S,{mergeBodyList:t}=T;return e&&t.length&&ee("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),Yn.updateCellAreas(),Pr()})},removeMergeCells(t){e.spanMethod&&te("vxe.error.errConflicts",["merge-cells","span-method"]);const n=pr(t);return Yn.handleUpdateBodyMerge(),(0,X.nextTick)().then(()=>(Yn.updateCellAreas(),Pr(),n))},getMergeCells(){return T.mergeBodyList.slice(0)},clearMergeCells(){return T.mergeBodyList=[],T.mergeBodyMaps={},T.mergeBodyCellMaps={},S.mergeBodyFlag++,(0,X.nextTick)().then(()=>Pr())},setMergeHeaderCells(e){return hr(e),Yn.handleUpdateHeaderMerge(),(0,X.nextTick)().then(()=>Pr())},removeMergeHeaderCells(e){const t=mr(e);return Yn.handleUpdateHeaderMerge(),(0,X.nextTick)().then(()=>(Pr(),t))},getMergeHeaderCells(){return T.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return T.mergeHeaderList=[],T.mergeHeaderMaps={},T.mergeHeaderCellMaps={},S.mergeHeadFlag++,(0,X.nextTick)().then(()=>Pr())},setMergeFooterCells(t){return e.footerSpanMethod&&te("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),vr(t),Yn.handleUpdateFooterMerge(),(0,X.nextTick)().then(()=>Pr())},setMergeFooterItems(e){return Yn.setMergeFooterCells(e)},removeMergeFooterCells(t){e.footerSpanMethod&&te("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);const n=br(t);return Yn.handleUpdateFooterMerge(),(0,X.nextTick)().then(()=>(Pr(),n))},removeMergeFooterItems(e){return Yn.removeMergeFooterCells(e)},getMergeFooterCells(){return T.mergeFooterList.slice(0)},getMergeFooterItems(){return Yn.getMergeFooterCells()},clearMergeFooterCells(){return T.mergeFooterList=[],T.mergeFooterMaps={},T.mergeFooterCellMaps={},S.mergeFootFlag++,(0,X.nextTick)().then(()=>Pr())},clearMergeFooterItems(){return Yn.clearMergeFooterCells()},updateCellAreas(){const{mouseConfig:t}=e,n=Gt.value;return t&&n.area&&Yn.handleRecalculateCellAreaEvent?Yn.handleRecalculateCellAreaEvent():(0,X.nextTick)()},getCustomStoreData(){const{id:t}=e,n=In.value,{isRowGroupStatus:r,rowGroupList:o}=S,{fullColumnFieldData:i,collectColumn:l}=T,{storage:s,checkMethod:c,storeOptions:u}=n,d=!0===s,p=Object.assign({},d?{}:s||{},u),f=Jn(p.resizable,d),h=Jn(p.visible,d),m=Jn(p.fixed,d),g=Jn(p.sort,d),v=Jn(p.aggGroup,d),b=Jn(p.aggFunc,d),x={},y=[],w={},C={},k={},E={},O={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(!t)return s&&te("vxe.error.reqProp",["id"]),O;let D=0,M=0,A=0,I=0,N=0;const R={};return a().eachTree(l,(e,t,n,r,o)=>{const i=e.getKey();if(i){if(o){if(g){const e=o.getKey(),t=R[e];if(M=1,t){const e={k:i};R[i]=e,t.c||(t.c=[]),t.c.push(e)}}}else{if(g){M=1;const e={k:i};R[i]=e,y.push(e)}m&&(e.fixed||"")!==(e.defaultFixed||"")&&(A=1,C[i]=e.fixed)}f&&e.resizeWidth&&(D=1,x[i]=e.renderWidth),!h||c&&!c({$table:Yn,column:e})||(!e.visible&&e.defaultVisible?(I=1,w[i]=!1):e.visible&&!e.defaultVisible&&(I=1,w[i]=!0)),b&&(e.aggFunc||"")!==(e.defaultAggFunc||"")&&(N=1,E[i]=e.aggFunc)}else te("vxe.error.reqProp",[`${e.getTitle()||e.type||""} -> column.field=?`])}),D&&(O.resizableData=x),M&&(O.sortData=y),A&&(O.fixedData=C),I&&(O.visibleData=w),v&&r&&(o.forEach(e=>{const t=i[e.field];t&&(k[t.column.getKey()]=!0)}),O.aggGroupData=k),N&&(O.aggFuncData=E),O},focus(){return T.isActivated=!0,(0,X.nextTick)()},blur(){return T.isActivated=!1,(0,X.nextTick)()},connect(e){return Yn.connectToolbar(e)},connectToolbar(e){return e?(Fe=e,Fe.syncUpdate({collectColumn:T.collectColumn,$table:Yn})):te("vxe.error.barUnableLink"),(0,X.nextTick)()}};const ei=t=>{const{editStore:n,ctxMenuStore:r,customStore:o}=S,{mouseConfig:i,editRules:a}=e,l=D.value,s=Bt.value,c=We.value,u=Yt.value,{actived:d}=n,p=N.value,f=F.value,h=_.value,m=R.value;if(f&&(Oe(t,l,"vxe-cell--filter").flag||Oe(t,f.getRefMaps().refElem.value).flag||Oe(t,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(t,"event.clearFilter",T._currFilterParams,E.closeFilter)),h&&(o.btnEl===t.target||Oe(t,document.body,"vxe-toolbar-custom-target").flag||Oe(t,h.getRefMaps().refElem.value).flag||Oe(t,document.body,"vxe-table--ignore-clear").flag||o.visible&&Yn.closeCustom&&O.preventEvent(t,"event.clearCustom",{},()=>{Yn.closeCustom(),Yn.dispatchEvent("custom",{type:"close"},t)})),d.row){if(!1!==s.autoClear){const n=d.args.cell;n&&Oe(t,n).flag||p&&Oe(t,p.$el).flag||(!T._lastCallTime||T._lastCallTime+50<Date.now())&&(Oe(t,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(t,"event.clearEdit",d.args,()=>{let n;if("row"===s.mode){const e=Oe(t,l,"vxe-body--row"),r=e.flag?E.getRowNode(e.targetElem):null;n=!!r&&!Yn.eqRow(r.item,d.args.row)}else n=!Oe(t,l,"col--edit").flag;if(n||(n=Oe(t,l,"vxe-header--row").flag),n||(n=Oe(t,l,"vxe-footer--row").flag),!n&&e.height&&!S.overflowY){const e=t.target;he(e,"vxe-table--body-wrapper")&&(n=t.offsetY<e.clientHeight)}!n&&Oe(t,l).flag||setTimeout(()=>{Yn.handleClearEdit(t).then(()=>{!T.isActivated&&a&&c.autoClear&&(S.validErrorMaps={})})})}))}}else if(i&&!Oe(t,l).flag&&(!w||!Oe(t,w.getRefMaps().refElem.value).flag)&&(!m||!Oe(t,m.getRefMaps().refElem.value).flag)&&(!Fe||!Oe(t,Fe.getRefMaps().refElem.value).flag)&&(Yn.clearSelected&&Yn.clearSelected(),u.autoClear&&Yn.getCellAreas)){const e=Yn.getCellAreas();e&&e.length&&!Oe(t,document.body,"vxe-table--ignore-areas-clear").flag&&O.preventEvent(t,"event.clearAreas",{},()=>{Yn.clearCellAreas(),Yn.clearCopyCellArea(),Ho("clear-cell-area-selection",{cellAreas:e},t)})}Yn.closeMenu&&r.visible&&m&&!Oe(t,m.getRefMaps().refElem.value).flag&&Yn.closeMenu();const g=Oe(t,w?w.getRefMaps().refElem.value:l).flag;!g&&a&&c.autoClear&&(S.validErrorMaps={}),T.isActivated=g},ti=()=>{E.closeFilter(),Yn.closeMenu&&Yn.closeMenu()},ni=()=>{E.closeTooltip(),Yn.closeMenu&&Yn.closeMenu()},ri=t=>{const{mouseConfig:n,keyboardConfig:r}=e,{filterStore:o,ctxMenuStore:i,editStore:a}=S,l=Gt.value,s=Kt.value,{actived:c}=a,u=mi.hasKey(t,gi.ESCAPE);u&&O.preventEvent(t,"event.keydown",null,()=>{if(Ho("keydown-start",{},t),r&&n&&l.area&&Yn.handleKeyboardCellAreaEvent)Yn.handleKeyboardCellAreaEvent(t);else if((c.row||o.visible||i.visible)&&(t.stopPropagation(),Yn.closeMenu&&Yn.closeMenu(),E.closeFilter(),r&&s.isEsc&&c.row)){const e=c.args;Yn.handleClearEdit(t),l.selected&&(0,X.nextTick)(()=>Yn.handleSelected(e,t))}Ho("keydown",{},t),Ho("keydown-end",{},t)})},oi=e=>{Ho("context-menu",{},e)},ii=t=>{T.isActivated&&Yn.preventEvent(t,"event.keydown",null,()=>{const{mouseConfig:n,keyboardConfig:r,treeConfig:o,editConfig:i,highlightCurrentRow:l,highlightCurrentColumn:s}=e,{ctxMenuStore:u,editStore:d,currentRow:p}=S,{afterFullData:f}=T,m=xn.value,g=mn.value,v=Kt.value,b=Gt.value,w=Bt.value,C=En.value,k=yn.value,D=Et.value,M=yt.value,{selected:A,actived:I}=d,N=C.children||C.childrenField,R=t.keyCode,F=mi.hasKey(t,gi.ESCAPE),_=mi.hasKey(t,gi.BACKSPACE),P=mi.hasKey(t,gi.TAB),j=mi.hasKey(t,gi.ENTER),$=mi.hasKey(t,gi.SPACEBAR),L=mi.hasKey(t,gi.ARROW_LEFT),z=mi.hasKey(t,gi.ARROW_UP),V=mi.hasKey(t,gi.ARROW_RIGHT),B=mi.hasKey(t,gi.ARROW_DOWN),H=mi.hasKey(t,gi.DELETE),W=mi.hasKey(t,gi.F2),q=mi.hasKey(t,gi.CONTEXT_MENU),U=ve(t),G=t.shiftKey,Y=t.altKey,K=L||z||V||B,Z=m&&u.visible&&(j||$||K),J=c(i)&&I.column&&I.row,Q=w.beforeEditMethod||w.activeMethod;if(Z)t.preventDefault(),u.showChild&&h(u.selected)?Yn.moveCtxMenu(t,u,"selectChild",L,!1,u.selected.children):Yn.moveCtxMenu(t,u,"selected",V,!0,k);else if(r&&n&&b.area&&Yn.handleKeyboardCellAreaEvent)Yn.handleKeyboardCellAreaEvent(t);else if(F){if(Yn.closeMenu&&Yn.closeMenu(),Yn.closeFilter(),r&&v.isEsc&&I.row){const e=I.args;Yn.handleClearEdit(t),b.selected&&(0,X.nextTick)(()=>Yn.handleSelected(e,t))}}else if($&&r&&v.isChecked&&A.row&&A.column&&("checkbox"===A.column.type||"radio"===A.column.type))t.preventDefault(),"checkbox"===A.column.type?O.handleToggleCheckRowEvent(t,A.args):O.triggerRadioRowEvent(t,A.args);else if(W&&c(i))J||A.row&&A.column&&(t.preventDefault(),Yn.handleEdit(A.args,t));else if(q)T._keyCtx=A.row&&A.column&&g.length,clearTimeout(T.keyCtxTimeout),T.keyCtxTimeout=setTimeout(()=>{T._keyCtx=!1},1e3);else if(j&&!Y&&r&&v.isEnter&&(A.row||I.row||o&&(D.isCurrent||l)&&p)){const{isLastEnterAppendRow:e,beforeEnterMethod:n,enterMethod:r}=v;if(U){if(I.row){const e=I.args;Yn.handleClearEdit(t),b.selected&&(0,X.nextTick)(()=>{Yn.handleSelected(e,t)})}}else if(A.row||I.row){const o=A.row?A.args:I.args;if(G)v.enterToTab?Yn.moveTabSelected(o,G,t):Yn.moveEnterSelected(o,L,!0,V,!1,t);else if(v.enterToTab)Yn.moveTabSelected(o,G,t);else{const i=A.row||I.row,a=A.column||I.column,l=Yn.getVTRowIndex(i),s={row:i,rowIndex:Yn.getRowIndex(i),$rowIndex:Yn.getVMRowIndex(i),_rowIndex:l,column:a,columnIndex:Yn.getColumnIndex(a),$columnIndex:Yn.getVMColumnIndex(a),_columnIndex:Yn.getVTColumnIndex(a),$table:Yn};if(!n||!1!==n(s)){if(e&&l>=f.length-1)return Yn.insertAt({},-1).then(({row:e})=>{Yn.scrollToRow(e,a),Yn.handleSelected(Object.assign(Object.assign({},o),{row:e}),t)}),void Yn.dispatchEvent("enter-append-row",s,t);Yn.moveEnterSelected(o,L,!1,V,!0,t),r&&r(s)}}}else if(o&&(D.isCurrent||l)&&p){const e=p[N];if(e&&e.length){t.preventDefault();const n=e[0],r={$table:Yn,row:n,rowIndex:Yn.getRowIndex(n),$rowIndex:Yn.getVMRowIndex(n)};Yn.setTreeExpand(p,!0).then(()=>Yn.scrollToRow(n)).then(()=>Yn.triggerCurrentRowEvent(t,r))}}}else if(K&&r&&v.isArrow)J||(b.selected&&A.row&&A.column?Yn.moveArrowSelected(A.args,L,z,V,B,t):((z||B)&&(D.isCurrent||l)&&Yn.moveCurrentRow(z,B,t),(L||V)&&(M.isCurrent||s)&&Yn.moveCurrentColumn(L,V,t)));else if(P&&r&&v.isTab)A.row||A.column?Yn.moveTabSelected(A.args,G,t):(I.row||I.column)&&Yn.moveTabSelected(I.args,G,t);else if(r&&v.isDel&&H&&c(i)&&(A.row||A.column)){if(!J){const{delMethod:e}=v,n={row:A.row,rowIndex:E.getRowIndex(A.row),column:A.column,columnIndex:E.getColumnIndex(A.column),$table:Yn,$grid:x,$gantt:y};Q&&!Q(n)||(e?e(n):rt(A.row,A.column,null),E.updateFooter(),Ho("cell-delete-value",n,t))}}else if(_&&r&&v.isBack&&c(i)&&(A.row||A.column)){if(!J){const{backMethod:e}=v;if(v.isDel&&c(i)&&(A.row||A.column)){const n={row:A.row,rowIndex:Yn.getRowIndex(A.row),column:A.column,columnIndex:Yn.getColumnIndex(A.column),$table:Yn,$grid:x,$gantt:y};Q&&!Q(n)||(e?e(n):(rt(A.row,A.column,null),Yn.handleEdit(A.args,t)),Ho("cell-backspace-value",n,t))}}}else if(_&&r&&o&&v.isBack&&(D.isCurrent||l)&&p){const{parent:e}=a().findTree(T.afterTreeFullData,e=>e===p,{children:N});if(e){t.preventDefault();const n={row:e,rowIndex:Yn.getRowIndex(e),$rowIndex:Yn.getVMRowIndex(e),$table:Yn,$grid:x,$gantt:y};Yn.setTreeExpand(e,!1).then(()=>Yn.scrollToRow(e)).then(()=>Yn.triggerCurrentRowEvent(t,n))}}else if(r&&c(i)&&v.isEdit&&!U&&($||R>=48&&R<=57||R>=65&&R<=90||R>=96&&R<=111||R>=186&&R<=192||R>=219&&R<=222)){const{editMode:e,editMethod:n}=v;if(A.column&&A.row&&c(A.column.editRender)){const r=w.beforeEditMethod||w.activeMethod,o={row:A.row,rowIndex:Yn.getRowIndex(A.row),column:A.column,columnIndex:Yn.getColumnIndex(A.column),$table:Yn,$grid:x,$gantt:y};r&&!r(Object.assign(Object.assign({},A.args),{$table:Yn,$grid:x,$gantt:y}))||(n?n(o):("insert"!==e&&rt(A.row,A.column,null),Yn.handleEdit(A.args,t)))}}Ho("keydown",{},t)})},Ti=t=>{const{keyboardConfig:n,mouseConfig:r}=e,{editStore:o,filterStore:i}=S,{isActivated:a}=T,l=Gt.value,s=Kt.value,{actived:c}=o;a&&!i.visible&&(c.row||c.column||n&&s.isClip&&r&&l.area&&Yn.handlePasteCellAreaEvent&&Yn.handlePasteCellAreaEvent(t),Ho("paste",{},t))},Ei=t=>{const{keyboardConfig:n,mouseConfig:r}=e,{editStore:o,filterStore:i}=S,{isActivated:a}=T,l=Gt.value,s=Kt.value,{actived:c}=o;a&&!i.visible&&(c.row||c.column||n&&s.isClip&&r&&l.area&&Yn.handleCopyCellAreaEvent&&Yn.handleCopyCellAreaEvent(t),Ho("copy",{},t))},Oi=t=>{const{keyboardConfig:n,mouseConfig:r}=e,{editStore:o,filterStore:i}=S,{isActivated:a}=T,l=Gt.value,s=Kt.value,{actived:c}=o;a&&!i.visible&&(c.row||c.column||n&&s.isClip&&r&&l.area&&Yn.handleCutCellAreaEvent&&Yn.handleCutCellAreaEvent(t),Ho("cut",{},t))},Di=()=>{Yn.closeMenu&&Yn.closeMenu();const e=D.value;e&&e.clientWidth&&(lo(),Yn.updateCellAreas())},Mi=e=>{const t=A.value;clearTimeout(T.tooltipTimeout),e?E.closeTooltip():t&&t.setActived&&t.setActived(!0)},Ai=()=>{Si=null,k.row=null},Ii=()=>{const{dragRow:e,dragCol:t}=S;(e||t)&&($i(),Fi(),Vi(),Ai(),S.dragRow=null,S.dragCol=null)},Ni=()=>{Bi(),Ai(),io(!1,!0,!0)},Ri=()=>{Hi(),Ai(),io(!0,!0,!0)},Fi=()=>{const e=D.value;if(e){const t="row--drag-origin";a().arrayEach(e.querySelectorAll(`.${t}`),e=>{e.draggable=!1,me(e,t)})}},_i=e=>{const t=D.value;if(t){const n="row--drag-origin",r=Ve(Yn,e);a().arrayEach(t.querySelectorAll(`[rowid="${r}"]`),e=>{ge(e,n)})}},Pi=t=>{const{dragConfig:n}=e,{dragRow:r}=S,o=At.value,{tooltipMethod:i}=o,a=i||(n?n.rowTooltipMethod:null);let l="";if(a){const e={$table:Yn,row:r};l=`${a(e)||""}`}else l=si("vxe.table.dragTip",[t.textContent||""]);S.dragTipText=l},ji=e=>{const t=D.value;if(t){const n=[];a().eachTree([e],e=>{n.push(`[colid="${e.id}"]`)});const r="col--drag-origin";a().arrayEach(t.querySelectorAll(n.join(",")),e=>{ge(e,r)})}},$i=()=>{const e=D.value;if(e){const t="col--drag-origin";a().arrayEach(e.querySelectorAll(`.${t}`),e=>{e.draggable=!1,me(e,t)})}},Li=e=>{const{dragCol:t}=S,n=It.value,{tooltipMethod:r}=n;let o="";if(r){const e={$table:Yn,column:t};o=`${r(e)||""}`}else o=si("vxe.table.dragTip",[e.textContent||""]);S.dragTipText=o},zi=(e,t,n,r,o)=>{let i=D.value;if(y&&t){const{refGanttContainerElem:e}=y.getRefMaps(),t=e.value;t&&(i=t)}if(!i)return;const{overflowX:a,scrollbarWidth:l,overflowY:s,scrollbarHeight:c}=S,{prevDragToChild:u}=T,d=i.getBoundingClientRect(),p=s?l:0,f=a?c:0,h=i.clientWidth,m=i.clientHeight;if(t){const e=re.value;if(e)if(r){const n=dt.value,r=t.getBoundingClientRect();let i=t.clientHeight;const a=Math.max(1,r.y-d.y);a+i>m-f&&(i=m-a-f),e.style.display="block",e.style.left=`${n?p:0}px`,e.style.top=`${a}px`,e.style.height=`${i}px`,e.style.width=h-p+"px",e.setAttribute("drag-pos",o),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}else if(n){const e=oe.value;if(e)if(r){const t=ut.value,r=Y.value,i=r?r.clientWidth:0,a=K.value,l=a?a.clientWidth:0,s=n.getBoundingClientRect();let c=n.clientWidth;const g=Math.max(0,s.y-d.y),v=i;let b=s.x-d.x;b<v&&(c-=v-b,b=v);const x=h-l-(l?0:p);b+c>x&&(c=x-b),e.style.display="block",e.style.top=`${g}px`,e.style.left=`${b}px`,e.style.width=`${c}px`,e.style.height=u?`${s.height}px`:m-g-(t?0:f)+"px",e.setAttribute("drag-pos",o),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}const g=ne.value;g&&(g.style.display="block",g.style.top=`${Math.min(i.clientHeight-i.scrollTop-g.clientHeight,e.clientY-d.y)}px`,g.style.left=`${Math.min(i.clientWidth-i.scrollLeft-g.clientWidth-16,e.clientX-d.x)}px`,g.setAttribute("drag-status",r?u?"sub":"normal":"disabled"))},Vi=()=>{const e=ne.value,t=re.value,n=oe.value;e&&(e.style.display=""),t&&(t.style.display=""),n&&(n.style.display="")},Bi=()=>{let e=D.value;const t=[".vxe-body--row"];if(y){const{refGanttContainerElem:n}=y.getRefMaps(),r=n.value;r&&(e=r),t.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")}Vi(),Fi(),ln(e,t),T.prevDragToChild=!1,S.dragRow=null,S.dragCol=null},Hi=()=>{const e=D.value;Vi(),$i(),cn(e,[".vxe-table--column"]),T.prevDragToChild=!1,S.dragRow=null,S.dragCol=null},Wi=(e,t,n,r,o,i,l)=>{const s=o||r;if(!s)return(0,X.nextTick)();l.cell=r;const{tooltipStore:c}=S,{column:u,row:d}=l,{showAll:p,contentMethod:f}=t,h=f?f(l):null,m=f&&!a().eqNull(h),v=m?h:a().toString("html"===u.type?s.innerText:s.textContent).trim(),b=s.scrollWidth>s.clientWidth;if(v&&(p||m||b)){const e=g(v);Object.assign(c,{row:d,column:u,visible:!0,content:e,type:n,currOpts:t}),(0,X.nextTick)(()=>{const t=A.value;t&&t.open&&t.open(b?s:i,e)})}return(0,X.nextTick)()},qi=(e,t)=>{if(e){if(w)return w.callSlot(e,t);if(a().isFunction(e))return St(e(t))}return[]};O={getSetupOptions(){return ai()},updateAfterDataIndex:Rr,callSlot:qi,getParentElem(){const e=D.value;if(w){const e=w.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,n=D.value;if(n){const e=n.parentNode;let r=0,o=0;return e&&(y&&he(e,"vxe-gantt--table-wrapper")?o=y.getParentHeight():x&&he(e,"vxe-grid--table-wrapper")?o=x.getParentHeight():(o=e.clientHeight,r="100%"===t||"auto"===t?Ce(e):0)),Math.floor(o-r)}return 0},getExcludeHeight(){return w?w.getExcludeHeight():0},defineField(t){const{treeConfig:n}=e,r=Tn.value,o=En.value,i=_t.value,l=Pt.value,s=o.children||o.childrenField,c=ze(Yn);return a().isArray(t)||(t=[t]),t.map(e=>{T.tableFullColumn.forEach(t=>{const{field:n,editRender:r}=t;if(n&&!a().has(e,n)&&!e[n]){let o=null;if(r){const{defaultValue:e}=r;a().isFunction(e)?o=e({column:t}):a().isUndefined(e)||(o=e)}a().set(e,n,o)}});const t=[i.labelField,l.checkField,l.labelField,r.labelField];return t.forEach(t=>{t&&v(a().get(e,t))&&a().set(e,t,null)}),n&&o.lazy&&a().isUndefined(e[s])&&(e[s]=null),v(a().get(e,c))&&a().set(e,c,$e()),e})},handleTableData(e){const{scrollYLoad:t}=S,{scrollYStore:n,fullDataRowIdData:r}=T,o=T.xeGanttView;let i=T.afterFullData;e&&(_r(),i=Fr());const a=t?i.slice(n.startIndex,n.endIndex):i.slice(0),l={};return a.forEach((e,t)=>{const n=Ve(Yn,e),o=r[n];o&&(o.$index=t),l[n]=e}),S.tableData=a,T.visibleDataRowIdData=l,o&&o.updateViewData&&o.updateViewData(e),(0,X.nextTick)()},cacheRowMap(t){const{treeConfig:n}=e,{isRowGroupStatus:r}=S,{currKeyField:o,fullAllDataRowIdData:i,tableFullData:l,tableFullTreeData:s,tableFullGroupData:c,treeExpandedMaps:u,rowExpandedMaps:d,selectCheckboxMaps:p}=T,f=t?{}:Object.assign({},i),h={},m={},{handleUpdateRowId:g}=Be(Yn),v=(e,t,n,r,i,a,l,s)=>{let c=f[a];m[a]&&te("vxe.error.repeatKey",[o,a]),c||(c={row:e,rowid:a,seq:s,index:-1,_index:-1,$index:-1,treeIndex:t,_tIndex:-1,items:n,parent:i,level:l,height:0,resizeHeight:0,oTop:0,expandHeight:0},h[a]=c,f[a]=c),c.treeLoaded=!1,c.expandLoaded=!1,c.row=e,c.items=n,c.parent=i,c.level=l,c.index=r,c.treeIndex=t,p[a]&&(p[a]=e),d[a]&&(d[a]=e),m[a]=!0,h[a]=c,f[a]=c};if(n){const e=En.value,{lazy:t}=e,r=e.children||e.childrenField,o=e.hasChild||e.hasChildField;a().eachTree(s,(e,i,a,l,s,c)=>{const d=g(e);n&&t&&(e[o]&&void 0===e[r]&&(e[r]=null),u[d]&&(e[r]&&e[r].length||delete u[d])),v(e,i,a,s?-1:i,s,d,c.length-1,tt(l))},{children:r})}else if(r){const e=Ot.value,{mapChildrenField:t}=e;a().eachTree(c,(e,t,n,r,o,i)=>{const a=g(e);v(e,t,n,o?-1:t,o,a,i.length-1,tt(r))},{children:t})}else l.forEach((e,t,n)=>{v(e,t,n,t,null,g(e),0,t+1)});T.fullDataRowIdData=h,T.fullAllDataRowIdData=f,S.treeExpandedFlag++},cacheSourceMap(t){const{treeConfig:n}=e,r=En.value,o=a().clone(t,!0),{handleUpdateRowId:i}=Be(Yn),l={},s=e=>{const t=i(e);l[t]=e};if(n){const e=r.children||r.childrenField;a().eachTree(o,s,{children:r.transform?r.mapChildrenField:e})}else o.forEach(s);T.sourceDataRowIdData=l,T.tableSourceData=o},analyColumnWidth(){const{tableFullColumn:e}=T,t=yt.value,{width:n,minWidth:r}=t,o=[],i=[],a=[],l=[],s=[],c=[],u=[],d=[];e.forEach(e=>{n&&!e.width&&(e.width=n),r&&!e.minWidth&&(e.minWidth=r),e.visible&&(e.resizeWidth?o.push(e):"auto"===e.width?u.push(e):pe(e.width)?i.push(e):fe(e.width)?s.push(e):pe(e.minWidth)?a.push(e):"auto"===e.minWidth?l.push(e):fe(e.minWidth)?c.push(e):d.push(e))}),Object.assign(S.columnStore,{resizeList:o,pxList:i,pxMinList:a,autoMinList:l,scaleList:s,scaleMinList:c,autoList:u,remainList:d})},handleColResizeMousedownEvent(e,t,n){const r=0===e.button;if(!r)return;e.stopPropagation(),e.preventDefault();const{column:o}=n,{columnStore:i,overflowX:l,scrollbarHeight:s}=S,{visibleColumn:c}=T,{leftList:u,rightList:d}=i,p=Rt.value,f=l?s:0,h=D.value,m=Y.value,g=K.value,v=Z.value;if(!v)return;const b="left"===t,x="right"===t,y=v.firstElementChild,w=ut.value,{clientX:C}=e,k=e.target;let E=k.parentElement,O=o;const M=o.children&&o.children.length;if(M&&(O=mt(o),M)){const e=E?E.parentElement:null,t=e?e.parentElement:null;E=t?t.querySelector(`.vxe-header--column[colid="${O.id}"]`):null}if(!E)return;const A=a().assign(n,{cell:E,$table:Yn});let I=0;const N=h.getBoundingClientRect(),R=g?g.getBoundingClientRect():null,F=E.getBoundingClientRect(),_=k.getBoundingClientRect(),P=k.clientWidth,j=a().floor(P/2),$=_.x-N.x+j,L=at(A)-j,z=x?0:F.x-N.x+P+L,V=F.x-N.x+E.clientWidth-L;let B=0,H=0;if(b||x){let e=!1;const t=b?u:d;for(let n=0;n<t.length;n++){const r=t[n];e?B+=r.renderWidth:(e=r.id===O.id,e||(H+=r.renderWidth))}}const W=e=>{e.stopPropagation(),e.preventDefault();const t=h.clientHeight,n=e.clientX-C;let r=$+n;b?R&&(r=Math.min(r,R.x-N.x-B-L)):x&&(m&&(r=Math.max(r,m.clientWidth+H+L)),r=Math.min(r,V)),I=Math.max(r,z);const o=Math.max(1,I);if(v.style.left=`${o}px`,v.style.top=`${w?f:0}px`,v.style.height=`${w?t-f:t}px`,p.showDragTip&&y){y.textContent=si("vxe.table.resizeColTip",[Math.floor(O.renderWidth+(x?$-I:I-$))]);const n=h.clientWidth,r=v.clientWidth,i=y.clientWidth,a=y.clientHeight;let l=-i;o<i+r?l=0:o>n&&(l+=n-o),y.style.left=`${l}px`,y.style.top=`${Math.min(t-a,Math.max(0,e.clientY-N.y-a/2))}px`}S.isDragResize=!0};S.isDragResize=!0,ge(h,"col-drag--resize"),v.style.display="block",document.onmousemove=W,document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,v.style.display="none",T._lastResizeTime=Date.now(),setTimeout(()=>{S.isDragResize=!1},50);const t=O.renderWidth+(x?$-I:I-$),r=Object.assign(Object.assign({},n),{resizeWidth:t,resizeColumn:O});"fixed"===p.dragMode&&c.forEach(e=>{e.id!==O.id&&(e.resizeWidth||(e.resizeWidth=e.renderWidth))}),Yn.handleColResizeCellAreaEvent?Yn.handleColResizeCellAreaEvent(e,r):(O.resizeWidth=t,Uo(e,r)),me(h,"col-drag--resize")},W(e),Yn.closeMenu&&Yn.closeMenu()},handleColResizeDblclickEvent(e,t){const n=Rt.value,{isDblclickAutoWidth:r}=n,o=D.value;if(r&&o){e.stopPropagation(),e.preventDefault();const{fullColumnIdData:n}=T,{column:r}=t;let i=r;r.children&&r.children.length&&a().eachTree(r.children,e=>{i=e});const l=i.id,s=n[l],c=e.target,u=c.parentNode,d=Object.assign(t,{cell:u,$table:Yn}),p=at(d);o.setAttribute("data-calc-col","Y");let f=Er(i,o);o.removeAttribute("data-calc-col"),s&&(f=Math.max(f,s.width)),f=Math.max(p,f);const h=Object.assign(Object.assign({},t),{resizeWidth:f,resizeColumn:i});S.isDragResize=!1,T._lastResizeTime=Date.now(),Yn.handleColResizeDblclickCellAreaEvent?Yn.handleColResizeDblclickCellAreaEvent(e,h):(i.resizeWidth=f,Uo(e,h))}},handleRowResizeMousedownEvent(t,n){t.stopPropagation(),t.preventDefault();const{row:r}=n,{showOverflow:o}=e,{overflowX:i,scrollbarWidth:l,overflowY:s,scrollbarHeight:c}=S,{elemStore:u,fullAllDataRowIdData:d}=T,p=s?l:0,f=i?c:0,h=dt.value,m=Rt.value,g=Et.value,v=Ct.value;let b=D.value;if(y){const{refGanttContainerElem:e}=y.getRefMaps(),t=e.value;t&&(b=t)}const x=J.value;if(!x)return;const{clientY:w}=t,C=x.firstElementChild,k=t.currentTarget,E=k.parentNode,O=E.parentNode,M=ot(u["main-body-scroll"]);if(!M)return;const A=Ve(Yn,r),I=d[A];if(!I)return;const N=gt.value;let R=I.resizeHeight||v.height||g.height||I.height||N;o||(R=E.clientHeight);const F=b.getBoundingClientRect(),_=O.getBoundingClientRect(),P=w-_.y-O.clientHeight;let j=R;const $=E.querySelector(".vxe-cell");let L=0;if($){const e=getComputedStyle($);L=Math.max(1,Math.ceil(a().toNumber(e.paddingTop)+a().toNumber(e.paddingBottom)))}const z=_.y-F.y+L,V=e=>{e.stopPropagation(),e.preventDefault();const t=b.clientWidth-p,n=b.clientHeight-f;let r=e.clientY-F.y-P;if(r<z?r=z:j=Math.max(L,R+e.clientY-w),x.style.left=`${h?p:0}px`,x.style.top=`${r}px`,x.style.width=`${t}px`,m.showDragTip&&C){C.textContent=si("vxe.table.resizeRowTip",[j]);const o=C.clientWidth,i=C.clientHeight;let a=Math.max(2,e.clientX-F.x),l=0;a+o>=t-2&&(a=t-o-2),r+i>=n&&(l=n-(r+i)),C.style.left=`${a}px`,C.style.top=`${l}px`}S.isDragResize=!0};S.isDragResize=!0,ge(b,"row-drag--resize"),x.style.display="block",document.onmousemove=V,document.onmouseup=function(e){if(document.onmousemove=null,document.onmouseup=null,x.style.display="none",T._lastResizeTime=Date.now(),setTimeout(()=>{S.isDragResize=!1},50),j!==R){const t=Object.assign(Object.assign({},n),{resizeHeight:j,resizeRow:r});T.isResizeCellHeight=!0,Yn.handleRowResizeCellAreaEvent?Yn.handleRowResizeCellAreaEvent(e,t):(I.resizeHeight=j,Go(e,t),Ko())}me(b,"row-drag--resize")},V(t)},handleRowResizeDblclickEvent(e,t){const n=Rt.value,{isDblclickAutoHeight:r}=n,o=D.value;if(r&&o){e.stopPropagation(),e.preventDefault();const{editStore:n}=S,{fullAllDataRowIdData:r}=T,{actived:i}=n,{row:a}=t,l=Ve(Yn,a),s=r[l];if(!s)return;const c=()=>{o.setAttribute("data-calc-row","Y");const n=Mr(s,o);o.removeAttribute("data-calc-row");const r=Object.assign(Object.assign({},t),{resizeHeight:n,resizeRow:a});S.isDragResize=!1,T._lastResizeTime=Date.now(),Yn.handleRowResizeDblclickCellAreaEvent?Yn.handleRowResizeDblclickCellAreaEvent(e,r):(s.resizeHeight=n,Go(e,r))};i.row||i.column?Yn.clearEdit().then(c):c()}},saveCustomStore(t){const{customConfig:n}=e,r=_e.value,o=In.value,{updateStore:i,storage:a,storeOptions:l}=o,s=!0===a,u=Object.assign({},s?{}:a||{},l),d=Jn(u.resizable,s),p=Jn(u.visible,s),f=Jn(u.fixed,s),h=Jn(u.sort,s),m=Jn(u.aggGroup,s),g=Jn(u.aggFunc,s);if("reset"!==t&&(S.isCustomStatus=!0),a&&(n?c(o):o.enabled)&&(d||p||f||h||m||g)){if(!r)return te("vxe.error.reqProp",["id"]),(0,X.nextTick)();const e="reset"===t?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:E.getCustomStoreData();if(i)return i({$table:Yn,id:r,type:t,storeData:e});tr(r,"reset"===t?null:e)}return(0,X.nextTick)()},handleCustom(){const{mouseConfig:t}=e;return t&&(Yn.clearSelected&&Yn.clearSelected(),Yn.clearCellAreas&&(Yn.clearCellAreas(),Yn.clearCopyCellArea())),O.analyColumnWidth(),E.refreshColumn(!0)},handleUpdateDataQueue(){S.upDataFlag++},handleRefreshColumnQueue(){S.reColumnFlag++},handleFilterOptions(e){if(e){const{filterStore:t}=S,{filterRender:n,filters:r}=e,o=r||[],i=c(n)?ci.get(n.name):null,a=e.filterRecoverMethod||(i?i.tableFilterRecoverMethod||i.filterRecoverMethod:null);t.column=e,o.forEach(t=>{const{_checked:n,checked:r}=t;t._checked=r,r||n===r||a&&a({option:t,column:e,$table:Yn})}),Yn.checkFilterOptions()}},preventEvent(e,t,n,r,o){let i=fi.get(t);i.length||"event.clearEdit"!==t||(i=fi.get("event.clearActived"),i.length&&ee("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let a=null,l=!1;for(let s=0;s<i.length;s++){const t=i[s],r=t(Object.assign({$table:Yn,$grid:x,gantt:y,$event:e},n));if(!1===r){l=!0;break}if(r&&!1===r.status){a=r.result,l=!0;break}}return l||r&&(a=r()),o&&o(),a},updateCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{afterTreeFullData:r,afterGroupFullData:o,selectCheckboxMaps:i,treeIndeterminateRowMaps:l}=T,s=Ot.value,c=En.value,u=c.children||c.childrenField,d=Pt.value,{checkField:p,indeterminateField:f,checkStrictly:h,checkMethod:m}=d;if(!h){if(n||t){const{handleGetRowId:e}=He(Yn),d={},h=[];if(n){const t=s.mapChildrenField;t&&a().eachTree(o,n=>{const r=e(n),o=n[t];o&&o.length&&!d[r]&&(d[r]=1,h.unshift([n,r,o]))},{children:t})}else if(t){const{transform:t,mapChildrenField:n}=c;a().eachTree(r,r=>{const o=e(r),i=r[t?n:u];i&&i.length&&!d[o]?(d[o]=1,h.unshift([r,o,i])):f&&a().set(r,f,!1)},{children:t?n:u})}h.forEach(t=>{const n=t[0],r=t[1],o=t[2];let s=0,c=0,u=0;const d=o.length;o.forEach(m?t=>{const n=e(t),r=p?a().get(t,p):i[n];m({$table:Yn,row:t})?(r?s++:l[n]&&c++,u++):r?s++:l[n]&&c++}:t=>{const n=e(t),r=p?a().get(t,p):i[n];r?s++:l[n]&&c++,u++});let h=!1;h=d>0?u>0?(s>0||c>0)&&s>=u:s>0&&s>=u||!!i[r]:i[r];const g=!h&&(s>0||c>0);p&&a().set(n,p,h),f&&a().set(n,f,g),h?(p||(i[r]=n),l[r]&&delete l[r]):(p||i[r]&&delete i[r],g?l[r]=n:l[r]&&delete l[r])})}S.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{afterFullData:r,afterTreeFullData:o,afterGroupFullData:i,checkboxReserveRowMap:l,selectCheckboxMaps:s,treeIndeterminateRowMaps:c}=T,u=Ot.value,{mapChildrenField:d}=u,p=Pt.value,{checkField:f,checkMethod:h,showReserveStatus:m}=p,{handleGetRowId:g}=He(Yn);let v=0,b=0,x=0,y=0,w=0;const C=t?o:n?i:r;C.forEach(h?e=>{const t=g(e),r=f?a().get(e,f):s[t];if(n&&Yn.isAggregateRecord(e)){const n=e[d||""];r?(w++,v++):c[t]?(w++,x++):n&&n.length&&n.some(e=>h({$table:Yn,row:e}))&&w++}else h({$table:Yn,row:e})?(r?v++:c[t]&&x++,w++):r?b++:c[t]&&y++}:e=>{const t=g(e),n=f?a().get(e,f):s[t];n?v++:c[t]&&x++,w++});const k=C.length>0&&(w>0?v>=w:v>=C.length);let E=!k&&(v>0||x>0||b>0||y>0);k||E||!m||(E=!a().isEmpty(l)),S.isAllSelected=k,S.isIndeterminate=E},checkSelectionStatus(){Yn.updateCheckboxStatus(),Yn.updateAllCheckboxStatus()},handleBatchSelectRows(t,n,r){const{treeConfig:o}=e,{isRowGroupStatus:i}=S,{selectCheckboxMaps:l}=T,s=Ot.value,c=En.value,{transform:u,mapChildrenField:d}=c,p=c.children||c.childrenField,f=Pt.value,{checkField:h,checkStrictly:m,checkMethod:g}=f,{handleGetRowId:v}=He(Yn),b=f.indeterminateField||f.halfField;if(h)return!o&&!i||m?(t.forEach(e=>{(r||!g||g({$table:Yn,row:e}))&&(a().set(e,h,n),Wr(e,n))}),void S.updateCheckboxFlag++):(a().eachTree(t,e=>{(r||!g||g({$table:Yn,row:e}))&&(a().set(e,h,n),b&&a().set(e,b,!1),Wr(e,n))},{children:u?d:p}),void S.updateCheckboxFlag++);if(!m){if(i)return a().eachTree(t,e=>{const t=v(e);(r||!g||g({$table:Yn,row:e}))&&(n?l[t]=e:l[t]&&delete l[t],Wr(e,n))},{children:s.mapChildrenField}),void S.updateCheckboxFlag++;if(o)return a().eachTree(t,e=>{const t=v(e);(r||!g||g({$table:Yn,row:e}))&&(n?l[t]=e:l[t]&&delete l[t],Wr(e,n))},{children:u?d:p}),void S.updateCheckboxFlag++}t.forEach(e=>{const t=v(e);(r||!g||g({$table:Yn,row:e}))&&(n?l[t]||(l[t]=e):l[t]&&delete l[t],Wr(e,n),S.updateCheckboxFlag++)})},handleSelectRow({row:e},t,n){Yn.handleBatchSelectRows([e],t,n)},handleUpdateBodyMerge(){const{mergeBodyList:e}=T;T.mergeBodyCellMaps=cr(e),S.mergeBodyFlag++},handleUpdateHeaderMerge(){const{mergeHeaderList:e}=T;T.mergeHeaderCellMaps=cr(e),S.mergeHeadFlag++},handleUpdateFooterMerge(){const{mergeFooterList:e}=T;T.mergeFooterCellMaps=cr(e),S.mergeFootFlag++},handleAggregateSummaryData(){return Yn.refreshAggregateCalcValues()},triggerHeaderTitleEvent(e,t,n){const r=t.content||t.message;if(r){const{tooltipStore:o}=S,{column:i}=n,a=m(r);Mi(!0),o.row=null,o.column=i,o.visible=!0,o.currOpts=t,(0,X.nextTick)(()=>{const t=A.value;t&&t.open&&t.open(e.currentTarget,a)})}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:n}=S,r=$t.value,{column:o}=t;Mi(!0);const i=e.currentTarget;if(!i)return;const a=i.parentElement;if(!a)return;const l=a.parentElement;if(!l)return;const s=l.parentElement;if(s&&(n.column!==o||!n.visible)){const n=s.querySelector(".vxe-cell--title");Wi(e,r,"header",s,(he(s,"col--ellipsis")?n:a)||a,n||l,t)}},triggerBodyTooltipEvent(t,n){const{editConfig:r}=e,{editStore:o}=S,{tooltipStore:i}=S,a=jt.value,l=Bt.value,{actived:s}=o,{row:u,column:d}=n,p=t.currentTarget;if(Mi(i.column!==d||i.row!==u),d.editRender&&c(r)){if("row"===l.mode&&s.row===u)return;if(s.row===u&&s.column===d)return}if(i.column!==d||i.row!==u||!i.visible){const e=p.querySelector(".vxe-cell--wrapper");let r=null,o=p.querySelector("html"===d.type?".vxe-cell--html":".vxe-cell--label");d.treeNode&&(r=p.querySelector(".vxe-tree-cell")),o||(o=e),Wi(t,a,"body",p,r||e,o,n)}},triggerFooterTooltipEvent(e,t){const{column:n}=t,{tooltipStore:r}=S,o=Lt.value,i=e.currentTarget;if(Mi(r.column!==n||!!r.row),r.column!==n||!r.visible){const r=i.querySelector(".vxe-cell--wrapper");let a=null,l=i.querySelector("html"===n.type?".vxe-cell--html":".vxe-cell--label");"html"===n.type&&(a=i.querySelector(".vxe-cell--html")),l||(l=r),Wi(e,o,"footer",i,a||r,l,t)}},handleTargetLeaveEvent(){const e=jt.value;let t=A.value;t&&t.setActived&&t.setActived(!1),e.enterable?T.tooltipTimeout=setTimeout(()=>{t=A.value,t&&t.isActived&&!t.isActived()&&Yn.closeTooltip()},e.leaveDelay):Yn.closeTooltip()},triggerHeaderCellClickEvent(t,n){const{_lastResizeTime:r}=T,o=Wt.value,i=yt.value,a=wt.value,{column:l}=n,s=t.currentTarget,c=r&&r>Date.now()-300,u=Oe(t,s,"vxe-cell--sort").flag,d=Oe(t,s,"vxe-cell--filter").flag;"cell"!==o.trigger||c||u||d||Yn.triggerSortEvent(t,l,Qn(l)),Ho("header-cell-click",Object.assign({triggerResizable:c,triggerSort:u,triggerFilter:d,cell:s},n),t),!i.isCurrent&&!e.highlightCurrentColumn||a.trigger&&!["header","default"].includes(a.trigger)||Yn.triggerCurrentColumnEvent(t,n)},triggerHeaderCellDblclickEvent(e,t){Ho("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,n){const{treeConfig:r,highlightCurrentRow:o,highlightCurrentColumn:i,editConfig:a,aggregateConfig:l,rowGroupConfig:s}=e,{editStore:u,isDragResize:d,expandColumn:p,checkboxColumn:f,radioColumn:h}=S;if(d)return;const m=Tn.value,g=Bt.value,v=En.value,b=_t.value,x=Pt.value,y=Kt.value,w=Ot.value,C=Et.value,k=yt.value,T=wt.value,{actived:E,focused:O}=u,{row:D,column:M}=n,{type:A,treeNode:I,rowGroupNode:N}=M,R="radio"===A,F="checkbox"===A,_="expand"===A,P=t.currentTarget,j=R&&Oe(t,P,"vxe-cell--radio").flag,$=F&&Oe(t,P,"vxe-cell--checkbox").flag,L=I&&Oe(t,P,"vxe-cell--tree-btn").flag,z=_&&Oe(t,P,"vxe-table--expanded").flag,V=_&&Oe(t,P,"vxe-row-group--node-btn").flag;n=Object.assign({cell:P,triggerRadio:j,triggerCheckbox:$,triggerTreeNode:L,triggerExpandNode:z},n),$||j||(!z&&(p&&"row"===m.trigger||_&&"cell"===m.trigger)&&Yn.triggerRowExpandEvent(t,n),r&&("row"===v.trigger||I&&"cell"===v.trigger)&&Yn.triggerTreeExpandEvent(t,n),(l||s)&&("row"===w.trigger||N&&"cell"===w.trigger)&&Yn.triggerRowGroupExpandEvent(t,n)),L||(z||V||((C.isCurrent||o)&&($||j||Yn.triggerCurrentRowEvent(t,n)),!k.isCurrent&&!i||T.trigger&&!["cell","default"].includes(T.trigger)||$||j||Yn.triggerCurrentColumnEvent(t,n),!j&&(h&&"row"===b.trigger||R&&"cell"===b.trigger)&&Yn.triggerRadioRowEvent(t,n),!$&&(f&&"row"===x.trigger||F&&"cell"===x.trigger)&&Yn.handleToggleCheckRowEvent(t,n)),c(a)&&(y.arrowCursorLock&&t&&"cell"===g.mode&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(O.column=M,O.row=D),"manual"===g.trigger?E.args&&E.row===D&&M!==E.column&&$r(t,n):E.args&&D===E.row&&M===E.column||("click"===g.trigger||"dblclick"===g.trigger&&"row"===g.mode&&E.row===D)&&$r(t,n))),c(a)&&"dblclick"===g.trigger&&E.row&&E.column&&("row"===g.mode?Yn.eqRow(E.row,D)||Yn.handleClearEdit(t):"cell"===g.mode&&(Yn.eqRow(E.row,D)&&E.column.id===M.id||Yn.handleClearEdit(t))),Ho("cell-click",n,t)},triggerCellDblclickEvent(t,n){const{editConfig:r}=e,{editStore:o,isDragResize:i}=S;if(i)return;const a=Bt.value,{actived:l}=o,s=t.currentTarget;n=Object.assign({cell:s},n),c(r)&&"dblclick"===a.trigger&&(l.args&&t.currentTarget===l.args.cell||("row"===a.mode?jr("blur").catch(e=>e).then(()=>{Yn.handleEdit(n,t).then(()=>jr("change")).catch(e=>e)}):"cell"===a.mode&&Yn.handleEdit(n,t).then(()=>jr("change")).catch(e=>e))),Ho("cell-dblclick",n,t)},handleToggleCheckRowEvent(e,t){const{selectCheckboxMaps:n}=T,r=Pt.value,{checkField:o,trigger:i}=r,{row:l}=t;if("manual"===i)return;let s=!1;s=o?!a().get(l,o):!n[Ve(Yn,l)],e?Yn.triggerCheckRowEvent(e,t,s):(Yn.handleBatchSelectRows([l],s),Yn.checkSelectionStatus())},triggerCheckRowEvent(t,n,r){const{treeConfig:o}=e,{row:i}=n,{isRowGroupStatus:a}=S,{afterFullData:l}=T,s=Pt.value,{checkMethod:c,trigger:u}=s;if("manual"!==u){if(t.stopPropagation(),s.isShiftKey&&t.shiftKey&&!o&&!a){const e=Yn.getCheckboxRecords();if(e.length){const r=e[0],o=Yn.getVTRowIndex(i),a=Yn.getVTRowIndex(r);if(o!==a){Yn.setAllCheckboxRow(!1);const e=o<a?l.slice(o,a+1):l.slice(a,o+1);return(0,X.nextTick)(()=>{Ur(e,!0,!1)}),void Ho("checkbox-range-select",Object.assign({rangeRecords:e},n),t)}}}(a||!c||c({$table:Yn,row:i}))&&(Yn.handleBatchSelectRows([i],r),Yn.checkSelectionStatus(),Ho("checkbox-change",Object.assign({records:()=>Yn.getCheckboxRecords(),reserves:()=>Yn.getCheckboxReserveRecords(),indeterminates:()=>Yn.getCheckboxIndeterminateRecords(),checked:r},n),t))}},triggerCheckAllEvent(e,t){const n=Pt.value,{trigger:r}=n;"manual"!==r&&(e&&e.stopPropagation(),Io(e,t))},triggerRadioRowEvent(e,t){const{selectRadioRow:n}=S,{row:r}=t,o=_t.value,{trigger:i,checkMethod:a}=o;if("manual"!==i&&(e.stopPropagation(),!a||a({$table:Yn,row:r}))){let i=r,a=n!==i;a?qr(i):o.strict||(a=n===i,a&&(i=null,Yn.clearRadioRow())),a&&Ho("radio-change",Object.assign({oldValue:n,newValue:i},t),e)}},triggerCurrentColumnEvent(e,t){const{currentColumn:n}=S,r=yt.value,o=wt.value,i=o.beforeSelectMethod||r.currentMethod,{column:a}=t,{trigger:l}=o;if("manual"===l)return;const s=n!==a;!i||i({column:a,$table:Yn})?(Yn.setCurrentColumn(a),s&&Ho("current-column-change",Object.assign({oldValue:n,newValue:a},t),e)):Ho("current-column-disabled",t,e)},triggerCurrentRowEvent(e,t){const{currentRow:n}=S,r=Et.value,o=Mt.value,i=o.beforeSelectMethod||r.currentMethod,{row:a}=t,{trigger:l}=o;if("manual"===l)return;const s=n!==a;!i||i({row:a,$table:Yn})?(Yn.setCurrentRow(a),s&&(Ho("current-row-change",Object.assign({oldValue:n,newValue:a},t),e),Ho("current-change",Object.assign({oldValue:n,newValue:a},t),e))):Ho("current-row-disabled",t,e)},triggerRowExpandEvent(e,t){const{expandColumn:n}=S,{rowExpandLazyLoadedMaps:r}=T,o=Tn.value,{row:i}=t,{lazy:a,trigger:l}=o;if("manual"===l)return;e.stopPropagation();const s=Ve(Yn,i);if(!a||!r[s]){const t=!Yn.isRowExpandByRow(i),r=n?Yn.getColumnIndex(n):-1,o=n?Yn.getVMColumnIndex(n):-1;Yn.setRowExpand(i,t),Ho("toggle-row-expand",{expanded:t,column:n,columnIndex:r,$columnIndex:o,row:i,rowIndex:Yn.getRowIndex(i),$rowIndex:Yn.getVMRowIndex(i)},e)}},triggerRowGroupExpandEvent(e,t){const{rowGroupExpandedMaps:n}=T,r=Ot.value,{row:o,column:i}=t,{trigger:a}=r;if("manual"===a)return;e.stopPropagation();const l=Ve(Yn,o),s=!n[l],c=Yn.getColumnIndex(i),u=Yn.getVMColumnIndex(i);Yn.setRowGroupExpand(o,s),Ho("toggle-row-group-expand",{expanded:s,column:i,columnIndex:c,$columnIndex:u,row:o},e)},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:n,treeEATime:r}=T,o=En.value,{row:i,column:a}=t,{lazy:l,trigger:s,accordion:c}=o;if("manual"===s)return;e.stopPropagation();const u=Ve(Yn,i);if(!l||!n[u]){const t=!Yn.isTreeExpandByRow(i),n=Yn.getColumnIndex(a),o=Yn.getVMColumnIndex(a);r&&clearTimeout(r),Yn.setTreeExpand(i,t).then(()=>{c&&(T.treeEATime=setTimeout(()=>{T.treeEATime=void 0,Yn.scrollToRow(i)},30))}),Ho("toggle-tree-expand",{expanded:t,column:a,columnIndex:n,$columnIndex:o,row:i},e)}},handleColumnSortEvent(t,n){const{mouseConfig:r}=e,o=Gt.value,{field:i,sortable:a,order:l}=n;if(a){const e={$table:Yn,$event:t,column:n,field:i,property:i,order:l,sortList:E.getSortColumns(),sortTime:n.sortTime};r&&o.area&&Yn.handleSortEvent&&Yn.handleSortEvent(t,e),l||Ho("clear-sort",e,t),Ho("sort-change",e,t)}},triggerSortEvent(e,t,n){const r=Wt.value,{multiple:o,allowClear:i}=r,{field:a,sortable:l}=t;l&&(n&&t.order!==n?Yn.sort({field:a,order:n}):i&&Yn.clearSort(o?t:null),Yn.handleColumnSortEvent(e,t))},handleCellRuleUpdateStatus(e,t,n){const{validStore:r}=S,{row:o,column:i}=t;if(Yn.hasCellRules&&Yn.hasCellRules(e,o,i)){const t=Yn.getCellElement(o,i);if(t){const l=!a().isUndefined(n);return Yn.validCellRules(e,o,i,n).then(()=>{l&&r.visible&&rt(o,i,n),Yn.clearValidate(o,i)}).catch(({rule:e})=>{l&&rt(o,i,n),Yn.showValidTooltip({rule:e,row:o,column:i,cell:t})})}}return(0,X.nextTick)()},triggerHeaderCellMousedownEvent(t,n){const{mouseConfig:r}=e,o=Gt.value,i=yt.value,a=It.value,{trigger:l,isCrossDrag:s,isPeerDrag:c,disabledMethod:u}=a,d=t.currentTarget,p=d&&d.tagName&&"input"===d.tagName.toLowerCase(),f=Oe(t,d,"vxe-cell--checkbox").flag,h=Oe(t,d,"vxe-cell--sort").flag,m=Oe(t,d,"vxe-cell--filter").flag;let g=!1;const v=i.drag&&"cell"===l;if(!(p||f||h||m)){const{column:e}=n;!v||e.fixed||!s&&!c&&e.parentId||u&&u(n)||(g=!0,Yn.handleHeaderCellDragMousedownEvent(t,n))}!g&&r&&o.area&&Yn.handleHeaderCellAreaMouseDnEvent&&Yn.handleHeaderCellAreaMouseDnEvent(t,Object.assign({cell:d,triggerSort:h,triggerFilter:m},n)),Yn.focus(),Yn.closeMenu&&Yn.closeMenu()},triggerCellMousedownEvent(e,t){const{column:n}=t,{type:r,treeNode:o}=n,i="radio"===r,a="checkbox"===r,l="expand"===r,s=Et.value,c=At.value,{trigger:u,isCrossDrag:d,isPeerDrag:p,disabledMethod:f}=c,h=e.currentTarget;t.cell=h;const m=h&&h.tagName&&"input"===h.tagName.toLowerCase(),g=i&&Oe(e,h,"vxe-cell--radio").flag,v=a&&Oe(e,h,"vxe-cell--checkbox").flag,b=o&&Oe(e,h,"vxe-cell--tree-btn").flag,x=l&&Oe(e,h,"vxe-table--expanded").flag;let y=!1;s.drag&&(y="row"===u||n.dragSort&&"cell"===u);let w=!1;m||g||v||b||x||!y||!d&&!p&&t.level||f&&f(t)||(w=!0,Yn.handleCellDragMousedownEvent(e,t)),!w&&Yn.handleCellMousedownEvent&&Yn.handleCellMousedownEvent(e,t),Yn.focus(),Yn.closeFilter(),Yn.closeMenu&&Yn.closeMenu()},triggerCellMouseupEvent(){Ii()},handleRowDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(ce(),0,0)},handleRowDragSwapEvent(t,n,r,i,l,s){const{treeConfig:c,dragConfig:u}=e,d=At.value,{afterFullData:p,tableFullData:f,fullAllDataRowIdData:h}=T,m=T.xeGanttView,{animation:g,isPeerDrag:v,isCrossDrag:b,isSelfToChildDrag:x,dragEndMethod:w,dragToChildMethod:C}=d,k=En.value,E=Ct.value,O=Et.value,M=gt.value,{transform:A,rowField:I,mapChildrenField:N,parentField:R}=k,F=k.children||k.childrenField,_=w||(u?u.dragEndMethod:null),P="bottom"===l?1:0,j=D.value,$={status:!1};if(!(j&&i&&r))return Promise.resolve($);if(i!==r){const e={oldRow:r,newRow:i,dragRow:r,dragPos:l,dragToChild:!!s,offsetIndex:P},n=Ve(Yn,r),u=h[n]||{},d=u._index;let w=0,k=-1;if(g){w=Ze(u,E,O,M);const e=j.querySelector(`.vxe-body--row[rowid="${n}"]`);e&&(k=e.offsetTop)}let D=-1,L=-1;const z=u,V=Ve(Yn,i),B=h[V],H={};let W=!1;if(c&&A&&z&&B){const{level:e}=z,{level:t}=B;if(a().eachTree([r],e=>{H[Ve(Yn,e)]=e},{children:N}),e&&t)if(v&&!b){if(z.row[R]!==B.row[R])return Ni(),Promise.resolve($)}else{if(!b)return Ni(),Promise.resolve($);if(H[V]&&(W=!0,!b||!x))return o.OE.modal&&o.OE.modal.message({status:"error",content:si("vxe.error.treeDragChild")}),Ni(),Promise.resolve($)}else if(e){if(!b)return Ni(),Promise.resolve($)}else if(t){if(!b)return Ni(),Promise.resolve($);if(H[V]&&(W=!0,!b||!x))return o.OE.modal&&o.OE.modal.message({status:"error",content:si("vxe.error.treeDragChild")}),Ni(),Promise.resolve($)}}const q=x&&C?C(e):s;return Promise.resolve(!_||_(e)).then(e=>{if(!e)return $;if(c){if(A&&z&&B){const e=a().toTreeArray(T.afterTreeFullData,{updated:!1,key:I,parentKey:R,children:N}),t=Yn.findRowIndexOf(e,r);e.splice(t,1);const n=Yn.findRowIndexOf(e,i),o=n+P;e.splice(o,0,r),W&&b&&x&&a().each(r[F],e=>{e[R]=r[R]}),r[R]=q?i[I]:i[R],T.tableFullTreeData=a().toArrayTree(e,{key:I,parentKey:R,children:F,mapChildren:N})}}else{D=Yn.findRowIndexOf(p,r);const e=Yn.findRowIndexOf(f,r);p.splice(D,1),f.splice(e,1);const t=Yn.findRowIndexOf(p,i),n=Yn.findRowIndexOf(f,i);L=t+P;const o=n+P;p.splice(L,0,r),f.splice(o,0,r)}return Yn.handleTableData(c&&A),Yn.cacheRowMap(!1),To(),c&&A||Yn.updateAfterDataIndex(),Yn.checkSelectionStatus(),S.scrollYLoad&&Yn.updateScrollYSpace(),t&&Ho("row-dragend",{oldRow:r,newRow:i,dragRow:r,dragPos:l,dragToChild:q,offsetIndex:P,_index:{newIndex:L,oldIndex:D}},t),(0,X.nextTick)().then(()=>{if(g){const{tableData:e}=S,{fullAllDataRowIdData:t}=T,r=t[n],o=r._index,i=e[0],a=t[Ve(Yn,i)];let l=j;if(y&&m){const{refGanttContainerElem:e}=y.getRefMaps(),t=e.value;t&&(l=t)}if(a){const t=a._index,n=t+e.length;let i=-1,s=-1,c=1;if(d<t)i=0,s=o-t;else if(d>n){const t=r.$index;i=t+1,s=e.length,c=-1}else o>d?(i=d-t,s=i+o-d):(i=o-t,s=i+d-o+1,c=-1);const u=e.slice(i,s);if(u.length){const e=[];u.forEach(t=>{const n=Ve(Yn,t);e.push(`.vxe-body--row[rowid="${n}"]`),y&&e.push(`.vxe-gantt-view--body-row[rowid="${n}"]`,`.vxe-gantt-view--chart-row[rowid="${n}"]`)});const t=l.querySelectorAll(e.join(","));an(t,c*w)}}const s=[`.vxe-body--row[rowid="${n}"]`];y&&s.push(`.vxe-gantt-view--body-row[rowid="${n}"]`,`.vxe-gantt-view--chart-row[rowid="${n}"]`);const c=l.querySelectorAll(s.join(",")),u=c[0];k>-1&&u&&an(c,k-u.offsetTop)}Ko(),Xo(),Yn.updateCellAreas(),Yn.recalculate()}).then(()=>({status:!0}))}).catch(()=>$).then(e=>(Ni(),e))}return Ni(),Promise.resolve($)},handleCrossTableRowDragCancelEvent(){Ni()},handleCrossTableRowDragFinishEvent(e){const{tableData:t}=S,{fullAllDataRowIdData:n}=T,r=Et.value,o=Ct.value,i=gt.value,l=At.value,{animation:s,isCrossTableDrag:c}=l,u=En.value,{mapChildrenField:d}=u,p=D.value;if(c&&Si&&k){const{row:l}=k;if(l){const c=Ve(Yn,l),u=n[c];let f=0,h=-1;u&&(s&&(f=Ze(u,o,r,i)),h=u.$index);const m=h>-1&&h<t.length-1?t.slice(h+1):[],g=a().toTreeArray([l],{updated:!0,children:d});Yn.remove(g).then(()=>{if(s&&f&&m.length){const e=T.xeGanttView;let t=p;if(y&&e){const{refGanttContainerElem:e}=y.getRefMaps(),n=e.value;n&&(t=n)}const n=[];m.forEach(e=>{const t=Ve(Yn,e);n.push(`.vxe-body--row[rowid="${t}"]`),y&&n.push(`.vxe-gantt-view--body-row[rowid="${t}"]`,`.vxe-gantt-view--chart-row[rowid="${t}"]`)});const r=t.querySelectorAll(n.join(","));an(r,f)}}),Ho("row-remove-dragend",{row:l},e),Ni()}}},handleCrossTableRowDragoverEmptyEvent(e){const{tableData:t}=S,n=At.value,{isCrossTableDrag:r}=n;if(r&&Si&&!t.length){const{$oldTable:t,$newTable:n}=Si;if(t){const r=t.reactData;t.xID!==Yn.xID&&(n&&n.xID!==Yn.xID&&n.hideCrossTableRowDropClearStatus(),e.preventDefault(),t.hideCrossTableRowDropClearStatus(),Si.$newTable=Yn,T.prevDragRow=null,S.dragTipText=r.dragTipText,zi(e,e.currentTarget,null,!0,""))}}},handleCrossTableRowDragInsertEvent(t){const{treeConfig:n}=e,{prevDragRow:r,prevDragPos:o,prevDragToChild:i}=T,l=At.value,{animation:s,isSelfToChildDrag:c,isCrossTableDrag:u,dragEndMethod:d,dragToChildMethod:p}=l,f=Et.value,h=Ct.value,m=gt.value,g=En.value,{parentField:v,mapChildrenField:b}=g,x=g.children||g.childrenField;if(u&&Si&&k){const{row:e}=k,{$oldTable:l}=Si,u=D.value;if(l&&e){const g=e;let w=-1;r&&(w="bottom"===o?1:0);const C={oldRow:g,newRow:r,dragRow:g,dragPos:o,dragToChild:!!i,offsetIndex:w},k=c&&p?p(C):i,E={status:!1};Promise.resolve(!d||d(C)).then(i=>{if(!i)return l&&l.xID!==Yn.xID&&l.handleCrossTableRowDragCancelEvent(t),Ni(),E;let c=Promise.resolve();if(n){const e=a().toTreeArray([g],{updated:!0,children:b});l.handleCrossTableRowDragFinishEvent(t),g[v]=r?r[v]:null,e.forEach(e=>{e[x]=void 0,e[b]=void 0}),c=r?"bottom"===o?Yn.insertNextAt(e,r):Yn.insertAt(e,r):Yn.insert(e)}else l.handleCrossTableRowDragFinishEvent(t),c=r?"bottom"===o?Yn.insertNextAt(g,r):Yn.insertAt(g,r):Yn.insert(g);Ho("row-insert-dragend",{oldRow:e,newRow:r,dragRow:g,dragPos:o,dragToChild:k,offsetIndex:w},t),Bi(),c.then(()=>{const{tableData:e}=S,{fullAllDataRowIdData:t}=T,n=Ve(Yn,g),r=t[n];let o=0,i=-1;r&&(s&&(o=Ze(r,h,f,m)),i=r.$index);const a=i>-1?e.slice(i):[];if(s&&o&&a.length){const e=T.xeGanttView;let t=u;if(y&&e){const{refGanttContainerElem:e}=y.getRefMaps(),n=e.value;n&&(t=n)}const n=[];a.forEach(e=>{const t=Ve(Yn,e);n.push(`.vxe-body--row[rowid="${t}"]`),y&&n.push(`.vxe-gantt-view--body-row[rowid="${t}"]`,`.vxe-gantt-view--chart-row[rowid="${t}"]`)});const r=t.querySelectorAll(n.join(","));an(r,-o)}})})}}},hideCrossTableRowDropClearStatus(){Vi()},handleRowDragDragendEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r,prevDragToChild:o}=T,{dragRow:i}=S,a=En.value,{lazy:l}=a,s=a.hasChild||a.hasChildField,{prevDragRow:c,prevDragPos:u}=T,d=At.value,{isCrossTableDrag:p}=d;if(p&&Si){const{$newTable:e}=Si;if(e&&e.xID!==Yn.xID)return void e.handleCrossTableRowDragInsertEvent(t)}if(n&&l&&o){const e=Ve(Yn,c),n=r[e];c[s]?n&&n.treeLoaded&&Yn.handleRowDragSwapEvent(t,!0,i,c,u,o):Yn.handleRowDragSwapEvent(t,!0,i,c,u,o)}else Yn.handleRowDragSwapEvent(t,!0,i,c,u,o)},handleRowDragDragoverEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:r}=T,{dragRow:o}=S,i=En.value,{lazy:a,transform:l,parentField:s}=i,c=i.hasChild||i.hasChildField,u=At.value,{isPeerDrag:d,isCrossDrag:p,isToChildDrag:f,isCrossTableDrag:h}=u;if(!o&&(!h||n&&!p||!Si))return void t.preventDefault();const m=ve(t),g=t.currentTarget,v=g.getAttribute("rowid")||"",b=r[v];if(b){t.preventDefault();const e=b.row,r=t.clientY-g.getBoundingClientRect().y,i=r<g.clientHeight/2?"top":"bottom";if(T.prevDragToChild=!!(n&&l&&p&&f&&m),T.prevDragRow=e,T.prevDragPos=i,h&&(!n||p)&&Si){const{$oldTable:e,$newTable:n}=Si;if(e){const r=e.reactData;if(e.xID!==Yn.xID)return n&&n.xID!==Yn.xID&&n.hideCrossTableRowDropClearStatus(),e.hideCrossTableRowDropClearStatus(),r.isCrossDragRow=!0,S.dragTipText=r.dragTipText,Si.$newTable=Yn,void zi(t,g,null,!0,i);n&&n.hideCrossTableRowDropClearStatus(),S.isCrossDragRow=!1,r.isCrossDragRow=!1,Si.$newTable=null}}if(Yn.eqRow(o,e)||m&&n&&a&&e[c]&&b&&!b.treeLoaded||!p&&n&&l&&(d?o[s]!==e[s]:b.level))return void zi(t,g,null,!1,i);zi(t,g,null,!0,i),Ho("row-dragover",{oldRow:o,targetRow:e,dragPos:i},t)}},handleCellDragMousedownEvent(t,n){var r;t.stopPropagation();const{dragConfig:o}=e,i=At.value,{isCrossTableDrag:a,trigger:l,dragStartMethod:s}=i,{row:c}=n,u=t.currentTarget,d="cell"===l||"row"===l?u:null===(r=u.parentElement)||void 0===r?void 0:r.parentElement,p=d.parentElement,f=s||(o?o.dragStartMethod:null);if(Fi(),f&&!f(n))return p.draggable=!1,S.dragRow=null,S.dragCol=null,Ai(),void Vi();a&&(k.row=c,Si={$oldTable:Yn,$newTable:null}),S.dragRow=c,S.isCrossDragRow=!1,S.dragCol=null,p.draggable=!0,_i(c),Pi(d),Ho("row-dragstart",n,t)},handleCellDragMouseupEvent(){Ii()},handleHeaderCellDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(ce(),0,0)},handleColDragSwapColumn(){return xo(),wo(!1).then(()=>{Yn.updateCellAreas(),Yn.saveCustomStore("update:sort")})},handleColDragSwapEvent(t,n,r,i,l,s){const{mouseConfig:c}=e,u=It.value,{animation:d,isPeerDrag:p,isCrossDrag:f,isSelfToChildDrag:h,isToChildDrag:m,dragEndMethod:g,dragToChildMethod:v}=u,{collectColumn:b,fullColumnIdData:x}=T,y=D.value,w="right"===l?1:0,C={status:!1};if(!(y&&i&&r))return Promise.resolve(C);if(i!==r){const e=r,u=i,k={oldColumn:e,newColumn:u,dragColumn:e,dragPos:l,dragToChild:!!s,offsetIndex:w};let E=null;const O=[];let D=0;d&&a().eachTree([e],e=>{E||e.children&&e.children.length||(E=e,D+=e.renderWidth),O.push(e)}),E||(E=e);const M=x[E.id]||{},A=M._index;let I=-1;if(d){const e=y.querySelector(`.vxe-table--column[colid="${E.id}"]`);e&&(I=e.offsetLeft)}let N=-1,R=-1;const F={};a().eachTree([e],e=>{F[e.id]=e});let _=!1;if(e.parentId&&u.parentId)if(p&&!f){if(e.parentId!==u.parentId)return Ri(),Promise.resolve(C)}else{if(!f)return Ri(),Promise.resolve(C);if(F[u.id]&&(_=!0,!f||!h))return o.OE.modal&&o.OE.modal.message({status:"error",content:si("vxe.error.treeDragChild")}),Ri(),Promise.resolve(C)}else if(e.parentId){if(!f)return Ri(),Promise.resolve(C)}else if(u.parentId){if(!f)return Ri(),Promise.resolve(C);if(F[u.id]&&(_=!0,!f||!h))return o.OE.modal&&o.OE.modal.message({status:"error",content:si("vxe.error.treeDragChild")}),Ri(),Promise.resolve(C)}const P=h&&v?v(k):s;return Promise.resolve(!g||g(k)).then(r=>{if(!r)return C;const o=a().findTree(b,t=>t.id===e.id);if(_&&f&&h){if(o){const{items:t,index:n}=o,r=e.children||[];r.forEach(t=>{t.parentId=e.parentId}),t.splice(n,1,...r),e.children=[]}}else if(o){const{items:e,index:t,parent:n}=o;e.splice(t,1),n||(N=t)}const i=a().findTree(b,e=>e.id===u.id);if(i){const{items:t,index:n,parent:r}=i;f&&m&&P?(e.parentId=u.id,u.children=(u.children||[]).concat([e])):(e.parentId=u.parentId,t.splice(n+w,0,e)),r||(R=n)}return a().eachTree(b,(e,t,n,r,o)=>{if(!o){const n=t+1;e.renderSortNumber=n}}),c&&(Yn.clearSelected&&Yn.clearSelected(),Yn.clearCellAreas&&(Yn.clearCellAreas(),Yn.clearCopyCellArea())),t&&Ho("column-dragend",{oldColumn:e,newColumn:u,dragColumn:e,dragPos:l,dragToChild:P,offsetIndex:w,_index:{newIndex:R,oldIndex:N}},t),(0,X.nextTick)().then(()=>{if(n)return Yn.handleColDragSwapColumn()}).then(()=>{if(d){const{tableColumn:t}=S,{visibleColumn:n,fullColumnIdData:r}=T;let o=null;const i={};if(a().eachTree([e],e=>{o||e.children&&e.children.length||(o=e),i[e.id]=e}),o||(o=e),D&&O.length){const e=a().findIndexOf(n,e=>!!o&&e.id===o.id),l=t[0],s=r[l.id];if(s){const n=s._index,r=n+t.length;let o=-1,l=-1,c=1;if(A<n)o=0,l=e-n;else if(A>r){const e=M.$index;o=e+1,l=t.length,c=-1}else e>A?(o=A-n,l=o+e-A):(o=e-n+1,l=o+A-e,c=-1);const d=[],p={};for(let e=o;e<l;e++){const n=t[e];p[n.id]||i[n.id]||(p[n.id]=n,d.push(n))}if(a().eachTree([u],e=>{p[e.id]||(p[e.id]=e,d.push(e))}),d.length){const e=y.querySelectorAll(d.map(e=>`.vxe-table--column[colid="${e.id}"]`).join(","));sn(e,c*D)}}const c=y.querySelectorAll(O.map(e=>`.vxe-table--column[colid="${e.id}"]`).join(",")),d=c[0];I>-1&&d&&sn(c,I-d.offsetLeft)}}return Yo(),yo(),Yn.updateCellAreas(),{status:!0}})}).catch(()=>C).then(e=>(Ri(),e))}return Ri(),Promise.resolve(C)},handleHeaderCellDragDragendEvent(e){const{dragCol:t}=S,{prevDragCol:n,prevDragPos:r,prevDragToChild:o}=T;Yn.handleColDragSwapEvent(e,!0,t,n,r,o)},handleHeaderCellDragDragoverEvent(e){const{dragCol:t}=S,n=It.value,{isToChildDrag:r,isPeerDrag:o,isCrossDrag:i}=n;if(!t)return void e.preventDefault();const a=ve(e),l=e.currentTarget,s=l.getAttribute("colid"),c=Yn.getColumnById(s);if(c){e.preventDefault();const{clientX:n}=e,s=n-l.getBoundingClientRect().x,u=s<l.clientWidth/2?"left":"right";if(T.prevDragToChild=!!(i&&r&&a),T.prevDragCol=c,T.prevDragPos=u,c.fixed||t&&t.id===c.id||!i&&(o?t.parentId!==c.parentId:c.parentId))return void zi(e,null,l,!1,u);zi(e,null,l,!0,u),Ho("column-dragover",{oldColumn:t,targetColumn:c,dragPos:u},e);const d=D.value;if(!d)return;const p=de.value,f=$.value,h=f?f.$el:null,m=p||h;if(m){const e=d.getBoundingClientRect(),t=d.clientWidth,r=Y.value,o=r?r.clientWidth:0,i=K.value,a=i?i.clientWidth:0,l=e.x+o,s=e.x+t-a,c=28,u=n-l,p=s-n;if(u>0&&u<=c){const e=Math.floor(t/(u>c/2?240:120));m.scrollLeft-=e*(c-u)}else if(p>0&&p<=c){const e=Math.floor(t/(p>c/2?240:120));m.scrollLeft+=e*(c-p)}}}},handleHeaderCellDragMousedownEvent(e,t){var n;e.stopPropagation();const r=It.value,{trigger:o,dragStartMethod:i}=r,{column:a}=t,l=e.currentTarget,s="cell"===o?l:null===(n=l.parentElement)||void 0===n?void 0:n.parentElement;if($i(),i&&!i(t))return s.draggable=!1,S.dragRow=null,S.dragCol=null,Ai(),void Vi();S.dragCol=a,S.dragRow=null,s.draggable=!0,Ai(),ji(a),Li(s),Ho("column-dragstart",t,e)},handleHeaderCellDragMouseupEvent(){$i(),Vi(),Ai(),S.dragRow=null,S.dragCol=null},handleScrollEvent(t,n,r,o,i,a){const{highlightHoverRow:l}=e,{lastScrollLeft:s,lastScrollTop:c}=T,u=de.value,d=we.value;if(!u||!d)return;const p=Et.value,f=N.value,h=A.value,m=d.clientHeight,g=u.clientWidth,v=d.scrollHeight,b=u.scrollWidth;let x=!1,y=!1,w=!1,C=!1,k="",E=!1,O=!1,D=!1,M=!1;if(r){const e=Ue.value;w=i<=0,w||(C=i+g>=b),i>s?(k="right",i+g>=b-e&&(M=!0)):(k="left",i<=e&&(D=!0)),Yn.checkScrolling(),T.lastScrollLeft=i}if(n){const e=pt.value;x=o<=1,x||(y=o+m>=v-1),o>c?(k="bottom",o+m>=v-e&&(O=!0)):(k="top",o<=e&&(E=!0)),T.lastScrollTop=o}S.lastScrollTime=Date.now();const I=Object.assign({source:ki,scrollTop:o,scrollLeft:i,bodyHeight:m,bodyWidth:g,scrollHeight:v,scrollWidth:b,isX:r,isY:n,isTop:x,isBottom:y,isLeft:w,isRight:C,direction:k},a);Xo(),$o(r,n),r&&Yn.closeFilter(),(p.isHover||l)&&Yn.clearHoverRow(),f&&f.reactData.visible&&f.close(),h&&h.reactData.visible&&h.close(),(O||E||M||D)&&Ho("scroll-boundary",I,t),Ho("scroll",I,t)},triggerScrollXEvent(){const e=Ye.value;e.immediate?yo():_o()},triggerScrollYEvent(){const e=Je.value;e.immediate?No():Po()},triggerBodyScrollEvent(e,t){const{scrollYLoad:n,scrollXLoad:r}=S,{elemStore:o,intoRunScroll:i,lastScrollTop:a,lastScrollLeft:l,inWheelScroll:s,inVirtualScroll:c,inHeaderScroll:u,inBodyScroll:d,scrollRenderType:p,inFooterScroll:f}=T;if(s||c||u||f)return;const h=de.value,m=we.value,g=ot(o["left-body-scroll"]),v=ot(o["main-body-scroll"]),b=ot(o["right-body-scroll"]),x=ot(o["main-header-scroll"]),y=ot(o["main-footer-scroll"]),w=ie.value;if(i)return;if(!v)return;if(!h)return;if(!m)return;if(d&&p!==t)return;let C=m.scrollTop,k=h.scrollLeft;g&&"left"===t?C=g.scrollTop:b&&"right"===t?C=b.scrollTop:(C=v.scrollTop,k=v.scrollLeft);const E=k!==l,O=C!==a;T.inBodyScroll=!0,T.scrollRenderType=t,O&&("left"===t?(ke(v,C),ke(b,C)):"right"===t?(ke(v,C),ke(g,C)):(ke(g,C),ke(b,C)),ke(m,C),ke(w,C),Bo(C),n&&Yn.triggerScrollYEvent(e)),E&&(Se(h,k),Se(x,k),Se(y,k),r&&Yn.triggerScrollXEvent(e)),Yn.handleScrollEvent(e,O,E,C,k,{type:"body",fixed:t})},triggerHeaderScrollEvent(e,t){const{scrollXLoad:n}=S,{elemStore:r,intoRunScroll:o,inWheelScroll:i,inVirtualScroll:a,inBodyScroll:l,inFooterScroll:s}=T;if(i||a||l||s)return;const c=we.value,u=de.value,d=ot(r["main-body-scroll"]),p=ot(r["main-header-scroll"]),f=ot(r["main-footer-scroll"]);if(o)return;if(!p)return;if(!u)return;if(!c)return;const h=c.scrollTop,m=p.scrollLeft,g=!0,v=!1;T.inHeaderScroll=!0,Se(u,m),Se(f,m),Se(d,m),n&&Yn.triggerScrollXEvent(e),Yn.handleScrollEvent(e,v,g,h,m,{type:"header",fixed:t})},triggerFooterScrollEvent(e,t){const{scrollXLoad:n}=S,{elemStore:r,intoRunScroll:o,inWheelScroll:i,inVirtualScroll:a,inHeaderScroll:l,inBodyScroll:s}=T;if(i||a||l||s)return;const c=we.value,u=de.value,d=ot(r["main-body-scroll"]),p=ot(r["main-header-scroll"]),f=ot(r["main-footer-scroll"]);if(o)return;if(!f)return;if(!u)return;if(!c)return;const h=c.scrollTop,m=f.scrollLeft,g=!0,v=!1;T.inFooterScroll=!0,Se(u,m),Se(p,m),Se(d,m),n&&Yn.triggerScrollXEvent(e),Yn.handleScrollEvent(e,v,g,h,m,{type:"footer",fixed:t})},triggerBodyWheelEvent(e){const{target:t,deltaY:n,deltaX:r,shiftKey:o}=e;if(t&&/^textarea$/i.test(t.tagName))return;if(!n&&!r)return;const{highlightHoverRow:i}=Jt,{scrollXLoad:a,scrollYLoad:s,expandColumn:c}=S,u=nn.value,d=rn.value,{elemStore:p,lastScrollTop:f,lastScrollLeft:h}=T,m=Et.value,g=lt.value,v=ct.value,x=de.value,y=we.value,w=ot(p["left-body-scroll"]),C=ot(p["main-header-scroll"]),k=ot(p["main-body-scroll"]),E=ot(p["main-footer-scroll"]),O=ot(p["right-body-scroll"]),D=ie.value;if(!k)return;const M=Lo(S.lastScrollTime),A=o?0:n*M,I=(o?r||n:r)*M,N=k.scrollTop,R=k.scrollLeft,F=N+A,_=R+I,P=_!==h,j=F!==f;if(P&&"hidden"===g.visible)e.preventDefault();else{if(j){if("hidden"===v.visible)return void e.preventDefault();const t=A<0;if(t?N<=0:N>=k.scrollHeight-k.clientHeight)return}if(b){if(j&&Ee(e.target,[w,k,O],e.currentTarget))return void e.stopPropagation();if(P&&Ee(e.target,[C,k,E],e.currentTarget))return void e.stopPropagation()}if(u||d||c){if((m.isHover||i)&&Yn.clearHoverRow(),P)if(e.preventDefault(),T.inWheelScroll=!0,l.firefox||l.safari){const t=_;Se(x,t),Se(k,t),Se(C,t),Se(E,t),a&&Yn.triggerScrollXEvent(e),Yn.handleScrollEvent(e,j,P,k.scrollTop,t,{type:"table",fixed:""})}else zo(_,t=>{T.inWheelScroll=!0;const n=t;Se(x,n),Se(k,n),Se(C,n),Se(E,n),a&&Yn.triggerScrollXEvent(e),Yn.handleScrollEvent(e,j,P,k.scrollTop,n,{type:"table",fixed:""})});if(j)if(e.preventDefault(),T.inWheelScroll=!0,l.firefox||l.safari){const t=F;ke(y,t),ke(k,t),ke(w,t),ke(O,t),ke(D,t),Bo(t),s&&Yn.triggerScrollYEvent(e),Yn.handleScrollEvent(e,j,P,t,k.scrollLeft,{type:"table",fixed:""})}else Vo(F-N,t=>{T.inWheelScroll=!0;const n=k.scrollTop+t;ke(y,n),ke(k,n),ke(w,n),ke(O,n),ke(D,n),Bo(n),s&&Yn.triggerScrollYEvent(e),Yn.handleScrollEvent(e,j,P,n,k.scrollLeft,{type:"table",fixed:""})})}}},triggerVirtualScrollXEvent(e){const{scrollXLoad:t}=S,{elemStore:n,inWheelScroll:r,lastScrollTop:o,inHeaderScroll:i,inBodyScroll:a,inFooterScroll:l}=T;if(i||a||l)return;if(r)return;const s=ot(n["main-header-scroll"]),c=ot(n["main-body-scroll"]),u=ot(n["main-footer-scroll"]),d=we.value,p=e.currentTarget,{scrollLeft:f}=p,h=d||c;let m=0;h&&(m=h.scrollTop);const g=!0,v=m!==o;T.inVirtualScroll=!0,Se(c,f),Se(s,f),Se(u,f),t&&Yn.triggerScrollXEvent(e),Yn.handleScrollEvent(e,v,g,m,f,{type:"table",fixed:""})},triggerVirtualScrollYEvent(e){const{scrollYLoad:t}=S,{elemStore:n,inWheelScroll:r,lastScrollLeft:o,inHeaderScroll:i,inBodyScroll:a,inFooterScroll:l}=T;if(i||a||l)return;if(r)return;const s=ot(n["left-body-scroll"]),c=ot(n["main-body-scroll"]),u=ot(n["right-body-scroll"]),d=ie.value,p=de.value,f=e.currentTarget,{scrollTop:h}=f,m=p||c;let g=0;m&&(g=m.scrollLeft);const v=g!==o,b=!0;T.inVirtualScroll=!0,ke(c,h),ke(s,h),ke(u,h),ke(d,h),Bo(h),t&&Yn.triggerScrollYEvent(e),Yn.handleScrollEvent(e,b,v,h,g,{type:"table",fixed:""})},scrollToTreeRow(t){const{treeConfig:n}=e,{isRowGroupStatus:r}=S,{tableFullData:o}=T,i=[];if(n||r){const e=Ot.value,n=En.value,l=n.children||n.childrenField,s=a().findTree(o,e=>Yn.eqRow(e,t),{children:r?e.mapChildrenField:l});if(s){const e=s.nodes;e.forEach((t,n)=>{n<e.length-1&&!Yn.isTreeExpandByRow(t)&&i.push(Yn.setTreeExpand(t,!0))})}}return Promise.all(i).then(()=>bt(Yn,t))},updateScrollYStatus:To,updateScrollXSpace(){const{scrollXLoad:e,overflowX:t,scrollXWidth:n}=S,{visibleColumn:r,scrollXStore:o,elemStore:i,fullColumnIdData:a}=T,l=T.xeGanttView,s=Gt.value,c=$.value,u=c?c.$el:null;if(u){const c=ot(i["main-body-scroll"]),u=ot(i["main-body-table"]),d=ot(i["main-header-table"]),p=ot(i["main-footer-table"]);let f=0;const h=r[o.startIndex];if(h){const e=a[h.id]||{};f=e.oLeft}let m=0;c&&(m=c.clientWidth);let g=!1,v=n;n>Ci&&(f=c&&u&&c.scrollLeft+m>=Ci?Ci-u.clientWidth:f/(n-m)*(Ci-m),v=Ci,g=!0),e&&t||(f=0),ai().scrollMarginStyle?(d&&(d.style.marginLeft=d.getAttribute("xvm")?`${f}px`:""),u&&(u.style.marginLeft=`${f}px`),p&&(p.style.marginLeft=p.getAttribute("xvm")?`${f}px`:"")):(d&&(d.style.transform=d.getAttribute("xvm")?`translate(${f}px, 0px)`:""),u&&(u.style.transform=`translate(${f}px, ${S.scrollYTop||0}px)`),p&&(p.style.transform=p.getAttribute("xvm")?`translate(${f}px, 0px)`:""));const b=["main"];b.forEach(t=>{const n=["header","body","footer"];n.forEach(n=>{const r=ot(i[`${t}-${n}-xSpace`]);r&&(r.style.width=e?`${v}px`:"")})}),S.scrollXLeft=f,S.scrollXWidth=v,S.isScrollXBig=g;const x=Ie.value;return x&&(x.style.width=`${v}px`),oo(),g&&s.area&&te("vxe.error.notProp",["mouse-config.area"]),l&&l.handleUpdateSXSpace&&l.handleUpdateSXSpace(),(0,X.nextTick)().then(()=>{Pr()})}},updateScrollYSpace(){const{isAllOverflow:e,overflowY:t,scrollYLoad:n,scrollYHeight:r,expandColumn:o}=S,{scrollYStore:i,elemStore:a,isResizeCellHeight:l,afterFullData:s,fullAllDataRowIdData:c,rowExpandedMaps:u}=T,d=T.xeGanttView,{startIndex:p}=i,f=Gt.value,h=Tn.value,m=Et.value,g=Ct.value,v=gt.value,b=ot(a["main-body-scroll"]),x=ot(a["main-body-table"]),y=ot(a["left-body-table"]),w=ot(a["right-body-table"]),C=["main","left","right"];let k=0,E=r,O=!1;if(n){const t=l||g.height||m.height;if(t||o||!e){const e=s[p];if(e){let t=Ve(Yn,e),n=c[t]||{};k=n.oTop||0;const r=s[s.length-1];if(t=Ve(Yn,r),n=c[t]||{},n){const e=Ze(n,g,m,v);e&&(E=(n.oTop||0)+e,o&&u[t]&&(E+=n.expandHeight||h.height||0))}E>wi&&(O=!0)}else E=x?x.clientHeight:0}else E=s.length*v,E>wi&&(O=!0),k=Math.max(0,p*v)}else x&&(E=x.clientHeight);let D=0;b&&(D=b.clientHeight);let M=E,A=k;O&&(A=b&&x&&b.scrollTop+D>=wi?wi-x.clientHeight:k/(r-D)*(wi-D),M=wi),n&&t||(A=0),ai().scrollMarginStyle?(y&&(y.style.marginTop=`${A}px`),x&&(x.style.marginTop=`${A}px`),w&&(w.style.marginTop=`${A}px`)):(y&&(y.style.transform=`translate(0px, ${A}px)`),x&&(x.style.transform=`translate(${S.scrollXLeft||0}px, ${A}px)`),w&&(w.style.transform=`translate(0px, ${A}px)`)),C.forEach(e=>{const t=["header","body","footer"];t.forEach(t=>{const n=ot(a[`${e}-${t}-ySpace`]);n&&(n.style.height=M?`${M}px`:"")})});const I=Ne.value;I&&(I.style.height=M?`${M}px`:"");const N=ae.value;return N&&(N.style.height=M?`${M}px`:""),S.scrollYTop=A,S.scrollYHeight=M,S.isScrollYBig=O,oo(),O&&f.area&&te("vxe.error.notProp",["mouse-config.area"]),d&&d.handleUpdateSYSpace&&d.handleUpdateSYSpace(),(0,X.nextTick)().then(()=>Pr())},updateScrollXData(){const{isAllOverflow:e}=S;return bo(),Yn.updateScrollXSpace(),(0,X.nextTick)().then(()=>{bo(),Yn.updateScrollXSpace(),e||Yn.updateScrollYSpace()})},updateScrollYData(){return Yn.handleTableData(),Yn.updateScrollYSpace(),(0,X.nextTick)().then(()=>{Yn.handleTableData(),Yn.updateScrollYSpace()})},checkScrolling(){const{elemStore:e}=T,t=ot(e["main-body-scroll"]),n=Y.value,r=K.value,o=de.value,i=o||t;i&&(n&&(i.scrollLeft>0?ge(n,"scrolling--middle"):me(n,"scrolling--middle")),r&&(i.clientWidth<i.scrollWidth-Math.ceil(i.scrollLeft)?ge(r,"scrolling--middle"):me(r,"scrolling--middle")))},handleUpdateAggData(){return mo(T.tableSynchData,!1,!0)},updateZindex(){e.zIndex?T.tZindex=e.zIndex:T.tZindex<f()&&(T.tZindex=p())},handleCheckedCheckboxRow:Ur,triggerHoverEvent(e,{row:t}){O.setHoverRow(t)},setHoverRow(e){const t=T.xeGanttView,n=Ve(Yn,e),r=D.value;O.clearHoverRow(),r&&a().arrayEach(r.querySelectorAll(`.vxe-body--row[rowid="${n}"]`),e=>ge(e,"row--hover")),T.hoverRow=e,t&&t.handleUpdateHoverRow&&t.handleUpdateHoverRow(e)},clearHoverRow(){const e=T.xeGanttView,t=D.value;t&&a().arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),e=>me(e,"row--hover")),T.hoverRow=null,e&&e.handleUpdateHoverRow&&e.handleUpdateHoverRow()},getCell(e,t){return E.getCellElement(e,t)},findRowIndexOf(e,t){return t?a().findIndexOf(e,e=>Yn.eqRow(e,t)):-1},eqRow(e,t){return!(!e||!t)&&(e===t||Ve(Yn,e)===Ve(Yn,t))},handleConnectGanttView(e){return e&&e.connectUpdate&&(e.connectUpdate({$table:Yn}),T.xeGanttView=e),(0,X.nextTick)()}},Object.assign(Yn,E,O);const Ui=t=>{const{showHeader:n,showFooter:r}=e,{tableData:o,tableColumn:i,tableGroupColumn:l,columnStore:s,footerTableData:c}=S,u=Qe.value,d=lt.value,p=ct.value,{overscrollBehavior:f}=d,{overscrollBehavior:h}=p,m="left"===t,g=m?s.leftList:s.rightList,v=a().eqNull(f)?u.overscrollBehavior:f,b=a().eqNull(h)?u.overscrollBehavior:h;return(0,X.h)("div",{ref:m?Y:K,class:[`vxe-table--fixed-${t}-wrapper`,`sx--${d.visible}`,`sy--${p.visible}`,{[`x-ob--${v}`]:v,[`y-ob--${b}`]:b}]},[n?(0,X.h)(Cn,{ref:m?z:H,fixedType:t,tableData:o,tableColumn:i,tableGroupColumn:l,fixedColumn:g}):bi(Yn),(0,X.h)(vn,{ref:m?V:W,fixedType:t,tableData:o,tableColumn:i,fixedColumn:g}),r?(0,X.h)(On,{ref:m?B:q,footerTableData:c,tableColumn:i,fixedColumn:g,fixedType:t}):bi(Yn)])},Gi=()=>{const t=Dn.value,r=n.empty,o={$table:Yn,$grid:x,gantt:y};if(r)return r(o);{const e=t.name?ci.get(t.name):null,n=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;if(n)return St(n(t,o))}return m(e.emptyText)||si("vxe.table.emptyText")},Yi=()=>{const{dragConfig:t}=e,{dragRow:n,dragCol:r,dragTipText:o}=S,i=It.value,a=At.value,l=a.slots||{},s=l.tip||(t&&t.slots?t.slots.rowTip:null),c=i.slots||{},u=c.tip,d=n||(a.isCrossTableDrag?k.row:null);return d&&s?qi(s,{row:d}):r&&u?qi(u,{column:r}):[(0,X.h)("span",o)]},Ki=()=>{const{dragRow:e,dragCol:t}=S,n=Et.value,r=yt.value,o=At.value,i=It.value,a=e||(o.isCrossTableDrag?k.row:null);return n.drag||r.drag?(0,X.h)("div",{class:"vxe-table--drag-wrapper"},[(0,X.h)("div",{ref:re,class:["vxe-table--drag-row-line",{"is--guides":o.showGuidesStatus}]}),(0,X.h)("div",{ref:oe,class:["vxe-table--drag-col-line",{"is--guides":i.showGuidesStatus}]}),a&&o.showDragTip||t&&i.showDragTip?(0,X.h)("div",{ref:ne,class:"vxe-table--drag-sort-tip"},[(0,X.h)("div",{class:"vxe-table--drag-sort-tip-wrapper"},[(0,X.h)("div",{class:"vxe-table--drag-sort-tip-status"},[(0,X.h)("span",{class:["vxe-table--drag-sort-tip-normal-status",a?li().TABLE_DRAG_STATUS_ROW:li().TABLE_DRAG_STATUS_COLUMN]}),(0,X.h)("span",{class:["vxe-table--drag-sort-tip-sub-status",li().TABLE_DRAG_STATUS_SUB_ROW]}),(0,X.h)("span",{class:["vxe-table--drag-sort-tip-disabled-status",li().TABLE_DRAG_DISABLED]})]),(0,X.h)("div",{class:"vxe-table--drag-sort-tip-content"},Yi())])]):bi(Yn)]):bi(Yn)},Xi=()=>{const{treeConfig:t}=e,{expandColumn:n,isRowGroupStatus:r}=S,o=Rn.value,i=Tn.value,{mode:l}=i;if("fixed"!==l)return bi(Yn);const s=[(0,X.h)("div",{key:"repY",ref:ae})];if(n){const{handleGetRowId:e}=He(Yn);o.forEach(o=>{const i=Tn.value,{height:l,padding:c,indent:u}=i,{fullAllDataRowIdData:d,fullColumnIdData:p}=T,f=En.value,{transform:h,seqMode:m}=f,g={},v=e(o),b=d[v],w=n.id,C=p[w]||{};let k=0,S=-1,E=-1,O=-1,D=-1;b&&(O=b.index,D=b.$index,E=b._index,k=b.level,S=b.seq,r||t&&h&&"increasing"===m?S=b._index+1:t&&"fixed"===m&&(S=b._tIndex+1)),l&&(g.height=`${l}px`),(r||t)&&(g.paddingLeft=k*(a().isNumber(u)?u:f.indent)+30+"px");let M=-1,A=-1,I=-1;C&&(M=C.index,A=C.$index,I=C._index);const N={$table:Yn,$grid:x,$gantt:y,seq:S,column:n,columnIndex:M,$columnIndex:A,_columnIndex:I,fixed:"",source:"table",type:"body",level:k,rowid:v,row:o,rowIndex:O,$rowIndex:D,_rowIndex:E,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};s.push((0,X.h)("div",{key:v,class:["vxe-body--row-expanded-cell",{"is--padding":c,"is--ellipsis":l}],rowid:v,style:g},n.renderData(N)))})}return(0,X.h)("div",{ref:ie,class:"vxe-table--row-expanded-wrapper"},s)},Zi=()=>(0,X.h)("div",{key:"vsx",ref:le,class:"vxe-table--scroll-x-virtual"},[(0,X.h)("div",{ref:xe,class:"vxe-table--scroll-x-left-corner"}),(0,X.h)("div",{ref:De,class:"vxe-table--scroll-x-wrapper"},[(0,X.h)("div",{ref:de,class:"vxe-table--scroll-x-handle",onScroll:Yn.triggerVirtualScrollXEvent},[(0,X.h)("div",{ref:Ie,class:"vxe-table--scroll-x-space"})]),(0,X.h)("div",{class:"vxe-table--scroll-x-handle-appearance"})]),(0,X.h)("div",{ref:ye,class:"vxe-table--scroll-x-right-corner"})]),Ji=()=>(0,X.h)("div",{ref:ue,class:"vxe-table--scroll-y-virtual"},[(0,X.h)("div",{ref:Te,class:"vxe-table--scroll-y-top-corner"}),(0,X.h)("div",{ref:Me,class:"vxe-table--scroll-y-wrapper"},[(0,X.h)("div",{ref:we,class:"vxe-table--scroll-y-handle",onScroll:Yn.triggerVirtualScrollYEvent},[(0,X.h)("div",{ref:Ne,class:"vxe-table--scroll-y-space"})]),(0,X.h)("div",{class:"vxe-table--scroll-y-handle-appearance"})]),(0,X.h)("div",{ref:Ae,class:"vxe-table--scroll-y-bottom-corner"})]),Qi=()=>{const{showHeader:t,showFooter:n}=e,{overflowX:r,tableData:o,tableColumn:i,tableGroupColumn:l,footerTableData:s,columnStore:c}=S,u=Qe.value,d=lt.value,p=ct.value,{overscrollBehavior:f}=d,{overscrollBehavior:h}=p,{leftList:m,rightList:g}=c,v=a().eqNull(f)?u.overscrollBehavior:f,b=a().eqNull(h)?u.overscrollBehavior:h;return(0,X.h)("div",{ref:P,class:["vxe-table--viewport-wrapper",{[`x-ob--${v}`]:v,[`y-ob--${b}`]:b}]},[(0,X.h)("div",{class:["vxe-table--main-wrapper",`sx--${d.visible}`,`sy--${p.visible}`]},[t?(0,X.h)(Cn,{ref:j,tableData:o,tableColumn:i,tableGroupColumn:l}):bi(Yn),(0,X.h)(vn,{ref:$,tableData:o,tableColumn:i}),n?(0,X.h)(On,{ref:L,footerTableData:s,tableColumn:i}):bi(Yn)]),(0,X.h)("div",{class:"vxe-table--fixed-wrapper"},[m&&m.length&&r?Ui("left"):bi(Yn),g&&g.length&&r?Ui("right"):bi(Yn)]),Xi()])},ea=()=>{const e=dt.value;return(0,X.h)("div",{class:"vxe-table--layout-wrapper"},e?[Ji(),Qi()]:[Qi(),Ji()])},ta=()=>{const{loading:t,stripe:r,showHeader:o,height:a,treeConfig:l,mouseConfig:c,showFooter:d,highlightCell:p,highlightHoverRow:f,highlightHoverColumn:h,editConfig:m,editRules:g}=e,{isGroup:v,overflowX:b,overflowY:k,scrollXLoad:E,scrollYLoad:O,tableData:P,initStore:j,isRowGroupStatus:$,columnStore:L,filterStore:z,customStore:V,tooltipStore:B}=S,{teleportToWrapperElem:H,popupToWrapperElem:W}=T,{leftList:q,rightList:Y}=L,K=n.loading,ee={header:n.headerTooltip||n["header-tooltip"],body:n.tooltip,footer:n.footerTooltip||n["footer-tooltip"]},te=B.visible&&B.type?ee[B.type]:null,ne=At.value,re=zt.value,oe=Vt.value,ie=We.value,ae=Pt.value,le=En.value,se=Et.value,ce=yt.value,ue=C.value,de=$n.value,pe=Gt.value,fe=Yt.value,he=Mn.value,me=xn.value,ge=S.isColLoading||S.isRowLoading||t,ve=Rt.value,be=c&&pe.area,xe=It.value,ye=ut.value,we=dt.value,{isCrossTableDrag:Ce}=ne,ke={onKeydown:ri,onContextmenu:oi};return Ce&&!P.length&&(ke.onDragover=Yn.handleCrossTableRowDragoverEmptyEvent),(0,X.h)("div",Object.assign({ref:D,class:["vxe-table","vxe-table--render-default",`tid_${i}`,`border--${de}`,"sx-pos--"+(ye?"top":"bottom"),"sy-pos--"+(we?"left":"right"),{[`size--${ue}`]:ue,[`valid-msg--${ie.msgMode}`]:!!g,"vxe-editable":!!m,"old-cell-valid":g&&"obsolete"===ai().cellVaildMode,"cell--highlight":p,"cell--selected":c&&pe.selected,"cell--area":be,"header-cell--area":be&&fe.selectCellByHeader,"body-cell--area":be&&fe.selectCellByBody,"row--highlight":se.isHover||f,"column--highlight":ce.isHover||h,"checkbox--range":ae.range,"col--drag-cell":ce.drag&&"cell"===xe.trigger,"is--header":o,"not--header":!o,"is--footer":d,"not--footer":!d,"is--group":v,"is-row-group":$,"is--tree-line":l&&(le.showLine||le.line),"is--fixed-left":q.length,"is--fixed-right":Y.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!l&&r,"is--loading":ge,"is--empty":!ge&&!P.length,"is--scroll-y":k,"not--scroll-y":!k,"is--scroll-x":b,"not--scroll-x":!b,"is--virtual-x":E,"is--virtual-y":O}],spellcheck:!1},ke),[(0,X.h)("div",{class:"vxe-table-slots"},n.default?n.default({}):[]),(0,X.h)("div",{ref:M,class:"vxe-table-vars"},[(0,X.h)("div",{class:"vxe-table-var-default"}),(0,X.h)("div",{class:"vxe-table-var-medium"}),(0,X.h)("div",{class:"vxe-table-var-small"}),(0,X.h)("div",{class:"vxe-table-var-mini"})]),(0,X.h)("div",{key:"tw",class:"vxe-table--render-wrapper"},ye?[Zi(),ea()]:[ea(),Zi()]),(0,X.h)("div",{key:"tn",ref:Q,class:"vxe-table--empty-place-wrapper",xid:i},[(0,X.h)("div",{class:"vxe-table--empty-placeholder"},[(0,X.h)("div",{class:"vxe-table--empty-content"},Gi())])]),(0,X.h)("div",{key:"tl",class:"vxe-table--border-line"}),(0,X.h)("div",{key:"tcl",ref:Z,class:"vxe-table--resizable-col-bar"},ve.showDragTip?[(0,X.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),(0,X.h)("div",{key:"ttw"},[(0,X.h)(X.Teleport,{to:H,disabled:!(y&&H)},[(0,X.h)("div",{ref:U},[(0,X.h)("div",{key:"trl",ref:J,class:"vxe-table--resizable-row-bar"},ve.showDragTip?[(0,X.h)("div",{class:"vxe-table--resizable-number-tip"})]:[]),j.custom?(0,X.h)(Nn,{key:"cs",ref:_,customStore:V}):bi(Yn),s?(0,X.h)(s,{key:"lg",class:"vxe-table--loading",modelValue:ge,icon:he.icon,text:he.text},K?{default:()=>qi(K,{$table:Yn,$grid:x,$gantt:y,loading:ge})}:{}):K?(0,X.h)("div",{class:["vxe-loading--custom-wrapper",{"is--visible":ge}]},qi(K,{$table:Yn,$grid:x,$gantt:y,loading:ge})):bi(Yn),Ki()])])]),(0,X.h)("div",{key:"tpw"},[(0,X.h)(X.Teleport,{to:W,disabled:!(w&&W)},[(0,X.h)("div",{ref:G},[j.filter?(0,X.h)(jn,{key:"tf",ref:F,filterStore:z}):bi(Yn),me?(0,X.h)(Kn,{key:"tm",ref:R}):bi(Yn)])])]),j.import&&e.importConfig?(0,X.h)(Vn,{key:"it",defaultOptions:S.importParams,storeData:S.importStore}):bi(Yn),j.export&&(e.exportConfig||e.printConfig)?(0,X.h)(qn,{key:"et",defaultOptions:S.exportParams,storeData:S.exportStore}):bi(Yn),u?(0,X.h)("div",{},[(0,X.h)(u,{key:"ctp",ref:I,isArrow:!1,enterable:!1}),(0,X.h)(u,{key:"btp",ref:A,theme:re.theme,enterable:re.enterable,enterDelay:re.enterDelay,leaveDelay:re.leaveDelay,useHTML:re.useHTML,width:re.width,height:re.height,minWidth:re.minWidth,minHeight:re.minHeight,maxWidth:re.maxWidth,maxHeight:re.maxHeight},te?{content:()=>{const{type:e,row:t,column:n,content:r}=B;if(te){if(n&&"header"===e)return(0,X.h)("div",{key:e},te({column:n,tooltipContent:r,$table:Yn,$grid:x,$gantt:y}));if(t&&n&&"body"===e)return(0,X.h)("div",{key:e},te({row:t,column:n,tooltipContent:r,$table:Yn,$grid:x,$gantt:y}));if(t&&n&&"footer"===e)return(0,X.h)("div",{key:e},te({row:t,column:n,tooltipContent:r,$table:Yn,$grid:x,$gantt:y}))}return bi(Yn)}}:{}),e.editRules&&ie.showMessage&&("default"===ie.message?!a:"tooltip"===ie.message)?(0,X.h)(u,{key:"vtp",ref:N,class:[{"old-cell-valid":g&&"obsolete"===ai().cellVaildMode},"vxe-table--valid-error"],theme:oe.theme,enterable:oe.enterable,enterDelay:oe.enterDelay,leaveDelay:oe.leaveDelay}):bi(Yn)]):bi(Yn)])},na=(0,X.ref)(0);(0,X.watch)(()=>e.data?e.data.length:-1,()=>{na.value++}),(0,X.watch)(()=>e.data,()=>{na.value++}),(0,X.watch)(na,()=>{const{initStatus:t}=T,n=e.data||[];n&&n.length>=2e4&&ee("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),mo(n,!1,!0).then(()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:r}=S,o=Tn.value;return T.inited=!0,T.initStatus=!0,t||go(),(e||n)&&r&&"fixed"!==o.mode&&ee("vxe.error.scrollErrProp",["column.type=expand"]),E.recalculate()})});const ra=(0,X.ref)(0);(0,X.watch)(()=>S.staticColumns.length,()=>{ra.value++}),(0,X.watch)(()=>S.staticColumns,()=>{ra.value++}),(0,X.watch)(ra,()=>{(0,X.nextTick)(()=>ko(a().clone(S.staticColumns)))});const oa=(0,X.ref)(0);(0,X.watch)(()=>S.tableColumn.length,()=>{oa.value++}),(0,X.watch)(()=>S.tableColumn,()=>{oa.value++}),(0,X.watch)(oa,()=>{O.analyColumnWidth()}),(0,X.watch)(()=>S.upDataFlag,()=>{(0,X.nextTick)(()=>{E.updateData()})}),(0,X.watch)(()=>S.reColumnFlag,()=>{(0,X.nextTick)(()=>{E.refreshColumn()})});const ia=(0,X.ref)(0);(0,X.watch)(C,()=>{ia.value++}),(0,X.watch)(()=>e.showHeader,()=>{ia.value++}),(0,X.watch)(()=>e.showFooter,()=>{ia.value++}),(0,X.watch)(()=>S.overflowX,()=>{ia.value++}),(0,X.watch)(()=>S.overflowY,()=>{ia.value++}),(0,X.watch)(()=>e.height,()=>{ia.value++}),(0,X.watch)(()=>e.maxHeight,()=>{ia.value++}),(0,X.watch)(ut,()=>{ia.value++}),(0,X.watch)(dt,()=>{ia.value++}),(0,X.watch)(()=>o.OE.getLanguage(),()=>{ia.value++}),(0,X.watch)(()=>{const e=lt.value;return e.visible},()=>{ia.value++}),(0,X.watch)(()=>{const e=ct.value;return e.visible},()=>{ia.value++}),(0,X.watch)(ia,()=>{Yn.recalculate(!0)});const aa=(0,X.ref)(0);(0,X.watch)(()=>e.footerData?e.footerData.length:-1,()=>{aa.value++}),(0,X.watch)(()=>e.footerData,()=>{aa.value++}),(0,X.watch)(aa,()=>{T.footerFullDataRowData={},Yn.updateFooter()}),(0,X.watch)(()=>e.syncResize,e=>{e&&(qo(),(0,X.nextTick)(()=>{qo(),setTimeout(()=>qo())}))});const la=(0,X.ref)(0);(0,X.watch)(()=>e.mergeCells?e.mergeCells.length:-1,()=>{la.value++}),(0,X.watch)(()=>e.mergeCells,()=>{la.value++}),(0,X.watch)(la,()=>{ur(e.mergeCells||[])});const sa=(0,X.ref)(0);(0,X.watch)(()=>e.mergeHeaderCells?e.mergeHeaderCells.length:-1,()=>{sa.value++}),(0,X.watch)(()=>e.mergeHeaderCells,()=>{sa.value++}),(0,X.watch)(sa,()=>{fr(e.mergeHeaderCells||[])});const ca=(0,X.ref)(0);let ua;return(0,X.watch)(()=>e.mergeFooterCells?e.mergeFooterCells.length:-1,()=>{ca.value++}),(0,X.watch)(()=>e.mergeFooterCells,()=>{ca.value++}),(0,X.watch)(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{ca.value++}),(0,X.watch)(()=>e.mergeFooterItems,()=>{ca.value++}),(0,X.watch)(ca,()=>{const t=e.mergeFooterCells||e.mergeFooterItems;gr(t||[])}),(0,X.watch)(Bn,e=>{co(e)}),(0,X.watch)(Pe,()=>{const{inited:e,tableFullData:t}=T;e&&(Zn(),S.tableData=[],(0,X.nextTick)(()=>{Yn.reloadData(t)}))}),d&&(0,X.watch)(()=>d?d.reactData.resizeFlag:null,()=>{Di()}),Zn(),hi.forEach(e=>{const{setupTable:t}=e;if(t){const e=t(Yn);e&&a().isObject(e)&&Object.assign(Yn,e)}}),O.preventEvent(null,"created",{$table:Yn}),(0,X.onActivated)(()=>{E.recalculate().then(()=>E.refreshScroll()),O.preventEvent(null,"activated",{$table:Yn})}),(0,X.onDeactivated)(()=>{const{filterStore:e}=S;e.visible&&Yn.clearFilter(),Yn.closeTooltip(),T.isActivated=!1,O.preventEvent(null,"deactivated",{$table:Yn})}),(0,X.onMounted)(()=>{const{exportConfig:t,importConfig:n,treeConfig:r,minHeight:o}=e,{scrollXStore:i,scrollYStore:l}=T,s=yt.value,u=It.value,d=Ot.value,p=Je.value,f=Bt.value,h=En.value,m=_t.value,g=Pt.value,v=Tn.value,b=Et.value,x=In.value,C=Gt.value,k=wn.value,S=kn.value,E=At.value,M=Yt.value,{groupFields:A}=d;if(y){const{refClassifyWrapperElem:e}=y.getRefMaps(),t=e.value;t&&(T.teleportToWrapperElem=t)}if(w){const{refPopupContainerElem:e}=w.getRefMaps(),t=e.value;t&&(T.popupToWrapperElem=t)}if((s.drag||b.drag||x.allowSort)&&se(),e.rowId&&ee("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&ee("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&ee("vxe.error.delProp",["column-id","column-config.useKey"]),e.rowId||b.keyField||!(g.reserve||g.checkRowKeys||m.reserve||m.checkRowKey||v.expandRowKeys||h.expandRowKeys)||ee("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(f.showStatus||f.showUpdateStatus||f.showInsertStatus)&&!e.keepSource&&ee("vxe.error.reqProp",["keep-source"]),r&&!h.transform&&e.stripe&&ee("vxe.error.noTree",["stripe"]),!e.showFooter||e.footerMethod||e.footerData||ee("vxe.error.reqProp",["footer-data | footer-method"]),b.height&&ee("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&ee("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&ee("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&ee("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&ee("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&ee("vxe.error.delProp",["resizable","column-config.resizable"]),e.aggregateConfig&&e.rowGroupConfig&&ee("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),n&&S.types&&!S.importMethod&&!a().includeArrays(a().keys(S._typeMaps),S.types)&&ee("vxe.error.errProp",[`export-config.types=${S.types.join(",")}`,S.types.filter(e=>a().includes(a().keys(S._typeMaps),e)).join(",")||a().keys(S._typeMaps).join(",")]),t&&k.types&&!k.exportMethod&&!a().includeArrays(a().keys(k._typeMaps),k.types)&&ee("vxe.error.errProp",[`export-config.types=${k.types.join(",")}`,k.types.filter(e=>a().includes(a().keys(k._typeMaps),e)).join(",")||a().keys(k._typeMaps).join(",")]),e.id||(e.customConfig?c(x):x.enabled)&&x.storage&&te("vxe.error.reqProp",["id"]),e.treeConfig&&g.range&&te("vxe.error.noTree",["checkbox-config.range"]),b.height&&!e.showOverflow&&ee("vxe.error.notProp",["table.show-overflow"]),!Yn.triggerCellAreaModnEvent){if(e.areaConfig&&ee("vxe.error.notProp",["area-config"]),e.clipConfig&&ee("vxe.error.notProp",["clip-config"]),e.fnrConfig&&ee("vxe.error.notProp",["fnr-config"]),C.area)return void te("vxe.error.notProp",["mouse-config.area"]);C.area&&M.selectCellByHeader&&s.drag&&"cell"===u.trigger&&te("vxe.error.notSupportProp",["area-config.selectCellByHeader & column-config.drag","column-drag-config.trigger=cell","column-drag-config.trigger=default | area-config.selectCellByHeader=false"])}if(!Yn.handlePivotTableAggregateData){if(x.allowGroup)return void te("vxe.error.notProp",["custom-config.allowGroup"]);if(x.allowValues)return void te("vxe.error.notProp",["custom-config.allowValues"])}if(r&&b.drag&&!h.transform&&te("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),r&&E.isCrossTableDrag&&!E.isCrossDrag&&te("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),e.dragConfig&&ee("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&ee("vxe.error.delProp",["row-group-config","aggregate-config"]),d.countFields&&ee("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),d.aggregateMethod&&ee("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),d.countMethod&&ee("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),e.treeConfig&&h.children&&ee("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&h.line&&ee("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),C.area&&C.selected&&ee("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),C.area&&e.treeConfig&&!h.transform&&te("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&f.activeMethod&&ee("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&g.isShiftKey&&te("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),g.halfField&&ee("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),e.editConfig&&c(f)&&e.editRules&&(0===o||"0"===o)&&ee("vxe.error.reqSupportProp",["edit-config & edit-rules","min-height"]),r&&a().arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],e=>{const t=h[e];t&&t.indexOf(".")>-1&&te("vxe.error.errProp",[`${e}=${t}`,`${e}=${t.split(".")[0]}`])}),b.currentMethod&&ee("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),s.currentMethod&&ee("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),Object.assign(l,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(i,{startIndex:0,endIndex:0,visibleSize:0}),co(A),ho(),(0,X.nextTick)(()=>{if(e.autoResize){const t=D.value,n=O.getParentElem();ua=pi.create(()=>{e.autoResize&&lo()}),t&&ua.observe(t),n&&ua.observe(n)}}),"scroll"!==p.mode){const e=P.value;e&&e.addEventListener("wheel",Yn.triggerBodyWheelEvent,{passive:!1})}mi.on(Yn,"paste",Ti),mi.on(Yn,"copy",Ei),mi.on(Yn,"cut",Oi),mi.on(Yn,"mousedown",ei),mi.on(Yn,"blur",ti),mi.on(Yn,"mousewheel",ni),mi.on(Yn,"keydown",ii),mi.on(Yn,"resize",Di),mi.on(Yn,"contextmenu",Yn.handleGlobalContextmenuEvent),Yn.preventEvent(null,"mounted",{$table:Yn})}),(0,X.onBeforeUnmount)(()=>{const e=P.value;e&&e.removeEventListener("wheel",Yn.triggerBodyWheelEvent),T.cvCacheMaps={},T.prevDragRow=null,T.prevDragCol=null,ua&&ua.disconnect(),Yn.closeTooltip(),E.closeFilter(),Yn.closeMenu&&Yn.closeMenu(),mi.off(Yn,"paste"),mi.off(Yn,"copy"),mi.off(Yn,"cut"),mi.off(Yn,"mousedown"),mi.off(Yn,"blur"),mi.off(Yn,"mousewheel"),mi.off(Yn,"keydown"),mi.off(Yn,"resize"),mi.off(Yn,"contextmenu"),O.preventEvent(null,"beforeUnmount",{$table:Yn})}),(0,X.onUnmounted)(()=>{O.preventEvent(null,"unmounted",{$table:Yn}),a().assign(T,Re())}),(0,X.nextTick)(()=>{e.loading&&(s||n.loading||(te("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),te("vxe.error.reqComp",["vxe-loading"]))),(!0===e.showOverflow||"tooltip"===e.showOverflow||!0===e.showHeaderOverflow||"tooltip"===e.showHeaderOverflow||!0===e.showFooterOverflow||"tooltip"===e.showFooterOverflow||e.tooltipConfig||e.editRules)&&(u||(!0===e.showOverflow&&te("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),"tooltip"===e.showOverflow&&te("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),!0===e.showHeaderOverflow&&te("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),"tooltip"===e.showHeaderOverflow&&te("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),!0===e.showFooterOverflow&&te("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),"tooltip"===e.showFooterOverflow&&te("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),te("vxe.error.reqComp",["vxe-tooltip"])))}),(0,X.provide)("$xeColgroup",null),(0,X.provide)("$xeTable",Yn),Yn.renderVN=ta,Yn},render(){return this.renderVN()}});const{getConfig:Ei,getIcon:Oi,getI18n:Di,renderer:Mi,commands:Ai,createEvent:Ii,useFns:Ni}=o.OE;function Ri(){return{connectTable:null}}var Fi=Z({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>Ei().toolbar.buttons},tools:{type:Array,default:()=>Ei().toolbar.tools},perfect:{type:Boolean,default:()=>Ei().toolbar.perfect},size:{type:String,default:()=>Ei().toolbar.size||Ei().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:n,emit:r}=t,i=a().uniqueId(),l=o.OE.getComponent("VxeButton"),s=(0,X.inject)("$xeGrid",null),c=(0,X.inject)("$xeGantt",null),u=s||c,{computeSize:d}=Ni.useSize(e),p=(0,X.reactive)({isRefresh:!1,connectFlag:0,columns:[]}),f=Ri(),h=(0,X.ref)(),m={refElem:h},g={xID:i,props:e,context:t,reactData:p,internalData:f,getRefMaps:()=>m};let v={};const b=(0,X.computed)(()=>Object.assign({},a().clone(Ei().toolbar.refresh,!0),e.refreshOptions,e.refresh)),x=(0,X.computed)(()=>Object.assign({},a().clone(Ei().toolbar.import,!0),e.importOptions,e.import)),y=(0,X.computed)(()=>Object.assign({},a().clone(Ei().toolbar.export,!0),e.exportOptions,e.export)),w=(0,X.computed)(()=>Object.assign({},a().clone(Ei().toolbar.print,!0),e.printOptions,e.print)),C=(0,X.computed)(()=>Object.assign({},a().clone(Ei().toolbar.zoom,!0),e.zoomOptions,e.zoom)),k=(0,X.computed)(()=>Object.assign({},a().clone(Ei().toolbar.custom,!0),e.customOptions,e.custom)),S=(0,X.computed)(()=>{const{connectTable:e}=f,t=e;if((p.connectFlag||t)&&t){const{computeCustomOpts:e}=t.getComputeMaps();return e.value}return{trigger:""}}),T=(0,X.computed)(()=>{const e=S.value;return e.trigger}),E=()=>{const{connectTable:e}=f,t=e;if(t)return!0;te("vxe.error.barUnableLink")},O=({$event:e})=>{const{connectTable:t}=f,n=t;n&&n.triggerCustomEvent&&n.triggerCustomEvent(e)},D=({$event:e})=>{const{connectTable:t}=f,n=t;n&&n.customOpenEvent(e)},M=({$event:e})=>{const{connectTable:t}=f,n=t;if(n){const{customStore:t}=n.reactData;t.activeBtn=!1,setTimeout(()=>{t.activeBtn||t.activeWrapper||n.customCloseEvent(e)},350)}},A=({$event:e})=>{const{isRefresh:t}=p,n=b.value;if(!t){const t=n.queryMethod||n.query;if(t){p.isRefresh=!0;try{Promise.resolve(t({})).catch(e=>e).then(()=>{p.isRefresh=!1})}catch(r){p.isRefresh=!1}}else u&&(p.isRefresh=!0,u.triggerToolbarCommitEvent({code:n.code||"reload"},e).catch(()=>{}).then(()=>{p.isRefresh=!1}))}},I=({$event:e})=>{u?u.triggerZoomEvent(e):ee("vxe.error.notProp",["[toolbar] zoom"])},N=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.importData()}},R=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.openImport()}},F=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.exportData()}},_=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.openExport()}},P=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.print()}},j=()=>{if(E()){const{connectTable:e}=f,t=e;t&&t.openPrint()}},$=(e,t,n)=>{switch(t.code){case"print":P();break;case"open_print":j();break;case"custom":O(e);break;case"export":F();break;case"open_export":_();break;case"import":N();break;case"open_import":R();break;case"zoom":I(e);break;case"refresh":A(e);break;default:n();break}},L=(e,t)=>{const{$event:n}=e,{connectTable:r}=f,o=r,{code:i}=t;i&&$(e,t,()=>{if(u)u.triggerToolbarBtnEvent(t,n);else{const e=Ai.get(i),r={code:i,button:t,$table:o,$grid:s,$gantt:c,$event:n};if(e){const t=e.tableCommandMethod||e.commandMethod;t?t(r):te("vxe.error.notCommands",[`[toolbar] ${i}`])}g.dispatchEvent("button-click",r,n)}})},z=(e,t)=>{const{$event:n}=e,{connectTable:r}=f,o=r,{code:i}=t;i&&$(e,t,()=>{if(u)u.triggerToolbarTolEvent(t,n);else{const e=Ai.get(i),r={code:i,button:null,tool:t,$table:o,$grid:s,$gantt:c,$event:n};if(e){const t=e.tableCommandMethod||e.commandMethod;t?t(r):te("vxe.error.notCommands",[`[toolbar] ${i}`])}g.dispatchEvent("tool-click",r,n)}})},V=(e,t,n)=>{r(e,Ii(n,{$toolbar:g},t))};v={dispatchEvent:V,syncUpdate(e){f.connectTable=e.$table,p.columns=e.collectColumn,p.connectFlag++}},Object.assign(g,v);const B=(e,t)=>{const{dropdowns:n}=e,r=[];return n?n.map((e,n)=>!1===e.visible?(0,X.createCommentVNode)():l?(0,X.h)(l,Object.assign(Object.assign({key:n},Object.assign({},e,{content:e.content||e.name,options:void 0})),{onClick:n=>t?L(n,e):z(n,e)})):(0,X.createCommentVNode)()):r},H=()=>{const{buttons:t}=e,{connectTable:r}=f,o=r,i=n.buttons,u=n.buttonPrefix||n["button-prefix"],d=n.buttonSuffix||n["button-suffix"],p=[];return t&&t.forEach((e,t)=>{const{dropdowns:n,buttonRender:r}=e;if(!1!==e.visible){const i=r?Mi.get(r.name):null;if(r&&i&&i.renderToolbarButton){const n=i.toolbarButtonClassName,l={$grid:s,$gantt:c,$table:o,button:e};p.push((0,X.h)("span",{key:`br${e.code||t}`,class:["vxe-button--item",n?a().isFunction(n)?n(l):n:""]},St(i.renderToolbarButton(r,l))))}else l&&p.push((0,X.h)(l,Object.assign(Object.assign({key:`bd${e.code||t}`},Object.assign({},e,{content:e.content||e.name,options:void 0})),{onClick:t=>L(t,e)}),n&&n.length?{dropdowns:()=>B(e,!0)}:{}))}}),[(0,X.h)("div",{class:"vxe-button--prefix-wrapper"},u?St(u({buttons:t||[],$grid:s,$gantt:c,$table:o})):[]),(0,X.h)("div",{class:"vxe-button--item-wrapper"},i?St(i({buttons:t||[],$grid:s,$gantt:c,$table:o})):p),(0,X.h)("div",{class:"vxe-button--suffix-wrapper"},d?St(d({buttons:t||[],$grid:s,$gantt:c,$table:o})):[])]},W=()=>{const{tools:t}=e,{connectTable:r}=f,o=r,i=n.tools,u=n.toolPrefix||n["tool-prefix"],d=n.toolSuffix||n["tool-suffix"],p=[];return t&&t.forEach((e,t)=>{const{dropdowns:n,toolRender:r}=e;if(!1!==e.visible){const i=r?r.name:null,u=r?Mi.get(i):null;if(r&&u&&u.renderToolbarTool){const t=u.toolbarToolClassName,n={$grid:s,$gantt:c,$table:o,tool:e};p.push((0,X.h)("span",{key:i,class:["vxe-tool--item",t?a().isFunction(t)?t(n):t:""]},St(u.renderToolbarTool(r,n))))}else l&&p.push((0,X.h)(l,Object.assign(Object.assign({key:t},Object.assign({},e,{content:e.content||e.name,options:void 0})),{onClick:t=>z(t,e)}),n&&n.length?{dropdowns:()=>B(e,!1)}:{}))}}),[(0,X.h)("div",{class:"vxe-tool--prefix-wrapper"},u?St(u({tools:t||[],$grid:s,$gantt:c,$table:o})):[]),(0,X.h)("div",{class:"vxe-tool--item-wrapper"},i?St(i({tools:t||[],$grid:s,$gantt:c,$table:o})):p),(0,X.h)("div",{class:"vxe-tool--suffix-wrapper"},d?St(d({tools:t||[],$grid:s,$gantt:c,$table:o})):[])]},q=()=>{const e=x.value;return l?(0,X.h)(l,{key:"import",circle:!0,icon:e.icon||Oi().TOOLBAR_TOOLS_IMPORT,title:Di("vxe.toolbar.import"),onClick:R}):(0,X.createCommentVNode)()},U=()=>{const e=y.value;return l?(0,X.h)(l,{key:"export",circle:!0,icon:e.icon||Oi().TOOLBAR_TOOLS_EXPORT,title:Di("vxe.toolbar.export"),onClick:_}):(0,X.createCommentVNode)()},G=()=>{const e=w.value;return l?(0,X.h)(l,{key:"print",circle:!0,icon:e.icon||Oi().TOOLBAR_TOOLS_PRINT,title:Di("vxe.toolbar.print"),onClick:j}):(0,X.createCommentVNode)()},Y=()=>{const e=b.value;return l?(0,X.h)(l,{key:"refresh",circle:!0,icon:p.isRefresh?e.iconLoading||Oi().TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||Oi().TOOLBAR_TOOLS_REFRESH,title:Di("vxe.toolbar.refresh"),onClick:A}):(0,X.createCommentVNode)()},K=()=>{const e=C.value;return u&&l?(0,X.h)(l,{key:"zoom",circle:!0,icon:u.isMaximized()?e.iconOut||Oi().TOOLBAR_TOOLS_MINIMIZE:e.iconIn||Oi().TOOLBAR_TOOLS_FULLSCREEN,title:Di("vxe.toolbar.zoom"+(u.isMaximized()?"Out":"In")),onClick:I}):(0,X.createCommentVNode)()},Z=()=>{const e=k.value,t=T.value,n={};return"manual"===t||("hover"===t?(n.onMouseenter=D,n.onMouseleave=M):n.onClick=O),l?(0,X.h)(l,Object.assign({key:"custom",circle:!0,icon:e.icon||Oi().TOOLBAR_TOOLS_CUSTOM,title:Di("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},n)):(0,X.createCommentVNode)()},J=()=>{const{perfect:t,loading:n,refresh:r,zoom:o,custom:i,className:l}=e,s=d.value;return(0,X.h)("div",{ref:h,class:["vxe-toolbar",l?a().isFunction(l)?l({$toolbar:g}):l:"",{[`size--${s}`]:s,"is--perfect":t,"is--loading":n}]},[(0,X.h)("div",{class:"vxe-buttons--wrapper"},H()),(0,X.h)("div",{class:"vxe-tools--wrapper"},W()),(0,X.h)("div",{class:"vxe-tools--operate"},[e.import?q():(0,X.createCommentVNode)(),e.export?U():(0,X.createCommentVNode)(),e.print?G():(0,X.createCommentVNode)(),r?Y():(0,X.createCommentVNode)(),o&&u?K():(0,X.createCommentVNode)(),i?Z():(0,X.createCommentVNode)()])])};return g.renderVN=J,(0,X.nextTick)(()=>{const t=b.value,n=t.queryMethod||t.query;!e.refresh||u||n||ee("vxe.error.notFunc",["[toolbar] queryMethod"]),a().isPlainObject(e.custom)&&ee("vxe.error.delProp",["[toolbar] custom={...}","custom=boolean & custom-options={...}"]),a().isPlainObject(e.print)&&ee("vxe.error.delProp",["[toolbar] print={...}","print=boolean & print-options={...}"]),a().isPlainObject(e.export)&&ee("vxe.error.delProp",["[toolbar] export={...}","export=boolean & export-options={...}"]),a().isPlainObject(e.import)&&ee("vxe.error.delProp",["[toolbar] import={...}","import=boolean & import-options={...}"]),a().isPlainObject(e.refresh)&&ee("vxe.error.delProp",["[toolbar] refresh={...}","refresh=boolean & refresh-options={...}"]),a().isPlainObject(e.refresh)&&ee("vxe.error.delProp",["[toolbar] zoom={...}","zoom=boolean & zoom-options={...}"]);const r=k.value;r.isFooter&&ee("vxe.error.delProp",["[toolbar] toolbar.custom.isFooter","table.custom-config.showFooter"]),r.showFooter&&ee("vxe.error.delProp",["[toolbar] toolbar.custom.showFooter","table.custom-config.showFooter"]),r.immediate&&ee("vxe.error.delProp",["[toolbar] toolbar.custom.immediate","table.custom-config.immediate"]),r.trigger&&ee("vxe.error.delProp",["[toolbar] toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(l||te("vxe.error.reqComp",["vxe-button"]))}),(0,X.onUnmounted)(()=>{a().assign(f,Ri())}),g},render(){return this.renderVN()}});const{getConfig:_i,getI18n:Pi,commands:ji,hooks:$i,useFns:Li,createEvent:zi,globalEvents:Vi,GLOBAL_EVENT_KEYS:Bi,renderEmptyElement:Hi}=o.OE,Wi=Object.keys(Jt),qi=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","getScrollData","scrollTo","scrollToStartRow","scrollToEndRow","scrollToRow","scrollToStartColumn","scrollToEndColumn","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];function Ui(){return{uFoot:!1}}var Gi=Z({name:"VxeGrid",props:en,emits:nn,setup(e,t){var n;const{slots:r,emit:i}=t,l=a().uniqueId(),s=o.OE.getComponent("VxeForm"),u=o.OE.getComponent("VxePager"),d=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:h}=Li.useSize(e),m=(0,X.reactive)({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],footerData:[],tZindex:0,tablePage:{total:0,pageSize:(null===(n=_i().pager)||void 0===n?void 0:n.pageSize)||10,currentPage:1}}),g=Ui(),v=(0,X.ref)(),b=(0,X.ref)(),x=(0,X.ref)(),y=(0,X.ref)(),w=(0,X.ref)(),C=(0,X.ref)(),k=(0,X.ref)(),S=(0,X.ref)(),T=(0,X.ref)(),E=(0,X.ref)(),O=(0,X.ref)(),D=e=>{const t={};return e.forEach(e=>{t[e]=(...t)=>{const n=b.value;if(n&&n[e])return n[e](...t)}}),t},M=D(qi);qi.forEach(e=>{M[e]=(...t)=>{const n=b.value;if(n&&n[e])return n&&n[e](...t)}});const A=(0,X.computed)(()=>a().merge({},a().clone(_i().grid.proxyConfig,!0),e.proxyConfig)),I=(0,X.computed)(()=>{const e=A.value;return!!(a().isBoolean(e.message)?e.message:e.showResponseMsg)}),N=(0,X.computed)(()=>{const e=A.value;return a().isBoolean(e.showActionMsg)?e.showActionMsg:!!e.showActiveMsg}),R=(0,X.computed)(()=>Object.assign({},_i().grid.pagerConfig,e.pagerConfig)),F=(0,X.computed)(()=>Object.assign({},_i().grid.formConfig,e.formConfig)),_=(0,X.computed)(()=>Object.assign({},_i().grid.toolbarConfig,e.toolbarConfig)),P=(0,X.computed)(()=>Object.assign({},_i().grid.zoomConfig,e.zoomConfig)),j=(0,X.computed)(()=>{const{height:t,maxHeight:n}=e,{isZMax:r,tZindex:o}=m,i={};return r?i.zIndex=o:(t&&(i.height="auto"===t||"100%"===t?"100%":be(t)),n&&(i.maxHeight="auto"===n||"100%"===n?"100%":be(n))),i}),$=(0,X.computed)(()=>{const t={};return Wi.forEach(n=>{void 0!==e[n]&&(t[n]=e[n])}),t}),L=(0,X.computed)(()=>{const{showFooter:t,seqConfig:n,pagerConfig:r,editConfig:o,proxyConfig:i}=e,{isZMax:a,tablePage:l,footerData:s}=m,u=$.value,d=A.value,p=R.value,f=q.value,h=Object.assign({},u);return(t&&!h.footerData||d.footer&&s.length)&&(h.footerData=s),a&&(h.maxHeight?h.maxHeight="100%":h.height="100%"),i&&c(d)&&(h.loading=f,r&&d.seq&&c(p)&&(h.seqConfig=Object.assign({},n,{startIndex:(l.currentPage-1)*l.pageSize}))),o&&(h.editConfig=Object.assign({},o)),h}),z=(0,X.computed)(()=>{const{layouts:t}=e;let n=[];n=t&&t.length?t:_i().grid.layouts||d;let r=[],o=[],i=[];return n.length&&(a().isArray(n[0])?(r=n[0],o=n[1]||[],i=n[2]||[]):o=n),{headKeys:r,bodyKeys:o,footKeys:i}}),V=(0,X.computed)(()=>{const e=R.value;return e.currentPage}),B=(0,X.computed)(()=>{const e=R.value;return e.pageSize}),H=(0,X.computed)(()=>{const e=R.value;return e.total}),W=(0,X.computed)(()=>{const{tablePage:e}=m;return Math.max(Math.ceil(e.total/e.pageSize),1)}),q=(0,X.computed)(()=>{const{loading:t,proxyConfig:n}=e,{tableLoading:r}=m,o=A.value,{showLoading:i}=o;return t||r&&i&&n&&c(o)}),U={refElem:v,refTable:b,refForm:x,refToolbar:y,refPager:w,refPopupContainerElem:C},G={computeProxyOpts:A,computePagerOpts:R,computeFormOpts:F,computeToolbarOpts:_,computeZoomOpts:P},Y={xID:l,props:e,context:t,reactData:m,internalData:g,getRefMaps:()=>U,getComputeMaps:()=>G},K=()=>{const t=_.value;e.toolbarConfig&&c(t)&&(0,X.nextTick)(()=>{const e=b.value,t=y.value;e&&t&&e.connectToolbar(t)})},Z=()=>{const{proxyConfig:t}=e,{formData:n}=m,r=A.value,o=F.value;return t&&c(r)&&r.form?n:o.data},J=t=>{const{tablePage:n}=m,{pagerConfig:r}=e,o=R.value;if(r&&c(o))if(t)o[t]&&(n[t]=a().toNumber(o[t]));else{const{currentPage:e,pageSize:t,total:r}=o;e&&(n.currentPage=e),t&&(n.pageSize=t),r&&(n.total=r)}},Q=e=>{const t=N.value,n=b.value,r=n?n.getCheckboxRecords():[];r.length?(n&&n.togglePendingRow(r),Y.clearCheckboxRow()):t&&o.OE.modal&&o.OE.modal.message({id:e,content:Pi("vxe.grid.selectOneRecord"),status:"warning"})},ne=(e,t)=>{const n=A.value,r=n.response||n.props||{},o=r.message,i=b.value;let l;return e&&o&&(l=a().isFunction(o)?o({data:e,$table:i,$grid:Y,$gantt:null}):a().get(e,o)),l||Pi(t)},re=(e,t,n)=>{const r=N.value,i=Y.getCheckboxRecords();if(r)if(i.length){if(o.OE.modal)return o.OE.modal.confirm({id:`cfm_${e}`,content:Pi(t),escClosable:!0}).then(e=>{if("confirm"===e)return n()})}else o.OE.modal&&o.OE.modal.message({id:`msg_${e}`,content:Pi("vxe.grid.selectOneRecord"),status:"warning"});else i.length&&n();return Promise.resolve()},oe=t=>{const{proxyConfig:n}=e,{tablePage:r}=m,{$event:o,currentPage:i,pageSize:a}=t,l=A.value;r.currentPage=i,r.pageSize=a,Y.dispatchEvent("page-change",t,o),n&&c(l)&&Y.commitProxy("query").then(e=>{Y.dispatchEvent("proxy-query",e,o)})},ie=t=>{const n=b.value,{proxyConfig:r}=e;if(!n)return;const{computeSortOpts:o}=n.getComputeMaps(),i=A.value,a=o.value;a.remote&&(m.sortData=t.sortList,r&&c(i)&&(m.tablePage.currentPage=1,Y.commitProxy("query").then(e=>{Y.dispatchEvent("proxy-query",e,t.$event)})))},ae=e=>{ie(e),Y.dispatchEvent("sort-change",e,e.$event)},le=e=>{ie(e),Y.dispatchEvent("clear-all-sort",e,e.$event)},se=t=>{const n=b.value,{proxyConfig:r}=e;if(!n)return;const{computeFilterOpts:o}=n.getComputeMaps(),i=A.value,a=o.value;a.remote&&(m.filterData=t.filterList,r&&c(i)&&(m.tablePage.currentPage=1,g.uFoot=!0,Y.commitProxy("query").then(e=>{Y.dispatchEvent("proxy-query",e,t.$event)}),g.uFoot=!1,_e()))},ce=e=>{se(e),Y.dispatchEvent("filter-change",e,e.$event)},ue=e=>{se(e),Y.dispatchEvent("clear-all-filter",e,e.$event)},de=t=>{const{proxyConfig:n}=e,r=A.value;m.tableLoading||(n&&c(r)&&(g.uFoot=!0,Y.commitProxy("reload").then(e=>{Y.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),t.$event)}),g.uFoot=!1,_e()),Y.dispatchEvent("form-submit",t,t.$event))},pe=t=>{const n=b.value,{proxyConfig:r}=e,{$event:o}=t,i=A.value;r&&c(i)&&(n&&n.clearScroll(),g.uFoot=!0,Y.commitProxy("reload").then(e=>{Y.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),o)}),g.uFoot=!1,_e()),Y.dispatchEvent("form-reset",t,o)},fe=e=>{Y.dispatchEvent("form-submit-invalid",e,e.$event)},he=e=>{const{$event:t}=e;Y.dispatchEvent("form-toggle-collapse",e,t),Y.dispatchEvent("form-collapse",e,t)},me=e=>{const{isZMax:t}=m;return(e?!t:t)&&(m.isZMax=!t,m.tZindex<f()&&(m.tZindex=p())),(0,X.nextTick)().then(()=>Y.recalculate(!0)).then(()=>(setTimeout(()=>Y.recalculate(!0),15),m.isZMax))},ge=(e,t)=>{const n=e[t];if(n){if(!a().isString(n))return n;if(r[n])return r[n];te("vxe.error.notSlot",[`[grid] ${n}`])}return null},ve=e=>{const t={};return a().objectMap(e,(e,n)=>{e&&(a().isString(e)?r[e]?t[n]=r[e]:te("vxe.error.notSlot",[`[grid] ${e}`]):t[n]=e)}),t},xe=()=>{const{formConfig:t,proxyConfig:n}=e,{formData:o}=m,i=A.value,l=F.value;if(t&&c(l)||r.form){let e=[];if(r.form)e=r.form({$grid:Y,$gantt:null});else if(l.items){const t={};if(!l.inited){l.inited=!0;const e=i.beforeItem;i&&e&&l.items.forEach(t=>{e({$grid:Y,$gantt:null,item:t})})}l.items.forEach(e=>{a().each(e.slots,e=>{a().isFunction(e)||r[e]&&(t[e]=r[e])})}),s&&e.push((0,X.h)(s,Object.assign(Object.assign({ref:x},Object.assign({},l,{data:n&&c(i)&&i.form?o:l.data})),{onSubmit:de,onReset:pe,onSubmitInvalid:fe,onCollapse:he}),t))}return(0,X.h)("div",{ref:k,key:"form",class:"vxe-grid--form-wrapper"},e)}return Hi(Y)},ke=()=>{const{toolbarConfig:t}=e,n=_.value,o=r.toolbar;if(t&&c(n)||o){let e=[];if(o)e=o({$grid:Y,$gantt:null});else{const t=n.slots,r={};if(t){const e=ge(t,"buttons"),n=ge(t,"buttonPrefix"),o=ge(t,"buttonSuffix"),i=ge(t,"tools"),a=ge(t,"toolPrefix"),l=ge(t,"toolSuffix");e&&(r.buttons=e),n&&(r.buttonPrefix=n),o&&(r.buttonSuffix=o),i&&(r.tools=i),a&&(r.toolPrefix=a),l&&(r.toolSuffix=l)}e.push((0,X.h)(Fi,Object.assign(Object.assign({ref:y},n),{slots:void 0}),r))}return(0,X.h)("div",{ref:S,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return Hi(Y)},Se=()=>{const e=r.top;return e?(0,X.h)("div",{ref:T,key:"top",class:"vxe-grid--top-wrapper"},e({$grid:Y,$gantt:null})):Hi(Y)},Te=()=>{const e=r.left;return e?(0,X.h)("div",{class:"vxe-grid--left-wrapper"},e({$grid:Y,$gantt:null})):Hi(Y)},Ee=()=>{const e=r.right;return e?(0,X.h)("div",{class:"vxe-grid--right-wrapper"},e({$grid:Y,$gantt:null})):Hi(Y)},Oe=()=>{const{proxyConfig:t}=e,n=L.value,o=A.value,i=Object.assign({},Ne),a=r.empty,l=r.loading,s=r.rowDragIcon||r["row-drag-icon"],u=r.columnDragIcon||r["column-drag-icon"],d=r.headerTooltip||r["header-tooltip"],p=r.tooltip,f=r.footerTooltip||r["footer-tooltip"];t&&c(o)&&(o.sort&&(i.onSortChange=ae,i.onClearAllSort=le),o.filter&&(i.onFilterChange=ce,i.onClearAllFilter=ue));const h={};return a&&(h.empty=a),l&&(h.loading=l),s&&(h.rowDragIcon=s),u&&(h.columnDragIcon=u),d&&(h.headerTooltip=d),p&&(h.tooltip=p),f&&(h.footerTooltip=f),(0,X.h)("div",{class:"vxe-grid--table-wrapper"},[(0,X.h)(Ti,Object.assign(Object.assign({ref:b},n),i),h)])},De=()=>r.bottom?(0,X.h)("div",{ref:E,key:"bottom",class:"vxe-grid--bottom-wrapper"},r.bottom({$grid:Y,$gantt:null})):Hi(Y),Me=()=>{const{proxyConfig:t,pagerConfig:n}=e,o=A.value,i=R.value,a=r.pager;return n&&c(i)||r.pager?(0,X.h)("div",{ref:O,key:"pager",class:"vxe-grid--pager-wrapper"},a?a({$grid:Y,$gantt:null}):[u?(0,X.h)(u,Object.assign(Object.assign(Object.assign({ref:w},i),t&&c(o)?m.tablePage:{}),{onPageChange:oe}),ve(i.slots)):Hi(Y)]):Hi(Y)},Ae=e=>{const t=[];return e.forEach(e=>{switch(e){case"Form":t.push(xe());break;case"Toolbar":t.push(ke());break;case"Top":t.push(Se());break;case"Table":t.push((0,X.h)("div",{key:"table",class:"vxe-grid--table-container"},[Te(),Oe(),Ee()]));break;case"Bottom":t.push(De());break;case"Pager":t.push(Me());break;default:te("vxe.error.notProp",[`[grid] layouts -> ${e}`]);break}}),t},Ie=()=>{const e=z.value,{headKeys:t,bodyKeys:n,footKeys:o}=e,i=r.asideLeft||r["aside-left"],a=r.asideRight||r["aside-right"];return[(0,X.h)("div",{class:"vxe-grid--layout-header-wrapper"},Ae(t)),(0,X.h)("div",{class:"vxe-grid--layout-body-wrapper"},[i?(0,X.h)("div",{class:"vxe-grid--layout-aside-left-wrapper"},i({})):Hi(Y),(0,X.h)("div",{class:"vxe-grid--layout-body-content-wrapper"},Ae(n)),a?(0,X.h)("div",{class:"vxe-grid--layout-aside-right-wrapper"},a({})):Hi(Y)]),(0,X.h)("div",{class:"vxe-grid--layout-footer-wrapper"},Ae(o)),(0,X.h)("div",{ref:C})]},Ne={};tn.forEach(e=>{const t=a().camelCase(`on-${e}`);Ne[t]=(...t)=>i(e,...t)});const Re=()=>{const e=F.value;if(e.items){const t={};return e.items.forEach(e=>{const{field:n,itemRender:r}=e;if(n){let o=null;if(r){const{startField:n,endField:i,defaultValue:l}=r;a().isFunction(l)?o=l({item:e}):a().isUndefined(l)||(o=l),n&&i&&(a().set(t,n,null),a().set(t,i,null))}t[n]=o}}),t}return{}},Fe=()=>{const{proxyConfig:t,formConfig:n}=e,{proxyInited:r}=m,o=A.value,i=F.value;t&&c(o)&&(n&&c(i)&&o.form&&i.items&&(m.formData=Re()),r||(m.proxyInited=!0,!1!==o.autoLoad&&(0,X.nextTick)().then(()=>{g.uFoot=!0;const e=Y.commitProxy("initial");return g.uFoot=!1,_e(),e}).then(e=>{je("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("initial"))})))},_e=()=>{const e=A.value,{ajax:t}=e;if(t&&t.queryFooter)return Y.commitProxy("queryFooter")},Pe=e=>{const t=P.value,n=Vi.hasKey(e,Bi.ESCAPE);n&&m.isZMax&&!1!==t.escRestore&&Y.triggerZoomEvent(e)},je=(e,t,n)=>{i(e,zi(n,{$grid:Y,$gantt:null},t))},$e={dispatchEvent:je,getEl(){return v.value},commitProxy(t,...n){const{showFooter:r,proxyConfig:i,toolbarConfig:l,pagerConfig:s,editRules:u,validConfig:d}=e,{tablePage:p}=m,f=N.value,h=I.value,v=A.value,x=R.value,y=_.value,{beforeQuery:w,afterQuery:C,beforeQueryFooter:k,afterQueryFooter:S,beforeDelete:T,afterDelete:E,beforeSave:O,afterSave:D,ajax:M={}}=v,F=v.response||v.props||{},P=b.value;if(!P)return(0,X.nextTick)();let j=Z(),$=null,L=null;if(a().isString(t)){const{buttons:e}=y,n=l&&c(y)&&e?a().findTree(e,e=>e.code===t,{children:"dropdowns"}):null;$=n?n.item:null,L=t}else $=t,L=$.code;const z=$?$.params:null;switch(L){case"insert":return P.insert({});case"insert_edit":return P.insert({}).then(({row:e})=>P.setEditRow(e,!0));case"insert_actived":return P.insert({}).then(({row:e})=>P.setEditRow(e,!0));case"mark_cancel":Q(L);break;case"remove":return re(L,"vxe.grid.removeSelectRecord",()=>P.removeCheckboxRow());case"import":P.importData(z);break;case"open_import":P.openImport(z);break;case"export":P.exportData(z);break;case"open_export":P.openExport(z);break;case"reset_custom":return P.resetCustom(!0);case"initial":case"reload":case"query":{const e=M.query,t=M.querySuccess,o=M.queryError;if(e){const l="initial"===L,u="reload"===L;if(!l&&m.tableLoading)return(0,X.nextTick)();let d=null,f=[],h=[],g={};if(s&&((l||u)&&(p.currentPage=1),c(x)&&(g=Object.assign({},p))),l){if(i&&c(v)&&v.form&&(j=Re(),m.formData=j),P){const e=P.internalData,{tableFullColumn:t,fullColumnFieldData:n}=e,{computeSortOpts:r}=P.getComputeMaps(),o=r.value;let i=o.defaultSort;t.forEach(e=>{e.order=null}),i&&(a().isArray(i)||(i=[i]),f=i.map(e=>{const{field:t,order:r}=e,o=n[t];if(o){const e=o.column;e&&(e.order=r)}return{field:t,property:t,order:r}})),h=P.getCheckedFilters()}}else P&&(u?d=P.clearAll():(f=P.getSortColumns(),h=P.getCheckedFilters()));const y={$table:P,$grid:Y,$gantt:null,code:L,button:$,isInited:l,isReload:u,page:g,sort:f.length?f[0]:{},sorts:f,filters:h,form:j,options:e};return m.sortData=f,m.filterData=h,m.tableLoading=!0,Promise.all([Promise.resolve((w||e)(y,...n)),d]).then(([e])=>{let o=[];if(m.tableLoading=!1,e){const t={data:e,$table:P,$grid:Y,$gantt:null};if(s&&c(x)){const n=F.total,r=(a().isFunction(n)?n(t):a().get(e,n||"page.total"))||0;p.total=a().toNumber(r);const i=F.result;o=(a().isFunction(i)?i(t):a().get(e,i||"result"))||[];const l=Math.max(Math.ceil(r/p.pageSize),1);p.currentPage>l&&(p.currentPage=l)}else{const n=F.list;a().isArray(e)?o=e:n&&(o=(a().isFunction(n)?n(t):a().get(e,n))||[])}if(r){const n=F.footerData,r=n?a().isFunction(n)?n(t):a().get(e,n):[];a().isArray(r)&&(m.footerData=r)}}return P?P.loadData(o):(0,X.nextTick)(()=>{const e=b.value;e&&e.loadData(o)}),C&&C(y,...n),t&&t(Object.assign(Object.assign({},y),{response:e})),{status:!0}}).catch(e=>(m.tableLoading=!1,o&&o(Object.assign(Object.assign({},y),{response:e})),{status:!1}))}te("vxe.error.notFunc",["[grid] proxy-config.ajax.query"]);break}case"queryFooter":{const e=M.queryFooter,t=M.queryFooterSuccess,r=M.queryFooterError;if(e){let o=[];P&&(o=P.getCheckedFilters());const i={$table:P,$grid:Y,$gantt:null,code:L,button:$,filters:o,form:j,options:e};return Promise.resolve((k||e)(i,...n)).then(e=>(m.footerData=a().isArray(e)?e:[],S&&S(i,...n),t&&t(Object.assign(Object.assign({},i),{response:e})),{status:!0})).catch(e=>(r&&r(Object.assign(Object.assign({},i),{response:e})),{status:!1}))}te("vxe.error.notFunc",["[grid] proxy-config.ajax.queryFooter"]);break}case"delete":{const e=M.delete,t=M.deleteSuccess,r=M.deleteError;if(e){const i=Y.getCheckboxRecords(),a=i.filter(e=>!P.isInsertByRow(e)),l={removeRecords:a},s={$table:P,$grid:Y,$gantt:null,code:L,button:$,body:l,form:j,options:e};if(i.length)return re(L,"vxe.grid.deleteSelectRecord",()=>a.length?(m.tableLoading=!0,Promise.resolve((T||e)(s,...n)).then(e=>(m.tableLoading=!1,P.setPendingRow(a,!1),h&&o.OE.modal&&o.OE.modal.message({content:ne(e,"vxe.grid.delSuccess"),status:"success"}),E?E(s,...n):(g.uFoot=!0,Y.commitProxy("query"),g.uFoot=!1,_e()),t&&t(Object.assign(Object.assign({},s),{response:e})),{status:!0})).catch(e=>(m.tableLoading=!1,h&&o.OE.modal&&o.OE.modal.message({id:L,content:ne(e,"vxe.grid.operError"),status:"error"}),r&&r(Object.assign(Object.assign({},s),{response:e})),{status:!1}))):P.remove(i));f&&o.OE.modal&&o.OE.modal.message({id:L,content:Pi("vxe.grid.selectOneRecord"),status:"warning"})}else te("vxe.error.notFunc",["[grid] proxy-config.ajax.delete"]);break}case"save":{const e=M.save,t=M.saveSuccess,r=M.saveError;if(e){const i=P.getRecordset(),{insertRecords:a,removeRecords:l,updateRecords:s,pendingRecords:c}=i,p={$table:P,$grid:Y,$gantt:null,code:L,button:$,body:i,form:j,options:e};a.length&&(i.pendingRecords=c.filter(e=>-1===P.findRowIndexOf(a,e))),c.length&&(i.insertRecords=a.filter(e=>-1===P.findRowIndexOf(c,e)));let v=Promise.resolve();return u&&(v=P[d&&"full"===d.msgMode?"fullValidate":"validate"](i.insertRecords.concat(s))),v.then(a=>{if(!a)return i.insertRecords.length||l.length||s.length||i.pendingRecords.length?(m.tableLoading=!0,Promise.resolve((O||e)(p,...n)).then(e=>(m.tableLoading=!1,P.clearPendingRow(),h&&o.OE.modal&&o.OE.modal.message({content:ne(e,"vxe.grid.saveSuccess"),status:"success"}),D?D(p,...n):(g.uFoot=!0,Y.commitProxy("query"),g.uFoot=!1,_e()),t&&t(Object.assign(Object.assign({},p),{response:e})),{status:!0})).catch(e=>(m.tableLoading=!1,h&&o.OE.modal&&o.OE.modal.message({id:L,content:ne(e,"vxe.grid.operError"),status:"error"}),r&&r(Object.assign(Object.assign({},p),{response:e})),{status:!1}))):void(f&&o.OE.modal&&o.OE.modal.message({id:L,content:Pi("vxe.grid.dataUnchanged"),status:"info"}))})}te("vxe.error.notFunc",["[grid] proxy-config.ajax.save"]);break}default:{const e=ji.get(L);if(e){const t=e.tableCommandMethod||e.commandMethod;t?t({code:L,button:$,$grid:Y,$table:P,$gantt:null},...n):te("vxe.error.notCommands",[`[grid] ${L}`])}}}return(0,X.nextTick)()},getParams(){return e.params},zoom(){return m.isZMax?Y.revert():Y.maximize()},isMaximized(){return m.isZMax},maximize(){return me(!0)},revert(){return me()},getFormData:Z,getFormItems(t){const n=F.value,{formConfig:r}=e,{items:o}=n,i=[];return a().eachTree(r&&c(n)&&o?o:[],e=>{i.push(e)},{children:"children"}),a().isUndefined(t)?i:i[t]},resetForm(){const e=x.value;return e?e.reset():(0,X.nextTick)()},validateForm(){const e=x.value;return e?e.validate():(0,X.nextTick)()},validateFormField(e){const t=x.value;return t?t.validateField(e):(0,X.nextTick)()},clearFormValidate(e){const t=x.value;return t?t.clearValidate(e):(0,X.nextTick)()},homePage(){const{tablePage:e}=m;return e.currentPage=1,(0,X.nextTick)()},homePageByEvent(e){const t=w.value;t&&t.homePageByEvent(e)},endPage(){const{tablePage:e}=m,t=W.value;return e.currentPage=t,(0,X.nextTick)()},endPageByEvent(e){const t=w.value;t&&t.endPageByEvent(e)},getCurrentPage(){const{tablePage:e}=m;return e.currentPage},setCurrentPage(e){const{tablePage:t}=m,n=W.value;return t.currentPage=Math.min(n,Math.max(1,a().toNumber(e))),(0,X.nextTick)()},setCurrentPageByEvent(e,t){const n=w.value;n&&n.setCurrentPageByEvent(e,t)},getPageSize(){const{tablePage:e}=m;return e.pageSize},setPageSize(e){const{tablePage:t}=m;return t.pageSize=Math.max(1,a().toNumber(e)),(0,X.nextTick)()},setPageSizeByEvent(e,t){const n=w.value;n&&n.setPageSizeByEvent(e,t)},getProxyInfo(){const t=b.value;if(e.proxyConfig){const{sortData:e}=m;return{data:t?t.getFullData():[],filter:m.filterData,form:Z(),sort:e.length?e[0]:{},sorts:e,pager:m.tablePage,pendingRecords:t?t.getPendingRecords():[]}}return null}},Le={extendTableMethods:D,callSlot(e,t){return e&&(a().isString(e)&&(e=r[e]||null),a().isFunction(e))?St(e(t)):[]},getExcludeHeight(){const{height:t}=e,{isZMax:n}=m,r=v.value;if(r){const e=k.value,o=S.value,i=T.value,a=E.value,l=O.value,s=r.parentElement;let c=0;return!s||"100%"!==t&&"auto"!==t||(c=n?0:Ce(s)),c+Ce(r)+we(e)+we(o)+we(i)+we(a)+we(l)}return 0},getParentHeight(){const e=v.value;if(e){const t=e.parentElement;return(m.isZMax?ye().visibleHeight:t?a().toNumber(getComputedStyle(t).height):0)-Le.getExcludeHeight()}return 0},triggerToolbarCommitEvent(e,t){const{code:n}=e;if(n){const r=["reload","delete","save"].includes(n);r&&(g.uFoot=!0);const o=Y.commitProxy(e,t).then(e=>{e&&e.status&&["query","reload","delete","save"].includes(n)&&Y.dispatchEvent("delete"===n||"save"===n?`proxy-${n}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===n}),t)});return g.uFoot=!1,r&&_e(),o}return(0,X.nextTick)()},triggerToolbarBtnEvent(e,t){Y.triggerToolbarCommitEvent(e,t),Y.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){Y.triggerToolbarCommitEvent(e,t),Y.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){Y.zoom(),Y.dispatchEvent("zoom",{type:m.isZMax?"max":"revert"},e)}};Object.assign(Y,M,$e,Le,{loadColumn(e){const t=b.value;return a().eachTree(e,e=>{e.slots&&a().each(e.slots,e=>{a().isFunction(e)||r[e]||te("vxe.error.notSlot",[`[grid] ${e}`])})}),t?t.loadColumn(e):(0,X.nextTick)()},reloadColumn(e){return Y.clearAll(),Y.loadColumn(e)}});const ze=()=>{const t=h.value,n=j.value,r=q.value;return(0,X.h)("div",{ref:v,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":m.isZMax,"is--loading":r}],style:n},Ie())},Ve=(0,X.ref)(0);return(0,X.watch)(()=>e.columns?e.columns.length:-1,()=>{Ve.value++}),(0,X.watch)(()=>e.columns,()=>{Ve.value++}),(0,X.watch)(Ve,()=>{(0,X.nextTick)(()=>Y.loadColumn(e.columns||[]))}),(0,X.watch)(()=>e.toolbarConfig,()=>{K()}),(0,X.watch)(V,()=>{J("currentPage")}),(0,X.watch)(B,()=>{J("pageSize")}),(0,X.watch)(H,()=>{J("total")}),(0,X.watch)(()=>e.proxyConfig,()=>{Fe()}),$i.forEach(e=>{const{setupGrid:t}=e;if(t){const e=t(Y);e&&a().isObject(e)&&Object.assign(Y,e)}}),J(),(0,X.onMounted)(()=>{(0,X.nextTick)(()=>{const{columns:t}=e,n=A.value;e.formConfig&&(s||te("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(u||te("vxe.error.reqComp",["vxe-pager"])),n.props&&ee("vxe.error.delProp",["[grid] proxy-config.props","proxy-config.response"]),t&&t.length&&Y.loadColumn(t),K(),Fe()}),Vi.on(Y,"keydown",Pe)}),(0,X.onUnmounted)(()=>{Vi.off(Y,"keydown"),a().assign(g,Ui())}),Y.renderVN=ze,(0,X.provide)("$xeGrid",Y),(0,X.provide)("$xeGantt",null),Y},render(){return this.renderVN()}});const Yi=Object.assign({},Gi,{install(e){e.component(Gi.name,Gi)}});o.OE.dynamicApp&&o.OE.dynamicApp.component(Gi.name,Gi),o.OE.component(Gi);const Ki=Yi;function Xi(e){const t=(0,X.computed)(()=>{const{renderParams:t}=e;return t.column}),n=(0,X.computed)(()=>{const{renderParams:t}=e;return t.row}),r=(0,X.computed)(()=>{const{renderOpts:t}=e;return t.props||{}}),o=(0,X.computed)({get(){const{renderParams:t}=e,{row:n,column:r}=t;return a().get(n,r.field)},set(t){const{renderParams:n}=e,{row:r,column:o}=n;return a().set(r,o.field,t)}});return{currColumn:t,currRow:n,cellModel:o,cellOptions:r}}const Zi=Object.assign({},Ti,{install(e){e.component(Ti.name,Ti)}}),Ji={useCellView:Xi};o.OE.dynamicApp&&o.OE.dynamicApp.component(Ti.name,Ti),o.OE.component(Ti),o.OE.tableHandle=Ji;const Qi=Zi;const ea=Object.assign({},Fi,{install(e){e.component(Fi.name,Fi)}});o.OE.dynamicApp&&o.OE.dynamicApp.component(Fi.name,Fi),o.OE.component(Fi);const ta=ea;var na={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）",menuLoading:"加载中..."},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中...",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！",dragTip:"移动：{0}"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},calendar:{yearLabel:"{0} 年",monthLabel:"{0} 月"},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},contextMenu:{loadingText:"加载中..."},gantt:{tFullFormat:{year:"{yyyy}年",quarter:"{yyyy}年第{q}季度",month:"{yyyy}年{MM}月",week:"{yyyy}年第{W}周",day:"{yyyy}年{MM}月 {E}",date:"{yyyy}年{MM}月{dd}日",hour:"{yyyy}年{MM}月{dd}日{HH}时",minute:"{yyyy}年{MM}月{dd}日{HH}时{mm}分",second:"{yyyy}年{MM}月{dd}日{HH}时{mm}分{ss}秒"},tSimpleFormat:{year:"{yyyy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{HH}",minute:"{mm}",second:"{ss}"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选",dateOption:"日期筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"显示行：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",isAfter:"在以下日期之后",eqAfter:"在以下日期之后或与之相同",isBefore:"在以下日期之前",eqBefore:"在以下日期之前或与之相同",top10:"前10项",aboveAverage:"高于平均值",belowAverage:"低于平均值",before:"之前",after:"之后",tomorrow:"明天",today:"今天",yesterday:"昨天",nextWeek:"下周",thisWeek:"本周",lastWeek:"上周",nextMonth:"下月",thisMonth:"本月",lastMonth:"上月",nextYear:"明年",thisYear:"今年",lastYear:"去年",yearToDate:"本年度截止到现在",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",top10:"前10项",aboveAverage:"高于平均值",belowAverage:"低于平均值",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选",dateOption:"日期筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"显示行：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}};const ra=[Ut,Kt,Yi,Zi,ea];function oa(e,t){o.OE.setConfig(t),ra.forEach(t=>t.install(e))}if(!o.OE.hasLanguage("zh-CN")){const e="zh-CN";o.OE.setI18n(e,na),o.OE.setLanguage(e)}o.OE.setTheme("light");var ia=r},2633:function(e){"use strict";e.exports=function(e,t){var n="function"==typeof Iterator&&Iterator.prototype[e];if(n)try{n.call({next:null},t).next()}catch(r){return!0}}},2634:function(e,t,n){"use strict";var r=n(8286),o=n(8083);e.exports=function(e){return r(o(e))}},2635:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("every",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{every:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;return!i(t,function(t,r){if(!e(t,n++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2662:function(e,t,n){"use strict";var r=n(5924);e.exports="NODE"===r},2699:function(e,t,n){"use strict";var r=n(3040),o=n(1624),i=n(38),a=n(1600),l=n(9344),s=l||a||i;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+o(e))},delete:function(t){return!!e&&e["delete"](t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=s()),e.set(t,n)}};return t}},2735:function(e,t,n){"use strict";var r,o=n(3636),i=n(544),a=n(5788),l=n(3022),s=n(6540),c=n(3412),u=n(2094),d=">",p="<",f="prototype",h="script",m=u("IE_PROTO"),g=function(){},v=function(e){return p+h+d+e+p+"/"+h+d},b=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},x=function(){var e,t=c("iframe"),n="java"+h+":";return t.style.display="none",s.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},y=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&r?b(r):x():b(r);var e=a.length;while(e--)delete y[f][a[e]];return y()};l[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=o(e),n=new g,g[f]=null,n[m]=e):n=y(),void 0===t?n:i.f(n,t)}},2770:function(e,t,n){"use strict";var r=n(4944);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},2774:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,r=Math.max,o="[object Function]",i=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},a=function(e,t){for(var n=[],r=t||0,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n},l=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var s=this;if("function"!==typeof s||n.apply(s)!==o)throw new TypeError(t+s);for(var c,u=a(arguments,1),d=function(){if(this instanceof c){var t=s.apply(this,i(u,arguments));return Object(t)===t?t:this}return s.apply(e,i(u,arguments))},p=r(0,s.length-u.length),f=[],h=0;h<p;h++)f[h]="$"+h;if(c=Function("binder","return function ("+l(f,",")+"){ return binder.apply(this,arguments); }")(d),s.prototype){var m=function(){};m.prototype=s.prototype,c.prototype=new m,m.prototype=null}return c}},2815:function(e){"use strict";e.exports="undefined"!==typeof Reflect&&Reflect.getPrototypeOf||null},2846:function(e,t,n){"use strict";var r=n(3342),o=n(3636),i=n(227);e.exports=function(e,t,n){var a,l;o(e);try{if(a=i(e,"return"),!a){if("throw"===t)throw n;return n}a=r(a,e)}catch(s){l=!0,a=s}if("throw"===t)throw n;if(l)throw a;return o(a),n}},2925:function(e,t,n){"use strict";var r=n(6031),o=n(5336),i=n(4407),a=n(9441),l=!a("intersection",function(e){return 2===e.size&&e.has(1)&&e.has(2)})||o(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))});r({target:"Set",proto:!0,real:!0,forced:l},{intersection:i})},2940:function(e,t,n){"use strict";var r=n(9812);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},3022:function(e){"use strict";e.exports={}},3040:function(e){"use strict";e.exports=TypeError},3148:function(e,t,n){"use strict";var r=n(8115),o=n(5336),i=n(3412);e.exports=!r&&!o(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},3199:function(e,t,n){"use strict";n.d(t,{un:function(){return C},lM:function(){return o},OE:function(){return Ee},ps:function(){return Te},Ns:function(){return de},Pi:function(){return ie},s9:function(){return ke},kI:function(){return r},lh:function(){return M},Fx:function(){return re},QQ:function(){return we},zj:function(){return h},TO:function(){return V},sW:function(){return x},Z0:function(){return q},OW:function(){return v},O4:function(){return p},Nh:function(){return A},yD:function(){return j},J3:function(){return m},PH:function(){return pe},IS:function(){return Ce},Lh:function(){return W},JL:function(){return he},GY:function(){return le},Rm:function(){return Y},T_:function(){return te},EK:function(){return fe},nQ:function(){return w},C1:function(){return Se},PO:function(){return y},Uk:function(){return X},Nk:function(){return f},Vx:function(){return H},fg:function(){return b},xC:function(){return B},Yl:function(){return d},Yx:function(){return xe},nb:function(){return ve},JT:function(){return ge},XX:function(){return me},y$:function(){return Q}});const r="4.3.1",o={coreVersion:r,uiVersion:"",tableVersion:"",designVersion:"",ganttVersion:""};var i=n(4061),a=n(1845),l=n.n(a),s=n(3333);const c={size:"",version:1,zIndex:999,resizeInterval:500},u={theme:""};function d(e){const t=e&&"default"!==e?e:"light";if(u.theme=t,"undefined"!==typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}return o}function p(){return u.theme}function f(e){return e&&(e.zIndex&&s.Ay.setCurrent(e.zIndex),e.theme&&d(e.theme),l().merge(c,e)),o}function h(e,t){return arguments.length?l().get(c,e,t):c}const m={},g={};function v(e){return l().isArray(e)?e:e?[e]:[]}function b(e){return e&&Object.assign(g,e),o}function x(e){return arguments.length?l().get(g,e):g}function y(e){const t=x(e);return w(t,e)}function w(e,t){return l().isFunction(e)?(0,i.h)("span",{},v(e({name:t}))):(0,i.h)("i",{class:e})}const C={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},k=l().browse(),S={" ":"Spacebar",Apps:C.CONTEXT_MENU,Del:C.DELETE,Up:C.ARROW_UP,Down:C.ARROW_DOWN,Left:C.ARROW_LEFT,Right:C.ARROW_RIGHT},T=k.firefox?"DOMMouseScroll":"mousewheel",E=[];function O(e){const t=e.type===T;E.forEach(({type:n,cb:r})=>{e.cancelBubble||(n===e.type||t&&"mousewheel"===n)&&r(e)})}class D{constructor(e,t,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=e,e&&(e.type&&(this.type=e.type),e.key&&(this.key=e.key),e.code&&(this.code=e.code)),Object.assign(this,t),l().objectEach(n,(e,t)=>{if(l().isFunction(e)){let n=null,r=!1;Object.defineProperty(this,t,{get(){return r||(r=!0,n=e()),n}})}else this[t]=e})}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}const M=(e,t,n)=>(e instanceof D&&(e=e.$event),new D(e,t,n)),A={on(e,t,n){E.push({comp:e,type:t,cb:n})},off(e,t){l().remove(E,n=>n.comp===e&&n.type===t)},hasKey(e,t){const{key:n}=e;return t=t.toLowerCase(),!!n&&(t===n.toLowerCase()||!(!S[n]||S[n].toLowerCase()!==t))}};let I;k.isDoc&&(k.msie||(window.addEventListener("copy",O,!1),window.addEventListener("cut",O,!1),window.addEventListener("paste",O,!1)),document.addEventListener("keydown",O,!1),document.addEventListener("contextmenu",O,!1),window.addEventListener("mousedown",O,!1),window.addEventListener("blur",O,!1),window.addEventListener("resize",O,!1),window.addEventListener(T,l().throttle(O,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const N=[],R=500;function F(){N.length&&(N.forEach(e=>{e.tarList.forEach(t=>{const{target:n,width:r,heighe:o}=t,i=n.clientWidth,a=n.clientHeight,l=i&&r!==i,s=a&&o!==a;(l||s)&&(t.width=i,t.heighe=a,setTimeout(e.callback))})}),_())}function _(){clearTimeout(I),I=setTimeout(F,c.resizeInterval||R)}class P{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some(t=>t.target===e)||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),N.length||_(),N.some(e=>e===this)||N.push(this)}}unobserve(e){l().remove(N,t=>t.tarList.some(t=>t.target===e))}disconnect(){l().remove(N,e=>e===this)}}const j={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new P(e)}},$=(0,i.reactive)({language:"",langMaps:{}});let L=!1,z={};function V(e,t){const{langMaps:n,language:r}=$,{i18n:i}=c;if(i)return`${i(e,t)||""}`;if(L||(n[r]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${o.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),L=!0),!t&&z[e])return z[e];const a=l().toFormatString(l().get(n[r],e,e),t);return t||(z[e]=a),a}function B(e){const{language:t}=$,n=e||"zh-CN";return t!==n&&($.language=n,z={}),o}function H(e,t){return $.langMaps[e]=Object.assign({},t),o}function W(e){const{langMaps:t}=$;return!!t[e]}function q(){const{language:e}=$;return e}function U(e,t){return function(n,r){const o=`[vxe ${t||""}] ${V(n,r)}`;return console[e](o),o}}const G="4.3.1",Y={create:U,warn:U("warn",`v${G}`),err:U("error",`v${G}`)},K={},X={mixin(e){return l().each(e,(e,t)=>X.add(t,e)),X},get(e){return K[e]||null},add(e,t){if(e&&t){const n=K[e];n?(l().each(t,(t,r)=>{l().eqNull(n[r])||n[r]===t||Y.warn("vxe.error.coverProp",[`Renderer.${e}`,r])}),Object.assign(n,t)):K[e]=t}return X},forEach(e){return l().objectEach(K,e),X},delete(e){return delete K[e],X}};class Z{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e],r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}var J=Z;const Q=new J;Object.assign(Q,{_name:"Validators"});class ee{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];l().isFunction(t)&&(Y.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),t={menuMethod:t});const r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}const te=new ee;Object.assign(te,{_name:"Menus"});class ne{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];l().isFunction(t)&&(Y.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),t={cellFormatMethod:t});const r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}const re=new ne;Object.assign(re,{_name:"Formats"});class oe{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return l().each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];l().isFunction(t)&&(Y.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),t={commandMethod:t});const r=l().keys(n);return l().each(t,(t,n)=>{r.includes(n)&&Y.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?l().merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){l().objectEach(this.store,e)}}const ie=new oe;Object.assign(ie,{_name:"Commands"});const ae={},le={mixin(e){return l().each(e,(e,t)=>{le.add(t,e)}),le},get(e){return e&&ae[e]||[]},add(e,t){l().isFunction(t)&&(t={tableInterceptorMethod:t});const n=t.tableInterceptorMethod;if(n){let t=ae[e];t||(t=ae[e]=[]),t.indexOf(n)>-1&&Y.warn("vxe.error.coverProp",["Interceptor",e]),t.push(n)}return le},delete(e,t){const n=ae[e];if(n){l().isFunction(t)&&(t={tableInterceptorMethod:t});const r=t?t.tableInterceptorMethod:null;r?l().remove(n,e=>e===r):delete ae[e]}}};let se;const ce={text:"",html:""};function ue(e){if(!se){se=document.createElement("textarea"),se.id="$VxeCopy";const e=se.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(se)}se.value=e}const de={getStore(){return ce},setStore(e){Object.assign(ce,e||{})},copy(e){let t=!1;try{const n=l().toValueString(e);ue(n),se.select(),se.setSelectionRange(0,se.value.length),t=document.execCommand("copy"),se.blur(),ce.text=n,ce.html=""}catch(n){}return t},getText(){return ce.text||""}};function pe(e,t){let n=!0,r=!1;const o=t||c.permissionMethod;if(e&&o){n=!1,r=!0;let t=!1,i=!1;const a=String(e).split("|");for(let e=0;e<a.length;e++){const s=a[e];let c=!0,u=!1;const d=o({code:s});if(l().isBoolean(d)?c=d:d&&(c=!!d.visible,u=!!d.disabled),u||i||(i=!0,r=u),c&&!t&&(t=!0,n=c),t&&i)break}}const i={code:e,visible:n,disabled:r};return i}const fe={getCheckInfo(e){return pe(e)},checkVisible(e){const t=pe(e);return t.visible},checkDisable(e){const t=pe(e);return t.disabled}},he=new J;function me(e){const t=(0,i.inject)("xeSizeInfo",null),n=(0,i.computed)(()=>e.size||(t?t.value:null));return(0,i.provide)("xeSizeInfo",n),{computeSize:n}}function ge(e){const t=(0,i.computed)(()=>pe(e.permissionCode,e.permissionMethod));return{computePermissionInfo:t}}const ve={useSize:me,usePermission:ge},be=[];function xe(e,t){return e&&e.install&&-1===be.indexOf(e)&&(e.install(Ee,t),be.push(e)),Ee}const ye={};function we(e){return ye[e]||null}function Ce(e){return!!ye[e]}function ke(e){e&&e.name&&(ye[e.name]=e,ye[l().kebabCase(e.name)]=e)}function Se(){return(0,i.createCommentVNode)()}function Te(e,t,n){if(e){const r=`${e}`.match(/(\d+).(\d+).(\d+)/);if(r){const e=l().toNumber(r[1]);if(n){const o=l().toNumber(r[2]);return e>=t&&o>=n}return e>=t}}return!1}const Ee=Object.assign(o,{renderEmptyElement:Se,setTheme:d,getTheme:p,setConfig:f,getConfig:h,setIcon:b,getIcon:x,renderGlobalIcon:y,renderCustomIcon:w,setLanguage:B,hasLanguage:W,getLanguage:q,setI18n:H,getI18n:V,globalEvents:A,GLOBAL_EVENT_KEYS:C,createEvent:M,globalResize:j,renderer:X,validators:Q,menus:te,formats:re,commands:ie,interceptor:le,clipboard:de,log:Y,permission:fe,globalStore:m,hooks:he,component:ke,getComponent:we,hasComponent:Ce,useFns:ve,getSlotVNs:v,checkVersion:Te,use:xe});d()},3275:function(e){"use strict";e.exports=ReferenceError},3333:function(e,t,n){"use strict";var r=null,o=null,i=null,a="z-index-manage",l=null,s="z-index-style",c="m",u="s",d={m:1e3,s:1e3};function p(){return r||"undefined"!==typeof document&&(r=document),r}function f(){return r&&!o&&(o=r.body||r.getElementsByTagName("body")[0]),o}function h(){var e=0,t=p();if(t){var n=f();if(n)for(var r=n.getElementsByTagName("*"),o=0;o<r.length;o++){var i=r[o];if(i&&i.style&&1===i.nodeType){var a=i.style.zIndex;a&&/^\d+$/.test(a)&&(e=Math.max(e,Number(a)))}}}return e}function m(){if(!l){var e=p();e&&(l=e.getElementById(s),l||(l=e.createElement("style"),l.id=s,e.getElementsByTagName("head")[0].appendChild(l)))}return l}function g(){var e=m();if(e){var t="--dom-",n="-z-index";e.innerHTML=":root{"+t+"main"+n+":"+w()+";"+t+"sub"+n+":"+T()+"}"}}function v(){if(!i){var e=p();if(e&&(i=e.getElementById(a),!i)){var t=f();t&&(i=e.createElement("div"),i.id=a,i.style.display="none",t.appendChild(i),x(d.m),k(d.s))}}return i}function b(e){return function(t){if(t){t=Number(t),d[e]=t;var n=v();n&&(n.dataset?n.dataset[e]=t+"":n.setAttribute("data-"+e,t+""))}return g(),d[e]}}var x=b(c);function y(e,t){return function(n){var r,o=v();if(o){var i=o.dataset?o.dataset[e]:o.getAttribute("data-"+e);i&&(r=Number(i))}return r||(r=d[e]),n?Number(n)<r?t():n:r}}var w=y(c,C);function C(){return x(w()+1)}var k=b(u),S=y(u,E);function T(){return w()+S()}function E(){return k(S()+1),T()}var O={setCurrent:x,getCurrent:w,getNext:C,setSubCurrent:k,getSubCurrent:T,getSubNext:E,getMax:h};g(),t.Ay=O},3342:function(e,t,n){"use strict";var r=n(5573),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},3359:function(e,t,n){"use strict";var r=n(4875),o=n(4422),i=n(5543),a=r.DataView;e.exports=function(e){if(!o||0!==i(e))return!1;try{return new a(e),!1}catch(t){return!0}}},3412:function(e,t,n){"use strict";var r=n(4875),o=n(9241),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},3435:function(e){"use strict";e.exports=Math.abs},3515:function(e,t,n){"use strict";var r=n(9283),o=n(8965).add,i=n(2341),a=n(2368),l=n(306);e.exports=function(e){var t=r(this),n=a(e).getIterator(),s=i(t);return l(n,function(e){o(s,e)}),s}},3560:function(e,t,n){"use strict";var r=n(8115),o=n(3148),i=n(4849),a=n(3636),l=n(2370),s=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?i?function(e,t,n){if(a(e),t=l(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=l(t),a(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},3561:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(588),a=n(5699),l=o.Uint8Array,s=!l||!l.prototype.setFromBase64||!function(){var e=new l([255,255,255,255,255]);try{return void e.setFromBase64("",null)}catch(t){}try{return void e.setFromBase64("a")}catch(t){}try{e.setFromBase64("MjYyZg===")}catch(t){return 50===e[0]&&54===e[1]&&50===e[2]&&255===e[3]&&255===e[4]}}();l&&r({target:"Uint8Array",proto:!0,forced:s},{setFromBase64:function(e){a(this);var t=i(e,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:t.read,written:t.written}}})},3599:function(e){"use strict";e.exports=Function.prototype.call},3636:function(e,t,n){"use strict";var r=n(9241),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not an object")}},3749:function(e){"use strict";e.exports=Math.max},3871:function(e,t,n){n(4645),n(4564),n(324),n(5765),n(4329),n(7578),n(9858),n(7875),n(2925),n(488),n(3981),n(4686),n(8869),n(393),function(t,r){e.exports=r(n(4061))}("undefined"!==typeof self&&self,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=108)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return v}),n.d(t,"p",function(){return b}),n.d(t,"q",function(){return x}),n.d(t,"r",function(){return y}),n.d(t,"s",function(){return w}),n.d(t,"t",function(){return C}),n.d(t,"u",function(){return k}),n.d(t,"v",function(){return S});var r="bold",o="clear",i="code",a="fullscreen",l="h1",s="h2",c="h3",u="h4",d="h5",p="h6",f="hr",h="image",m="italic",g="link",v="ol",b="quote",x="redo",y="strikethrough",w="sync-scroll",C="table",k="ul",S="undo"},function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u});var r=Object.prototype.toString,o=function(e){return"[object Object]"===r.call(e)};function i(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function a(e){for(var t={},n=0;n<e.length;n++)e[n]&&i(t,e[n]);return t}function l(e,t){t.keys().forEach(function(n){e[n]=t(n)})}var s="undefined"!==typeof window;function c(e){var t=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return t.test(e)}function u(e){var t,n,r=e.selected,o=e.InsertGetter,i=e.selectedGetter,a=void 0===i?function(e){return e}:i,l=e.ignoreEmptyLine,s=void 0===l||l;return r?(n=a(r),t=o(r,1),-1!==r.indexOf("\n")&&(t=r.split("\n").map(function(e,t){var n=!e;return s&&n?"":o(e,t+1).replace(a(null),"")}).join("\n"),n=t)):(t=o(null,1),n=a(r)),{insertContent:t,newSelected:n}}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r="data-v-md-line",o="data-v-md-heading",i="data-v-md-anchor"},function(e,t,n){"use strict";t["a"]={PREVIEW:"preview",EDITABLE:"editable",EDIT:"edit"}},function(e,t,n){"use strict";function r(e){var t=0;return e===window?t=e.pageYOffset:e&&(t=e.scrollTop),t}function o(e,t){e===window?window.scrollTo(window.pageYOffset,t):e&&(e.scrollTop=t)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(6),o=n(11),i=n.n(o),a={svg:[],altGlyph:[],altGlyphDef:[],altGlyphItem:[],animate:[],animateColor:[],animateMotion:[],animateTransform:[],circle:[],clipPath:[],"color-profile":[],cursor:[],"definition-src":[],defs:[],desc:[],ellipse:[],feBlend:[],feColorMatrix:[],feComponentTransfer:[],feComposite:[],feConvolveMatrix:[],feDiffuseLighting:[],feDisplacementMap:[],feDistantLight:[],feFlood:[],feFuncA:[],feFuncB:[],feFuncG:[],feFuncR:[],feGaussianBlur:[],feImage:[],feMerge:[],feMergeNode:[],feMorphology:[],feOffset:[],fePointLight:[],feSpecularLighting:[],feSpotLight:[],feTile:[],feTurbulence:[],filter:[],font:[],foreignObject:[],g:[],glyph:[],glyphRef:[],hkern:[],image:[],line:[],linearGradient:[],marker:[],mask:[],metadata:[],"missing-glyph":[],mpath:[],path:[],pattern:[],polygon:[],polyline:[],radialGradient:[],rect:[],set:[],stop:[],style:[],switch:[],symbol:[],text:[],textPath:[],title:[],tref:[],tspan:[],use:[],view:[],vkern:[]},l=["width","height","x","y","rx","ry","cx","cy","r","viewbox","points","fill","stroke","stroke-width","opacity","transform","d","text-anchor","font-family","font-size","font-weight","filter","href","xlink:href"],s={math:[],annotation:[],semantics:[],mtext:[],mn:[],mo:[],mi:[],mspace:[],mover:[],munder:[],munderover:[],msup:[],msub:[],msubsup:[],mfrac:[],mroot:[],msqrt:[],mtable:[],mtr:[],mtd:[],mlabeledtr:[],mrow:[],menclose:[],mstyle:[],mpadded:[],mphantom:[],mglyph:[]},c=["mathcolor","mathbackground","mathsize","mathvariant","mathfamily","mathweight","mathstyle","mathdisplay"],u=["style","align","class","id"],d=["data-"],p={input:["type"],ol:["reversed","start","type"],button:["type"],summary:[]},f={whiteList:Object(r["a"])({},i.a.getDefaultWhiteList(),p,a,s),onIgnoreTagAttr:function(e,t,n){if(a[e]&&l.includes(t)||s[e]&&c.includes(t)||u.some(function(e){return e===t})||d.some(function(e){return t.startsWith(e)}))return t+'="'+i.a.escapeAttrValue(n)+'"'}},h=new i.a.FilterXSS(f);h.extend=function(e){var t=h.options;Object.keys(e).forEach(function(n){if("whiteList"===n)Object.keys(e.whiteList).forEach(function(n){var r=e.whiteList[n],o=t.whiteList;o[n]?o[n]=[].concat(o[n],r):o[n]=r});else if("onIgnoreTagAttr"===n){var r=t[n];t[n]=function(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=r.call.apply(r,[this].concat(i)),s=(t=e[n]).call.apply(t,[this].concat(i));return l||s}}else t[n]=e[n]})};t["a"]=h},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(5);function o(e){var t,n=e.currentScrollTop,r=e.scrollToTop,o=e.scrollFn,i=e.percent,a=void 0===i?10:i,l=e.onScrollEnd,s=r>n?"down":"up",c=a/100*(r-n),u=function e(){n+=c,"down"===s&&n>=r||"up"===s&&n<=r?(o(r),window.cancelAnimationFrame(t),l&&window.requestAnimationFrame(l)):(o(n),window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}function i(e){var t=e.scrollTarget,n=e.scrollToTop,i=e.percent,a=void 0===i?10:i,l=e.onScrollEnd,s=Object(r["a"])(t);o({currentScrollTop:s,scrollToTop:n,scrollFn:function(e){return Object(r["b"])(t,e)},percent:a,onScrollEnd:l})}},function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"v-md-editor-preview",style:{tabSize:e.tabSize,"-moz-tab-size":e.tabSize,"-o-tab-size":e.tabSize},onClick:t[1]||(t[1]=function(){return e.handlePreviewClick.apply(e,arguments)})},[Object(r["createVNode"])("div",{class:[e.previewClass],innerHTML:e.html},null,10,["innerHTML"])],4)}var i=n(7),a=n(13),l=function(){function e(){this.lang=new a["a"]}var t=e.prototype;return t.defaultMarkdownLoader=function(e){return e},t.use=function(e,t){return"function"===typeof e?e(this,t):e.install(this,t),this},t.theme=function(e){this.themeConfig=e},t.extendMarkdown=function(e){if(!this.themeConfig)return console.error("Please use theme before using plugins");var t=this.themeConfig.markdownParser;e(t)},t.parse=function(e){var t,n=this.themeConfig.markdownParser,r=(null==n||null==(t=n.render)?void 0:t.bind(n))||this.defaultMarkdownLoader;return"function"===typeof r&&r!==this.defaultMarkdownLoader||console.error("Please configure your markdown parser"),r(e)},e}(),s=n(16),c={name:"v-md-preview",mixins:[s["a"]],props:{text:{type:String,default:""},theme:Object,beforeChange:Function},emits:["change"],data:function(){return{html:""}},watch:{text:function(){this.handleTextChange()},langConfig:function(){this.handleTextChange()}},computed:{vMdParser:function(){return this.$options.vMdParser},previewClass:function(){return this.vMdParser.themeConfig.previewClass},langConfig:function(){return this.vMdParser.lang.config}},created:function(){this.handleTextChange()},methods:{handleTextChange:function(){var e=this,t=function(t){e.html=i["a"].process(e.$options.vMdParser.parse(t)),e.$emit("change",t,e.html)};this.beforeChange?this.beforeChange(this.text,t):t(this.text)}}},u=new l;u.lang.config=Object(r["reactive"])(u.lang.config),c.vMdParser=new l;var d=c;d.render=o;var p=d,f=(n(18),"2.3.18"),h=function(e){e.component(p.name,p)};p.version=f,p.install=h,p.xss=i["a"],p.use=function(e,t){return"function"===typeof e?e(p,t):e.install(p,t),p};t["default"]=p},function(e,t,n){e.exports=n(37)},function(e,t,n){var r=n(19),o=n(22),i=n(26);function a(e,t){var n=new i(t);return n.process(e)}for(var l in t=e.exports=a,t.filterXSS=a,t.FilterXSS=i,r)t[l]=r[l];for(var l in o)t[l]=o[l];function s(){return"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}"undefined"!==typeof window&&(window.filterXSS=e.exports),s()&&(self.filterXSS=e.exports)},function(e,t,n){"use strict";function r(e,t){var n=t.accept,r=Object.keys(e).filter(function(t){var r=e[t],o=r.type,i=r.name,a=i.indexOf(".")>-1?"."+i.split(".").pop():"",l=o.replace(/\/.*$/,"");return n.split(",").map(function(e){return e.trim()}).filter(function(e){return e}).some(function(e){return/\..+$/.test(e)?a===e:/\/\*$/.test(e)?l===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&o===e})});return r.map(function(t){return e[t]})}function o(e){var t=[];return Object.keys(e.items).forEach(function(n){var r=e.items[n];if("file"===r.kind){var o=r.getAsFile();o&&t.push(o)}}),t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(2),o=Object.prototype.hasOwnProperty;function i(e,t,n){var i=t[n];void 0!==i&&null!==i&&(o.call(e,n)&&Object(r["f"])(i)?e[n]=a(Object(e[n]),t[n]):e[n]=i)}function a(e,t){return Object.keys(t).forEach(function(n){i(e,t,n)}),e}var l=function(){function e(e){void 0===e&&(e={}),this.config={lang:"zh-CN",langConfig:{"zh-CN":{}}},this.options=e}var t=e.prototype;return t.use=function(e,t){var n;this.config.lang=e,this.add((n={},n[e]=t,n)),this.options.afterUse&&this.options.afterUse(e,t)},t.add=function(e){void 0===e&&(e={}),a(this.config.langConfig,e)},e}()},function(e,t,n){var r=n(20),o=n(24);function i(e,t){var n=new o(t);return n.process(e)}for(var a in t=e.exports=i,t.FilterCSS=o,r)t[a]=r[a];"undefined"!==typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}}},function(e,t,n){"use strict";var r=n(5),o=n(8),i=n(3);t["a"]={props:{tabSize:{type:Number,default:2},scrollContainer:{type:Function,default:function(){return window}},top:{type:Number,default:0}},emits:["image-click"],methods:{handlePreviewClick:function(e){var t=e.target;if("IMG"!==t.tagName){var n=t.getAttribute(i["a"]),r=this.$el.querySelector("["+i["b"]+'="'+n+'"]');r&&this.scrollToTarget({target:r})}else{var o=t.getAttribute("src");if(!o)return;var a=Array.from(this.$el.querySelectorAll("img")),l=a.map(function(e){return e.getAttribute("src")}).filter(function(e){return e}),s=a.indexOf(t);this.$emit("image-click",l,s)}},getOffsetTop:function(e,t){var n=e.getBoundingClientRect();return t===window||t===document.documentElement?n.top:n.top-t.getBoundingClientRect().top},scrollToTarget:function(e){var t=e.target,n=e.scrollContainer,i=void 0===n?this.scrollContainer():n,a=e.top,l=void 0===a?this.top:a,s=e.onScrollEnd,c=this.getOffsetTop(t,i),u=Object(r["a"])(i)+c-l;Object(o["a"])({scrollTarget:i,scrollToTop:u,onScrollEnd:s})},scrollToLine:function(e){var t=e.lineIndex,n=e.onScrollEnd;if(t){var r=this.$el.querySelector("["+i["c"]+'="'+t+'"]');r&&this.scrollToTarget({target:r,onScrollEnd:n})}}}}},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function l(e){r(a,o,i,l,s,"next",e)}function s(e){r(a,o,i,l,s,"throw",e)}l(void 0)})}}n.d(t,"a",function(){return o})},function(e,t,n){},function(e,t,n){var r=n(14).FilterCSS,o=n(14).getDefaultWhiteList,i=n(15);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var l=new r;function s(e,t,n){}function c(e,t,n){}function u(e,t,n){}function d(e,t,n){}function p(e){return e.replace(h,"&lt;").replace(m,"&gt;")}function f(e,t,n,r){if(n=M(n),"href"===t||"src"===t){if(n=i.trim(n),"#"===n)return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(w.lastIndex=0,w.test(n))return""}else if("style"===t){if(C.lastIndex=0,C.test(n))return"";if(k.lastIndex=0,k.test(n)&&(w.lastIndex=0,w.test(n)))return"";!1!==r&&(r=r||l,n=r.process(n))}return n=A(n),n}var h=/</g,m=/>/g,g=/"/g,v=/&quot;/g,b=/&#([a-zA-Z0-9]*);?/gim,x=/&colon;?/gim,y=/&newline;?/gim,w=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,C=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,k=/u\s*r\s*l\s*\(.*/gi;function S(e){return e.replace(g,"&quot;")}function T(e){return e.replace(v,'"')}function E(e){return e.replace(b,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function O(e){return e.replace(x,":").replace(y," ")}function D(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function M(e){return e=T(e),e=E(e),e=O(e),e=D(e),e}function A(e){return e=S(e),e=p(e),e}function I(){return""}function N(e,t){"function"!==typeof t&&(t=function(){});var n=!Array.isArray(e);function r(t){return!!n||-1!==i.indexOf(e,t)}var o=[],a=!1;return{onIgnoreTag:function(e,n,i){if(r(e)){if(i.isClosing){var l="[/removed]",s=i.position+l.length;return o.push([!1!==a?a:i.position,s]),a=!1,l}return a||(a=i.position),"[removed]"}return t(e,n,i)},remove:function(e){var t="",n=0;return i.forEach(o,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n),t}}}function R(e){return e.replace(F,"")}var F=/<!--[\s\S]*?-->/g;function _(e){var t=e.split("");return t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}),t.join("")}t.whiteList=a(),t.getDefaultWhiteList=a,t.onTag=s,t.onIgnoreTag=c,t.onTagAttr=u,t.onIgnoreTagAttr=d,t.safeAttrValue=f,t.escapeHtml=p,t.escapeQuote=S,t.unescapeQuote=T,t.escapeHtmlEntities=E,t.escapeDangerHtml5Entities=O,t.clearNonPrintableCharacter=D,t.friendlyAttrValue=M,t.escapeAttrValue=A,t.onIgnoreTagStripAll=I,t.StripTagBody=N,t.stripCommentTag=R,t.stripBlankChar=_,t.cssFilter=l,t.getDefaultCSSWhiteList=o},function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function r(e,t,n){}function o(e,t,n){}var i=/javascript\s*\:/gim;function a(e,t){return i.test(t)?"":t}t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=r,t.onIgnoreAttr=o,t.safeAttrValue=a},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,n){var r=n(15);function o(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return n=r.trim(n).toLowerCase(),"/"===n.slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}function a(e,t,n){"use strict";var r="",a=0,l=!1,s=!1,c=0,u=e.length,d="",p="";e:for(c=0;c<u;c++){var f=e.charAt(c);if(!1===l){if("<"===f){l=c;continue}}else if(!1===s){if("<"===f){r+=n(e.slice(a,c)),l=c,a=c;continue}if(">"===f){r+=n(e.slice(a,l)),p=e.slice(l,c+1),d=o(p),r+=t(l,r.length,d,p,i(p)),a=c+1,l=!1;continue}if('"'===f||"'"===f){var h=1,m=e.charAt(c-h);while(""===m.trim()||"="===m){if("="===m){s=f;continue e}m=e.charAt(c-++h)}}}else if(f===s){s=!1;continue}}return a<e.length&&(r+=n(e.substr(a))),r}var l=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){"use strict";var n=0,o=[],i=!1,a=e.length;function s(e,n){if(e=r.trim(e),e=e.replace(l,"").toLowerCase(),!(e.length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var d=0;d<a;d++){var f,h,m=e.charAt(d);if(!1!==i||"="!==m)if(!1===i||d!==n||'"'!==m&&"'"!==m||"="!==e.charAt(d-1))if(/\s|\n|\t/.test(m)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(h=c(e,d),-1===h){f=r.trim(e.slice(n,d)),s(f),i=!1,n=d+1;continue}d=h-1;continue}if(h=u(e,d-1),-1===h){f=r.trim(e.slice(n,d)),f=p(f),s(i,f),i=!1,n=d+1;continue}}else;else{if(h=e.indexOf(m,d+1),-1===h)break;f=r.trim(e.slice(n+1,h)),s(i,f),i=!1,d=h,n=d+1}else i=e.slice(n,d),n=d+1}return n<e.length&&(!1===i?s(e.slice(n)):s(i,p(r.trim(e.slice(n))))),r.trim(o.join(" "))}function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function d(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function p(e){return d(e)?e.substr(1,e.length-2):e}t.parseTag=a,t.parseAttr=s},function(e,t,n){"use strict";n.r(t);var r=n(10),o=n.n(r),i=n(17),a=n(1),l=n(12);t["default"]={name:a["l"],icon:"v-md-icon-img",title:function(e){return e.langConfig.image.toolbar},menus:[{name:"image-link",text:function(e){return e.langConfig.imageLink.toolbar},action:function(e,t){null!=t&&t.insertWithSize?e.execCommand(a["l"],{width:"auto",height:"auto"}):e.execCommand(a["l"])}},{name:"upload-image",text:function(e){return e.langConfig.uploadImage.toolbar},action:function(e){e.uploadConfig=e.uploadImgConfig,e.$nextTick(Object(i["a"])(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.uploadFile.upload();case 2:n=t.sent,r=Object(l["a"])(n.target.files,e.uploadImgConfig),e.emitUploadImage(n,r);case 5:case"end":return t.stop()}},t)})))}}]}},function(e,t,n){var r=n(20),o=n(25);n(21);function i(e){return void 0===e||null===e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function l(e){e=a(e||{}),e.whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}l.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,a=n.onAttr,l=n.onIgnoreAttr,s=n.safeAttrValue,c=o(e,function(e,t,n,o,c){var u=r[n],d=!1;if(!0===u?d=u:"function"===typeof u?d=u(o):u instanceof RegExp&&(d=u.test(o)),!0!==d&&(d=!1),o=s(n,o),o){var p={position:t,sourcePosition:e,source:c,isWhite:d};if(d){var f=a(n,o,p);return i(f)?n+":"+o:f}f=l(n,o,p);return i(f)?void 0:f}});return c},e.exports=l},function(e,t,n){var r=n(21);function o(e,t){e=r.trimRight(e),";"!==e[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,a=0,l="";function s(){if(!o){var n=r.trim(e.slice(i,a)),s=n.indexOf(":");if(-1!==s){var c=r.trim(n.slice(0,s)),u=r.trim(n.slice(s+1));if(c){var d=t(i,l.length,c,u,n);d&&(l+=d+"; ")}}}i=a+1}for(;a<n;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;a=u+1,i=a+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||s():"\n"===c&&s()}return r.trim(l)}e.exports=o},function(e,t,n){var r=n(14).FilterCSS,o=n(19),i=n(22),a=i.parseTag,l=i.parseAttr,s=n(15);function c(e){return void 0===e||null===e}function u(e){var t=s.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};e=s.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=s.trim(e.slice(0,-1))),{html:e,closing:n}}function d(e){var t={};for(var n in e)t[n]=e[n];return t}function p(e){e=d(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}p.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,r=n.whiteList,i=n.onTag,d=n.onIgnoreTag,p=n.onTagAttr,f=n.onIgnoreTagAttr,h=n.safeAttrValue,m=n.escapeHtml,g=t.cssFilter;n.stripBlankChar&&(e=o.stripBlankChar(e)),n.allowCommentTag||(e=o.stripCommentTag(e));var v=!1;if(n.stripIgnoreTagBody){v=o.StripTagBody(n.stripIgnoreTagBody,d);d=v.onIgnoreTag}var b=a(e,function(e,t,n,o,a){var v={sourcePosition:e,position:t,isClosing:a,isWhite:r.hasOwnProperty(n)},b=i(n,o,v);if(!c(b))return b;if(v.isWhite){if(v.isClosing)return"</"+n+">";var x=u(o),y=r[n],w=l(x.html,function(e,t){var r=-1!==s.indexOf(y,e),o=p(n,e,t,r);if(!c(o))return o;if(r)return t=h(n,e,t,g),t?e+'="'+t+'"':e;o=f(n,e,t,r);return c(o)?void 0:o});o="<"+n;return w&&(o+=" "+w),x.closing&&(o+=" /"),o+=">",o}b=d(n,o,v);return c(b)?m(o):b},m);return v&&(b=v.remove(b)),b},e.exports=p},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),i=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),a=2;function l(e,t){var n=!1,r=!1,o=0;function l(){n&&(n=!1,e()),r&&c()}function s(){i(l)}function c(){var e=Date.now();if(n){if(e-o<a)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return c}var s=20,c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,d=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=l(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=c.some(function(e){return!!~n.indexOf(e)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||o},h=S(0,0,0,0);function m(e){return parseFloat(e)||0}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){var r=e["border-"+n+"-width"];return t+m(r)},0)}function v(e){for(var t=["top","right","bottom","left"],n={},r=0,o=t;r<o.length;r++){var i=o[r],a=e["padding-"+i];n[i]=m(a)}return n}function b(e){var t=e.getBBox();return S(0,0,t.width,t.height)}function x(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),o=v(r),i=o.left+o.right,a=o.top+o.bottom,l=m(r.width),s=m(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=g(r,"left","right")+i),Math.round(s+a)!==n&&(s-=g(r,"top","bottom")+a)),!w(e)){var c=Math.round(l+i)-t,u=Math.round(s+a)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(u)&&(s-=u)}return S(o.left,o.top,l,s)}var y=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox}}();function w(e){return e===f(e).document.documentElement}function C(e){return r?y(e)?b(e):x(e):h}function k(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return p(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}function S(e,t,n,r){return{x:e,y:t,width:n,height:r}}var T=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=C(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),E=function(){function e(e,t){var n=k(t);p(this,{target:e,contentRect:n})}return e}(),O=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new T(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new E(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),D="undefined"!==typeof WeakMap?new WeakMap:new n,M=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=d.getInstance(),r=new O(t,n,this);D.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){M.prototype[e]=function(){var t;return(t=D.get(this))[e].apply(t,arguments)}});var A=function(){return"undefined"!==typeof o.ResizeObserver?o.ResizeObserver:M}();t["a"]=A}).call(this,n(86))},function(e,t,n){"use strict";n.d(t,"a",function(){return Ze});var r=n(13),o={undo:{toolbar:"撤销"},redo:{toolbar:"重做"},clear:{toolbar:"清空"},h:{toolbar:"标题"},h1:{toolbar:"一级标题",placeholder:"一级标题"},h2:{toolbar:"二级标题",placeholder:"二级标题"},h3:{toolbar:"三级标题",placeholder:"三级标题"},h4:{toolbar:"四级标题",placeholder:"四级标题"},h5:{toolbar:"五级标题",placeholder:"五级标题"},h6:{toolbar:"六级标题",placeholder:"六级标题"},bold:{toolbar:"粗体",placeholder:"粗体"},italic:{toolbar:"斜体",placeholder:"斜体"},strikethrough:{toolbar:"删除线",placeholder:"删除线"},quote:{toolbar:"插入引用",placeholder:"引用"},ul:{toolbar:"无序列表",placeholder:"无序列表"},ol:{toolbar:"有序列表",placeholder:"有序列表"},table:{toolbar:"表格"},hr:{toolbar:"插入分割线"},link:{toolbar:"插入链接",descPlaceholder:"链接"},image:{toolbar:"插入图片"},imageLink:{toolbar:"添加图片链接"},uploadImage:{toolbar:"上传本地图片"},code:{toolbar:"插入代码块"},save:{toolbar:"保存"},preview:{enabled:"开启预览",disabled:"关闭预览"},toc:{title:"目录导航",enabled:"开启目录导航",disabled:"关闭目录导航"},syncScroll:{enabled:"开启同步滚动",disabled:"关闭同步滚动"},fullscreen:{enabled:"全屏（按ESC还原）",disabled:"退出全屏"}},i=n(0),a=n(2),l={};function s(e,t,n){t?e[t]?console.error("The command name is already in use: "+t):e[t]=n:console.error("Command name is required")}function c(e){e.commands={},e.command=function(t,n){s(e.commands,t,n)},Object.keys(l).forEach(function(t){var n=l[t],r=n.name,o=n.default;e.command(r,o)})}Object(a["c"])(l,n(38));var u=n(6),d={};function p(e,t,n){t?e[t]=Object(u["a"])({},n):console.error("Toolbar name is required")}function f(e){e.toolbars={},e.toolbar=function(t,n){p(e.toolbars,t,n)},Object.keys(d).forEach(function(t){var n=d[t],r=n.default;e.toolbar(r.name,r)})}Object(a["c"])(d,n(61));n(81);var h=n(9),m={class:"v-md-editor__left-area-body"},g={class:"v-md-editor__right-area"},v={class:"v-md-editor__toolbar",ref:"toolbarWrapper"},b={class:"v-md-editor__toolbar-left-wrapper"},x={class:"v-md-editor__toolbar-right-wrapper"},y={class:"v-md-editor__main"},w={class:"v-md-editor__preview-wrapper",ref:"previewWrapper"};function C(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("editor-toolbar");return Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:["v-md-editor",["v-md-editor--"+n.mode,{"v-md-editor--fullscreen":n.fullscreen,"v-md-editor--left-area-reverse":n.leftAreaReverse}]],style:{height:a.heightGetter}},[Object(i["withDirectives"])(Object(i["createVNode"])("div",{class:"v-md-editor__left-area",style:{width:n.leftAreaVisible?n.leftAreaWidth:0,borderWidth:n.leftAreaVisible?"1px":0}},[Object(i["createVNode"])("div",{class:"v-md-editor__left-area-title",style:{height:o.toolbarHeight+"px",lineHeight:o.toolbarHeight+"px"}},Object(i["toDisplayString"])(n.leftAreaTitle),5),Object(i["createVNode"])("div",m,[Object(i["renderSlot"])(e.$slots,"left-area")])],4),[[i["vShow"],!a.isPreviewMode]]),Object(i["createVNode"])("div",g,[Object(i["withDirectives"])(Object(i["createVNode"])("div",v,[Object(i["createVNode"])("div",b,[Object(i["renderSlot"])(e.$slots,"left-toolbar",{},function(){return[Object(i["createVNode"])(l,{class:"v-md-editor__toolbar-left",groups:a.leftToolbarGroup,toolbars:n.toolbars,"disabled-menus":n.disabledMenus,onItemClick:a.handleToolbarItemClick,onToolbarMenuClick:a.handleToolbarMenuClick},null,8,["groups","toolbars","disabled-menus","onItemClick","onToolbarMenuClick"])]})]),Object(i["createVNode"])("div",x,[Object(i["renderSlot"])(e.$slots,"right-toolbar",{},function(){return[Object(i["createVNode"])(l,{class:"v-md-editor__toolbar-right",groups:a.rightToolbarGroup,toolbars:n.toolbars,"disabled-mens":n.disabledMenus,onItemClick:a.handleToolbarItemClick,onToolbarMenuClick:a.handleToolbarMenuClick},null,8,["groups","toolbars","disabled-mens","onItemClick","onToolbarMenuClick"])]})])],512),[[i["vShow"],!a.isPreviewMode]]),Object(i["createVNode"])("div",y,[Object(i["withDirectives"])(Object(i["createVNode"])("div",{ref:"editorWrapper",class:"v-md-editor__editor-wrapper",onClick:t[1]||(t[1]=function(){return a.handleEditorWrapperClick.apply(a,arguments)})},[Object(i["renderSlot"])(e.$slots,"editor")],512),[[i["vShow"],!a.isPreviewMode]]),Object(i["withDirectives"])(Object(i["createVNode"])("div",w,[Object(i["renderSlot"])(e.$slots,"preview")],512),[[i["vShow"],!a.isEditMode]]),Object(i["renderSlot"])(e.$slots,"default")])])],6)}var k={key:0},S={key:0,class:"v-md-editor__toolbar-divider"};function T(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("toolbar-item");return n.groups.length?(Object(i["openBlock"])(),Object(i["createBlock"])("ul",k,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(n.groups,function(r,o){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(r,function(r){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:r,name:r,title:a.getConfig(r,"title"),icon:a.getConfig(r,"icon"),text:a.getConfig(r,"text"),active:a.getConfig(r,"active"),menus:a.getConfig(r,"menus"),"disabled-menus":n.disabledMenus,onClick:function(t){return e.$emit("item-click",n.toolbars[r])},onMenuClick:t[1]||(t[1]=function(t){return e.$emit("toolbar-menu-click",t)})},null,8,["name","title","icon","text","active","menus","disabled-menus","onClick"])}),128)),o!==n.groups.length-1?(Object(i["openBlock"])(),Object(i["createBlock"])("li",S)):Object(i["createCommentVNode"])("v-if",!0)],64)}),256))])):Object(i["createCommentVNode"])("v-if",!0)}var E={key:1,class:"v-md-icon-arrow-down v-md-editor__menu-ctrl",ref:"menuCtrl"};function O(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("v-md-tooltip"),s=Object(i["resolveComponent"])("v-md-menu"),c=Object(i["resolveDirective"])("clickoutside");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("li",{class:["v-md-editor__toolbar-item",[n.icon,"v-md-editor__toolbar-item-"+n.name,{"v-md-editor__toolbar-item--active":n.active||o.menuActive},{"v-md-editor__toolbar-item--menu":a.hasMenu}]],onMousedown:t[3]||(t[3]=Object(i["withModifiers"])(function(){},["prevent"])),onMouseleave:t[4]||(t[4]=function(){return a.handleHideTooltip.apply(a,arguments)}),onMousemove:t[5]||(t[5]=function(){return a.showTooltip.apply(a,arguments)}),onClick:t[6]||(t[6]=Object(i["withModifiers"])(function(){return a.handleClick.apply(a,arguments)},["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.text)+" ",1),Object(i["createVNode"])(l,{ref:"tooltip",text:n.title},null,8,["text"]),a.hasMenu?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:0,ref:"menu",mode:a.menuMode,menus:a.menuItems,"item-width":n.menus.itemWidth,"row-num":n.menus.rowNum,visible:o.menuActive,"onUpdate:visible":t[1]||(t[1]=function(e){return o.menuActive=e}),onItemClick:t[2]||(t[2]=function(t){return e.$emit("menu-click",t)})},null,8,["mode","menus","item-width","row-num","visible"])):Object(i["createCommentVNode"])("v-if",!0),a.hasMenu?(Object(i["openBlock"])(),Object(i["createBlock"])("i",E,null,512)):Object(i["createCommentVNode"])("v-if",!0)],34)),[[c,a.hideMenu,"hideMenu"]])}function D(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Transition"],{name:"v-md-fade-in"},{default:Object(i["withCtx"])(function(){return[Object(i["withDirectives"])(Object(i["createVNode"])("div",{style:{left:o.position.x+"px",top:o.position.y+"px"},class:"v-md-editor__tooltip"},Object(i["toDisplayString"])(n.text),5),[[i["vShow"],o.visible]])]}),_:1})}var M={name:"v-md-tooltip",props:{text:String},data:function(){return{position:{x:0,y:0},visible:!1}},methods:{show:function(e){this.position={x:e.x,y:e.y},this.visible=!0,this.$nextTick(this.calculateLayout)},hide:function(){this.visible=!1},calculateLayout:function(){var e=this.$el.getBoundingClientRect(),t=e.right,n=document.documentElement.clientWidth;n-t<0&&(this.position.x-=t-n)}}};n(82);M.render=D;var A=M,I={key:1},N={class:"v-md-editor__menu-row"};function R(e,t,n,r,o,a){var l=Object(i["resolveComponent"])("v-md-render");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Transition"],{name:"v-md-zoom-in-top"},{default:Object(i["withCtx"])(function(){return[Object(i["withDirectives"])(Object(i["createVNode"])("ul",{class:["v-md-editor__menu",["v-md-editor__menu--"+n.mode]],style:o.style,onMousemove:t[1]||(t[1]=Object(i["withModifiers"])(function(){},["stop"])),onClick:t[2]||(t[2]=Object(i["withModifiers"])(function(){},["stop"]))},[a.isListMode?(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(n.menus,function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{key:e.name,class:["v-md-editor__menu-item",["v-md-editor__menu-item-"+e.name,e.class]],onClick:Object(i["withModifiers"])(function(t){return a.handleClick(e)},["stop"])},[e.render?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,render:e.render},null,8,["render"])):(Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(a.getText(e.text)),1)],64))],10,["onClick"])}),128)):(Object(i["openBlock"])(),Object(i["createBlock"])("li",I,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(a.rowCount,function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("div",N,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(a.getRowMenus(e),function(e){return Object(i["openBlock"])(),Object(i["createBlock"])("span",{key:e.name,style:{width:n.itemWidth},class:["v-md-editor__menu-item",["v-md-editor__menu-item-"+e.name,e.class]],onClick:Object(i["withModifiers"])(function(t){return a.handleClick(e)},["stop"])},Object(i["toDisplayString"])(e.text),15,["onClick"])}),128))])}),256))]))],38),[[i["vShow"],n.visible]])]}),_:1})}var F=function(e,t){var n=t.attrs;return e.render.apply(e,n)};F.props=["render"];var _=F,P={LIST:"list",PANEL:"panel"},j={name:"v-md-menu",components:{VMdRender:_},inject:["markdownEditor"],props:{mode:{type:String,default:P.PANEL},menus:Array,itemWidth:{type:String,default:"30px"},rowNum:{type:Number,default:10},visible:Boolean},emits:["update:visible","item-click"],data:function(){return{style:{left:0}}},computed:{rowCount:function(){return Math.ceil(this.menus.length/this.rowNum)},isListMode:function(){return this.mode===P.LIST}},watch:{visible:function(){this.visible&&this.$nextTick(this.calculateLayout)}},methods:{calculateLayout:function(){var e=this.$el.getBoundingClientRect(),t=e.right,n=document.documentElement.clientWidth;n-t<0&&(this.style={right:0})},getRowMenus:function(e){var t=e*this.rowNum,n=t-this.rowNum;return this.menus.slice(n,t)},getText:function(e){return"function"===typeof e?e(this.markdownEditor):e},hide:function(){this.$emit("update:visible",!1)},handleClick:function(e){this.$emit("item-click",e),this.hide()}}};n(83);j.render=R;var $,L=j,z=[],V="@@clickoutsideContext",B=0;function H(e,t,n){return function(r,o){void 0===r&&(r={}),void 0===o&&(o={}),n&&t&&t.instance&&r.target&&o.target&&!e.contains(r.target)&&!e.contains(o.target)&&e!==r.target&&(t.arg&&e[V].methodName&&t.instance[e[V].methodName]?t.instance[e[V].methodName]():e[V].bindingFn&&e[V].bindingFn())}}a["d"]&&(document.addEventListener("mousedown",function(e){$=e}),document.addEventListener("mouseup",function(e){z.forEach(function(t){return t[V].documentHandler(e,$)})}));var W,q={beforeMount:function(e,t,n){z.push(e);var r=B++;e[V]={id:r,documentHandler:H(e,t,n),methodName:t.arg,bindingFn:t.value}},updated:function(e,t,n){e[V].documentHandler=H(e,t,n),e[V].methodName=t.arg,e[V].bindingFn=t.value},unmounted:function(e){for(var t=z.length,n=0;n<t;n++)if(z[n][V].id===e[V].id){z.splice(n,1);break}delete e[V]}},U={name:"toolbar-item",directives:{Clickoutside:q},components:(W={},W[A.name]=A,W[L.name]=L,W),props:{name:String,title:String,active:Boolean,text:String,icon:String,menus:[Array,Object],disabledMenus:Array},emits:["click","menu-click"],data:function(){return{menuActive:!1}},computed:{hasMenu:function(){var e;return null==(e=this.menuItems)?void 0:e.length},menuItems:function(){var e=this,t=Object(a["f"])(this.menus)?this.menus.items:this.menus;return null==t?void 0:t.filter(function(t){var n,r=t.name;return!(null!=(n=e.disabledMenus)&&n.includes(e.name+"/"+r))})},menuMode:function(){return Object(a["f"])(this.menus)?this.menus.mode:P.LIST}},methods:{hideMenu:function(){this.hasMenu&&(this.menuActive=!1)},showMenu:function(){this.hasMenu&&(this.menuActive=!0)},handleClick:function(e){this.$emit("click"),this.menuActive?this.hideMenu():this.showMenu(),this.hasMenu?this.handleHideTooltip():this.showTooltip(e)},showTooltip:function(e){var t=this,n=this.$el,r=e.target,o=this.$refs.menuCtrl;if(r!==n&&r!==o||this.menuActive)this.handleHideTooltip();else{this.timmer&&clearTimeout(this.timmer);var i=n.getBoundingClientRect(),a=e.clientX-i.left,l=e.clientY-i.top;this.timmer=setTimeout(function(){var e;null==(e=t.$refs.tooltip)||e.show({x:a-2,y:l+20})},100)}},handleHideTooltip:function(){this.timmer&&clearTimeout(this.timmer),this.$refs.tooltip.hide()}}};n(84);U.render=O;var G,Y=U,K={name:"editor-toolbar",components:(G={},G[Y.name]=Y,G),inject:["markdownEditor"],props:{groups:Array,toolbars:Object,disabledMenus:Array},emits:["item-click","toolbar-menu-click"],methods:{getConfig:function(e,t){var n=this.toolbars[e],r=n[t];return"function"===typeof r?r(this.markdownEditor):r}}};n(85);K.render=T;var X,Z=K,J=n(34),Q="undefined"===typeof window,ee=function(e){e.forEach(function(e){var t=e.target.__resizeListeners__||[];t.length&&t.forEach(function(e){e()})})},te=function(e,t){Q||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new J["a"](ee),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},ne=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())},re=n(4),oe={name:"v-md-container",components:(X={},X[Z.name]=Z,X),props:{leftToolbar:String,rightToolbar:String,toolbars:Object,fullscreen:Boolean,height:String,noresize:Boolean,disabledMenus:Array,leftAreaVisible:Boolean,leftAreaTitle:String,leftAreaReverse:Boolean,leftAreaWidth:{type:String,default:"200px"},mode:{type:String,default:re["a"].EDITABLE}},emits:["resize","editor-wrapper-click","toolbar-item-click","toolbar-menu-click"],data:function(){return{toolbarHeight:0}},computed:{heightGetter:function(){return this.fullscreen?"auto":this.height},leftToolbarGroup:function(){return this.getToolbarConfig(this.leftToolbar)},rightToolbarGroup:function(){return this.getToolbarConfig(this.rightToolbar)},isPreviewMode:function(){return this.mode===re["a"].PREVIEW},isEditMode:function(){return this.mode===re["a"].EDIT}},mounted:function(){this.noresize||(te(this.$refs.editorWrapper,this.handleResize),te(this.$refs.toolbarWrapper,this.handleToolbarWrapperResize))},beforeUnmount:function(){this.noresize||(ne(this.$refs.editorWrapper,this.handleResize),ne(this.$refs.toolbarWrapper,this.handleToolbarWrapperResize))},methods:{handleResize:function(){this.$emit("resize")},handleToolbarWrapperResize:function(){var e=this.$refs.toolbarWrapper;e&&(this.toolbarHeight=e.offsetHeight)},getToolbarConfig:function(e){var t=this;return e.split("|").map(function(e){return e.split(" ").filter(function(e){return e&&t.toolbars[e]})})},handleEditorWrapperClick:function(e){this.$emit("editor-wrapper-click",e)},handleToolbarItemClick:function(e){this.$emit("toolbar-item-click",e)},handleToolbarMenuClick:function(e){this.$emit("toolbar-menu-click",e)}}};n(87);oe.render=C;var ie,ae=oe,le="undefined"===typeof window,se=function(){if(le)return 0;if(void 0!==ie)return ie;var e=document.createElement("div");e.className="scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),ie=t-r,ie},ce={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function ue(e){var t=e.move,n=e.size,r=e.bar,o={},i="translate"+r.axis+"("+t+"%)";return o[r.size]=n,o.transform=i,o.msTransform=i,o.webkitTransform=i,o}var de={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return ce[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(){var e=this.size,t=this.move,n=this.bar;return Object(i["createVNode"])("div",{class:["scrollbar__bar","is-"+n.key],onMousedown:this.clickTrackHandler,onClick:function(e){return e.stopPropagation()}},[Object(i["createVNode"])("div",{ref:"thumb",class:"scrollbar__thumb",onMousedown:this.clickThumbHandler,style:ue({size:e,move:t,bar:n})},null)])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){var t=Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,r=100*(t-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,document.addEventListener("mousemove",this.mouseMoveDocumentHandler,!1),document.addEventListener("mouseup",this.mouseUpDocumentHandler,!1),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){if(!1!==this.cursorDown){var t=this[this.bar.axis];if(t){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),r=this.$refs.thumb[this.bar.offset]-t,o=100*(n-r)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=o*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(){this.cursorDown=!1,this[this.bar.axis]=0,document.removeEventListener("mousemove",this.mouseMoveDocumentHandler,!1),document.onselectstart=null}},unmounted:function(){document.removeEventListener("mouseup",this.mouseUpDocumentHandler,!1)}},pe=n(8),fe={name:"scrollbar",components:{Bar:de},props:{native:Boolean,disabled:Boolean,wrapStyle:null,wrapClass:null,viewClass:null,viewStyle:null,noresize:Boolean,tag:{type:String,default:"div"}},emits:["scroll"],data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},mounted:function(){this.native||this.disabled||(this.$nextTick(this.update),!this.noresize&&te(this.$refs.resize,this.update))},beforeUnmount:function(){this.native||this.disabled||!this.noresize&&ne(this.$refs.resize,this.update)},methods:{getScrollInfo:function(){var e=this.wrap;return{left:e.scrollLeft,top:e.scrollTop,width:e.scrollWidth,height:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight}},scrollTo:function(e){Object(pe["a"])({scrollTarget:this.wrap,scrollToTop:e})},handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth,this.$emit("scroll")},update:function(){var e=this.wrap;if(e){var t=100*e.clientHeight/e.scrollHeight,n=100*e.clientWidth/e.scrollWidth;this.sizeHeight=t<100?t+"%":"",this.sizeWidth=n<100?n+"%":""}}},render:function(){if(this.disabled)return this.$slots.default();var e=se(),t=this.wrapStyle;if(e){var n=this.$refs.resize,r=this.$refs.wrap,o=null==n?void 0:n.scrollHeight,l=null==n?void 0:n.scrollWidth,s=null==r?void 0:r.clientHeight,c=null==r?void 0:r.clientWidth,u="-"+e+"px",d=l>c?u:0,p=o>s?u:0,f="margin-bottom: "+d+"; margin-right: "+p+";";Array.isArray(this.wrapStyle)?(t=Object(a["a"])(this.wrapStyle),t.marginRight=u,t.marginBottom=u):"string"===typeof this.wrapStyle?t+=f:t=f}var h,m=Object(i["h"])(this.tag,{class:["scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default()),g=Object(i["createVNode"])("div",{ref:"wrap",style:t,onScroll:this.handleScroll,class:[this.wrapClass,"scrollbar__wrap",e?"":"scrollbar__wrap--hidden-default"]},[[m]]);return h=this.native?[Object(i["createVNode"])("div",{ref:"wrap",class:[this.wrapClass,"scrollbar__wrap"],style:t},[[m]])]:[g,Object(i["createVNode"])(de,{move:this.moveX,size:this.sizeWidth},null),Object(i["createVNode"])(de,{vertical:!0,move:this.moveY,size:this.sizeHeight},null)],Object(i["h"])("div",{class:"scrollbar"},h)}},he=(n(88),fe),me={class:"v-md-editor__toc-nav"},ge={class:"v-md-editor__toc-nav-title"};function ve(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])("ul",me,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(n.titles,function(t){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{style:{paddingLeft:n.indent*t.indent+"px"},onClick:function(n){return e.$emit("nav-click",t)},class:"v-md-editor__toc-nav-item"},[Object(i["createVNode"])("span",ge,Object(i["toDisplayString"])(t.title),1)],12,["onClick"])}),256))])}var be={name:"toc-nav",props:{titles:Array,indent:{type:Number,default:16}},emits:["nav-click"]};n(89);be.render=ve;var xe,ye=be,we={inheritAttrs:!1,components:(xe={},xe[h["default"].name]=h["default"],xe[ae.name]=ae,xe[he.name]=he,xe[ye.name]=ye,xe),provide:function(){return{markdownEditor:this}},props:{height:String,theme:Object,mode:{type:String,default:re["a"].EDITABLE},autofocus:Boolean,placeholder:String,tocNavPositionRight:Boolean,tabSize:{type:Number,default:2},beforePreviewChange:{type:Function,default:function(e,t){t(e)}}},emits:["blur","change","save","image-click"],data:function(){return{currentMode:this.mode,uploadConfig:{}}},watch:{mode:function(){this.currentMode=this.mode},currentMode:function(){this.currentMode===re["a"].EDITABLE&&this.enableSyncScroll&&this.$nextTick(this.previewSyncScroll)}},created:function(){this.theme&&this.$options.use(this.theme)},computed:{isPreviewMode:function(){return this.currentMode===re["a"].PREVIEW},isEditMode:function(){return this.currentMode===re["a"].EDIT},proxySlots:function(){var e=this;return["left-toolbar","right-toolbar"].filter(function(t){return e.$slots[t]})}},mounted:function(){this.autofocus&&this.$nextTick(this.setFocusEnd)},methods:{setFocusEnd:function(){this.editorFocusEnd(),this.editorScrollToTop(9999),this.previewScrollTo(9999)},handleChange:function(e,t){this.$emit("change",e,t)},handleBlur:function(e){this.$emit("blur",e)},handlePreviewImageClick:function(e,t){this.$emit("image-click",e,t)},save:function(){this.$emit("save",this.text,this.$refs.preview.html)},insert:function(e){var t=this;this.focus();var n=this.getCurrentSelectedStr(),r=e(n),o=r.selected,i=r.text;this.replaceSelectionText(i),this.$nextTick(function(){t.changeSelctionTo(i,o)})}}},Ce={props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],data:function(){return{text:this.modelValue}},methods:{handleInput:function(e){this.text=e,this.$emit("update:modelValue",e)}}},ke={props:{defaultFullscreen:Boolean},emits:["fullscreen-change"],data:function(){return{fullscreen:!1}},watch:{fullscreen:function(){this.$emit("fullscreen-change",this.fullscreen)}},mounted:function(){window.addEventListener("keyup",this.handleWindowKeyup,!1),this.defaultFullscreen&&this.toggleFullScreen()},beforeUnmount:function(){window.removeEventListener("keyup",this.handleWindowKeyup,!1)},methods:{handleWindowKeyup:function(e){27===e.keyCode&&this.fullscreen&&this.toggleFullScreen(!1)},toggleFullScreen:function(e){void 0===e&&(e=!this.fullscreen),this.fullscreen=e;var t=document.querySelectorAll("html, body"),n=t[0],r=t[1],o=this.fullscreen?"hidden":null;r.style.overflow=o,n.style.overflow=o}}};function Se(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])("input",{type:"file",style:{display:"none"},key:o.key,accept:n.uploadConfig.accept,multiple:n.uploadConfig.multiple,onInput:t[1]||(t[1]=function(){return o.handleUpload.apply(o,arguments)}),ref:"fileInput"},null,40,["accept","multiple"])}var Te=n(10),Ee=n.n(Te),Oe=n(17),De={name:"v-md-upload-file",props:{uploadConfig:Object},data:function(){return{handleUpload:function(){},key:0}},methods:{upload:function(){var e=this;return Object(Oe["a"])(Ee.a.mark(function t(){var n;return Ee.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.chooseFile();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))()},chooseFile:function(){var e=this;return new Promise(function(t){e.handleUpload=function(n){t(n),e.key++},e.$refs.fileInput.click()})}}};De.render=Se;var Me,Ae=De,Ie=n(23),Ne=n(12),Re=n(1),Fe={accept:"image/*",multiple:!1},_e={components:(Me={},Me[Ae.name]=Ae,Me),props:{uploadImageConfig:Object},emits:["upload-image"],computed:{uploadImgConfig:function(){return Object(u["a"])({},Fe,this.uploadImageConfig)},hasUploadImage:function(){return!this.disabledMenus.includes(Ie["default"].name+"/upload-image")}},methods:{handleDrop:function(e){var t=Object(Ne["a"])(e.dataTransfer.files,this.uploadImgConfig);this.emitUploadImage(e,t)},handlePaste:function(e){var t=e.clipboardData;if(t){var n=Object(Ne["a"])(Object(Ne["b"])(t),this.uploadImgConfig);this.emitUploadImage(e,n)}},emitUploadImage:function(e,t){var n=this;this.hasUploadImage&&t.length&&(e.preventDefault(),this.$emit("upload-image",e,function(e){n.execCommand(Re["l"],e)},t))}}},Pe=n(3),je={data:function(){return{enableSyncScroll:!0}},methods:{toggleSyncScroll:function(e){void 0===e&&(e=!this.enableSyncScroll),this.enableSyncScroll=e,e&&this.previewSyncScroll()},previewSyncScroll:function(){if(!this.isEditMode){var e=this.$refs.preview.$el,t=this.$refs.previewScroller.$el,n=e.querySelectorAll("["+Pe["c"]+"]"),r=this.getScrollInfo(),o=r.clientHeight,i=r.top,a=r.height,l=t.querySelector(".scrollbar__wrap");if(o+i===a){var s=l.clientHeight,c=l.scrollHeight;this.previewScrollTo(c-s)}else{for(var u,d,p=0;p<n.length;p++){var f=n[p].getAttribute(Pe["c"]),h=this.heightAtLine(f-1,"local");if(!(h<i)){d=f;break}u=f}var m=0;if(u&&d&&u!==d){var g=this.heightAtLine(u-1,"local"),v=this.heightAtLine(d-1,"local");m=(i-g)/(v-g)}var b=0,x=l.scrollHeight-l.clientHeight;u&&(b=e.querySelector("["+Pe["c"]+'="'+u+'"]').offsetTop),d&&(x=e.querySelector("["+Pe["c"]+'="'+d+'"]').offsetTop);var y=b+(x-b)*m;this.previewScrollTo(y)}}},handleEditorScroll:function(){this.enableSyncScroll&&!this.ignoreSyncScroll&&(clearTimeout(this.scrollTimmer),this.scrollTimmer=setTimeout(this.previewSyncScroll,60))}}},$e=function(e){return{props:{leftToolbar:{type:String,default:"undo redo clear | h bold italic strikethrough quote | ul ol table hr | link image code | save"},rightToolbar:{type:String,default:"preview toc sync-scroll fullscreen"},toolbar:{type:Object,default:function(){return{}}},disabledMenus:{type:Array,default:function(){return["image/upload-image"]}},toolbarConfig:{type:Object,default:function(){return{}}}},created:function(){var t=this,n=e.toolbars;this.toolbars={},Object.keys(n).forEach(function(e){t.registerToolbar(e,n[e])}),Object.keys(this.toolbar).forEach(function(e){t.registerToolbar(e,t.toolbar[e])})},methods:{registerToolbar:function(e,t){p(this.toolbars,e,t)},handleToolbarItemClick:function(e){var t;!e.action||null!=(t=e.menus)&&t.length||"function"!==typeof e.action||e.action.call(e,this,this.toolbarConfig[e.name])},handleToolbarMenuClick:function(e){e.action&&"function"===typeof e.action&&e.action.call(e,this,this.toolbarConfig[e.name])}}}},Le=function(e){return{created:function(){var t=this,n=e.commands;this.commands={},Object.keys(n).forEach(function(e){t.registerCommand(e,n[e])})},methods:{registerCommand:function(e,t){s(this.commands,e,t)},execCommand:function(e){var t=this.commands[e];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(void 0,[this].concat(r))}else console.error("Command not found: "+e)}}}},ze={data:function(){return{tocVisible:this.defaultShowToc,titles:[]}},props:{includeLevel:{type:Array,default:function(){return[2,3]}},defaultShowToc:Boolean},watch:{text:{immediate:!0,handler:function(e,t){"undefined"!==typeof t?(this.updateTocNavTimmer&&clearTimeout(this.updateTocNavTimmer),this.updateTocNavTimmer=setTimeout(this.updateTocNav,800)):this.$nextTick(this.updateTocNav)}}},computed:{anchorsSelector:function(){return this.includeLevel.map(function(e){return"h"+e}).join(",")}},methods:{toggleToc:function(e){void 0===e&&(e=!this.tocVisible),this.tocVisible=e},updateTocNav:function(){var e,t=null==(e=this.$refs.preview)?void 0:e.$el;if(t){var n=t.querySelectorAll(this.anchorsSelector),r=Array.from(n).filter(function(e){return!!e.innerText.trim()});if(r.length){var o=Array.from(new Set(r.map(function(e){return e.tagName}))).sort();this.titles=r.map(function(e){return{title:e.innerText,lineIndex:e.getAttribute(Pe["c"]),indent:o.indexOf(e.tagName)}})}else this.titles=[]}},handleNavClick:function(e){var t=e.lineIndex;this.scrollToLine(t)}}},Ve={props:{previewScrollContainer:Function},computed:{getPreviewScrollContainer:function(){var e=this;return function(){var t=e.$refs.previewScroller.$el.querySelector(".scrollbar__wrap"),n=e.isPreviewMode?window:t;return e.previewScrollContainer?e.previewScrollContainer():n}}},methods:{previewScrollTo:function(e){this.$refs.previewScroller.scrollTo(e)},scrollToLine:function(e){var t=this;this.isPreviewMode||this.editorScrollToLine(e),this.isEditMode||(this.ignoreSyncScroll=!0,this.previewScrollToLine({lineIndex:e,onScrollEnd:function(){t.ignoreSyncScroll=!1}}))},editorScrollToLine:function(e){var t=this.heightAtLine(e-1,"local");this.editorScrollToTop(t)},previewScrollToTarget:function(){var e;(e=this.$refs.preview).scrollToTarget.apply(e,arguments)},previewScrollToLine:function(e){var t=e.lineIndex,n=e.onScrollEnd;this.$refs.preview.scrollToLine({lineIndex:t,onScrollEnd:n})}}},Be={};Object(a["c"])(Be,n(90));var He=function(e){return{mounted:function(){var t=this;if(!this.isPreviewMode){var n=e.hotkeys;Object.keys(Be).forEach(function(e){t.registerHotkeys(Be[e].default)}),n.forEach(function(e){t.registerHotkeys(e)})}},methods:{registerHotkeys:function(e){var t=this,n=e.modifier,r=e.key,o=e.action,i=e.preventDefault,a=void 0===i||i;this.editorRegisterHotkeys({modifier:n,key:r,preventDefault:a,action:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.apply(void 0,[t].concat(n))}})}}}},We=/^\s*([\d]+\.)( \[[ xX]])? /,qe=/^\s*([-*])( \[[ xX]])? /,Ue=/([*-] |[\d]+\. )/,Ge=/([\d])+\.( \[[ xX]])? /,Ye={mounted:function(){var e=this;this.isPreviewMode||this.registerHotkeys({key:"enter",preventDefault:!1,action:function(t,n){if(!n.isComposing){var r,o,i=e.getCursorLineLeftText();if(We.test(i))r="x. ",o=Ge,n.preventDefault();else{if(!qe.test(i))return;r="- ",o=Ue,n.preventDefault()}var a=i.search(o),l=a+r.length,s=i.slice(0,l),c=i.slice(l,i.length);c?("x. "===r&&(s=s.replace(/(\d+)/,window.parseInt(s)+1)),e.replaceSelectionText("\n"+s,"end")):(e.delLineLeft(),e.replaceSelectionText("\n","end"))}}})}},Ke={computed:{langConfig:function(){var e=this.$options.lang.config;return e.langConfig[e.lang]}}},Xe=new r["a"]({afterUse:function(e){h["default"].vMdParser.lang.config.lang=e}});function Ze(e){c(e),f(e),e.name="v-md-editor",e.lang=Xe,e.vMdParser=h["default"].vMdParser,e.Preview=h["default"],e.hotkeys=[],e.hotkey=function(t){e.hotkeys.push(t)},e.mixins=[we,Ce,$e(e),Le(e),He(e),ke,_e,je,ze,Ve,Ye,Ke]}Xe.config=Object(i["reactive"])(Xe.config),Xe.add({"zh-CN":o})},function(e,t,n){"use strict";var r={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12"},o={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},i=function(){function e(){this.hotkeys={ctrl:{},shift:{},ctrlAlt:{},ctrlShift:{},keys:{}}}var t=e.prototype;return t.dispatch=function(e){var t,n=this.getKeyName(e).toLowerCase();if(n&&(this.isKeyEnterExact(e)?t=this.hotkeys.keys[n]:this.isCtrlEnterExact(e)?t=this.hotkeys.ctrl[n]:this.isShiftEnterExact(e)?t=this.hotkeys.shift[n]:this.isCtrlAltEnterExact(e)?t=this.hotkeys.ctrlAlt[n]:this.isCtrlShiftEnterExact(e)&&(t=this.hotkeys.ctrlShift[n]),t)){var r=t,o=r.action,i=r.preventDefault;i&&e.preventDefault(),o(e)}},t.isKeyEnterExact=function(e){return!this.isCtrlEnter(e)&&!this.isShiftEnter(e)&&!this.isAltEnter(e)},t.isCtrlShiftEnterExact=function(e){return this.isCtrlEnter(e)&&this.isShiftEnter(e)&&!this.isAltEnter(e)},t.isCtrlAltEnterExact=function(e){return this.isCtrlEnter(e)&&this.isAltEnter(e)&&!this.isShiftEnter(e)},t.isCtrlEnterExact=function(e){return this.isCtrlEnter(e)&&!this.isShiftEnter(e)&&!this.isAltEnter(e)},t.isShiftEnterExact=function(e){return this.isShiftEnter(e)&&!this.isCtrlEnter(e)&&!this.isAltEnter(e)},t.isCtrlEnter=function(e){return e.ctrlKey||e.metaKey},t.isShiftEnter=function(e){return e.shiftKey},t.isAltEnter=function(e){return e.altKey},t.registerHotkeys=function(e){var t=e.modifier,n=e.key,r=e.preventDefault,o=void 0===r||r,i=e.action;t?this.hotkeys[t][n]={preventDefault:o,action:i}:this.hotkeys.keys[n]={preventDefault:o,action:i}},t.getKeyName=function(e){var t=e.key,n=e.keyCode;if(void 0!==t){var i=Object.keys(o).find(function(e){var n=o[e];return"string"===typeof n?n===t:-1!==n.indexOf(t)});return i||t}return r[n]},e}();t["a"]=i},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=T(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function b(){}var x={};x[i]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(A([])));w&&w!==n&&r.call(w,i)&&(x=w);var C=b.prototype=g.prototype=Object.create(x);function k(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){function n(o,i,a,l){var s=u(e[o],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,a,l)},function(e){n("throw",e,a,l)}):t.resolve(d).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,l)})}l(s.arg)}var o;function i(e,r){function i(){return new t(function(t,o){n(e,r,t,o)})}return o=o?o.then(i,i):i()}this._invoke=i}function T(e,t,n){var r=d;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return I()}n.method=o,n.arg=i;while(1){var a=n.delegate;if(a){var l=E(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){while(++o<e.length)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=C.constructor=b,b.constructor=v,v.displayName=s(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},k(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},k(C),s(C,l,"Generator"),C[i]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return l.type="throw",l.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r={"./bold.js":39,"./clear.js":40,"./code.js":41,"./fullscreen.js":42,"./h1.js":43,"./h2.js":44,"./h3.js":45,"./h4.js":46,"./h5.js":47,"./h6.js":48,"./hr.js":49,"./image.js":50,"./italic.js":51,"./link.js":52,"./ol.js":53,"./quote.js":54,"./redo.js":55,"./strikethrough.js":56,"./sync-scroll.js":57,"./table.js":58,"./ul.js":59,"./undo.js":60};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=38},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["a"]}),t["default"]=function(e){e.insert(function(t){var n="**",o="**",i=e.langConfig.bold.placeholder,a=function(e){return e||i},l=Object(r["b"])({selected:t,InsertGetter:function(e){return""+n+a(e)+o},selectedGetter:a}),s=l.insertContent,c=l.newSelected;return{text:s,selected:c}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["b"]}),t["default"]=function(e){e.clear()}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["c"]}),t["default"]=function(e){e.insert(function(e){var t="``` language",n="```",r=t+"\n"+n;return e&&(r=t+"\n  "+e+"\n"+n),{text:r,selected:"language"}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["d"]}),t["default"]=function(e,t){e.toggleFullScreen(t)}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["e"]}),t["default"]=function(e){e.insert(function(t){var n="#",o=e.langConfig.h1.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["f"]}),t["default"]=function(e){e.insert(function(t){var n="##",o=e.langConfig.h2.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["g"]}),t["default"]=function(e){e.insert(function(t){var n="###",o=e.langConfig.h3.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["h"]}),t["default"]=function(e){e.insert(function(t){var n="####",o=e.langConfig.h4.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["i"]}),t["default"]=function(e){e.insert(function(t){var n="#####",o=e.langConfig.h5.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["j"]}),t["default"]=function(e){e.insert(function(t){var n="######",o=e.langConfig.h6.placeholder,i=function(e){return e||o},a=Object(r["b"])({selected:t,InsertGetter:function(e){return n+" "+i(e)},selectedGetter:i}),l=a.insertContent,s=a.newSelected;return{text:l,selected:s}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["k"]}),t["default"]=function(e){e.insert(function(){return{text:"------------------------------------"}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["l"]}),t["default"]=function(e,t){var n=void 0===t?{}:t,r=n.url,o=n.desc,i=n.width,a=n.height;e.insert(function(){var e="http://",t="Description",n=e,l="!["+(o||t)+"]("+(r||e)+")",s=[];return i&&s.push('width="'+i+'"'),a&&s.push('height="'+a+'"'),s.length&&(l+="{{{"+s.join(" ")+"}}}"),r&&o?n=null:r?n=t:o&&(n=e),{text:l,selected:n}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["m"]}),t["default"]=function(e){e.insert(function(t){var n="*",o="*",i=e.langConfig.italic.placeholder,a=function(e){return e||i},l=Object(r["b"])({selected:t,InsertGetter:function(e){return""+n+a(e)+o},selectedGetter:a}),s=l.insertContent,c=l.newSelected;return{text:s,selected:c}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["n"]}),t["default"]=function(e){e.insert(function(t){var n=e.langConfig.link.descPlaceholder,o="http://",i=Object(r["b"])({selected:t,InsertGetter:function(e){return"["+(e||n)+"]("+o+")"},selectedGetter:function(e){return e?o:n}}),a=i.insertContent,l=i.newSelected;return{text:a,selected:l}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["o"]}),t["default"]=function(e){e.insert(function(t){var n=e.langConfig.ol.placeholder,o=function(e){return e||n},i=Object(r["b"])({selected:t,InsertGetter:function(e,t){return t+". "+o(e)},selectedGetter:o,ignoreEmptyLine:!1}),a=i.insertContent,l=i.newSelected;return{text:a,selected:l}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["p"]}),t["default"]=function(e){e.insert(function(t){var n=">",r=t||e.langConfig.quote.placeholder;return{text:n+" "+r,selected:r}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["q"]}),t["default"]=function(e){e.redo()}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["r"]}),t["default"]=function(e){e.insert(function(t){var n="~~",o="~~",i=e.langConfig.strikethrough.placeholder,a=function(e){return e||i},l=Object(r["b"])({selected:t,InsertGetter:function(e){return""+n+a(e)+o},selectedGetter:a}),s=l.insertContent,c=l.newSelected;return{text:s,selected:c}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["s"]}),t["default"]=function(e,t){e.toggleSyncScroll(t)}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["t"]}),t["default"]=function(e){e.insert(function(){var e="|column1|column2|column3|\n|-|-|-|\n|content1|content2|content3|";return{text:e,selected:"column1"}})}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1);n.d(t,"name",function(){return o["u"]}),t["default"]=function(e){e.insert(function(t){var n=e.langConfig.ul.placeholder,o=function(e){return e||n},i=Object(r["b"])({selected:t,InsertGetter:function(e){return"- "+o(e)},selectedGetter:o,ignoreEmptyLine:!1}),a=i.insertContent,l=i.newSelected;return{text:a,selected:l}})}},function(e,t,n){"use strict";n.r(t);var r=n(1);n.d(t,"name",function(){return r["v"]}),t["default"]=function(e){e.undo()}},function(e,t,n){var r={"./bold.js":62,"./clear.js":63,"./code.js":64,"./fullscreen.js":65,"./h.js":66,"./hr.js":67,"./image.js":23,"./italic.js":68,"./link.js":69,"./ol.js":70,"./preview.js":71,"./quote.js":72,"./redo.js":73,"./save.js":74,"./strikethrough.js":75,"./sync-scroll.js":76,"./table.js":77,"./toc.js":78,"./ul.js":79,"./undo.js":80};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=61},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["a"],icon:"v-md-icon-bold",title:function(e){return e.langConfig.bold.toolbar+"（Ctrl+B）"},action:function(e){e.execCommand(r["a"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["b"],icon:"v-md-icon-clear",title:function(e){return e.langConfig.clear.toolbar},action:function(e){e.execCommand(r["b"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["c"],icon:"v-md-icon-code",title:function(e){return e.langConfig.code.toolbar},action:function(e){e.execCommand(r["c"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["d"],icon:"v-md-icon-fullscreen",title:function(e){var t=e.langConfig.fullscreen;return e.fullscreen?t.disabled:t.enabled},active:function(e){return e.fullscreen},action:function(e){e.execCommand(r["d"],!e.fullscreen)}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:"h",text:"H",title:function(e){return e.langConfig.h.toolbar+"（Ctrl+1~6）"},menus:[{name:r["e"],text:function(e){return e.langConfig.h1.toolbar},action:function(e){e.execCommand(r["e"])}},{name:r["f"],text:function(e){return e.langConfig.h2.toolbar},action:function(e){e.execCommand(r["f"])}},{name:r["g"],text:function(e){return e.langConfig.h3.toolbar},action:function(e){e.execCommand(r["g"])}},{name:r["h"],text:function(e){return e.langConfig.h4.toolbar},action:function(e){e.execCommand(r["h"])}},{name:r["i"],text:function(e){return e.langConfig.h5.toolbar},action:function(e){e.execCommand(r["i"])}},{name:r["j"],text:function(e){return e.langConfig.h6.toolbar},action:function(e){e.execCommand(r["j"])}}]}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["k"],icon:"v-md-icon-horizontal",title:function(e){return e.langConfig.hr.toolbar},action:function(e){e.execCommand(r["k"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["m"],icon:"v-md-icon-italic",title:function(e){return e.langConfig.italic.toolbar+"（Ctrl+I）"},action:function(e){e.execCommand(r["m"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["n"],icon:"v-md-icon-link",title:function(e){return e.langConfig.link.toolbar+"（Ctrl+L）"},action:function(e){e.execCommand(r["n"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["o"],icon:"v-md-icon-ol",title:function(e){return e.langConfig.ol.toolbar+"（Ctrl+O）"},action:function(e){e.execCommand(r["o"])}}},function(e,t,n){"use strict";n.r(t);var r=n(4);t["default"]={name:"preview",icon:"v-md-icon-preview",title:function(e){var t=e.langConfig.preview;return e.currentMode===r["a"].EDITABLE?t.disabled:t.enabled},active:function(e){return e.currentMode===r["a"].EDITABLE},action:function(e){e.currentMode=e.currentMode===r["a"].EDITABLE?r["a"].EDIT:r["a"].EDITABLE}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["p"],icon:"v-md-icon-quote",title:function(e){return e.langConfig.quote.toolbar+"（Ctrl+Q）"},action:function(e){e.execCommand(r["p"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["q"],icon:"v-md-icon-redo",title:function(e){return e.langConfig.redo.toolbar+"（Ctrl+Y）"},action:function(e){e.execCommand(r["q"])}}},function(e,t,n){"use strict";n.r(t),t["default"]={name:"save",icon:"v-md-icon-save",title:function(e){return e.langConfig.save.toolbar+"（Ctrl+S）"},action:function(e){e.save()}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["r"],icon:"v-md-icon-strikethrough",title:function(e){return e.langConfig.strikethrough.toolbar},action:function(e){e.execCommand(r["r"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["s"],icon:"v-md-icon-sync",title:function(e){var t=e.langConfig.syncScroll;return e.enableSyncScroll?t.disabled:t.enabled},active:function(e){return e.enableSyncScroll},action:function(e){e.execCommand(r["s"],!e.enableSyncScroll)}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["t"],icon:"v-md-icon-table",title:function(e){return e.langConfig.table.toolbar},action:function(e){e.execCommand(r["t"])}}},function(e,t,n){"use strict";n.r(t),t["default"]={name:"toc",icon:"v-md-icon-toc",title:function(e){var t=e.langConfig.toc;return e.tocVisible?t.disabled:t.enabled},active:function(e){return e.tocVisible},action:function(e){e.toggleToc()}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["u"],icon:"v-md-icon-ul",title:function(e){return e.langConfig.ul.toolbar+"（Ctrl+U）"},action:function(e){e.execCommand(r["u"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={name:r["v"],icon:"v-md-icon-undo",title:function(e){return e.langConfig.undo.toolbar+"（Ctrl+Z）"},action:function(e){e.execCommand(r["v"])}}},function(e,t,n){},function(e,t,n){"use strict";n(27)},function(e,t,n){"use strict";n(28)},function(e,t,n){"use strict";n(29)},function(e,t,n){"use strict";n(30)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n(31)},function(e,t,n){"use strict";n(32)},function(e,t,n){"use strict";n(33)},function(e,t,n){var r={"./bold.js":91,"./h1.js":92,"./h2.js":93,"./h3.js":94,"./h4.js":95,"./h5.js":96,"./h6.js":97,"./italic.js":98,"./link.js":99,"./ol.js":100,"./quote.js":101,"./save.js":102,"./ul.js":103};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=90},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"b",action:function(e){e.execCommand(r["a"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"1",action:function(e){e.execCommand(r["e"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"2",action:function(e){e.execCommand(r["f"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"3",action:function(e){e.execCommand(r["g"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"4",action:function(e){e.execCommand(r["h"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"5",action:function(e){e.execCommand(r["i"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"6",action:function(e){e.execCommand(r["j"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"i",action:function(e){e.execCommand(r["m"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"l",action:function(e){e.execCommand(r["n"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"o",action:function(e){e.execCommand(r["o"])}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"q",action:function(e){e.execCommand(r["p"])}}},function(e,t,n){"use strict";n.r(t),t["default"]={modifier:"ctrl",key:"s",action:function(e){e.save()}}},function(e,t,n){"use strict";n.r(t);var r=n(1);t["default"]={modifier:"ctrl",key:"u",action:function(e){e.execCommand(r["u"])}}},function(e,t,n){},,function(e,t,n){"use strict";n(104)},,function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e,t,n,o,i,a){var l=Object(r["resolveComponent"])("toc-nav"),s=Object(r["resolveComponent"])("scrollbar"),c=Object(r["resolveComponent"])("v-md-textarea-editor"),u=Object(r["resolveComponent"])("v-md-preview"),d=Object(r["resolveComponent"])("v-md-upload-file"),p=Object(r["resolveComponent"])("v-md-container");return Object(r["openBlock"])(),Object(r["createBlock"])(p,{"left-toolbar":e.leftToolbar,"right-toolbar":e.rightToolbar,toolbars:e.toolbars,"disabled-menus":e.disabledMenus,height:e.height,fullscreen:e.fullscreen,"left-area-visible":e.tocVisible,"left-area-title":e.langConfig.toc.title,"left-area-reverse":e.tocNavPositionRight,mode:e.currentMode,onEditorWrapperClick:e.handleEditorWrapperClick,onToolbarItemClick:e.handleToolbarItemClick,onToolbarMenuClick:e.handleToolbarMenuClick,ref:"contaner"},Object(r["createSlots"])({"left-area":Object(r["withCtx"])(function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(l,{titles:e.titles,onNavClick:e.handleNavClick},null,8,["titles","onNavClick"])]}),_:1})]}),editor:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(s,{onScroll:e.handleEditorScroll,ref:"editorScroller"},{default:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(c,{"model-value":e.text,"min-height":e.textEditorMinHeight,placeholder:e.placeholder,"onUpdate:modelValue":e.handleInput,onClick:t[1]||(t[1]=Object(r["withModifiers"])(function(){},["stop"])),onDrop:e.handleDrop,onPaste:e.handlePaste,onBlur:e.handleBlur,ref:"editorEgine"},null,8,["model-value","min-height","placeholder","onUpdate:modelValue","onDrop","onPaste","onBlur"])]}),_:1},8,["onScroll"])]}),preview:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(s,{ref:"previewScroller"},{default:Object(r["withCtx"])(function(){return[Object(r["createVNode"])(u,{text:e.text,"tab-size":e.tabSize,"scroll-container":e.getPreviewScrollContainer,"before-change":e.beforePreviewChange,onChange:e.handleChange,onImageClick:e.handlePreviewImageClick,ref:"preview"},null,8,["text","tab-size","scroll-container","before-change","onChange","onImageClick"])]}),_:1},512)]}),default:Object(r["withCtx"])(function(){return[e.hasUploadImage?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,"upload-config":e.uploadConfig,ref:"uploadFile"},null,8,["upload-config"])):Object(r["createCommentVNode"])("v-if",!0)]}),_:2},[Object(r["renderList"])(e.proxySlots,function(t){return{name:t,fn:Object(r["withCtx"])(function(n){return[Object(r["renderSlot"])(e.$slots,t,n)]})}})]),1032,["left-toolbar","right-toolbar","toolbars","disabled-menus","height","fullscreen","left-area-visible","left-area-title","left-area-reverse","mode","onEditorWrapperClick","onToolbarItemClick","onToolbarMenuClick"])}var i=n(10),a=n.n(i),l=n(17),s={class:"v-md-textarea-editor"},c=Object(r["createVNode"])("br",null,null,-1);function u(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])("pre",{style:{minHeight:n.minHeight}},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.modelValue.split("\n"),function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("section",{"data-line":t+1},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e||" "),1),c],8,["data-line"])}),256))],4),Object(r["createVNode"])("textarea",{ref:"textarea",value:n.modelValue,placeholder:n.placeholder,spellcheck:"false",onCompositionstart:t[1]||(t[1]=function(){return a.handleCompositionStart.apply(a,arguments)}),onCompositionupdate:t[2]||(t[2]=function(){return a.handleCompositionUpdate.apply(a,arguments)}),onCompositionend:t[3]||(t[3]=function(){return a.handleCompositionEnd.apply(a,arguments)}),onInput:t[4]||(t[4]=function(){return a.handleInput.apply(a,arguments)}),onClick:t[5]||(t[5]=function(){return a.updateCurrentHistoryRange.apply(a,arguments)}),onPaste:t[6]||(t[6]=function(){return a.handlePaste.apply(a,arguments)}),onBlur:t[7]||(t[7]=function(){return a.handleBlur.apply(a,arguments)}),onKeydown:[t[8]||(t[8]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){},["prevent"]),["tab"])),t[9]||(t[9]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.undo.apply(a,arguments)},["ctrl","prevent","exact"]),["z"])),t[10]||(t[10]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.undo.apply(a,arguments)},["meta","prevent","exact"]),["z"])),t[11]||(t[11]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.redo.apply(a,arguments)},["ctrl","prevent","exact"]),["y"])),t[12]||(t[12]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.redo.apply(a,arguments)},["meta","prevent","exact"]),["y"]))],onKeyup:[t[13]||(t[13]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["up"])),t[14]||(t[14]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["down"])),t[15]||(t[15]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["left"])),t[16]||(t[16]=Object(r["withKeys"])(Object(r["withModifiers"])(function(){return a.updateCurrentHistoryRange.apply(a,arguments)},["shift","exact"]),["right"]))]},null,40,["value","placeholder"])])}var d,p=n(6);function f(e){if("TEXTAREA"!==e.nodeName)return!1;if("undefined"===typeof d){var t=document.createElement("textarea");t.value=1,d=!!t.firstChild}return d}function h(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();return n.text=t,n.collapse(!1),void n.select()}var r=document.execCommand("insertText",!1,t);if(!r){var o=e.selectionStart,i=e.selectionEnd;if("function"===typeof e.setRangeText)e.setRangeText(t);else{var a=document.createRange(),l=document.createTextNode(t);if(f(e)){var s=e.firstChild;if(s){var c=0,u=null,d=null;while(s&&(null===u||null===d)){var p=s.nodeValue.length;o>=c&&o<=c+p&&a.setStart(u=s,o-c),i>=c&&i<=c+p&&a.setEnd(d=s,i-c),c+=p,s=s.nextSibling}o!==i&&a.deleteContents()}else e.appendChild(l)}if(f(e)&&"#text"===a.commonAncestorContainer.nodeName)a.insertNode(l);else{var h=e.value;e.value=h.slice(0,o)+t+h.slice(i)}}e.setSelectionRange(o+t.length,o+t.length);var m=document.createEvent("UIEvent");m.initEvent("input",!0,!1),e.dispatchEvent(m)}}var m=h,g=n(36),v=n(2),b={name:"v-md-textarea-editor",props:{modelValue:String,minHeight:String,placeholder:String,historyDebounce:{type:Number,default:400},historyMax:{type:Number,default:30}},emits:["blur","paste","update:modelValue"],data:function(){return{isComposing:!1}},computed:{textareaEl:function(){return this.$refs.textarea}},watch:{modelValue:function(){var e=this;this.clearTimeout(),this.triggerInputBySetHistory||(this.timmer=setTimeout(function(){e.saveHistory(),e.clearTimeout()},this.historyDebounce))}},created:function(){this.historyStack=[],this.historyIndex=0,this.hotkeysManager=new g["a"]},mounted:function(){this.saveHistory(),this.textareaEl.addEventListener("keydown",this.handleKeydown,!1)},beforeUnmount:function(){this.textareaEl.removeEventListener("keydown",this.handleKeydown,!1)},methods:{handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(v["e"])(n)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handlePaste:function(e){this.$emit("paste",e)},handleBlur:function(e){this.$emit("blur",e)},registerHotkeys:function(){var e;(e=this.hotkeysManager).registerHotkeys.apply(e,arguments)},handleKeydown:function(e){this.hotkeysManager.dispatch(e)},heightAtLine:function(e){var t=this.$el.querySelector('section[data-line="'+e+'"]');return t?t.offsetTop+t.offsetHeight:0},clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.timmer&&clearTimeout(this.timmer),this.timmer=null}),updateCurrentHistoryRange:function(){this.timmer||this.updateHistory(this.historyIndex,{range:this.getRange()})},handleInput:function(e){this.isComposing||this.$emit("update:modelValue",e.target.value)},saveHistory:function(){var e=this.getRange(),t={value:this.modelValue,range:e};this.historyStack=this.historyStack.slice(0,this.historyIndex+1),this.historyStack.push(t),this.historyStack.length>this.historyMax&&this.historyStack.shift(),this.historyIndex=this.historyStack.length-1},updateHistory:function(e,t){var n=this.historyStack[e];"value"in t&&(n.value=t.value),Object(p["a"])(n.range,t.range)},goHistory:function(e){var t=this,n=this.historyStack[e],r=n.value,o=n.range;this.$emit("update:modelValue",r),this.triggerInputBySetHistory=!0,this.$nextTick(function(){t.triggerInputBySetHistory=!1,t.setRange(o)})},getRange:function(){return{start:this.textareaEl.selectionStart,end:this.textareaEl.selectionEnd}},setRange:function(e){var t=e.start,n=e.end;this.textareaEl.setSelectionRange(t,n),this.updateCurrentHistoryRange()},focus:function(){this.textareaEl.focus()},insertText:function(e){m(this.textareaEl,e)},undo:function(){this.historyIndex>0&&(this.historyIndex--,this.goHistory(this.historyIndex))},redo:function(){this.historyIndex<this.historyStack.length-1&&(this.historyIndex++,this.goHistory(this.historyIndex))}}};n(106);b.render=u;var x,y=b,w=n(35),C={components:(x={},x[y.name]=y,x),watch:{modelValue:function(){this.text=this.modelValue},height:{handler:function(){var e=this;return Object(l["a"])(a.a.mark(function t(){var n;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(v["d"]){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$nextTick();case 4:e.height?(n=e.$el.querySelector(".v-md-editor__editor-wrapper"),e.textEditorMinHeight=window.getComputedStyle(n).height):e.textEditorMinHeight="";case 5:case"end":return t.stop()}},t)}))()},immediate:!0}},data:function(){return{textEditorMinHeight:""}},methods:{handleEditorWrapperClick:function(){this.setFocusEnd()},editorFocusEnd:function(){this.focus(),this.$refs.editorEgine.setRange({start:this.text.length,end:this.text.length})},delLineLeft:function(){var e=this.$refs.editorEgine,t=e.getRange(),n=t.start,r=this.getCursorLineLeftText();e.setRange({start:n-r.length-1,end:n}),this.replaceSelectionText("\n")},getCursorLineLeftText:function(){var e=this.$refs.editorEgine.getRange(),t=e.start,n=e.end;return t===n?this.text.slice(0,t).split("\n").pop():null},editorRegisterHotkeys:function(){var e;(e=this.$refs.editorEgine).registerHotkeys.apply(e,arguments)},editorScrollToTop:function(e){this.$refs.editorScroller.scrollTo(e)},getScrollInfo:function(){return this.$refs.editorScroller.getScrollInfo()},heightAtLine:function(){var e;return(e=this.$refs.editorEgine).heightAtLine.apply(e,arguments)},focus:function(){this.$refs.editorEgine.focus()},undo:function(){this.$refs.editorEgine.undo()},redo:function(){this.$refs.editorEgine.redo()},clear:function(){this.focus(),this.handleInput("")},replaceSelectionText:function(e){this.$refs.editorEgine.insertText(e)},getCurrentSelectedStr:function(){var e=this.$refs.editorEgine.getRange(),t=e.start,n=e.end;return n>t?this.text.slice(t,n):null},changeSelctionTo:function(e,t){var n=this.$refs.editorEgine,r=e.indexOf(t),o=n.getRange().end;if(-1!==r){var i=this.text.slice(0,o),a=i.length-e.length,l=a+r,s=l+t.length;this.$refs.editorEgine.setRange({start:l,end:s})}}}};Object(w["a"])(C);var k=C;k.render=o;var S=k,T=n(7),E=(n(18),"2.3.18"),O=function(e){e.component(S.name,S)};S.version=E,S.install=O,S.xss=T["a"],S.use=function(e,t){return"function"===typeof e?e(S,t):e.install(S,t),S};t["default"]=S}])["default"]})},3981:function(e,t,n){"use strict";var r=n(6031),o=n(6983),i=n(9441),a=!i("isSubsetOf",function(e){return e});r({target:"Set",proto:!0,real:!0,forced:a},{isSubsetOf:o})},3985:function(e,t,n){"use strict";var r=n(8031),o=n(9792),i=n(2634),a=n(1752).indexOf,l=n(3022),s=r([].push);e.exports=function(e,t){var n,r=i(e),c=0,u=[];for(n in r)!o(l,n)&&o(r,n)&&s(u,n);while(t.length>c)o(r,n=t[c++])&&(~a(u,n)||s(u,n));return u}},4221:function(e,t,n){"use strict";var r=n(8294),o=n(8621),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw new i("Wrong length or index");return n}},4329:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("forEach",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{forEach:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;i(t,function(t){e(t,n++)},{IS_RECORD:!0})}})},4388:function(e){"use strict";e.exports=!1},4396:function(e,t,n){"use strict";var r=n(1944);if(r)try{r([],"length")}catch(o){r=null}e.exports=r},4407:function(e,t,n){"use strict";var r=n(9283),o=n(8965),i=n(8371),a=n(2368),l=n(7993),s=n(306),c=o.Set,u=o.add,d=o.has;e.exports=function(e){var t=r(this),n=a(e),o=new c;return i(t)>n.size?s(n.getIterator(),function(e){d(t,e)&&u(o,e)}):l(t,function(e){n.includes(e)&&u(o,e)}),o}},4422:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4525:function(e,t,n){"use strict";var r=n(6031),o=n(6015);o&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},4561:function(e){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t+"+/",r=t+"-_",o=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t};e.exports={i2c:n,c2i:o(n),i2cUrl:r,c2iUrl:o(r)}},4564:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(856),a=n(3636),l=n(5326),s=n(4752),c=n(5479),u=n(6427),d=n(5336),p=n(9792),f=n(6972),h=n(6008).IteratorPrototype,m=n(8115),g=n(4388),v="constructor",b="Iterator",x=f("toStringTag"),y=TypeError,w=o[b],C=g||!l(w)||w.prototype!==h||!d(function(){w({})}),k=function(){if(i(this,h),s(this)===h)throw new y("Abstract class Iterator not directly constructable")},S=function(e,t){m?c(h,e,{configurable:!0,get:function(){return t},set:function(t){if(a(this),this===h)throw new y("You can't redefine this property");p(this,e)?this[e]=t:u(this,e,t)}}):h[e]=t};p(h,x)||S(x,b),!C&&p(h,v)&&h[v]!==Object||S(v,k),k.prototype=h,r({global:!0,constructor:!0,forced:C},{Iterator:k})},4605:function(e,t,n){"use strict";var r=n(8294),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},4645:function(e,t,n){"use strict";var r=n(6031),o=n(142),i=n(419),a=n(374),l=n(9988),s=n(5336),c=s(function(){return 4294967297!==[].push.call({length:4294967296},1)}),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=c||!u();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=o(this),n=i(t),r=arguments.length;l(n+r);for(var s=0;s<r;s++)t[n]=arguments[s],n++;return a(t,n),n}})},4651:function(e,t,n){"use strict";var r,o=n(5755),i=n(4396);try{r=[].__proto__===Array.prototype}catch(c){if(!c||"object"!==typeof c||!("code"in c)||"ERR_PROTO_ACCESS"!==c.code)throw c}var a=!!r&&i&&i(Object.prototype,"__proto__"),l=Object,s=l.getPrototypeOf;e.exports=a&&"function"===typeof a.get?o([a.get]):"function"===typeof s&&function(e){return s(null==e?e:l(e))}},4661:function(e,t,n){"use strict";var r=n(9283),o=n(8965),i=n(2341),a=n(8371),l=n(2368),s=n(7993),c=n(306),u=o.has,d=o.remove;e.exports=function(e){var t=r(this),n=l(e),o=i(t);return a(t)<=n.size?s(t,function(e){n.includes(e)&&d(o,e)}):c(n.getIterator(),function(e){u(o,e)&&d(o,e)}),o}},4686:function(e,t,n){"use strict";var r=n(6031),o=n(7726),i=n(9441),a=!i("isSupersetOf",function(e){return!e});r({target:"Set",proto:!0,real:!0,forced:a},{isSupersetOf:o})},4736:function(e,t,n){"use strict";n(3561)},4752:function(e,t,n){"use strict";var r=n(9792),o=n(5326),i=n(142),a=n(2094),l=n(5266),s=a("IE_PROTO"),c=Object,u=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=i(e);if(r(t,s))return t[s];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},4849:function(e,t,n){"use strict";var r=n(8115),o=n(5336);e.exports=r&&o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},4875:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4914:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},4944:function(e,t,n){"use strict";var r=n(9331),o=n(5326),i=n(6387),a=n(6972),l=a("toStringTag"),s=Object,c="Arguments"===i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=s(e),l))?n:c?i(t):"Object"===(r=i(t))&&o(t.callee)?"Arguments":r}},5013:function(e,t,n){"use strict";var r=n(6031),o=n(6015);o&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},5038:function(e,t,n){"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(766);e.exports=i.call(r,o)},5049:function(e){"use strict";e.exports=Object},5080:function(e,t,n){"use strict";var r=n(4875),o=n(2662);e.exports=function(e){if(o){try{return r.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},5143:function(e){"use strict";e.exports=SyntaxError},5222:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,o){return r.fromToBase(e,t,n,o)}n.en.relativeTime=o,r.fromToBase=function(t,r,i,a,l){for(var s,c,u,d=i.$locale().relativeTime||o,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=p.length,h=0;h<f;h+=1){var m=p[h];m.d&&(s=a?n(t).diff(i,m.d,!0):i.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(s));if(u=s>0,g<=m.r||!m.r){g<=1&&h>0&&(m=p[h-1]);var v=d[m.l];l&&(g=l(""+g)),c="string"==typeof v?v.replace("%d",g):v(g,r,m.l,u);break}}if(r)return c;var b=u?d.future:d.past;return"function"==typeof b?b(c):b.replace("%s",c)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}})},5266:function(e,t,n){"use strict";var r=n(5336);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},5300:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,r,o){var i,a=function(e,n,r){void 0===r&&(r={});var o=new Date(e),i=function(e,n){void 0===n&&(n={});var r=n.timeZoneName||"short",o=e+"|"+r,i=t[o];return i||(i=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),t[o]=i),i}(n,r);return i.formatToParts(o)},l=function(t,n){for(var r=a(t,n),i=[],l=0;l<r.length;l+=1){var s=r[l],c=s.type,u=s.value,d=e[c];d>=0&&(i[d]=parseInt(u,10))}var p=i[3],f=24===p?0:p,h=i[0]+"-"+i[1]+"-"+i[2]+" "+f+":"+i[4]+":"+i[5]+":000",m=+t;return(o.utc(h).valueOf()-(m-=m%1e3))/6e4},s=r.prototype;s.tz=function(e,t){void 0===e&&(e=i);var n,r=this.utcOffset(),a=this.toDate(),l=a.toLocaleString("en-US",{timeZone:e}),s=Math.round((a-new Date(l))/1e3/60),c=15*-Math.round(a.getTimezoneOffset()/15)-s;if(Number(c)){if(n=o(l,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(c,!0),t){var u=n.utcOffset();n=n.add(r-u,"minute")}}else n=this.utcOffset(0,t);return n.$x.$timezone=e,n},s.offsetName=function(e){var t=this.$x.$timezone||o.tz.guess(),n=a(this.valueOf(),t,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return n&&n.value};var c=s.startOf;s.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var n=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(n,e,t).tz(this.$x.$timezone,!0)},o.tz=function(e,t,n){var r=n&&t,a=n||t||i,s=l(+o(),a);if("string"!=typeof e)return o(e).tz(a);var c=function(e,t,n){var r=e-60*t*1e3,o=l(r,n);if(t===o)return[r,t];var i=l(r-=60*(o-t)*1e3,n);return o===i?[r,o]:[e-60*Math.min(o,i)*1e3,Math.max(o,i)]}(o.utc(e,r).valueOf(),s,a),u=c[0],d=c[1],p=o(u).utcOffset(d);return p.$x.$timezone=a,p},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(e){i=e}}})},5326:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},5336:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},5479:function(e,t,n){"use strict";var r=n(1940),o=n(3560);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},5543:function(e,t,n){"use strict";var r=n(4875),o=n(1595),i=n(6387),a=r.ArrayBuffer,l=r.TypeError;e.exports=a&&o(a.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==i(e))throw new l("ArrayBuffer expected");return e.byteLength}},5573:function(e,t,n){"use strict";var r=n(5336);e.exports=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},5699:function(e,t,n){"use strict";var r=n(4944),o=TypeError;e.exports=function(e){if("Uint8Array"===r(e))return e;throw new o("Argument is not an Uint8Array")}},5755:function(e,t,n){"use strict";var r=n(766),o=n(3040),i=n(3599),a=n(7433);e.exports=function(e){if(e.length<1||"function"!==typeof e[0])throw new o("a function is required");return a(r,i,e)}},5765:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("find",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{find:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;return i(t,function(t,r){if(e(t,n++))return r(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},5781:function(e){"use strict";e.exports=Math.pow},5788:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5816:function(e,t,n){"use strict";var r=n(6972),o=n(7450),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},5901:function(e,t,n){"use strict";var r=n(7375),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",d=function(e,t){var n={__proto__:null},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;d=d.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var p,f=t.parameterLimit===1/0?void 0:t.parameterLimit,h=d.split(t.delimiter,f),m=-1,g=t.charset;if(t.charsetSentinel)for(p=0;p<h.length;++p)0===h[p].indexOf("utf8=")&&(h[p]===u?g="utf-8":h[p]===c&&(g="iso-8859-1"),m=p,p=h.length);for(p=0;p<h.length;++p)if(p!==m){var v,b,x=h[p],y=x.indexOf("]="),w=-1===y?x.indexOf("="):y+1;-1===w?(v=t.decoder(x,a.decoder,g,"key"),b=t.strictNullHandling?null:""):(v=t.decoder(x.slice(0,w),a.decoder,g,"key"),b=r.maybeMap(s(x.slice(w+1),t),function(e){return t.decoder(e,a.decoder,g,"value")})),b&&t.interpretNumericEntities&&"iso-8859-1"===g&&(b=l(b)),x.indexOf("[]=")>-1&&(b=i(b)?[b]:b);var C=o.call(n,v);C&&"combine"===t.duplicates?n[v]=r.combine(n[v],b):C&&"last"!==t.duplicates||(n[v]=b)}return n},p=function(e,t,n,r){for(var o=r?t:s(t,n),i=e.length-1;i>=0;--i){var a,l=e[i];if("[]"===l&&n.parseArrays)a=n.allowEmptyArrays&&(""===o||n.strictNullHandling&&null===o)?[]:[].concat(o);else{a=n.plainObjects?Object.create(null):{};var c="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,d=parseInt(u,10);n.parseArrays||""!==u?!isNaN(d)&&l!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(a=[],a[d]=o):"__proto__"!==u&&(a[u]=o):a={0:o}}o=a}return o},f=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&a.exec(i),c=s?i.slice(0,s.index):i,u=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}var d=0;while(n.depth>0&&null!==(s=l.exec(i))&&d<n.depth){if(d+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}if(s){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+i.slice(s.index)+"]")}return p(u,t,n,r)}},h=function(e){if(!e)return a;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.decodeDotInKeys&&"boolean"!==typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&"undefined"!==typeof e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset,n="undefined"===typeof e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");var o="undefined"===typeof e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots;return{allowDots:o,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"===typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"===typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var n=h(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var o="string"===typeof e?d(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(o),l=0;l<a.length;++l){var s=a[l],c=f(s,o[s],n,"string"===typeof e);i=r.merge(i,c,n)}return!0===n.allowSparse?i:r.compact(i)}},5924:function(e,t,n){"use strict";var r=n(4875),o=n(7990),i=n(6387),a=function(e){return o.slice(0,e.length)===e};e.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"}()},5979:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(8031),a=n(1833),l=n(5699),s=n(9926),c=n(4561),u=n(2351),d=c.i2c,p=c.i2cUrl,f=i("".charAt),h=o.Uint8Array,m=!h||!h.prototype.toBase64||!function(){try{var e=new h;e.toBase64(null)}catch(t){return!0}}();h&&r({target:"Uint8Array",proto:!0,forced:m},{toBase64:function(){var e=l(this),t=arguments.length?a(arguments[0]):void 0,n="base64"===u(t)?d:p,r=!!t&&!!t.omitPadding;s(this.buffer);for(var o,i="",c=0,h=e.length,m=function(e){return f(n,o>>6*e&63)};c+2<h;c+=3)o=(e[c]<<16)+(e[c+1]<<8)+e[c+2],i+=m(3)+m(2)+m(1)+m(0);return c+2===h?(o=(e[c]<<16)+(e[c+1]<<8),i+=m(3)+m(2)+m(1)+(r?"":"=")):c+1===h&&(o=e[c]<<16,i+=m(3)+m(2)+(r?"":"==")),i}})},5996:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},6008:function(e,t,n){"use strict";var r,o,i,a=n(5336),l=n(5326),s=n(9241),c=n(2735),u=n(4752),d=n(7147),p=n(6972),f=n(4388),h=p("iterator"),m=!1;[].keys&&(i=[].keys(),"next"in i?(o=u(u(i)),o!==Object.prototype&&(r=o)):m=!0);var g=!s(r)||a(function(){var e={};return r[h].call(e)!==e});g?r={}:f&&(r=c(r)),l(r[h])||d(r,h,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},6015:function(e,t,n){"use strict";var r=n(4875),o=n(8031),i=n(1595),a=n(4221),l=n(9926),s=n(5543),c=n(8308),u=n(8785),d=r.structuredClone,p=r.ArrayBuffer,f=r.DataView,h=Math.min,m=p.prototype,g=f.prototype,v=o(m.slice),b=i(m,"resizable","get"),x=i(m,"maxByteLength","get"),y=o(g.getInt8),w=o(g.setInt8);e.exports=(u||c)&&function(e,t,n){var r,o=s(e),i=void 0===t?o:a(t),m=!b||!b(e);if(l(e),u&&(e=d(e,{transfer:[e]}),o===i&&(n||m)))return e;if(o>=i&&(!n||m))r=v(e,0,i);else{var g=n&&!m&&x?{maxByteLength:x(e)}:void 0;r=new p(i,g);for(var C=new f(e),k=new f(r),S=h(i,o),T=0;T<S;T++)w(k,T,y(C,T))}return u||c(e),r}},6031:function(e,t,n){"use strict";var r=n(4875),o=n(9818).f,i=n(7302),a=n(7147),l=n(888),s=n(2303),c=n(6923);e.exports=function(e,t){var n,u,d,p,f,h,m=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[m]||l(m,{}):r[m]&&r[m].prototype,u)for(d in t){if(f=t[d],e.dontCallGetSet?(h=o(u,d),p=h&&h.value):p=u[d],n=c(g?d:m+(v?".":"#")+d,e.forced),!n&&void 0!==p){if(typeof f==typeof p)continue;s(f,p)}(e.sham||p&&p.sham)&&i(f,"sham",!0),a(u,d,f,e)}}},6205:function(e,t,n){"use strict";var r=n(6387),o=n(8031);e.exports=function(e){if("Function"===r(e))return o(e)}},6356:function(e,t,n){"use strict";var r=n(4944),o=n(227),i=n(1156),a=n(7450),l=n(6972),s=l("iterator");e.exports=function(e){if(!i(e))return o(e,s)||o(e,"@@iterator")||a[r(e)]}},6378:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:r.RFC3986,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986}},6387:function(e,t,n){"use strict";var r=n(8031),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},6427:function(e,t,n){"use strict";var r=n(8115),o=n(3560),i=n(6541);e.exports=function(e,t,n){r?o.f(e,t,i(0,n)):e[t]=n}},6467:function(e,t,n){"use strict";var r=n(876),o=n(5755),i=o([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&i(e,".prototype.")>-1?o([n]):n}},6509:function(e){"use strict";e.exports=Math.floor},6540:function(e,t,n){"use strict";var r=n(7434);e.exports=r("document","documentElement")},6541:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6631:function(e){"use strict";e.exports=RangeError},6632:function(e){"use strict";e.exports="undefined"!==typeof Reflect&&Reflect&&Reflect.apply},6676:function(e,t,n){"use strict";var r=n(8031);e.exports=r({}.isPrototypeOf)},6738:function(e){"use strict";e.exports=EvalError},6923:function(e,t,n){"use strict";var r=n(5336),o=n(5326),i=/#|\.prototype\./,a=function(e,t){var n=s[l(e)];return n===u||n!==c&&(o(t)?r(t):!!t)},l=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},6934:function(e){"use strict";var t=TypeError;e.exports=function(e){if("string"==typeof e)return e;throw new t("Argument is not a string")}},6972:function(e,t,n){"use strict";var r=n(4875),o=n(2940),i=n(9792),a=n(8287),l=n(2106),s=n(2371),c=r.Symbol,u=o("wks"),d=s?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return i(u,e)||(u[e]=l&&i(c,e)?c[e]:d("Symbol."+e)),u[e]}},6983:function(e,t,n){"use strict";var r=n(9283),o=n(8371),i=n(7993),a=n(2368);e.exports=function(e){var t=r(this),n=a(e);return!(o(t)>n.size)&&!1!==i(t,function(e){if(!n.includes(e))return!1},!0)}},7147:function(e,t,n){"use strict";var r=n(5326),o=n(3560),i=n(1940),a=n(888);e.exports=function(e,t,n,l){l||(l={});var s=l.enumerable,c=void 0!==l.name?l.name:t;if(r(n)&&i(n,c,l),l.global)s?e[t]=n:a(t,n);else{try{l.unsafe?e[t]&&(s=!0):delete e[t]}catch(u){}s?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},7302:function(e,t,n){"use strict";var r=n(8115),o=n(3560),i=n(6541);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},7328:function(e,t,n){"use strict";var r,o,i,a=n(1395),l=n(4875),s=n(9241),c=n(7302),u=n(9792),d=n(9812),p=n(2094),f=n(3022),h="Object already initialized",m=l.TypeError,g=l.WeakMap,v=function(e){return i(e)?o(e):r(e,{})},b=function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}};if(a||d.state){var x=d.state||(d.state=new g);x.get=x.get,x.has=x.has,x.set=x.set,r=function(e,t){if(x.has(e))throw new m(h);return t.facade=e,x.set(e,t),t},o=function(e){return x.get(e)||{}},i=function(e){return x.has(e)}}else{var y=p("state");f[y]=!0,r=function(e,t){if(u(e,y))throw new m(h);return t.facade=e,c(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:r,get:o,has:i,enforce:v,getterFor:b}},7375:function(e,t,n){"use strict";var r=n(6378),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)"undefined"!==typeof n[o]&&r.push(n[o]);t.obj[t.prop]=r}}},s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},c=function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(i(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,r)),i(t)&&i(n)?(n.forEach(function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"===typeof a&&n&&"object"===typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t},a)},u=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},d=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},p=1024,f=function(e,t,n,o,i){if(0===e.length)return e;var l=e;if("symbol"===typeof e?l=Symbol.prototype.toString.call(e):"string"!==typeof e&&(l=String(e)),"iso-8859-1"===n)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",c=0;c<l.length;c+=p){for(var u=l.length>=p?l.slice(c,c+p):l,d=[],f=0;f<u.length;++f){var h=u.charCodeAt(f);45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===r.RFC1738&&(40===h||41===h)?d[d.length]=u.charAt(f):h<128?d[d.length]=a[h]:h<2048?d[d.length]=a[192|h>>6]+a[128|63&h]:h<55296||h>=57344?d[d.length]=a[224|h>>12]+a[128|h>>6&63]+a[128|63&h]:(f+=1,h=65536+((1023&h)<<10|1023&u.charCodeAt(f)),d[d.length]=a[240|h>>18]+a[128|h>>12&63]+a[128|h>>6&63]+a[128|63&h])}s+=d.join("")}return s},h=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],u=i[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:i,prop:c}),n.push(u))}return l(t),e},m=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},g=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},v=function(e,t){return[].concat(e,t)},b=function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};e.exports={arrayToObject:s,assign:u,combine:v,compact:h,decode:d,encode:f,isBuffer:g,isRegExp:m,maybeMap:b,merge:c}},7401:function(e,t,n){(function(e){e(n(2276))})(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,o){var i,a,l=r.indentUnit,s={},c=o.htmlMode?t:n;for(var u in c)s[u]=c[u];for(var u in o)s[u]=o[u];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r,o=e.next();return"<"==o?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(h("atom","]]>")):null:e.match("--")?n(h("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=h("meta","?>"),"meta"):(i=e.eat("/")?"closeTag":"openTag",t.tokenize=p,"tag bracket"):"&"==o?(r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?"atom":"error"):(e.eatWhile(/[^&<]/),null)}function p(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=d,i=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return i="equals",null;if("<"==n){t.tokenize=d,t.state=y,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=f(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e){var t=function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=p;break}return"string"};return t.isInAttribute=!0,t}function h(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function m(e){return function(t,n){var r;while(null!=(r=t.next())){if("<"==r)return n.tokenize=m(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=d;break}return n.tokenize=m(e-1),n.tokenize(t,n)}}return"meta"}}function g(e){return e&&e.toLowerCase()}function v(e,t,n){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=n,(s.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function b(e){e.context&&(e.context=e.context.prev)}function x(e,t){var n;while(1){if(!e.context)return;if(n=e.context.tagName,!s.contextGrabbers.hasOwnProperty(g(n))||!s.contextGrabbers[g(n)].hasOwnProperty(g(t)))return;b(e)}}function y(e,t,n){return"openTag"==e?(n.tagStart=t.column(),w):"closeTag"==e?C:y}function w(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",T):s.allowMissingTagName&&"endTag"==e?(a="tag bracket",T(e,t,n)):(a="error",w)}function C(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&s.implicitlyClosed.hasOwnProperty(g(n.context.tagName))&&b(n),n.context&&n.context.tagName==r||!1===s.matchClosing?(a="tag",k):(a="tag error",S)}return s.allowMissingTagName&&"endTag"==e?(a="tag bracket",k(e,t,n)):(a="error",S)}function k(e,t,n){return"endTag"!=e?(a="error",k):(b(n),y)}function S(e,t,n){return a="error",k(e,t,n)}function T(e,t,n){if("word"==e)return a="attribute",E;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||s.autoSelfClosers.hasOwnProperty(g(r))?x(n,r):(x(n,r),n.context=new v(n,r,o==n.indented)),y}return a="error",T}function E(e,t,n){return"equals"==e?O:(s.allowMissing||(a="error"),T(e,t,n))}function O(e,t,n){return"string"==e?D:"word"==e&&s.allowUnquoted?(a="string",T):(a="error",T(e,t,n))}function D(e,t,n){return"string"==e?D:T(e,t,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:y,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;i=null;var n=t.tokenize(e,t);return(n||i)&&"comment"!=n&&(a=null,t.state=t.state(i||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+l;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=p&&t.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==s.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+l*(s.multilineTagIndentFactor||1);if(s.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var i=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(i&&i[1])while(o){if(o.tagName==i[2]){o=o.prev;break}if(!s.implicitlyClosed.hasOwnProperty(g(o.tagName)))break;o=o.prev}else if(i)while(o){var a=s.contextGrabbers[g(o.tagName)];if(!a||!a.hasOwnProperty(g(i[2])))break;o=o.prev}while(o&&o.prev&&!o.startOfLine)o=o.prev;return o?o.indent+l:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:s.htmlMode?"html":"xml",helperType:s.htmlMode?"html":"xml",skipAttribute:function(e){e.state==O&&(e.state=T)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)t.push(n.tagName);return t.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},7433:function(e,t,n){"use strict";var r=n(766),o=n(9963),i=n(3599),a=n(6632);e.exports=a||r.call(i,o)},7434:function(e,t,n){"use strict";var r=n(4875),o=n(5326),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},7450:function(e){"use strict";e.exports={}},7454:function(e,t,n){"use strict";var r=n(1491),o=n(5901),i=n(6378);e.exports={formats:i,parse:o,stringify:r}},7534:function(e,t,n){"use strict";var r=n(9241);e.exports=function(e){return r(e)||null===e}},7536:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}e.exports=t},7578:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(43),a=n(3636),l=n(8848),s=n(8637),c=n(926),u=n(2846),d=n(2633),p=n(7716),f=n(4388),h=!f&&!d("map",function(){}),m=!f&&!h&&p("map",TypeError),g=f||h||m,v=s(function(){var e=this.iterator,t=a(o(this.next,e)),n=this.done=!!t.done;if(!n)return c(e,this.mapper,[t.value,this.counter++],!0)});r({target:"Iterator",proto:!0,real:!0,forced:g},{map:function(e){a(this);try{i(e)}catch(t){u(this,"throw",t)}return m?o(m,this,e):new v(l(this),{mapper:e})}})},7610:function(e,t,n){"use strict";n(2345)},7695:function(e,t,n){"use strict";n.d(t,{oR:function(){return Ae}});var r=n(4061);const o={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},i={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},a={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},l={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},s={dangerouslyHTMLString:!1,multiple:!0,position:o.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},c={rtl:!1,newestOnTop:!1,toastClassName:""},u={...s,...c};a.DEFAULT;var d=(e=>(e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e))(d||{}),p=(e=>(e.ENTRANCE_ANIMATION_END="d",e))(p||{});const f={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},h={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},m={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},g={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},v="Toastify--animate Toastify__none-enter";function b(e,t=!1){var n;let r=f;if(e&&"string"!=typeof e)r=e;else switch(e){case"flip":r=g;break;case"zoom":r=m;break;case"slide":r=h;break}if(t)r.enter=v;else if(r.enter===v){const e=null==(n=r.exit.split("__")[1])?void 0:n.split("-")[0];r.enter=`Toastify--animate Toastify__${e}-enter`}return r}function x(e){return e.containerId||String(e.position)}const y="will-unmount";function w(e=o.TOP_RIGHT){return!!document.querySelector(`.${d.CSS_NAMESPACE}__toast-container--${e}`)}function C(e=o.TOP_RIGHT){return`${d.CSS_NAMESPACE}__toast-container--${e}`}function k(e,t,n=!1){const r=[`${d.CSS_NAMESPACE}__toast-container`,`${d.CSS_NAMESPACE}__toast-container--${e}`,n?`${d.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Z(t)?t({position:e,rtl:n,defaultClassName:r}):`${r} ${t||""}`}function S(e){var t;const{position:n,containerClassName:r,rtl:o=!1,style:i={}}=e,a=d.CSS_NAMESPACE,l=C(n),s=document.querySelector(`.${a}`),c=document.querySelector(`.${l}`),u=!!c&&!(null!=(t=c.className)&&t.includes(y)),p=s||document.createElement("div"),f=document.createElement("div");f.className=k(n,r,o),f.dataset.testid=`${d.CSS_NAMESPACE}__toast-container--${n}`,f.id=x(e);for(const d in i)if(Object.prototype.hasOwnProperty.call(i,d)){const e=i[d];f.style[d]=e}return s||(p.className=d.CSS_NAMESPACE,document.body.appendChild(p)),u||p.appendChild(f),f}function T(e){var t,n,r;const o="string"==typeof e?e:(null==(t=e.currentTarget)?void 0:t.id)||(null==(n=e.target)?void 0:n.id),i=document.getElementById(o);i&&i.removeEventListener("animationend",T,!1);try{E[o].unmount(),null==(r=document.getElementById(o))||r.remove(),delete E[o],delete $[o]}catch{}}const E=(0,r.reactive)({});function O(e,t){const n=document.getElementById(String(t));n&&(E[n.id]=e)}function D(e,t=!0){const n=String(e);if(!E[n])return;const r=document.getElementById(n);r&&r.classList.add(y),t?(I(e),r&&r.addEventListener("animationend",T,!1)):T(n),L.items=L.items.filter(t=>t.containerId!==e)}function M(e){for(const t in E)D(t,e);L.items=[]}function A(e,t){const n=document.getElementById(e.toastId);if(n){let r=e;r={...r,...b(r.transition)};const o=r.appendPosition?`${r.exit}--${r.position}`:r.exit;n.className+=` ${o}`,t&&t(n)}}function I(e){for(const t in $)if(t===e)for(const e of $[t]||[])A(e)}function N(e){const t=z().find(t=>t.toastId===e);return null==t?void 0:t.containerId}function R(e){return document.getElementById(e)}function F(e){const t=R(e.containerId);return t&&t.classList.contains(y)}function _(e){var t;const n=(0,r.isVNode)(e.content)?(0,r.toRaw)(e.content.props):null;return null!=n?n:(0,r.toRaw)(null!=(t=e.data)?t:{})}function P(e){return e?L.items.filter(t=>t.containerId===e).length>0:L.items.length>0}function j(){if(L.items.length>0){const e=L.items.shift();B(null==e?void 0:e.toastContent,null==e?void 0:e.toastProps)}}const $=(0,r.reactive)({}),L=(0,r.reactive)({items:[]});function z(){const e=(0,r.toRaw)($);return Object.values(e).reduce((e,t)=>[...e,...t],[])}function V(e){return z().find(t=>t.toastId===e)}function B(e,t={}){if(F(t)){const n=R(t.containerId);n&&n.addEventListener("animationend",H.bind(null,e,t),!1)}else H(e,t)}function H(e,t={}){const n=R(t.containerId);n&&n.removeEventListener("animationend",H.bind(null,e,t),!1);const o=$[t.containerId]||[],i=o.length>0;if(!i&&!w(t.position)){const e=S(t),n=(0,r.createApp)(ke,t);t.useHandler&&t.useHandler(n),n.mount(e),O(n,e.id)}i&&!t.updateId&&(t.position=o[0].position),(0,r.nextTick)(()=>{t.updateId?W.update(t):W.add(e,t)})}const W={add(e,t){const{containerId:n=""}=t;n&&($[n]=$[n]||[],$[n].find(e=>e.toastId===t.toastId)||setTimeout(()=>{var e,r;t.newestOnTop?null==(e=$[n])||e.unshift(t):null==(r=$[n])||r.push(t),t.onOpen&&t.onOpen(_(t))},t.delay||0))},remove(e){if(e){const t=N(e);if(t){const n=$[t];let o=n.find(t=>t.toastId===e);$[t]=n.filter(t=>t.toastId!==e),!$[t].length&&!P(t)&&D(t,!1),j(),(0,r.nextTick)(()=>{null!=o&&o.onClose&&(o.onClose(_(o)),o=void 0)})}}},update(e={}){const{containerId:t=""}=e;if(t&&e.updateId){$[t]=$[t]||[];const n=$[t].find(t=>t.toastId===e.toastId),r=(null==n?void 0:n.position)!==e.position||(null==n?void 0:n.transition)!==e.transition,o={...e,disabledEnterTransition:!r,updateId:void 0};W.dismissForce(null==e?void 0:e.toastId),setTimeout(()=>{Ae(o.content,o)},e.delay||0)}},clear(e,t=!0){e?D(e,t):M(t)},dismissCallback(e){var t;const n=null==(t=e.currentTarget)?void 0:t.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",W.dismissCallback,!1),setTimeout(()=>{W.remove(n)}))},dismiss(e){if(e){const t=z();for(const n of t)if(n.toastId===e){A(n,e=>{e.addEventListener("animationend",W.dismissCallback,!1)});break}}},dismissForce(e){if(e){const t=z();for(const n of t)if(n.toastId===e){const t=document.getElementById(e);t&&(t.remove(),t.removeEventListener("animationend",W.dismissCallback,!1),W.remove(e));break}}}},q=(0,r.reactive)({useHandler:void 0}),U=(0,r.reactive)({}),G=(0,r.reactive)({});function Y(){return Math.random().toString(36).substring(2,9)}function K(e){return"number"==typeof e&&!isNaN(e)}function X(e){return"string"==typeof e}function Z(e){return"function"==typeof e}function J(...e){return(0,r.mergeProps)(...e)}function Q(e){return"object"==typeof e&&(!(null==e||!e.render)||!(null==e||!e.setup)||"object"==typeof(null==e?void 0:e.type))}function ee(e={}){U[`${d.CSS_NAMESPACE}-default-options`]=e}function te(){return U[`${d.CSS_NAMESPACE}-default-options`]||u}function ne(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||e?"dark":"light"}var re=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e))(re||{});const oe={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:o.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:i.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:a.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},ie={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:a.DEFAULT},theme:{type:String,required:!1,default:i.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},ae=(0,r.defineComponent)({name:"ProgressBar",props:ie,setup(e,{attrs:t}){const n=(0,r.ref)(),o=(0,r.computed)(()=>e.hide?"true":"false"),i=(0,r.computed)(()=>({...t.style||{},animationDuration:`${!0===e.autoClose?5e3:e.autoClose}ms`,animationPlayState:e.isRunning?"running":"paused",opacity:e.hide||!1===e.autoClose?0:1,transform:e.controlledProgress?`scaleX(${e.progress})`:"none"})),a=(0,r.computed)(()=>[`${d.CSS_NAMESPACE}__progress-bar`,e.controlledProgress?`${d.CSS_NAMESPACE}__progress-bar--controlled`:`${d.CSS_NAMESPACE}__progress-bar--animated`,`${d.CSS_NAMESPACE}__progress-bar-theme--${e.theme}`,`${d.CSS_NAMESPACE}__progress-bar--${e.type}`,e.rtl?`${d.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),l=(0,r.computed)(()=>`${a.value} ${(null==t?void 0:t.class)||""}`),s=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},c=()=>{e.isIn&&e.closeToast&&!1!==e.autoClose&&(e.closeToast(),s())},u=(0,r.computed)(()=>e.controlledProgress?null:c),p=(0,r.computed)(()=>e.controlledProgress?c:null);return(0,r.watchEffect)(()=>{n.value&&(s(),n.value.onanimationend=u.value,n.value.ontransitionend=p.value)}),()=>(0,r.createVNode)("div",{ref:n,role:"progressbar","aria-hidden":o.value,"aria-label":"notification timer",class:l.value,style:i.value},null)}}),le=(0,r.defineComponent)({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:i.AUTO},type:{type:String,required:!1,default:i.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(e){return()=>(0,r.createVNode)("button",{class:`${d.CSS_NAMESPACE}__close-button ${d.CSS_NAMESPACE}__close-button--${e.theme}`,type:"button",onClick:t=>{t.stopPropagation(),e.closeToast&&e.closeToast(t)},"aria-label":e.ariaLabel},[(0,r.createVNode)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[(0,r.createVNode)("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),se=({theme:e,type:t,path:n,...o})=>(0,r.createVNode)("svg",(0,r.mergeProps)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`},o),[(0,r.createVNode)("path",{d:n},null)]);function ce(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function ue(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function de(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function pe(e){return(0,r.createVNode)(se,(0,r.mergeProps)(e,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function fe(){return(0,r.createVNode)("div",{class:`${d.CSS_NAMESPACE}__spinner`},null)}const he={info:ue,warning:ce,success:de,error:pe,spinner:fe},me=e=>e in he;function ge({theme:e,type:t,isLoading:n,icon:o}){let i;const a=!!n||"loading"===t,l={theme:e,type:t};if(a&&(void 0===o||"boolean"==typeof o))return he.spinner();if(!1!==o){if(Q(o))i=(0,r.toRaw)(o);else if(Z(o)){const e=o;l.type=a?"loading":t,i=e(l),i=!i&&a?he.spinner():i}else(0,r.isVNode)(o)?i=(0,r.cloneVNode)(o,l):X(o)||K(o)?i=o:me(t)&&(i=he[t](l));return i}}const ve=()=>{};function be(e,t,n=d.COLLAPSE_DURATION){const{scrollHeight:r,style:o}=e,i=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${i}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,i)})})}function xe(e){const t=(0,r.ref)(!1),n=(0,r.ref)(!1),o=(0,r.ref)(!1),i=(0,r.ref)(re.Enter),a=(0,r.reactive)({...e,appendPosition:e.appendPosition||!1,collapse:typeof e.collapse>"u"||e.collapse,collapseDuration:e.collapseDuration||d.COLLAPSE_DURATION}),l=a.done||ve,s=(0,r.computed)(()=>a.appendPosition?`${a.enter}--${a.position}`:a.enter),c=(0,r.computed)(()=>a.appendPosition?`${a.exit}--${a.position}`:a.exit),u=(0,r.computed)(()=>e.pauseOnHover?{onMouseenter:x,onMouseleave:b}:{});function f(){const t=s.value.split(" ");m().addEventListener(p.ENTRANCE_ANIMATION_END,b,{once:!0});const n=e=>{const r=m();e.target===r&&(r.dispatchEvent(new Event(p.ENTRANCE_ANIMATION_END)),r.removeEventListener("animationend",n),r.removeEventListener("animationcancel",n),i.value===re.Enter&&"animationcancel"!==e.type&&r.classList.remove(...t))},r=()=>{const e=m();e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)};e.pauseOnFocusLoss&&g(),r()}function h(){if(!m())return;const e=()=>{const t=m();t.removeEventListener("animationend",e),a.collapse?be(t,l,a.collapseDuration):l()},t=()=>{const t=m();i.value=re.Exit,t&&(t.className+=` ${c.value}`,t.addEventListener("animationend",e))};n.value||(o.value?e():setTimeout(t))}function m(){return e.toastRef.value}function g(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function v(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function b(){(!e.loading.value||void 0===e.isLoading)&&(t.value=!0)}function x(){t.value=!1}function y(e){e&&(e.stopPropagation(),e.preventDefault()),n.value=!1}return(0,r.watchEffect)(h),(0,r.watchEffect)(()=>{const e=z();n.value=e.findIndex(e=>e.toastId===a.toastId)>-1}),(0,r.watchEffect)(()=>{void 0!==e.isLoading&&(e.loading.value?x():b())}),(0,r.onMounted)(f),(0,r.onUnmounted)(()=>{e.pauseOnFocusLoss&&v()}),{isIn:n,isRunning:t,hideToast:y,eventHandlers:u}}const ye=(0,r.defineComponent)({name:"ToastItem",inheritAttrs:!1,props:oe,setup(e){const t=(0,r.ref)(),n=(0,r.computed)(()=>!!e.isLoading),o=(0,r.computed)(()=>void 0!==e.progress&&null!==e.progress),i=(0,r.computed)(()=>ge(e)),a=(0,r.computed)(()=>[`${d.CSS_NAMESPACE}__toast`,`${d.CSS_NAMESPACE}__toast-theme--${e.theme}`,`${d.CSS_NAMESPACE}__toast--${e.type}`,e.rtl?`${d.CSS_NAMESPACE}__toast--rtl`:void 0,e.toastClassName||""].filter(Boolean).join(" ")),{isRunning:l,isIn:s,hideToast:c,eventHandlers:u}=xe({toastRef:t,loading:n,done:()=>{W.remove(e.toastId)},...b(e.transition,e.disabledEnterTransition),...e});return()=>(0,r.createVNode)("div",(0,r.mergeProps)({id:e.toastId,class:a.value,style:e.toastStyle||{},ref:t,"data-testid":`toast-item-${e.toastId}`,onClick:t=>{e.closeOnClick&&c(),e.onClick&&e.onClick(t)}},u.value),[(0,r.createVNode)("div",{role:e.role,"data-testid":"toast-body",class:`${d.CSS_NAMESPACE}__toast-body ${e.bodyClassName||""}`},[null!=i.value&&(0,r.createVNode)("div",{"data-testid":`toast-icon-${e.type}`,class:[`${d.CSS_NAMESPACE}__toast-icon`,e.isLoading?"":`${d.CSS_NAMESPACE}--animate-icon ${d.CSS_NAMESPACE}__zoom-enter`].join(" ")},[Q(i.value)?(0,r.h)((0,r.toRaw)(i.value),{theme:e.theme,type:e.type}):Z(i.value)?i.value({theme:e.theme,type:e.type}):i.value]),(0,r.createVNode)("div",{"data-testid":"toast-content"},[Q(e.content)?(0,r.h)((0,r.toRaw)(e.content),{toastProps:(0,r.toRaw)(e),closeToast:c,data:e.data,...e.expandCustomProps?e.contentProps:{contentProps:e.contentProps||{}}}):Z(e.content)?e.content({toastProps:(0,r.toRaw)(e),closeToast:c,data:e.data}):e.dangerouslyHTMLString?(0,r.h)("div",{innerHTML:e.content}):e.content])]),(void 0===e.closeButton||!0===e.closeButton)&&(0,r.createVNode)(le,{theme:e.theme,closeToast:e=>{e.stopPropagation(),e.preventDefault(),c()}},null),Q(e.closeButton)?(0,r.h)((0,r.toRaw)(e.closeButton),{closeToast:c,type:e.type,theme:e.theme}):Z(e.closeButton)?e.closeButton({closeToast:c,type:e.type,theme:e.theme}):null,(0,r.createVNode)(ae,{className:e.progressClassName,style:e.progressStyle,rtl:e.rtl,theme:e.theme,isIn:s.value,type:e.type,hide:e.hideProgressBar,isRunning:l.value,autoClose:e.autoClose,controlledProgress:o.value,progress:e.progress,closeToast:e.isLoading?void 0:c},null)])}});let we=0;function Ce(){typeof window>"u"||(we&&window.cancelAnimationFrame(we),we=window.requestAnimationFrame(Ce),G.lastUrl!==window.location.href&&(G.lastUrl=window.location.href,W.clear()))}const ke=(0,r.defineComponent)({name:"ToastifyContainer",inheritAttrs:!1,props:oe,setup(e){const t=(0,r.computed)(()=>e.containerId),n=(0,r.computed)(()=>$[t.value]||[]),o=(0,r.computed)(()=>n.value.filter(t=>t.position===e.position));return(0,r.onMounted)(()=>{typeof window<"u"&&e.clearOnUrlChange&&window.requestAnimationFrame(Ce)}),(0,r.onUnmounted)(()=>{typeof window<"u"&&we&&(window.cancelAnimationFrame(we),G.lastUrl="")}),()=>(0,r.createVNode)(r.Fragment,null,[o.value.map(e=>{const{toastId:t=""}=e;return(0,r.createVNode)(ye,(0,r.mergeProps)({key:t},e),null)})])}});let Se=!1;const Te={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Ee(){const e=[];return z().forEach(t=>{const n=document.getElementById(t.containerId);n&&!n.classList.contains(y)&&e.push(t)}),e}function Oe(e){const t=Ee().length,n=null!=e?e:0;return n>0&&t+L.items.length>=n}function De(e){Oe(e.limit)&&!e.updateId&&L.items.push({toastId:e.toastId,containerId:e.containerId,toastContent:e.content,toastProps:e})}function Me(e,t,n={}){if(Se)return;n=J(te(),{type:t},(0,r.toRaw)(n)),(!n.toastId||"string"!=typeof n.toastId&&"number"!=typeof n.toastId)&&(n.toastId=Y()),n={...n,..."loading"===n.type?Te:{},content:e,containerId:n.containerId||String(n.position)};const o=Number(null==n?void 0:n.progress);return!isNaN(o)&&o<0&&(n.progress=0),o>1&&(n.progress=1),"auto"===n.theme&&(n.theme=ne()),De(n),G.lastUrl=window.location.href,n.multiple?L.items.length?n.updateId&&B(e,n):B(e,n):(Se=!0,Ae.clearAll(void 0,!1),setTimeout(()=>{B(e,n)},0),setTimeout(()=>{Se=!1},390)),n.toastId}const Ae=(e,t)=>Me(e,a.DEFAULT,t);function Ie(e,{pending:t,error:n,success:r},o){var i,a,l;let s;const c={...o||{},autoClose:!1};t&&(s=X(t)?Ae.loading(t,c):Ae.loading(t.render,{...c,...t}));const u={autoClose:null==(i=null==o?void 0:o.autoClose)||i,closeOnClick:null==(a=null==o?void 0:o.closeOnClick)||a,closeButton:null!=(l=null==o?void 0:o.autoClose)?l:null,isLoading:void 0,draggable:null,delay:100},d=(e,t,n)=>{if(null==t)return void Ae.remove(s);const r={type:e,...u,...o,data:n},i=X(t)?{render:t}:t;return s?Ae.update(s,{...r,...i,isLoading:!1}):Ae(i.render,{...r,...i,isLoading:!1}),n},p=Z(e)?e():e;return p.then(e=>{d("success",r,e)}).catch(e=>{d("error",n,e)}),p}Ae.info=(e,t)=>Me(e,a.DEFAULT,{...t,type:a.INFO}),Ae.error=(e,t)=>Me(e,a.DEFAULT,{...t,type:a.ERROR}),Ae.warning=(e,t)=>Me(e,a.DEFAULT,{...t,type:a.WARNING}),Ae.warn=Ae.warning,Ae.success=(e,t)=>Me(e,a.DEFAULT,{...t,type:a.SUCCESS}),Ae.loading=(e,t)=>Me(e,a.DEFAULT,J(t,Te)),Ae.dark=(e,t)=>Me(e,a.DEFAULT,J(t,{theme:i.DARK})),Ae.remove=e=>{e?W.dismiss(e):W.clear()},Ae.clearAll=(e,t)=>{(0,r.nextTick)(()=>{W.clear(e,t)})},Ae.isActive=e=>{let t=!1;return t=Ee().findIndex(t=>t.toastId===e)>-1,t},Ae.update=(e,t={})=>{setTimeout(()=>{const n=V(e);if(n){const o=(0,r.toRaw)(n),{content:i}=o,a={...o,...t,toastId:t.toastId||e,updateId:Y()},l=a.render||i;delete a.render,Me(l,a.type,a)}},0)},Ae.done=e=>{Ae.update(e,{isLoading:!1,progress:1})},Ae.promise=Ie,Ae.POSITION=o,Ae.THEME=i,Ae.TYPE=a,Ae.TRANSITIONS=l;const Ne={install(e,t={}){q.useHandler=t.useHandler||(()=>{}),Re(t)}};function Re(e={}){const t=J(u,e);ee(t)}typeof window<"u"&&(window.Vue3Toastify=Ne)},7716:function(e,t,n){"use strict";var r=n(4875);e.exports=function(e,t){var n=r.Iterator,o=n&&n.prototype,i=o&&o[e],a=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(l){l instanceof t||(a=!1)}if(!a)return i}},7726:function(e,t,n){"use strict";var r=n(9283),o=n(8965).has,i=n(8371),a=n(2368),l=n(306),s=n(2846);e.exports=function(e){var t=r(this),n=a(e);if(i(t)<n.size)return!1;var c=n.getIterator();return!1!==l(c,function(e){if(!o(t,e))return s(c,"normal",!1)})}},7875:function(e,t,n){"use strict";var r=n(6031),o=n(4661),i=n(5336),a=n(9441),l=!a("difference",function(e){return 0===e.size}),s=l||i(function(){var e={size:1,has:function(){return!0},keys:function(){var e=0;return{next:function(){var n=e++>1;return t.has(1)&&t.clear(),{done:n,value:2}}}}},t=new Set([1,2,3,4]);return 3!==t.difference(e).size});r({target:"Set",proto:!0,real:!0,forced:s},{difference:o})},7990:function(e,t,n){"use strict";var r=n(4875),o=r.navigator,i=o&&o.userAgent;e.exports=i?String(i):""},7993:function(e,t,n){"use strict";var r=n(8031),o=n(306),i=n(8965),a=i.Set,l=i.proto,s=r(l.forEach),c=r(l.keys),u=c(new a).next;e.exports=function(e,t,n){return n?o({iterator:c(e),next:u},t):s(e,t)}},8031:function(e,t,n){"use strict";var r=n(5573),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},8072:function(e,t,n){"use strict";var r=n(3342),o=n(9241),i=n(9830),a=n(227),l=n(9641),s=n(6972),c=TypeError,u=s("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,s=a(e,u);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!o(n)||i(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},8083:function(e,t,n){"use strict";var r=n(1156),o=TypeError;e.exports=function(e){if(r(e))throw new o("Can't call method on "+e);return e}},8115:function(e,t,n){"use strict";var r=n(5336);e.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},8125:function(e,t,n){"use strict";var r=n(2815),o=n(2277),i=n(4651);e.exports=r?function(e){return r(e)}:o?function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("getProto: not an object");return o(e)}:i?function(e){return i(e)}:null},8158:function(e,t,n){"use strict";var r=n(7147);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},8171:function(e,t,n){"use strict";var r=n(6205),o=n(43),i=n(5573),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},8286:function(e,t,n){"use strict";var r=n(8031),o=n(5336),i=n(6387),a=Object,l=r("".split);e.exports=o(function(){return!a("z").propertyIsEnumerable(0)})?function(e){return"String"===i(e)?l(e,""):a(e)}:a},8287:function(e,t,n){"use strict";var r=n(8031),o=0,i=Math.random(),a=r(1.1.toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},8294:function(e,t,n){"use strict";var r=n(5996);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},8308:function(e,t,n){"use strict";var r,o,i,a,l=n(4875),s=n(5080),c=n(8785),u=l.structuredClone,d=l.ArrayBuffer,p=l.MessageChannel,f=!1;if(c)f=function(e){u(e,{transfer:[e]})};else if(d)try{p||(r=s("worker_threads"),r&&(p=r.MessageChannel)),p&&(o=new p,i=new d(2),a=function(e){o.port1.postMessage(null,[e])},2===i.byteLength&&(a(i),0===i.byteLength&&(f=a)))}catch(h){}e.exports=f},8371:function(e,t,n){"use strict";var r=n(1595),o=n(8965);e.exports=r(o.proto,"size","get")||function(e){return e.size}},8420:function(e,t,n){"use strict";var r=n(8115),o=n(5479),i=n(3359),a=ArrayBuffer.prototype;r&&!("detached"in a)&&o(a,"detached",{configurable:!0,get:function(){return i(this)}})},8513:function(e,t,n){(function(e){e(n(2276),n(7401),n(689),n(1425))})(function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function n(e,t,n){var r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}var r={};function o(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function i(e,t){var n=e.match(o(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function a(e,t){return new RegExp((t?"^":"")+"</\\s*"+e+"\\s*>","i")}function l(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),o=e[n],i=o.length-1;i>=0;i--)r.unshift(o[i])}function s(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(i(t,r[0])))return r[2]}}e.defineMode("htmlmixed",function(r,o){var i=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag,allowMissingTagName:o.allowMissingTagName}),c={},u=o&&o.tags,d=o&&o.scriptTypes;if(l(t,c),u&&l(u,c),d)for(var p=d.length-1;p>=0;p--)c.script.unshift(["type",d[p].matches,d[p].mode]);function f(t,o){var l,u=i.token(t,o.htmlState),d=/\btag\b/.test(u);if(d&&!/[<>\s\/]/.test(t.current())&&(l=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(l))o.inTag=l+" ";else if(o.inTag&&d&&/>$/.test(t.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var h=">"==t.current()&&s(c[p[1]],p[2]),m=e.getMode(r,h),g=a(p[1],!0),v=a(p[1],!1);o.token=function(e,t){return e.match(g,!1)?(t.token=f,t.localState=t.localMode=null,null):n(e,v,t.localMode.token(e,t.localState))},o.localMode=m,o.localState=e.startState(m,i.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return u}return{startState:function(){var t=e.startState(i);return{token:f,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(i,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?i.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||i}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},8605:function(e,t,n){"use strict";var r,o,i,a=n(4422),l=n(8115),s=n(4875),c=n(5326),u=n(9241),d=n(9792),p=n(4944),f=n(9868),h=n(7302),m=n(7147),g=n(5479),v=n(6676),b=n(4752),x=n(668),y=n(6972),w=n(8287),C=n(7328),k=C.enforce,S=C.get,T=s.Int8Array,E=T&&T.prototype,O=s.Uint8ClampedArray,D=O&&O.prototype,M=T&&b(T),A=E&&b(E),I=Object.prototype,N=s.TypeError,R=y("toStringTag"),F=w("TYPED_ARRAY_TAG"),_="TypedArrayConstructor",P=a&&!!x&&"Opera"!==p(s.opera),j=!1,$={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},z=function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||d($,t)||d(L,t)},V=function(e){var t=b(e);if(u(t)){var n=S(t);return n&&d(n,_)?n[_]:V(t)}},B=function(e){if(!u(e))return!1;var t=p(e);return d($,t)||d(L,t)},H=function(e){if(B(e))return e;throw new N("Target is not a typed array")},W=function(e){if(c(e)&&(!x||v(M,e)))return e;throw new N(f(e)+" is not a typed array constructor")},q=function(e,t,n,r){if(l){if(n)for(var o in $){var i=s[o];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(c){}}}A[e]&&!n||m(A,e,n?t:P&&E[e]||t,r)}},U=function(e,t,n){var r,o;if(l){if(x){if(n)for(r in $)if(o=s[r],o&&d(o,e))try{delete o[e]}catch(i){}if(M[e]&&!n)return;try{return m(M,e,n?t:P&&M[e]||t)}catch(i){}}for(r in $)o=s[r],!o||o[e]&&!n||m(o,e,t)}};for(r in $)o=s[r],i=o&&o.prototype,i?k(i)[_]=o:P=!1;for(r in L)o=s[r],i=o&&o.prototype,i&&(k(i)[_]=o);if((!P||!c(M)||M===Function.prototype)&&(M=function(){throw new N("Incorrect invocation")},P))for(r in $)s[r]&&x(s[r],M);if((!P||!A||A===I)&&(A=M.prototype,P))for(r in $)s[r]&&x(s[r].prototype,A);if(P&&b(D)!==A&&x(D,A),l&&!d(A,R))for(r in j=!0,g(A,R,{configurable:!0,get:function(){return u(this)?this[F]:void 0}}),$)s[r]&&h(s[r],F,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:j&&F,aTypedArray:H,aTypedArrayConstructor:W,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:U,getTypedArrayConstructor:V,isView:z,isTypedArray:B,TypedArray:M,TypedArrayPrototype:A}},8621:function(e,t,n){"use strict";var r=n(8294),o=Math.min;e.exports=function(e){var t=r(e);return t>0?o(t,9007199254740991):0}},8637:function(e,t,n){"use strict";var r=n(3342),o=n(2735),i=n(7302),a=n(8158),l=n(6972),s=n(7328),c=n(227),u=n(6008).IteratorPrototype,d=n(258),p=n(2846),f=n(480),h=l("toStringTag"),m="IteratorHelper",g="WrapForValidIterator",v="normal",b="throw",x=s.set,y=function(e){var t=s.getterFor(e?g:m);return a(o(u),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return d(void 0,!0);try{var r=n.nextHandler();return n.returnHandlerResult?r:d(r,n.done)}catch(o){throw n.done=!0,o}},return:function(){var n=t(this),o=n.iterator;if(n.done=!0,e){var i=c(o,"return");return i?r(i,o):d(void 0,!0)}if(n.inner)try{p(n.inner.iterator,v)}catch(a){return p(o,b,a)}if(n.openIters)try{f(n.openIters,v)}catch(a){return p(o,b,a)}return o&&p(o,v),d(void 0,!0)}})},w=y(!0),C=y(!1);i(C,h,"Iterator Helper"),e.exports=function(e,t,n){var r=function(r,o){o?(o.iterator=r.iterator,o.next=r.next):o=r,o.type=t?g:m,o.returnHandlerResult=!!n,o.nextHandler=e,o.counter=0,o.done=!1,x(this,o)};return r.prototype=t?w:C,r}},8651:function(e,t,n){"use strict";var r=n(6031),o=n(4875),i=n(8031),a=n(5699),l=n(9926),s=i(1.1.toString),c=o.Uint8Array,u=!c||!c.prototype.toHex||!function(){try{var e=new c([255,255,255,255,255,255,255,255]);return"ffffffffffffffff"===e.toHex()}catch(t){return!1}}();c&&r({target:"Uint8Array",proto:!0,forced:u},{toHex:function(){a(this),l(this.buffer);for(var e="",t=0,n=this.length;t<n;t++){var r=s(this[t],16);e+=1===r.length?"0"+r:r}return e}})},8785:function(e,t,n){"use strict";var r=n(4875),o=n(5336),i=n(242),a=n(5924),l=r.structuredClone;e.exports=!!l&&!o(function(){if("DENO"===a&&i>92||"NODE"===a&&i>94||"BROWSER"===a&&i>97)return!1;var e=new ArrayBuffer(8),t=l(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})},8802:function(e){"use strict";e.exports=Error},8848:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8869:function(e,t,n){"use strict";var r=n(6031),o=n(9295),i=n(9082),a=n(9441),l=!a("symmetricDifference")||!i("symmetricDifference");r({target:"Set",proto:!0,real:!0,forced:l},{symmetricDifference:o})},8883:function(e){"use strict";e.exports=Math.round},8965:function(e,t,n){"use strict";var r=n(8031),o=Set.prototype;e.exports={Set:Set,add:r(o.add),has:r(o.has),remove:r(o["delete"]),proto:o}},9014:function(e,t,n){"use strict";n(5979)},9024:function(e,t,n){"use strict";var r=n(3342),o=n(43),i=n(3636),a=n(9868),l=n(6356),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(o(n))return i(r(n,e));throw new s(a(e)+" is not iterable")}},9082:function(e){"use strict";e.exports=function(e){try{var t=new Set,n={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return t.clear(),t.add(4),function(){return{done:!0}}}})}},r=t[e](n);return 1===r.size&&4===r.values().next().value}catch(o){return!1}}},9110:function(e,t,n){"use strict";function r(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}function o(e){return e.install=function(t){var n=e,o=n.name;t.component(o,e),t.component(r("-"+o),e)},e}n.d(t,{Ay:function(){return m}});var i=n(4061),a=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){void 0===this.listeners[e]&&(this.listeners[e]={triggered:!1,requested:!1,cbs:[]}),this.listeners[e].triggered&&t(),this.listeners[e].cbs.push(t)},t.emit=function(e){this.listeners[e]&&(this.listeners[e].triggered=!0,this.listeners[e].cbs.forEach(function(e){return e()}))},e}();function l(e){return e.reduce(function(e,t){return e.then(t)},Promise.resolve())}function s(e,t){var n,r=function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n&&clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)};return r.cancel=function(){void 0!==n&&clearTimeout(n)},r}function c(e){for(var t="abcdefghijklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}var u=(0,i.defineComponent)({name:"vue-ueditor-wrap",props:{editorId:String,name:String,modelValue:{type:String,default:""},config:Object,mode:{type:String,default:"observer",validator:function(e){return-1!==["observer","listener"].indexOf(e)}},observerOptions:{type:Object,default:function(){return{attributes:!0,attributeFilter:["src","style","type","name"],characterData:!0,childList:!0,subtree:!0}}},observerDebounceTime:{type:Number,default:50,validator:function(e){return e>=20}},forceInit:Boolean,destroy:{type:Boolean,default:!0},editorDependencies:{type:Array},editorDependenciesChecker:{type:Function}},emits:["update:modelValue","before-init","ready"],setup:function(e,t){var n,r,o,u=t.emit,d={UN_READY:"UN_READY",PENDING:"PENDING",READY:"READY"},p=d.UN_READY,f=(0,i.ref)(),h=["ueditor.config.js","ueditor.all.min.js"],m=function(){return window.UE&&window.UE.getEditor&&window.UEDITOR_CONFIG&&0!==Object.keys(window.UEDITOR_CONFIG).length},g=(0,i.toRef)(e,"modelValue");window.$loadEventBus||(window.$loadEventBus=new a);var v=function(e){return new Promise(function(t,n){if(window.$loadEventBus.on(e,t),!1===window.$loadEventBus.listeners[e].requested){window.$loadEventBus.listeners[e].requested=!0;var r=document.createElement("script");r.src=e,r.onload=function(){window.$loadEventBus.emit(e)},r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)}})},b=function(e){return new Promise(function(t,n){if(window.$loadEventBus.on(e,t),!1===window.$loadEventBus.listeners[e].requested){window.$loadEventBus.listeners[e].requested=!0;var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,r.onload=function(){window.$loadEventBus.emit(e)},r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)}})},x=function(){return new Promise(function(t,n){if(e.editorDependencies&&e.editorDependenciesChecker&&e.editorDependenciesChecker())t();else if(e.editorDependencies||!m()){var r=(e.editorDependencies||h).reduce(function(t,n){var r,o=/^((https?:)?\/\/)?[-a-zA-Z0-9]+(\.[-a-zA-Z0-9]+)+\//.test(n);o||(n=((null==(r=e.config)?void 0:r.UEDITOR_HOME_URL)||"")+n);return".js"===n.slice(-3)?t.jsLinks.push(n):".css"===n.slice(-4)&&t.cssLinks.push(n),t},{jsLinks:[],cssLinks:[]}),o=r.jsLinks,i=r.cssLinks;Promise.all([Promise.all(i.map(function(e){return b(e)})),l(o.map(function(e){return function(){return v(e)}}))]).then(function(){return t()}).catch(n)}else t()})},y=function(){o=n.getContent(),u("update:modelValue",o)},w=function(){n.addListener("contentChange",y)},C=function(){n.document.getElementById("baidu_pastebin")||(o=n.getContent(),u("update:modelValue",o))},k=function(){r=new MutationObserver(s(C,e.observerDebounceTime)),r.observe(n.body,e.observerOptions)},S=function(){var t=e.editorId||"editor_"+c(8);f.value.id=t,u("before-init",t),n=window.UE.getEditor(t,e.config),n.addListener("ready",function(){p===d.READY?n.setContent(e.modelValue):(p=d.READY,u("ready",n),e.modelValue&&n.setContent(e.modelValue)),"observer"===e.mode&&window.MutationObserver?k():w()})};return(0,i.watch)(g,function(t){p===d.UN_READY?(p=d.PENDING,(e.forceInit||"undefined"!==typeof window)&&x().then(function(){f.value?S():(0,i.nextTick)(function(){return S()})}).catch(function(){throw new Error("[vue-ueditor-wrap] UEditor 资源加载失败！请检查资源是否存在，UEDITOR_HOME_URL 是否配置正确！")})):p===d.READY&&(t===o||n.setContent(t||""))},{immediate:!0}),(0,i.onDeactivated)(function(){n&&n.removeListener("contentChange",y),r&&r.disconnect()}),(0,i.onBeforeUnmount)(function(){r&&r.disconnect&&r.disconnect(),e.destroy&&n&&n.destroy&&n.destroy()}),function(){return(0,i.createVNode)("div",null,[(0,i.createVNode)("div",{ref:f,name:e.name},null)])}}}),d=o(u),p=d,f="3.0.8";function h(e){var t=[p];t.forEach(function(t){t.install?e.use(t):t.name&&e.component(t.name,t)})}var m={install:h,version:f}},9148:function(e,t,n){"use strict";var r=n(5573),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9158:function(e,t,n){"use strict";var r=n(8605),o=n(2770),i=n(419),a=n(8294),l=n(887),s=r.aTypedArray,c=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,d=RangeError,p=function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}(),f=p&&function(){try{new Int8Array(1)["with"](-.5,1)}catch(e){return!0}}();u("with",{with:function(e,t){var n=s(this),r=i(n),u=a(e),p=u<0?r+u:u,f=o(n)?l(t):+t;if(p>=r||p<0)throw new d("Incorrect index");for(var h=new(c(n))(r),m=0;m<r;m++)h[m]=m===p?f:n[m];return h}}["with"],!p||f)},9241:function(e,t,n){"use strict";var r=n(5326);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},9283:function(e,t,n){"use strict";var r=n(8965).has;e.exports=function(e){return r(e),e}},9295:function(e,t,n){"use strict";var r=n(9283),o=n(8965),i=n(2341),a=n(2368),l=n(306),s=o.add,c=o.has,u=o.remove;e.exports=function(e){var t=r(this),n=a(e).getIterator(),o=i(t);return l(n,function(e){c(t,e)?u(o,e):s(o,e)}),o}},9331:function(e,t,n){"use strict";var r=n(6972),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},9344:function(e,t,n){"use strict";var r=n(876),o=n(6467),i=n(1624),a=n(1600),l=n(3040),s=r("%WeakMap%",!0),c=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("WeakMap.prototype.delete",!0);e.exports=s?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new l("Side channel does not contain "+i(e))},delete:function(n){if(s&&n&&("object"===typeof n||"function"===typeof n)){if(e)return p(e,n)}else if(a&&t)return t["delete"](n);return!1},get:function(n){return s&&n&&("object"===typeof n||"function"===typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return s&&n&&("object"===typeof n||"function"===typeof n)&&e?d(e,n):!!t&&t.has(n)},set:function(n,r){s&&n&&("object"===typeof n||"function"===typeof n)?(e||(e=new s),u(e,n,r)):a&&(t||(t=a()),t.set(n,r))}};return n}:a},9347:function(e,t,n){"use strict";var r=n(8031),o=n(5326),i=n(9812),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},9439:function(e){"use strict";e.exports=Math.min},9441:function(e,t,n){"use strict";var r=n(7434),o=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},i=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};e.exports=function(e,t){var n=r("Set");try{(new n)[e](o(0));try{return(new n)[e](o(-1)),!1}catch(l){if(!t)return!0;try{return(new n)[e](i(-1/0)),!1}catch(s){var a=new n([1,2]);return t(a[e](i(1/0)))}}}catch(s){return!1}}},9456:function(e,t,n){"use strict";n(8651)},9485:function(e,t,n){"use strict";var r=n(8115),o=n(9792),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,l=o(i,"name"),s=l&&"something"===function(){}.name,c=l&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:l,PROPER:s,CONFIGURABLE:c}},9533:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,o,i){var a=o.prototype;i.utc=function(e){var t={date:e,utc:!0,args:arguments};return new o(t)},a.utc=function(t){var n=i(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var l=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),l.call(this,e)};var s=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else s.call(this)};var c=a.utcOffset;a.utcOffset=function(r,o){var i=this.$utils().u;if(i(r))return this.$u?0:i(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var o=(""+r[0]).match(n)||["-",0,0],i=o[0],a=60*+o[1]+ +o[2];return 0===a?0:"+"===i?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r;if(0===a)return this.utc(o);var l=this.clone();if(o)return l.$offset=a,l.$u=!1,l;var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(l=this.local().add(a+s,e)).$offset=a,l.$x.$localOffset=s,l};var u=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var d=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var p=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return p.call(this,e,t,n);var r=this.local(),o=i(e).local();return p.call(r,o,t,n)}}})},9542:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},9641:function(e,t,n){"use strict";var r=n(3342),o=n(5326),i=n(9241),a=TypeError;e.exports=function(e,t){var n,l;if("string"===t&&o(n=e.toString)&&!i(l=r(n,e)))return l;if(o(n=e.valueOf)&&!i(l=r(n,e)))return l;if("string"!==t&&o(n=e.toString)&&!i(l=r(n,e)))return l;throw new a("Can't convert object to primitive value")}},9734:function(e,t,n){!function(t,r){e.exports=r(n(3508))}(0,function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r})},9792:function(e,t,n){"use strict";var r=n(8031),o=n(142),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},9812:function(e,t,n){"use strict";var r=n(4388),o=n(4875),i=n(888),a="__core-js_shared__",l=e.exports=o[a]||i(a,{});(l.versions||(l.versions=[])).push({version:"3.48.0",mode:r?"pure":"global",copyright:"© 2013–2025 Denis Pushkarev (zloirock.ru), 2025–2026 CoreJS Company (core-js.io). All rights reserved.",license:"https://github.com/zloirock/core-js/blob/v3.48.0/LICENSE",source:"https://github.com/zloirock/core-js"})},9818:function(e,t,n){"use strict";var r=n(8115),o=n(3342),i=n(1786),a=n(6541),l=n(2634),s=n(2370),c=n(9792),u=n(3148),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=l(e),t=s(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},9830:function(e,t,n){"use strict";var r=n(7434),o=n(5326),i=n(6676),a=n(2371),l=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,l(e))}},9858:function(e,t,n){"use strict";var r=n(6031),o=n(3342),i=n(2211),a=n(43),l=n(3636),s=n(8848),c=n(2846),u=n(7716),d=u("some",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{some:function(e){l(this);try{a(e)}catch(r){c(this,"throw",r)}if(d)return o(d,this,e);var t=s(this),n=0;return i(t,function(t,r){if(e(t,n++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},9868:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9926:function(e,t,n){"use strict";var r=n(3359),o=TypeError;e.exports=function(e){if(r(e))throw new o("ArrayBuffer is detached");return e}},9963:function(e){"use strict";e.exports=Function.prototype.apply},9988:function(e){"use strict";var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}}}]);